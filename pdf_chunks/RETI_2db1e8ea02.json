["Codice per accedere\nalla piattaforma MyLab\nInternet e Reti\nAchille PattavinaTerza edizioneFondamenti \n \n \n \n \n \n \n© 2022 Pearson Italia, Milano - Torino\nIl presente testo è di proprietà di Pearson Italia la quale non è associata, né direttamente né indirettamente, a \neventuali marchi di terzi che venissero richiamati per gli scopi illustrativi ed educativi che ha la pubblicazione.", "Per i passi antologici, per le citazioni, per le riproduzioni grafiche, cartografiche e fotografiche appartenenti alla \nproprietà di terzi, inseriti in quest’opera, l’editore è a disposizione degli aventi diritto non potuti reperire nonch é \nper eventuali non volute omissioni e/o errori di attribuzione nei riferimenti. \nÈ vietata la riproduzione, anche parziale o ad uso interno didattico, con qualsiasi mezzo, non autorizzata.", "Le fotocopie per uso personale del lettore possono essere effettuate nei limiti del 15% di ciascun volume dietro \npagamento alla SIAE del compenso previsto dall’art. 68, commi 4 e 5, della legge 22 aprile 1941, n. 633. \nLe riproduzioni effettuate per finalità di carattere professionale, economico o commerciale o comunque per \nuso diverso da quello personale possono essere effettuate a seguito di specifica autorizzazione rilasciata da", "CLEARedi, Corso di Porta Romana 108, 20122 Milano, e-mail autorizzazioni@clearedi.org e sito web www.\nclearedi.org \nPearson non si assume alcuna responsabilità per i Materiali pubblicati da terze parti sui propri siti Web e/o \npiattaforme o accessibili, tramite collegamenti ipertestuali o altri «collegamenti» digitali, a siti ospitati da terze \nparti non controllati direttamente da Pearson (“sito di terze parti”). Per approfondimenti si invita a consultare \nil sito pearson.it", "il sito pearson.it \nI nostri libri sono ecosostenibili: la carta è prodotta sostenendo il ciclo naturale e per ogni albero tagliato ne \nviene piantato un altro; il cellofan è realizzato con plastiche da recupero ambientale o riciclate; gli inchiostri \nsono naturali e atossici; i libri sono prodotti in Italia e l’impatto del trasporto è ridotto al minimo.\nRedazione e impaginazione: Paolo Postinghel, shortcut – Milano \nGrafica di copertina: Simone Tartaglia", "Grafica di copertina: Simone Tartaglia\nImmagine di copertina: Shutterstock/issaro prakalung; spainter_vfx. \nStampa: La Litotipo srl - Settimo Milanese (MI)\nTutti i marchi citati nel testo sono di proprietà dei loro detentori.\n9788891930910\nPrinted in Italy\n1a edizione: febbraio 2022\nRistampa    Anno\n00 01 02 03 04    22 23 24 25 26\nPattavinaReti2021.indb   2PattavinaReti2021.indb   2 14/01/2022   16:07:5614/01/2022   16:07:56Internet e R eti\nAchille PattavinaTerza edizioneFondamenti", "Achille PattavinaTerza edizioneFondamenti \nPattavinaReti2021.indb   1PattavinaReti2021.indb   1 14/01/2022   16:07:5614/01/2022   16:07:56PattavinaReti2021.indb   4PattavinaReti2021.indb   4 14/01/2022   16:07:5714/01/2022   16:07:57  \na Irene, Pietro, Cecilia  e\na tutte le altre stelle  che verranno\nPattavinaReti2021.indb   3PattavinaReti2021.indb   3 14/01/2022   16:07:5714/01/2022   16:07:57Sommario\nPrefazione XII\nPearson MyLab XIV\nParte 1 Le reti e i protocolli 1\nCapitolo 1 Introduzione 3", "Capitolo 1 Introduzione 3\n1.1  Le reti di comunicazione e Internet 3\n1.2 Una pluralità di reti 4\n1.2.1 Mezzi trasmissivi 7\n1.2.2 Reti cablate 11\n1.2.3 Reti wireless 14\n1.2.4 Reti radiomobili 16\n1.2.5 La rete Internet 18\n1.3 Architettura di protocolli 21\n1.3.1 Modello a strati della rete 21\n1.3.2 Unità informative 23\n1.3.3 Protocolli di comunicazione 25\n1.3.4 Segmentazione e multiplazione 29\n1.3.5 Indirizzamento 31\n1.3.6 Evoluzione del modello a strati 32\n1.4 Nascita ed evoluzione di Internet 33", "1.4 Nascita ed evoluzione di Internet 33\n1.4.1 Breve storia di Internet 33\n1.4.2 Amministrazione di Internet 34\n1.4.3 Gli standard nelle reti 35\nCapitolo 2 Concetti base delle reti 39\n2.1 Sorgenti e servizi 40\n2.1.1 Sorgenti di informazione 41\n2.1.2 Servizi di comunicazione 42\n2.1.3 Requisiti di un servizio 43\n2.1.4 Caratterizzazione delle sorgenti 45\n2.2 Trasferimento di informazione in rete 49\n2.2.1 Ritardo 49\n2.2.2 Throughput 51\n2.2.3 Perdita 53\n2.3 Tecniche di commutazione 55", "2.2.3 Perdita 53\n2.3 Tecniche di commutazione 55\n2.3.1 Commutazione di pacchetto 55\n2.3.2 Commutazione di circuito 59\n2.3.3 Servizio datagramma 62\n2.3.4 Servizio circuito virtuale 65\n2.3.5 Confronto dei servizi 71\n2.3.6 Aspetti protocollari nella modalità di commutazione 73\nPattavinaReti2021.indb   5PattavinaReti2021.indb   5 14/01/2022   16:07:5714/01/2022   16:07:57VI   Sommario\n2.4 Tecniche di multiplazione 75\n2.4.1 Tassonomia delle tecniche di multiplazione 76", "2.4.2 Soluzioni concettuali di multiplazione TDM 77\n2.4.3 Multiplazione deterministica 79\n2.4.4 Multiplazione statistica 79\n2.4.5 Realizzazione di multiplazione TDM 86\n2.4.6 Prestazioni delle tecniche di multiplazione TDM 89\nCapitolo 3 Teoria dei protocolli 93\n3A  Collegamenti punto-punto 94\n3.1 Protocollo stop and wait 95\n3.1.1 Protocollo S&W in assenza di errori 95\n3.1.2 Protocollo S&W in presenza di errori 98\n3.2 Protocolli continuous ARQ 102\n3.2.1 Protocollo go-back-n 110", "3.2.1 Protocollo go-back-n 110\n3.2.2 Protocollo selective repeat 114\n3.2.3 Protocollo con soli riscontri positivi 119\n3.2.4 Protocolli bidirezionali 121\n3.2.5 Efficienza dei protocolli continuous ARQ 122\n3.2.6 Esempi numerici 124\n3B Reti multipunto 129\n3.3 Topologie di rete multipunto 129\n3.3.1 Topologia a bus 131\n3.3.2 Topologia ad anello 131\n3.3.3 Topologia a stella 132\n3.4 Protocolli di accesso 132\n3.4.1 Misure di prestazione 134\n3.4.2 Protocolli a canalizzazione 135", "3.4.2 Protocolli a canalizzazione 135\n3.4.3 Protocolli a prenotazione 140\n3.4.4 Protocolli a trasferimento di permesso 142\n3.4.5 Protocolli a contesa 145\n3.5 Protocolli senza rilevazione del canale 145\n3.5.1 Protocollo ALOHA 146\n3.5.2 Protocollo slotted ALOHA 150\n3.5.3 Stabilità dei protocolli ALOHA 154\n3.6 Protocolli con rilevazione del canale 156\n3.6.1 Protocolli CSMA 156\n3.6.2 Prestazioni dei protocolli CSMA 160\n3.6.3 Protocolli CSMA/CD 164\n3.6.4 Prestazioni dei protocolli CSMA/CD 166", "3.6.4 Prestazioni dei protocolli CSMA/CD 166\n3.6.5 Protocollo CSMA/CA 169\n3C Protocolli di instradamento 174\n3.7 Instradamento senza tabella 176\n3.7.1 Instradamento random 176\n3.7.2 Instradamento flooding 176\n3.7.3 Instradamento source routing 177\nPattavinaReti2021.indb   6PattavinaReti2021.indb   6 14/01/2022   16:07:5714/01/2022   16:07:57Sommario  VII\n3.8 Instradamento con tabella 178\n3.8.1 Instradamento fisso 178\n3.8.2 Instradamento dinamico a distanza minima 179", "3.8.3 Instradamento distance vector 179\n3.8.4 Instradamento link state 187\n3.8.5  Prestazioni degli algoritmi di instradamento dinamici 189\n3.8.6 Instradamento gerarchico 191\n3D Controllo degli errori 195\n3.9 Bit di parità 196\n3.10 Checksum 197\n3.11 Codice a ridondanza ciclica   199\n3E Controllo del flusso e della congestione 204\n3.12 Controllo del flusso a credito 207\n3.12.1 Controllo del flusso a credito esplicito 207\n3.12.2 Altri controlli del flusso 211", "3.12.2 Altri controlli del flusso 211\n3.13 Controllo del flusso a frequenza 212\n3.13.1 Leaky bucket 212\n3.13.2 Token bucket 214\n3.13.3 Esempi applicativi 216\nParte 2 La rete internet 219\nCapitolo 4 Strato di applicazione 221\n4.1 Introduzione 221\n4.2 Applicazioni e servizi 222\n4.2.1 Architetture di applicazione 223\n4.2.2 Servizi di trasporto 224\n4.2.3 Primitive per i servizi di trasporto 228\n4.3 Nomi di dominio - DNS 231\n4.3.1 Gerarchia dei nomi 232\n4.3.2 Name server 234", "4.3.2 Name server 234\n4.3.3 Formato dei messaggi 236\n4.3.4 Risoluzione dei nomi 237\n4.4 Posta elettronica - SMTP 240\n4.4.1 Architettura 240\n4.4.2 Formato dei messaggi 242\n4.4.3 Trasferimento dei messaggi 243\n4.4.4 Protocolli di accesso 246\n4.5 Trasferimento di file - FTP 248\n4.5.1 Comandi 249\n4.5.2 Risposte 250\n4.6 World wide web - HTTP 252\n4.6.1 Formato dei messaggi 254\n4.6.2 Connessioni HTTP 258", "4.6.2 Connessioni HTTP 258\nPattavinaReti2021.indb   7PattavinaReti2021.indb   7 14/01/2022   16:07:5714/01/2022   16:07:57VIII   Sommario\n4.6.3 Versioni di HTTP 260\n4.6.4 I cookie 262\n4.6.5 Web caching 264\n4.7 Architetture peer-to-peer 265\n4.7.1 Scalabilità dell’architettura 266\n4.7.2 Reti peer-to-peer 268\nCapitolo 5 Strato di trasporto 271\n5.1 Introduzione 271\n5.2 Trasferimento dati a livello di trasporto 272\n5.2.1 Socket e multiplazione 273\n5.2.2 Servizi di rete 275\n5.3 Protocollo UDP 276", "5.2.2 Servizi di rete 275\n5.3 Protocollo UDP 276\n5.3.1 Formato del segmento UDP 276\n5.3.2 Controllo degli errori 277\n5.4 Protocollo TCP 279\n5.4.1 Formato del segmento TCP 280\n5.4.2 Gestione della connessione 284\n5.4.3 Operazioni del protocollo TCP 289\n5.4.4 Selezione del time-out 294\n5.4.5 Controllo della congestione 296\n5.4.6 Evoluzione dei protocolli di trasporto 304\nCapitolo 6 Strato di rete 307\n6.1 Introduzione 307\n6.2 Apparecchiature dello strato di rete 309\n6.3 Protocollo IP 311", "6.3 Protocollo IP 311\n6.3.1 Formato del datagramma IP 311\n6.3.2 Frammentazione e riassemblaggio 313\n6.4 Indirizzamento IP 316\n6.4.1 Classi di indirizzi IP 316\n6.4.2 Subnetting 319\n6.4.3 Subnetting a lunghezza variabile 322\n6.4.4 Supernetting 324\n6.4.5 Indirizzamento classless 325\n6.4.6 Network address translation 327\n6.5 Protocolli di instradamento 330\n6.5.1 Operazioni di instradamento 331\n6.5.2 Routing information protocol 339\n6.5.3 Open shortest path first 344", "6.5.3 Open shortest path first 344\n6.5.4 Border gateway protocol 350\n6.6 Protocolli di controllo 354\n6.6.1 Internet control message protocol 355\n6.6.2 Dynamic host configuration protocol 359\nPattavinaReti2021.indb   8PattavinaReti2021.indb   8 14/01/2022   16:07:5714/01/2022   16:07:57Sommario  IX\n6.7 Evoluzione del protocollo IP 362\n6.8 Protocollo MPLS 365\n6.9 Reti ATM 367\n6.9.1 Descrittori di traffico e classi di servizio 368\n6.9.2 Lo strato ATM 370\n6.9.3 Lo strato AAL 372", "6.9.2 Lo strato ATM 370\n6.9.3 Lo strato AAL 372\n6.9.4 Retrospettiva su ATM 373\nParte 3 Le reti di accesso 375\nCapitolo 7 Strati inferiori 377\n7.1 Introduzione 377\n7.2 Servizi di collegamento 378\n7.3 Un protocollo di livello 2: HDLC 381\n7.3.1 Struttura della trama 382\n7.3.2 Trasparenza dei dati 384\n7.3.3 Rivelazione di errori 385\n7.3.4 Comandi e risposte 387\n7.3.5 Esempio di operazioni con modalità ABM 389\n7.3.6 Esempio di operazioni con modalità NRM 392\n7.4 Codifica di linea 394", "7.4 Codifica di linea 394\n7.4.1 Codici di base 394\n7.4.2 Codici a blocchi 399\nCapitolo 8 Accesso a Internet 403\n8.1 La rete di accesso 403\n8.2 Accesso in rame 406\n8.2.1 DSL asimmetrico 407\n8.2.2 DSL simmetrica 410\n8.3 Accesso in fibra ottica 413\n8.3.1 Soluzioni FTTx 414\n8.3.2 Soluzioni Pt2Pt 416\n8.4 Accesso mediante rete radiomobile 417\n8.4.1 Reti 2G 417\n8.4.2 Reti 3G 419\n8.4.3 Reti LTE 420\n8.4.4 Reti 5G 424\nCapitolo 9 Reti LAN cablate 427\n9.1 Il progetto IEEE 802 427", "9.1 Il progetto IEEE 802 427\n9.1.1 Architettura generale 428\n9.1.2 Strato LLC 430\n9.1.3 Strato MAC 430\n9.1.4 Strato fisico 432\nPattavinaReti2021.indb   9PattavinaReti2021.indb   9 14/01/2022   16:07:5714/01/2022   16:07:57X   Sommario\n9.2 IEEE 802.3: le reti Ethernet 432\n9.2.1 Topologia di rete 432\n9.2.2 Protocollo di accesso 434\n9.2.3 Formato di trama 436\n9.3 IEEE 802.3: gli standard di rete Ethernet 437\n9.3.1 Ethernet a 10 Mbit/s 438\n9.3.2 Fast Ethernet 439\n9.3.3 Gigabit Ethernet 442", "9.3.3 Gigabit Ethernet 442\n9.3.4 10Gigabit Ethernet 444\n9.3.5 40Gigabit e 100Gigabit Ethernet 446\n9.4 Il protocollo PPP 447\n9.4.1 Formato di trama 447\n9.4.2 Operazioni del protocollo PPP 448\n9.4.3 Trasporto di trame PPP 449\n9.5 Address resolution protocol 451\nCapitolo 10 Reti wireless e mobilità 457\n10.1  IEEE 802.11: le reti wireless LAN 457\n10.1.1 Struttura della rete 458\n10.1.2 Protocollo di accesso 459\n10.1.3 Formato di trama 461\n10.1.4 Strato fisico 464", "10.1.4 Strato fisico 464\n10.2 IEEE 802.15: le reti wireless PAN 466\n10.2.1 Topologia di rete Bluetooth 466\n10.2.2 Architettura di un dispositivo Bluetooth 467\n10.2.3 Operazioni di un dispositivo Bluetooth 468\n10.2.4 Standard Bluetooth 470\n10.3 Mobilità IP 472\n10.3.1 Indirizzamento 473\n10.3.2 Inizializzazione 474\n10.3.3 Gestione della mobilità IP 477\n10.3.4 Mobilità IP con il protocollo IPv6 481\n10.4 Mobilità con accesso da rete radiomobile 483\nCapitolo 11 Interconnessione di reti LAN 489", "Capitolo 11 Interconnessione di reti LAN 489\n11.1 Apparati di interconnessione 489\n11.2 Interconnessione tramite bridge 493\n11.3 Spanning tree protocol 493\n11.4 LAN virtuali 500\nPattavinaReti2021.indb   10PattavinaReti2021.indb   10 14/01/2022   16:07:5714/01/2022   16:07:57Sommario  XI\nBibliografia 507\nEsercizi 513\nIndice degli acronimi 547\nIndice analitico 552\nPattavinaReti2021.indb   11PattavinaReti2021.indb   11 14/01/2022   16:07:5714/01/2022   16:07:57Prefazione", "Questo testo aiuta il lettore a muovere i primi passi nel mondo delle reti e di Internet in par -\nticolare. È stato pensato come strumento di studio per un corso introduttivo di “Reti di cal -\ncolatori” in corsi di laurea di Ingegneria e di Informatica, ma la sua struttura lo rende adatto \nall’adozione in ogni tipo di scuola dove si persegue l’obiettivo di fornire una prima conoscenza \ntecnica del mondo di Internet. Il testo si compone di tre parti: (i) Le reti e i protocolli, (ii) La", "rete Internet, (iii) Le reti di accesso. \nLa prima parte definisce la nomenclatura di base delle reti e introduce il mondo dei pro -\ntocolli e la sua architettura a strati che ne costituiscono l’ossatura portante. Sono presentati i \nconcetti fondamentali che caratterizzano le varie tipologie di rete e definiti i parametri nume -\nrici necessari a distinguerne le prestazioni. Vengono quindi esposti, sotto il cappello “Teoria", "dei protocolli”, gli strumenti metodologici necessari a comprendere i meccanismi che regolano \nil funzionamento di una rete. \nLa seconda parte è interamente dedicata al mondo di Internet. L ’approccio del lettore ai \nsuoi contenuti tecnici è facilitato dalla cosiddetta presentazione “top-down” delle problemati -\nche affrontate. Questa consiste nel presentare le modalità di interazione con il mondo di Inter -", "net dal punto di vista dell’utente, descrivendo quindi inizialmente i protocolli dello strato di \napplicazione, che rendono possibile fornire e ricevere servizi di ogni tipo attraverso una rete. \nCitiamo tra questi le applicazioni di posta elettronica e quelle che consentono di interagire con \nil World wide web. A seguire, vengono affrontate le problematiche relative al trasferimento di \ninformazioni attraverso Internet al servizio delle applicazioni, cosa che richiede la descrizione", "dei protocolli dello strato di trasporto e dello strato di rete.\nLa terza parte è rivolta alla tematica delle reti di accesso, cio è alle strutture di comunica -\nzione che consentono di raggiungere le “porte di ingresso” al mondo di Internet. Vengono in \nparticolare introdotti i protocolli dello strato di collegamento e per lo strato fisico ci si limita \na descrivere le tecniche di codifica delle informazioni che sono inviate attraverso un mezzo", "trasmissivo. Nell’ambito della tematica sull’accesso alla rete Internet vengono presentate le \ndiverse soluzioni tecnologiche adottate e basate sull’uso di cablatura in rame o in fibra ottica, \noppure sull’uso di canali radio mediante accesso di tipo radiomobile. In quest’ultimo caso \nvengono brevemente esaminate le diverse soluzioni che si sono succedute dalle reti 2G degli \nanni ’90 fino alla reti 5G oggi in via di realizzazione. La tematica delle reti in area locale di", "tipo cablato e di tipo wireless, che forniscono connettività in ambiti geografici limitati, come \ncase, uffici e aziende, viene affrontata con particolare enfasi sui protocolli di accesso adottati. \nSi vuole rimarcare la particolarità della struttura di questo testo, che ha dedicato l’intero \nCapitolo 3 agli aspetti più teorici delle reti e dei loro protocolli, con riferimento ai collegamen -\nti punto-punto (Sezione 3A), alle reti multipunto (Sezione 3B), ai protocolli di instradamento", "(Sezione 3C), al controllo degli errori (Sezione 3D) e al controllo del flusso e della congestione \n(Sezione 3E). Tale peculiarità rende possibile adottare il testo in corsi universitari di diverso \ntipo in termini di numero di crediti associati. \nIn corsi da 10/12 crediti dedicati a Internet e alle reti, l’erogazione del corso consigliata \nconsiste nell’introdurre i principi delle reti con i primi due capitoli, cui segue la trattazione dei", "protocolli della rete Internet dei Capitoli 4, 5 e 6. La teoria (Capitolo 3) relativa ai collegamenti \npunto-punto (Sezione 3A), al controllo degli errori (Sezione 3D), al controllo del flusso e della \nPattavinaReti2021.indb   12PattavinaReti2021.indb   12 14/01/2022   16:07:5714/01/2022   16:07:57Prefazione  XIII\ncongestione (Sezione 3E) può precedere la trattazione dei rispettivi argomenti nello strato di", "trasporto (Capitolo 5), mentre la teoria dei protocolli di instradamento (Sezione 3C) può pre -\ncedere la trattazione di questi protocolli nello strato di rete (Capitolo 6). Nella tematica delle \nreti di accesso la teoria dei collegamenti punto-punto (Sezione 3A) e del controllo degli errori \n(Sezione 3D), se non affrontata in precedenza, può precedere la trattazione degli strati inferiori \n(Capitolo 7) e delle diverse tecnologie per accedere a Internet (Capitolo 8). Si possono quindi", "affrontare i temi delle reti LAN cablate (Capitolo 9) e/o wireless (Capitolo 10), eventualmente \npreceduti dalla relativa teoria (Sezione 3B), nonché la loro interconnessione (Capitolo 11).\nNei corsi universitari introduttivi alle reti con numero limitato di crediti, la trattazione può \nfocalizzarsi sui protocolli di Internet (Capitoli 4, 5 e 6), dopo la parte introduttiva che fornisce \ni concetti di base sulle reti (Capitoli 1 e 2). La tematica delle reti di accesso, dopo la descri -", "zione delle tecnologie per l’accesso a Internet (Capitolo 8) può essere anche limitata alle sole \nreti locali cablate (Capitolo 9) o oppure a quelle wireless (Capitolo 10). Specifici aspetti della \nteoria dei protocolli (Capitolo 3) possono essere trattati a complemento dello studio dei vari \nprotocolli di Internet e delle reti di accesso, a seconda dell’interesse e degli obiettivi del corso. \nIl testo si propone come strumento di conoscenza e di studio sistematico di Internet e delle", "reti in generale; per questo è corredato da una serie di esempi numerici che consentono di \nesprimere quantitativamente le operazioni svolte dai vari protocolli per mezzo di parametri di \nprestazione di rete. Non sono richiesti particolari prerequisiti per la comprensione del testo, al \ndi là di conoscenze di base di calcolo delle probabilità. \nAchille Pattavina3C-Protocollidiinstradame nto3A-Collega mentipunto-punto\n3D-Controllo degli errori", "3D-Controllo degli errori\n3E-Controllo delflussoedellacongestione3-Teoriadeiprotocolli\n3A-Collega mentipunto-punto\n3D-Controllo degli errori\n3B-Retimultipunt o1-Introduzione\n2-Concettibase\n4-Stratodiapplicazio ne\n5-Stratoditraspo rto\n6-Stratodirete\n7-Stratiinferiori\n8-Acce ssoaInternet\n9-RetiLANcablate\n10-Retiwirelessemobilità\n11-InterconnessionediLAN3B-Retimultipunt o", "11-InterconnessionediLAN3B-Retimultipunt o\n0A-PattavinaWin2021_WIDE_10,5.indd   130A-PattavinaWin2021_WIDE_10,5.indd   13 18/01/2022   17:08:3318/01/2022   17:08:33XIV   Sommario\nPearson MyLab\nL’attività di apprendimento di questo corso continua in MyLab, l’ambiente digitale per lo studio \nche completa il libro offrendo risorse didattiche fruibili sia in modo autonomo sia per assegna-\nzione del docente. Il codice sulla copertina di questo libro consente l’accesso per 18 mesi a", "MyLab.UN AMBIENTE PER LO STUDIO\nMyLab offre la possibilità di accedere al Manuale online: l’edizione digitale del testo arricchita \nda funzionalità che permettono di personalizzarne la fruizione, attivare la sintesi vocale, inserire \nsegnalibri.\nInoltre la piattaforma digitale MyLab integra e monitora il percorso individuale di studio con \nattività formative e valutative specifiche. La loro descrizione dettagliata è consultabile nella", "pagina di catalogo dedicata al libro, all’indirizzo link.pearson.it/88B4D424 oppure tramite il presente \nQR code.CHE COSA CONTIENE\n1. Registrati come studente universitario all’indirizzo registrazione.pearson.it (Se sei già \nregistrato passa al punto successivo); \n2. effettua il login alla tua MyPearsonPlace all’indirizzo www.pearson.it/place e registra il prodotto \ndigitale cliccando su Attiva prodotto ed inserendo il codice presente in copertina;", "3. entra nella sezione Prodotti e clicca sul tasto AVVIA presente di fianco all’immagine della \ncopertina del testo; \n4. clicca su classe MyLab studio autonomo o, in alternativa, su \nIscriviti a una classe ed inserisci il codice classe indicato dal tuo \ndocente.COME ACCEDERE\nPattavinaReti2021.indb   14PattavinaReti2021.indb   14 14/01/2022   16:07:5814/01/2022   16:07:5810CAPITOLOLe reti  \ne i protocolliIPARTE\nCapitolo 1 Introduzione\nCapitolo 2 Concetti base nelle reti", "Capitolo 2 Concetti base nelle reti\nCapitolo 3 Teoria dei protocolli\nPattavinaReti2021.indb   1PattavinaReti2021.indb   1 14/01/2022   16:07:5814/01/2022   16:07:58PattavinaReti2021.indb   2PattavinaReti2021.indb   2 14/01/2022   16:07:5814/01/2022   16:07:58Introduzione\n1CAPITOLO\nQuesto capitolo iniziale fornisce una panoramica sulle reti \ndi comunicazione in generale e sui mezzi di comunicazione \nche queste utilizzano. Vengono presentati i principi generali", "alla base della rete Internet, tracciando un quadro generale \ndella sua struttura e introducendo i suoi elementi costituenti, \nrappresentati dai protocolli di comunicazione. Viene infine \nriportata una brevissima storia della nascita e dell’evoluzio -\nne di Internet.\n1.1  Le reti di comunicazione  \ne Internet\nIl trasferimento di informazioni a distanza ha rappresentato \nda sempre uno degli elementi fondamentali che caratteriz -\nzano il progresso della società e l’evoluzione delle reti di", "comunicazione ne è stato il principale testimone. Per secoli \nil solo tipo di informazione trasportato da un punto all’altro \ndella Terra è stata quella scritta e i mezzi di trasporto si sono \nevoluti da quelli animali, come i cavalli, a quelli meccanici, \ncome treni e navi. \nIl ventesimo secolo ha visto nascere le comunicazio -\nni radio e telefoniche, in cui l’informazione trasferita era \nrappresentata dalla voce o da semplici messaggi di testo.", "Nascono quindi le prime reti di comunicazione che via via si \nespandono e si interconnettono, rendendo possibili comuni -\ncazioni che coprono distanze di migliaia di chilometri. \nIl passo successivo di questa evoluzione è rappresentato \ndalla nascita della televisione, che ha consentito di trasferire \na distanza immagini, in aggiunta alla voce. Anche in questo \ncaso sono nate reti di comunicazione basate sull’utilizzazio -\nne massiccia di canali radio, oppure di infrastrutture cablate,", "per trasportare le immagini da un punto all’altro del pianeta.\nL ’inizio della vera rivoluzione nelle comunicazioni può \nessere individuato nei primi esperimenti svolti negli anni Argomenti\n1.1  Le reti di comunicazione  \ne Internet\n1.2 Una pluralità di reti\n1.3 Architettura di protocolli\n1.4  Nascita ed evoluzione  \ndi Internet\nPattavinaReti2021.indb   3PattavinaReti2021.indb   3 14/01/2022   16:07:5814/01/2022   16:07:584  Capitolo 1 – Introduzione", "’60-’70 per il trasferimento tra computer di dati, cio è informazioni rappresentate come strin -\nghe di numeri. Si può affermare a ragione che ciò ha rappresentato la nascita delle reti di \ncomunicazione in senso stretto. Da allora l’evoluzione delle reti non ha mai subito una battuta \nd’arresto e il continuo progresso delle tecnologie trasmissive ha consentito di raggiungere \ntraguardi che anche pochi anni prima sembravano irraggiungibili.", "La quantità di informazioni che viene trasferita in rete cresce esponenzialmente e l’in -\nterconnessione tra computer localizzati in tutto il pianeta, diventa una realtà negli anni ’80, \ngrazie alla disponibilità di una pluralità di reti che vengono a rappresentare il cuore di ciò \nche oggi conosciamo come la rete Internet, o semplicemente Internet. Il numero di computer \nconnessi in rete cresce vertiginosamente per superare anche le centinaia di milioni di unità e", "di pari passo aumenta anche la quantità di dati trasferita in rete.\nLa nascita del world wide web (WWW) negli anni ’90 da una parte e l’evoluzione delle \napparecchiature terminali dall’altra hanno reso l’accesso a Internet disponibile a tutta la popo -\nlazione mondiale. Informazioni di ogni tipo vengono generate e rese disponibili attraverso \nInternet per la loro utilizzazione in ogni momento. I servizi tradizionali alla popolazione", "vengono forniti in modo più efficiente e una moltitudine di nuovi servizi nasce grazie alla \ncapillarità di accesso a Internet. Le comunicazioni hanno luogo non più solo tra computer \noppure tra persone, bensì anche tra apparati più o meno complessi e Internet rappresenta il \ntessuto connettivo di questo nuovo mondo “totalmente connesso”.\n1.2 Una pluralità di reti\nLe esigenze di comunicare, cio è di scambiare informazioni, sono cresciute di pari passo con il", "progresso della tecnologia e la scoperta di nuove soluzioni così che oggigiorno, molte decadi \ndopo i primi passi della rete oggi conosciuta come Internet, é grande la varietà di reti svilup -\npate e disponibili per il trasferimento a distanza di informazioni di ogni tipo.\nSono diversi i criteri che si possono adottare per classificare le reti, cio è per mettere ordine \nin questo mondo così complesso, per esempio sulla base della capacità con cui la rete trasfe -", "risce informazioni, oppure sulla base della soluzione tecnologica, oppure sulla base del tipo \ndi informazione trasportata. Tuttavia, riteniamo che il parametro più importante che prima di \ntutto consente di distinguere un tipo di rete dall’altra sia la distanza che separa due generici \nutilizzatori della rete durante lo scambio di informazioni.\nSi distinguono preliminarmente due classi di rete, a seconda del tipo di mezzo trasmissivo", "adottato. Le reti cablate  adottano un mezzo trasmissivo guidato, in cui il segnale che traspor -\nta informazione viaggia lungo collegamenti realizzati in rame, per la trasmissione di segnali \nelettrici, oppure in fibra ottica, per la trasmissione di segnali luminosi. Invece, le reti wireless  \nsono basate sul principio di una localizzazione flessibile dei sistemi terminali in una determi -\nnata area poichè il canale di comunicazione è di tipo radio e quindi disponibile liberamente", "nell’area in questione. Naturalmente ciò richiede che tutti gli apparati che operano in queste \nultime reti siano dotati di antenne adatte a trasmettere e ricevere segnali elettromagnetici in \nun determinato intervallo di frequenze. \nLa Figura 1.1 rappresenta graficamente sulla sinistra l’area di interesse delle reti cablate , \ntra le quali si distinguono tre grandi tipologie di rete:", "PattavinaReti2021.indb   4PattavinaReti2021.indb   4 14/01/2022   16:07:5814/01/2022   16:07:581.2 Una pluralità di reti  5\n• reti locali  (local area network , LAN), con estensione dal metro fino alle centinaia di \nmetri, adatte quindi per coprire piccole aree all’interno di edifici oppure tra edifici \nadiacenti, come nel caso di piccole aziende o campus universitari; \n• reti metropolitane (metropolitan area network , MAN), con estensione geografica", "dalle centinaia di metri fino alle decine di chilometri, per questo pensate per coprire \naree di natura cittadina di piccole e di medie dimensioni;\n• reti a lunga distanza ( wide area network , WAN), con estensione geografica dalle deci -\nne alle migliaia di chilometri, la cui funzione quindi è quella di fornire connettività in \naree molto vaste, come quelle di una nazione o addirittura di un continente.", "Occorre notare che le soluzioni tecnologiche adottate in classi di rete distinte sono di tipo \nestremamente diverso, in quanto si adattano alla diversa distanza che i segnali che trasportano \ninformazioni devono percorrere dalla sorgente alla destinazione.\nPer quanto riguarda le reti wireless  vogliamo distinguere, sempre sulla base della distanza \nammissibile tra stazione trasmittente e stazione ricevente, le principali soluzioni di rete che", "sono state sviluppate e adottate con successo, mostrate nella parte destra della Figura 1.1:\n• Bluetooth : tecnologia sviluppata per consentire la connettività tra apparecchiature \nmolto vicine l’una all’altra, nell’ordine delle decine di centimetri, con una soluzione \na bassissimo costo; \n• Wi-Fi : tecnologie definite per la copertura di aree con estensione geografica dal metro \nfino alle centinaia di metri, sviluppate quindi per fornire la connettività in aree di tipo", "domestico o aziendale di piccole dimensioni; il successo di queste reti ha avuto come \nrisultato che questo tipo di soluzione viene anche adottato per coprire aree cittadine \nesternamente agli edifici, cosi da consentire una connettività su aree molto estese, \nsfruttando l’adiacenza delle aree di copertura delle singole reti Wi-Fi; queste reti sono \nanche denominate wireless LAN ;WiMaxWAN\nMANDistan za(m)\n100\n10-1101102103104105106107\nWi-FiGSM\nUMTS/CDM A\nLTE\n5G\nBluetoothLAN", "Wi-FiGSM\nUMTS/CDM A\nLTE\n5G\nBluetoothLAN\nFigura 1.1 Tipologie di rete cablata e wireless in base alla distanza coperta.\nPattavinaReti2021.indb   5PattavinaReti2021.indb   5 14/01/2022   16:07:5814/01/2022   16:07:586  Capitolo 1 – Introduzione\n• WiMax: soluzione tecnologica per l’utilizzazione in aree con estensione geografica \nda qualche chilometro alla decina di chilometri, espressamente concepita per fornire", "connettività in aree rurali difficilmente raggiungibili da reti cablate ; dato il tipo di \ncopertura geografica realizzato, queste reti sono anche conosciute con il sinonimo di \nwireless MAN.  \nLe soluzioni di rete wireless appena descritte consentono l’accesso a servizi di comunica -\nzione attraverso una rete senza richiedere una connessione via cavo. Tuttavia, nella maggior \nparte dei casi, queste non prevedono che le apparecchiature terminali, per esempio telefoni", "cellulari, smartphone, tablet, computer, ecc., possano spostarsi liberamente anche al di fuori \ndell’area coperta dalla rete che fornisce il servizio. Il supporto della mobilità viene garantito \nda un’altra tipologia di rete, detta rete radiomobile (mobile network ), sviluppata inizialmente \nper la telefonia cellulare, ma ora capace di garantire la mobilità di qualunque apparecchiatura \nterminale mobile. In questo caso, sono distribuite sul territorio numerose stazioni radio base", "che interconnettono i terminali mobili nella propria area di copertura radio (dell’ordine delle \ndecine di metri fino a qualche chilometro) con la più vicina apparecchiatura della rete a lunga \ndistanza che fornisce il servizio richiesto. \nLe principali tipologie di reti radiomobili, che appaiono nella parte destra della Figura 1.1 \nsono così caratterizzate1: \n• reti radiomobili di seconda generazione GSM ( global system for mobile communica -", "tions ), che hanno rappresentato la prima soluzione di successo per la diffusione della \ntelefonia radiomobile, con la possibilità di trasmettere flussi di dati di capacità molto \nlimitata, dell’ordine delle decine di kbit/s;\n• reti radiomobili di terza generazione UMTS ( universal mobile telecommunications \nsystem ) e CDMA ( code division multiple access ), che hanno rappresentato la tecno -\nlogia legata alla diffusione capillare degli smartphone presso la popolazione, grazie", "alle nuove soluzioni che consentono all’apparecchio di scambiare dati alla velocità di \nalcuni Mbit/s;\n• reti radiomobili di quarta generazione LTE ( long term evolution ), le cui soluzioni \ninnovative consentono la fruizione sull’apparecchio cellulare di servizi dati e video \ncon velocità dell’ordine di decine/centinaia di Mbit/s e latenze dell’ordine di 10 ms.\n• reti radiomobili di quinta generazione ( 5G), che prevedono la fornitura di una pluralità", "di servizi di comunicazione in mobilità con parametri di prestazione che migliorano \nanche decine di volte quelli previsti per le reti LTE; per esempio, si prevede di fornire \nconnettività con capacità fino a 20 Gbit/s con latenze dell’ordine di 1 ms. \nLe reti cablate MAN e WAN svolgono la funzione di reti di trasporto  (a lunga distanza) \ndelle unità informative, mentre le reti LAN, wireless LAN e wireless MAN, nonché le varie", "tipologie di rete radiomobile, svolgono la funzione di reti di accesso  verso le reti di trasporto. \nInoltre le reti LAN, cablate o wireless, rendono disponibile la connettività locale nell’area \ngeografica coperta. \n1 Un approfondimento delle caratteristiche delle reti radiomobili è riportato nel Capitolo 8.\nPattavinaReti2021.indb   6PattavinaReti2021.indb   6 14/01/2022   16:07:5814/01/2022   16:07:581.2 Una pluralità di reti  7\n1.2.1 Mezzi trasmissivi", "1.2.1 Mezzi trasmissivi\nIl canale di comunicazione attraverso cui fluiscono i segnali che trasportano informazioni è \ncaratterizzato da una delle due seguenti tipologie di mezzo trasmissivo: i mezzi trasmissivi \nguidati, o cavi , e i canali radio . I cavi possono essere classificati preliminarmente in due \ncategorie, a seconda del materiale base che essi adottano per il trasferimento dei segnali: cavi", "in rame  e cavi in fibra ottica . A loro volta i primi possono essere distinti in cavi coassiali e \ndoppini . Nel seguito sono riportate le caratteristiche principali delle varie tipologie di mezzi \ntrasmissivi.\nCavi coassiali\nI cavi coassiali sono costituiti da due conduttori di rame coassiali e separati da un materiale \nplastico di isolamento. Costituiscono il principale supporto fisico per collegamenti e reti di", "tipo televisivo e sono stati per lungo tempo nel secolo scorso il principale supporto per colle -\ngamenti trasmissivi punto-punto di tipo digitale. A titolo di esempio, un cavo coassiale in rame \nveniva tipicamente utilizzato per collegamenti su distanze fino a qualche km per trasportare \nflussi digitali di decine di Mbit/s fino a capacità dell’ordine di 140 Mbit/s2. \nCavi coassiali sono stati utilizzati nelle prime realizzazioni di reti in area locale, nelle", "due tipologie RG-213, denominato cavo “spesso” ( thick ), e RG-58, denominato cavo “sottile” \n(thin). Il cavo spesso ha diametro di circa 10 mm e ha molte schermature (fogli di alluminio e \nschermi in calza). Il cavo thin ha diametro minore (circa 5 mm), è meno schermato e quindi più \nflessibile del primo, risultando perciò più facile da installare. Ovviamente la ridotta dimensio -\nne di questo cavo ha degli svantaggi: la sua attenuazione è circa il doppio di quella del cavo", "thick, quindi l’area che la rete può coprire è ridotta.\nDoppini\nOggigiorno i cavi più utilizzati nelle reti di accesso per telefonia e nelle reti locali sono i dop -\npini ( twisted pair ), ognuno dei quali si presenta come una coppia di fili in rame intrecciati. I \ncavi di tipo doppino possono essere suddivisi nelle seguenti tipologie:\n• doppino non schermato ( unshielded twisted pair , UTP): è costituito da due conduttori", "(coppia) in rame intrecciati; un cavo comprende generalmente una pluralità di coppie \ndi tipo UTP (4 è il numero minimo di coppie di cui può essere costituito);\n• doppino schermato con schermo per ogni coppia (shielded twisted pair , STP)  o con \nschermo esterno al cavo ( foiled twisted pair,  FTP): in questo doppino lo schermo, \ncostituito da un foglio di alluminio e da una calza in rame, serve a ridurre l’interferen -", "za elettromagnetica tra coppie dello stesso cavo o tra cavi distinti, così che la qualità \ndi questo cavo è superiore a quella del cavo UTP;\n• doppino con doppio schermo ( shielded foiled twisted pair , SFTP): in questo doppino, \noltre a uno schermo globale, esiste una schermatura per ogni coppia così da fornire il \nmassimo grado di protezione da interferenze su ogni doppino.", "2 La copertura di distanze di decine o centinaia di km richiedeva tuttavia l’uso di molti rigeneratori in cascata al fine di \ngarantire un’adeguata qualità del segnale in ricezione.\nPattavinaReti2021.indb   7PattavinaReti2021.indb   7 14/01/2022   16:07:5814/01/2022   16:07:588  Capitolo 1 – Introduzione\nNel corso degli anni sono stati definiti diversi standard di doppini intrecciati con prestazioni", "sempre migliori per fare fronte alle esigenze di trasmissioni a velocità crescente e di aree di \ncopertura più estese. In aggiunta all’adozione di schermi (per coppia e/o globali), uno degli \naccorgimenti che più di altri consente di aumentare la qualità dei doppini è la modalità secon -\ndo cui i due conduttori sono intrecciati. Tipicamente all’aumentare del numero di spire per \ncentimetro i doppini, che sono privi di schermo, vengono resi più immuni alle interferenze", "elettromagnetiche esterne. \nLe tipologie di doppino intrecciato di maggiore interesse oggigiorno sono3: \n• Categoria 3 : doppini UTP con banda passante di circa 16 MHz; sono il primo tipo di \ndoppini utilizzati nelle reti locali Ethernet 10Base-T a 10 Mbit/s;\n• Categoria 5 : doppini UTP con banda passante di circa 100 MHz; possono essere uti -\nlizzati per reti metropolitane e per reti locali Ethernet 100Base-T a 100 Mbit/s;", "• Categoria 5E : è una categoria 5 migliorata, con banda passante sempre di circa 100 \nMHz; vengono tipicamente utilizzati per reti locali Ethernet 1000Base-T a 1 Gbit/s;\n• Categoria 6 : doppini UTP con banda passante dell’ordine dei 250 MHz; possono esse -\nre utilizzati per reti locali Ethernet 10GBase-T a 10 Gbit/s;\n• Categoria 6A : è una categoria 6 migliorata con schermatura FTP o STP e con banda \npassante dell’ordine dei 500 MHz; possono essere utilizzati per reti locali Ethernet", "10GBase -T a 10 Gbit/s;\n• Categoria 7 : doppini SFTP a schermatura doppia con banda passante dell’ordine dei \n600 MHz; possono essere utilizzati per reti locali Ethernet 10GBase-T a 10 Gbit/s.\n• Categoria 7A : doppini SFTP a schermatura doppia con banda passante dell’ordine dei \n1000 MHz; possono essere utilizzati per reti locali Ethernet 10GBase-T a 10 Gbit/s.\n• Categoria 8 : doppini SFTP a schermatura doppia con banda passante dell’ordine dei", "2000 MHz; possono essere utilizzati per reti locali Ethernet 40GBase-T a 40 Gbit/s.\nRispetto ai cavi coassiali, i doppini sono maggiormente soggetti a interferenze e consentono \ndi coprire distanze inferiori tra apparecchiature, tipicamente dell’ordine di decine di metri. \nTuttavia la loro semplicità d’uso ha fatto in modo che i doppini diventassero l’unico mezzo \ntrasmissivo utilizzato nelle LAN. \nFibre ottiche", "trasmissivo utilizzato nelle LAN. \nFibre ottiche\nLe fibre ottiche sono costituite da due strati coassiali di materiale vetroso, il nucleo e il man -\ntello, i cui indici di rifrazione sono tali che l’onda luminosa incidente a un’estremità della fibra \nsi propaga all’interno del nucleo se l’angolo di incidenza è abbastanza piccolo. Esse possono \nessere distinte in due grandi categorie: \n• fibre multimodo  (multimode fiber , MMF): mantello e nucleo hanno dimensione dell’or -", "dine di 125 micron e 50 micron (con il rivestimento esterno la fibra ha un diametro di \ncirca 250 micron); nel nucleo le onde luminose si propagano seguendo diversi percorsi;\n3 Approfondimenti sulle reti locali citate di seguito sono riportati nel Paragrafo 9.3.\nPattavinaReti2021.indb   8PattavinaReti2021.indb   8 14/01/2022   16:07:5814/01/2022   16:07:581.2 Una pluralità di reti  9\n• fibre monomodo (single mode fiber , SMF): hanno un nucleo molto più piccolo delle", "precedenti (dell’ordine di 10 micron) che consente un solo modo di propagazione delle \nonde nel nucleo.\nA differenza delle fibre monomodo che consentono un solo modo di propagazione, i diversi \nmodi di propagazione delle fibre multimodo causano una dispersione temporale degli impulsi \nluminosi trasmessi che limita le distanze coperte e le capacità trasmissive realizzabili. Si con -\nsideri che, a parità di capacità trasmissiva, una fibra monomodo può coprire distanze anche", "dieci volte maggiori di una fibra multimodo. \nLe tecnologie sviluppate nel corso degli anni hanno determinato la realizzazione di fibre \nche si distinguono in base all’intervallo di lunghezze d’onda utilizzate per il segnale ottico, \ndenominate “finestre”:\n• I finestra , con lunghezze d’onda centrate intorno a 850 nm,\n• II finestra , con lunghezze d’onda centrate intorno a 1300 nm,\n• III finestra , con lunghezze d’onda centrate intorno a 1550 nm.", "Le fibre multimodo operano in I e II finestra, mentre quelle monomodo vengono utilizzate in \nII e III finestra.\nUna delle caratteristiche salienti che ha reso le fibre ottiche estremamente importanti come \nmezzo trasmissivo nelle reti è la loro ridotta attenuazione, che risulta di diversi ordini di gran -\ndezza più piccola che nei cavi in rame. Si pensi che un collegamento in fibra ottica con fibra \nmonomodo che opera in terza finestra può coprire anche distanze di migliaia di chilometri", "trasportando flussi digitali dell’ordine delle centinaia di Gbit/s. \nCanali radio\nL ’utilizzazione dello spazio libero per realizzare canali radio mette a completa disposizione \nuna banda in linea di principio senza limitazione, in cui tuttavia le proprietà di propagazione, \nriflessione e attraversamento di mezzi solidi da parte del segnale dipendono dallo specifico \nintervallo di frequenze utilizzato. Allo scopo di evitare conflitti tra diversi utilizzatori dello", "spettro, l’uso delle frequenze nello spazio libero è regolato dalle autorità governative che le \nassegnano, tipicamente a pagamento, per i più svariati servizi di comunicazione. \nDi particolare interesse per noi sono le bande di frequenza utilizzate per realizzare comu -\nnicazioni tra apparati di rete e/o sistemi terminali in ambito di reti radiomobili, dove quindi è \nconsentita la mobilità degli apparati terminali, e di reti wireless, cio è senza mezzi trasmissivi", "guidati. Per quanto riguarda le reti radiomobili attualmente in uso, cio è le reti radiomobili di \nseconda generazione (GSM), di terza generazione (UMTS), di quarta generazione (LTE) e di \nquinta generazione (5G), le bande di frequenza sono assegnate agli operatori con aste pubbli -\nche organizzate in modo che l’offerta di servizi che usano queste bande possa essere varia e \ncompetitiva. Nel caso delle reti wireless di tipo Wi-Fi le bande di frequenza utilizzate sono", "state intenzionalmente lasciate libere dagli organi di governo per usi di sperimentazione scien -\ntifica e medica. Ciò ha dato luogo alla nascita e al proliferare di diverse soluzioni tecnologiche \nbasate sull’uso condiviso di queste bande e, soprattutto, sul principio della loro riutilizzabilità \nin aree geografiche anche molto vicine. \nPattavinaReti2021.indb   9PattavinaReti2021.indb   9 14/01/2022   16:07:5814/01/2022   16:07:5810  Capitolo 1 – Introduzione", "Le comunicazioni via satellite rappresentano il secondo ambito di grande interesse per l’u -\ntilizzazione dello spettro elettromagnetico nello spazio libero. Infatti i satelliti consentono di \nstabilire comunicazioni tra stazioni terrestri non raggiungibili con altre tecnologie trasmissi -\nve, e cio è mezzi trasmissivi guidati oppure reti radiomobili. Si possono distinguere tre tipolo -\ngie di satelliti: (i) satelliti geostazionari ( geostationary Earth orbit , GEO), che ruotano intorno", "alla terra a un’altitudine di circa 36.000 km; (ii) satelliti su orbite intermedie ( medium Earth \norbit , MEO), che orbitano a un’altitudine di 8.000-18.000 km; (iii) satelliti su orbite basse ( low \nEarth orbit , LEO), che sorvolano la superficie terrestre a un’altitudine di circa 500-1500 km. \nA differenza dei satelliti MEO e LEO, i satelliti GEO godono della importante caratteristica \ndi essere fissi sulla verticale di un dato punto della Terra, cosa che semplifica notevolmente", "le operazioni di “puntamento” delle antenne verso questi satelliti. Lo svantaggio che ne con -\nsegue è il maggior tempo di attraversamento del canale radio attraverso il satellite GEO, che \nrisulta essere dell’ordine dei 250 ms contro i 20-100 ms dei satelliti LEO-MEO. \nIn un mezzo trasmissivo in cui i segnali si propagano alla velocità v [m/s], la lunghezza \nd’onda λ [m] di un segnale è legata alla sua frequenza f [s-1] dalla relazione:\n)1.1( λv\nf--=.", ")1.1( λv\nf--=.            \nPer descrivere lo spettro elettromagnetico si fa riferimento alla propagazione della luce nel \nvuoto, che è caratterizzata da una velocità ν = c  H 3×108 m/s. Questo valore è anche utilizzato \nper indicare la velocità di propagazione dei segnali nell’etere, mentre una ragionevole appros -\nsimazione per la velocità di propagazione dei segnali nei mezzi guidati di nostro interesse, e \ncioè cavi in rame e fibre ottiche, è ν = 2×108 m/s.", "La Figura 1.2 mostra lo spettro elettromagnetico evidenziando le bande di frequenza utilizzate \ndai mezzi trasmissivi guidati (in basso) e quelle utilizzate da alcuni dei più comuni servizi di \ntelecomunicazioni (in alto). Si osserva che i mezzi trasmissivi in rame vengono utilizzati fino \na frequenze dell’ordine di 2 GHz, mentre la banda di frequenza utilizzata dalle fibre ottiche \nè adiacente a quella della luce visibile, che si estende tra i 400 nm (colore violetto) e i 700", "nm (colore rosso). Nella figura si mostra anche come lo spettro elettromagnetico disponibile \nnello spazio libero venga utilizzato sia per servizi di diffusione (broadcasting) per la radio \nanalogica (AM, FM) o digitale ( digital audio broadcasting , DAB) su frequenze intorno ai \n100 MHz, sia per la televisione analogica (TV) o digitale ( digital terrestrial television, DTT) \nsu frequenze nell’ordine delle centinaia di MHz. Servizi di comunicazioni punto-punto sono", "anche supportati nello spazio libero con microonde impiegando bande con frequenze da alcuni Assumendo di trasmettere un flusso binario alla frequenza C = 10 Mbit/s su un cavo in \nrame, si vuole determinare la lunghezza l del cavo che occupa il segnale che rappresenta \nun bit.\nAlla frequenza C corrisponde un tempo di trasmissione di bit T = 1/ C = 100 ns. Data la \nvelocità di propagazione sul cavo in rame ν = 2× 108 m/s, durante il tempo di trasmissione", "di un bit il fronte del segnale avrà percorso una distanza l = 20 m; questo valore coincide \ncon il tratto del cavo occupato dal segnale in questione.Esempio 1.1\nPattavinaReti2021.indb   10PattavinaReti2021.indb   10 14/01/2022   16:07:5914/01/2022   16:07:591.2 Una pluralità di reti  11\nGHz fino alle decine di GHz. Le comunicazioni via satellite attraversano l’etere nelle bande di \nfrequenza di GHz e decine di GHz. Nella figura è riportata anche la localizzazione qualitativa", "delle piccole bande di frequenza utilizzate per la telefonia radiomobile (2G, 3G, 4G, 5G) e per \nle reti wireless di tipo Wi-Fi è riportata nella Figura 1.2. \nSi faccia attenzione a non trarre conclusioni errate dalle apparenti migliori prestazioni dei \ndoppini rispetto ai cavi coassiali. Infatti, solo i primi sono stati continuo oggetto di studio per \nrealizzarne miglioramenti (dalla Cat. 3 alla Cat. 8), data la loro maggiore semplicità di uso. In", "ogni caso la maggiore larghezza di banda utilizzabile con i doppini è vincolata al loro uso su \ndistanze molto più piccole rispetto ai cavi coassiali (alcuni metri contro chilometri).\n1.2.2 Reti cablate\nLe reti a lunga distanza ( wide area network , WAN), dette anche reti dorsali ( backbone networ -\nks), sono state storicamente il primo tipo di rete cablata realizzato, inizialmente per servizi \ndi telefonia, ma poi estesi al trasferimento di dati per altre tipologie di servizio. Come già", "detto, le WAN si caratterizzano per una copertura geografica di tipo regionale/continentale \ncon estensione fino a migliaia di chilometri. Queste reti sono costituite da una pluralità di \nnodi, localizzati in prossimità delle sorgenti/destinazioni delle informazioni, interconnessi da \ncollegamenti con topologia parzialmente magliata. \nLa Figura 1.3 rappresenta un esempio di rete a lunga distanza a disposizione di un’azienda", "americana con sedi in quattro differenti regioni degli Stati Uniti. L ’infrastruttura di comuni -\ncazione, che comprende tutti i collegamenti tra le sedi e i relativi nodi alle estremità, potrebbe \nessere di proprietà dell’azienda, oppure essere affittata da un fornitore di servizi di comunica-Si vuole determinare la frequenza nello spazio libero di segnali caratterizzati dalle due \nlunghezze d’onda che delimitano la banda dello spettro della luce visibile.", "Applicando l’Equazione (1.1) con la velocità della luce c , si ottengono immediatamente le \ndue frequenze richieste, e cio è fv = 750 THz e fr = 428,6 THz per le due lunghezze d’onda \nλv = 400 nm e λr = 700 nm, rispettivamente dei due colori violetto e rosso. Esempio 1.2Lunghezzad'onda[m]\nFreque nza[Hz]DoppinoCavocoassial e Fibra\notticaRadi o\nAMRadi o\nFM\nTV/D TT10-610-510-410-310-210-1100101102103104\n104105106107108109101010111012101310141015SatelliteLuce\nvisibile DABMicroond e", "visibile DABMicroond e\n2G/3G/4G /5GWi-Fi\nFigura 1.2 Spettro elettromagnetico per canali e servizi di comunicazione.\nPattavinaReti2021.indb   11PattavinaReti2021.indb   11 14/01/2022   16:07:5914/01/2022   16:07:5912  Capitolo 1 – Introduzione\nzione. In entrambi i casi i collegamenti tra nodi, in special modo quelli a lunga distanza, sono \ntipicamente realizzati sulla base dello standard SDH ( synchronous digital hierarchy )4 [G.707]", "che specifica le caratteristiche dei collegamenti trasmissivi in fibra ottica da 155 Mbit/s fino \na 40 Gbit/s. Nel caso di collegamenti che coprono distanze limitate, dell’ordine di alcuni chi -\nlometri, vengono anche adottate soluzioni più flessibili basate sullo standard Ethernet delle \nreti locali (vedi Paragrafo 9.3) che tuttavia, rispetto alle soluzioni precedenti, offrono meno \ngaranzie sulla continuità del servizio in seguito a guasti. Si noti che ognuno dei nodi riportati", "nella Figura 1.3 è rappresentativo di una pluralità di sistemi terminali (anche centinaia/migliaia) \nche saranno a loro volta mutuamente interconnessi con differenti soluzioni di rete (reti locali/\nmetropolitane) per accedere alle risorse di trasferimento a lunga distanza della WAN. \nUna rete in area locale ( local area network , LAN) è definita come un sistema di comuni -\ncazione tra apparecchiature indipendenti, dette stazioni , entro un’area limitata con estensione", "fino a qualche centinaia di metri che utilizza un canale fisico di comunicazione condiviso ad \nalta velocità. Una LAN è caratterizzata dall’utilizzazione di dispositivi e apparecchiature di \nrete estremamente semplici che rendono queste strutture di comunicazione particolarmente \neconomiche. Esse presentano anche una notevole affidabilità, robustezza e flessibilità, pur non \noffrendo garanzie molto stringenti sulle prestazioni. Questo infatti è il prezzo da pagare pur di", "avere una tecnologia d’accesso alla LAN semplice, facilmente fruibile e molto robusta.\nLe LAN sono sistemi caratterizzati da modularità ed espandibilità, potendosi evolvere \nnel tempo con un incremento di costo limitato sia nella configurazione (aumento del numero \ndi stazioni interfacciate e dell’area geografica coperta), sia nella tecnologia (aumento della \nvelocità della rete). Al contrario di quanto accade nelle WAN, dove un’eventuale espansione", "richiede in generale una ridefinizione della topologia di rete e della soluzione tecnologica da \nadottare, aggiungere stazioni o segmenti di rete a una struttura LAN preesistente è molto \nsemplice e ha un’influenza minima sulle apparecchiature già operanti. Un cambio di tecnolo -\n4 L’analogo standard del Nord America prende il nome di synchronous optical network (SONET) e specifica \ncollegamenti con capacità a partire da 51 Mbit/s.\n+\nFigura 1.3 Esempio di rete a lunga distanza.", "+\nFigura 1.3 Esempio di rete a lunga distanza.\nPattavinaReti2021.indb   12PattavinaReti2021.indb   12 14/01/2022   16:07:5914/01/2022   16:07:591.2 Una pluralità di reti  13\ngia, come per esempio l’aumento della velocità della rete, viene tipicamente realizzato agendo \nesclusivamente sulle apparecchiature terminali e riutilizzando al massimo l’infrastruttura di \nrete preesistente. \nUna LAN è costituita da un insieme di apparecchiature terminali (computer, stampanti,", "ecc.) connesse tra loro attraverso un sistema di comunicazione condiviso tipicamente diffusi -\nvo, o “broadcast”, in cui cio è le unità informative emesse da ogni stazione sono ricevute da \ntutte le altre, anche se indirizzate a una sola di queste. La condivisione del canale di comuni -\ncazione implica la necessità di un’azione di coordinamento tra le stazioni distribuite sul terri -\ntorio per evitare conflitti nell’utilizzazione del mezzo trasmissivo. Le regole che le diverse sta -", "zioni seguono per accedere al mezzo trasmissivo prendono il nome di “protocollo di accesso”. \nUn sistema di comunicazione di questo tipo può essere realizzato connettendo le stazioni \ndistribuite nell’area su un bus condiviso, oppure tramite un anello. Anche se entrambe le \ntopologie a bus e ad anello sono state sviluppate nel corso degli anni, ormai l’unica tecnologia \nutilizzata è quella della rete Ethernet in cui il bus originario è oggi realizzato con un dispo -", "sitivo che connette a stella tutte le stazioni. Velocità tipiche di queste reti sono 100 Mbit/s, 1 \nGbit/s, fino a 10 Gbit/s. La Figura 1.4 mostra un esempio di LAN domestica di tipo Ethernet \ncon un’apparecchiatura di rete che interconnette a stella via cavo le periferiche del luogo e si \ncollega via cavo alle reti esterne. \nUna rete metropolitana (metropolitan area network , MAN) svolge le stesse funzioni di", "una LAN su un’area più vasta, con estensione fino a decine di chilometri. Le soluzioni tec -\nnologiche adottate per questo tipo di rete sono principalmente due: reti con topologia a stella \nper applicazioni di televisione via cavo ( cable television , CATV) o ad anello per applicazioni \ndi reti dati. \nLe reti MAN più diffuse, con particolare riferimento al Nord America, sono le reti CATV \nnate nel secolo scorso per fornire servizi televisivi via cavo in aree di piccole/medie dimensio -", "ni di tipo metropolitano in alternativa ai servizi forniti via etere. Queste reti sono caratterizza -\nte da una topologia a stella con un centro-stella denominato cable modem termination system  \n(CMTS); questo comunica con gli apparati terminali, detti cable modem , localizzati nei punti \ndi utilizzazione del servizio, e si connette con le reti esterne (vedi Figura 1.5). Le reti CATV \nutilizzano cavi coassiali come mezzo trasmissivo, ma nelle realizzazioni più recenti di elevata", "capacità i collegamenti tra CMTS e nodi di testa (head-end) sono realizzati in fibra ottica, \ndando così luogo a soluzioni denominate hybrid fiber coaxial  (HFC). \nCon l’avvento di Internet le reti CATV hanno svolto un ruolo diverso, in quanto hanno \nconsentito di fornire servizi di trasporto dati ad alta capacità sostituendo i cable modem ter -\nminali e il CMTS di testa con nuove apparecchiature in grado di trasferire un traffico dati", "bidirezionale dell’ordine delle decine di Mbit/s. Con questa nuova soluzione il mezzo trasmis -\nInte rnet\nFigura 1.4 Rete locale di tipo domestico.\nPattavinaReti2021.indb   13PattavinaReti2021.indb   13 14/01/2022   16:08:0014/01/2022   16:08:0014  Capitolo 1 – Introduzione\nsivo resta lo stesso, ma viene ora utilizzato sfruttando due distinte bande di frequenza per la \ntrasmissione di informazioni nelle due direzioni.", "Reti MAN di tipo diverso da quelle CATV sono state sviluppate come evoluzione delle \ntecnologie realizzate per reti LAN. Nel caso delle reti metropolitane, le soluzioni che hanno \navuto più successo sono quelle basate su topologie ad anello nelle quali un certo numero \ndi nodi distribuiti sul territorio metropolitano sono mutuamente connessi con collegamenti \nbidirezionali così da formare due anelli controrotanti; questa soluzione consente di mantenere", "la connettività della rete anche in presenza di un guasto in uno qualunque dei collegamenti, \nattuando semplici procedure di reinstradamento del traffico ricevuto sui nodi che terminano \nil collegamento guasto. Data l’area di tipo metropolitano, tipicamente coperta da una MAN, \nla principale risorsa trasmissiva utilizzata sono le fibre ottiche, che consentono di collegare \nnodi su distanze di decine di chilometri senza ulteriori dispositivi di amplificazione o di rige -", "nerazione del segnale. Ogni nodo dell’anello agisce da punto di concentrazione per il traffico \ndati originato e terminato nell’area servita. L ’interconnessione di stazioni in ognuna di queste \naree viene realizzata per mezzo di una rete LAN di opportuna tecnologia, per esempio cablata \no wireless (vedi Figura 1.6). \n1.2.3 Reti wireless\nLe reti LAN di tipo wireless rispondono a un’esigenza molto sentita al giorno d’oggi, cio è", "quella di disporre di connettività in rete senza dovere prestabilire con esattezza la posizione \nentro un’area limitata dove ciò deve avvenire. L ’accesso via radio non predefinisce infatti il \npunto esatto di posizionamento dell’apparecchiatura terminale, anche se deve garantire che \nl’accesso sia effettivamente possibile in tutta l’area di potenziale interesse. Ciò deve avvenire \ninoltre senza andare a detrimento della capacità di trasferimento delle informazioni in rete. In", "poche parole, si vuole rendere possibile la “mobilità” del terminale garantendo una determi -\nnata qualità al servizio di trasferimento delle informazioni. Occorre osservare che in questo \nscenario sorgono nuovi problemi legati da una parte alla bassa qualità e al ridotto spettro del \nmezzo trasmissivo rispetto a quello in cavo, dall’altra alla necessità di controllare le potenze \ndi trasmissione utilizzate. Basti pensare ai problemi dei disturbi e delle interferenze elettroma -", "gnetiche che colpiscono il segnale trasmesso, alla piccola quantità di spettro elettromagnetico \na disposizione che limita a priori la capacità dati del canale radio, alla variabilità della potenza CMTS\nHead-endInternet\nFigura 1.5 Rete metropolitana CATV.\nPattavinaReti2021.indb   14PattavinaReti2021.indb   14 14/01/2022   16:08:0014/01/2022   16:08:001.2 Una pluralità di reti  15\ndel segnale nell’area di copertura, alla necessità di gestire accuratamente le sorgenti di energia", "(le batterie) disponibili nei terminali mobili. \nI primi sviluppi di reti wireless LAN hanno avuto luogo facendo uso di porzioni di spet -\ntro elettromagnetico non soggette per definizione a regolamentazione e quindi utilizzabili \nda chiunque, raggruppate nelle bande denominate ISM ( instrumental, scientific, medical ) \nnell’ambito dei 900 MHz, 2,4 GHz, 5,8 GHz. L ’immediata disponibilità di queste bande ha", "comportato tuttavia lo svantaggio della convivenza con interferenze da altre apparecchiature \ngià operanti in questa banda, per esempio i forni a microonde. Nel seguito si farà riferimento \nesclusivamente alle realizzazioni di rete wireless che rientrano nell’ambito del progetto 802 \ndell’organizzazione IEEE; ormai tutti i dispositivi e le apparecchiature di rete wireless dispo -\nnibili sono basate sulle soluzioni descritte in queste raccomandazioni.", "Le tecnologie di rete Bluetooth, specificate nelle raccomandazioni IEEE 802.15, nascono \nper interconnettere via radio apparecchi molto vicini l’uno all’altro, nell’ordine delle decine \ndi cm, eliminando così le difficoltà legate alla cablatura delle connessioni. Queste reti sono \nanche denominate wireless personal area network  (WPAN). In una rete basata su Bluetooth \nun’apparecchiatura principale (master) può scambiare informazioni con un certo numero di", "dispositivi asserviti (slave), come per esempio un telefono cellulare con le cuffie, oppure un \ncomputer con i suoi dispositivi periferici come una tastiera, una stampante, un mouse. La \nbanda utilizzata per le comunicazioni è intorno ai 2,4 GHz e la capacità della rete è di qual -\nche Mbit/s. La connettività tra dispositivi è determinata dalla potenza del segnale emesso da \nquesti. \nLe reti Wi-Fi , che hanno rivoluzionato le modalità di connessione alla rete degli apparec -", "chi portatili, tipicamente laptop computer e telefoni cellulari, sono descritte nelle raccoman -\ndazioni IEEE 802.11, uno standard in continua evoluzione. Con questa soluzione il sistema \nterminale si connette via radio a un’apparecchiatura centralizzata, detta access point  (AP), che \nfornisce connettività con altri terminali sia nell’area di copertura radio, sia al di fuori di essa, \ntipicamente per accedere alla rete Internet. Queste reti Wi-Fi, che coprono aree dell’ordine", "delle decine di metri, consentono di trasferire flussi di traffico fino alle decine e centinaia di \nMbit/s, utilizzando le bande di frequenza nell’intorno di 2,4 GHz e di 5 GHz. La copertura di PBX\nFigura 1.6 Rete metropolitana ad anello.\nPattavinaReti2021.indb   15PattavinaReti2021.indb   15 14/01/2022   16:08:0114/01/2022   16:08:0116  Capitolo 1 – Introduzione\naree più vaste richiede l’uso di una molteplicità di AP mutuamente connessi per formare una", "rete cablata. Occorre osservare che le LAN di tipo wireless, come ad esempio le reti Wi-Fi, \nsono in grado di trasportare flussi di traffico di diversi ordini di grandezza inferiori rispetto \nalle LAN cablate. La ragione di ciò risiede nella diversa natura del mezzo trasmissivo che, \nnel caso delle reti wireless dove si usano canali radio, è molto più soggetto a interferenze e \ndisturbi che nelle reti cablate, anche se il mezzo trasmissivo tipico di queste ultime è il doppi -", "no intrecciato. Un esempio di rete domestica di tipo wireless è rappresentato nella Figura 1.7. \nLe reti WiMax  (worldwide interoperability for microwave access ) sono state concepite e \ndefinite nelle raccomandazioni IEEE 802.16 per fornire connettività wireless su distanze di \ndecine di chilometri, quindi su estensioni di almeno un ordine di grandezza maggiore rispetto \nalle reti Wi-Fi. Il loro scopo è quello di raggiungere zone geografiche a bassa densità di popo -", "lazione dove gli operatori esistenti difficilmente dispiegano reti cablate per motivi di redditi -\nvità. Le reti WiMax vengono sviluppate utilizzando bande di frequenza dedicate che vengono \nassegnate, tipicamente tramite aste, dagli enti governativi. A differenza delle reti Wi-Fi, se in \nuna data area più operatori (tipicamente uno o due) possono fornire servizi di tipo WiMax, \nquesti operano su diverse bande di frequenza, evitando quindi mutua interferenza dei segnali", "trasmessi. Le reti WiMax consentono di trasportare flussi di traffico di decine di Mbit/s, che \nnaturalmente saranno condivisi tra tutti gli utilizzatori del servizio. Questa capacità varia a \nseconda del posizionamento delle antenne e risulterà maggiore in condizioni di mutua visi -\nbilità ( line of sight , LOS) degli apparati radio trasmittenti e riceventi. Come per lo standard \nIEEE 802.11, anche lo standard IEEE 802.16 delle reti WiMax è in continua evoluzione, per", "includere dopo la prima specifica anche funzionalità più evolute, come la connettività anche \nsenza visibilità tra stazioni ( no line of sight , NLOS), la mobilità del terminale, ecc. \n1.2.4 Reti radiomobili\nLe reti radiomobili che oggi conosciamo rappresentano l’evoluzione della telefonia tradiziona -\nle disponibile su apparecchi fissi per consentire la fruizione di una pluralità di nuovi servizi,", "resi possibili grazie al trasporto di dati e di immagini, quindi ben oltre la semplice telefonia, \nsu apparecchi che si spostano liberamente sul territorio. \nLe reti radiomobili di seconda generazione ( reti 2G) sono state il primo passo importante \nper la diffusione di servizi di comunicazione, nella fattispecie la telefonia, nei quali l’appa -\nrecchio terminale è connesso alla rete tramite canale radio, godendo quindi della libertà di", "movimento non consentita da una connessione cablata. Ma, cosa ancora più importante, l’ap -\nparecchio può muoversi senza più vincoli di localizzazione, spostandosi anche a bordo di auto \no treni, senza per questo subire un’interruzione del servizio. Le reti 2G sono basate sullo stan -\nInte rnet\nFigura 1.7 Rete locale wireless.\nPattavinaReti2021.indb   16PattavinaReti2021.indb   16 14/01/2022   16:08:0114/01/2022   16:08:011.2 Una pluralità di reti  17", "dard GSM ( global system for mobile communications ) definito per la trasmissione di segnali \nesclusivamente digitali, a partire dalla voce che viene trasmessa sotto forma di stringhe di bit. \nLe bande di frequenza utilizzate per le reti 2G sono nell’intorno di 900 MHz, 1800 MHz e \nsono assegnate, mediante aste competitive, agli operatori che ne fanno richiesta. Ogni opera -\ntore dispone quindi di piccole porzioni di spettro elettromagnetico, la cui entità è dell’ordine", "di alcune decine di MHz, e gli utilizzatori potenziali possono anche essere milioni. Anche se \nsono distribuiti su un territorio nazionale e solo parte di loro è attiva contemporaneamente, la \nrisorsa radio disponibile è chiaramente insufficiente5. \nPer superare queste limitazioni, il principio fondamentale delle reti radiomobili è quello \ndel riuso delle stesse bande di frequenza in aree vicine, realizzato distribuendo sul territorio", "una pluralità di antenne atte a trasmettere e ricevere i segnali radio su una determinata banda \ndi frequenze. Ogni antenna fornisce il proprio servizio su un’area circolare, denominata cella , \nche per comodità viene rappresentata graficamente come esagonale. In ogni cella è disponibile \nuna stazione radio base  (base transceiver station , BTS) con associata antenna che comunica \nvia cavo con un centro di controllo  (base station controller , BSC), il quale coordina l’attività", "delle BTS associate e realizza la connettività con la rete telefonica e con la rete Internet. La \npotenza del segnale trasmesso dalla stazione radio base deve essere tale da consentire il riuso \ndi una stessa frequenza in celle non adiacenti. Nella Figura 1.8, che rappresenta le sei celle \nadiacenti a una cella centrale, i canali radio, ovvero le frequenze, in uso in una delle sei celle \nesterne sono riutilizzati in altre due di queste celle, consentendo così il riuso delle stesse", "frequenze per diversi utilizzatori. Risulta quindi evidente che la scarsità della risorsa radio \ndi comunicazione viene superata grazie alla moltiplicazione sul territorio della stazioni radio \nbase; più piccole sono le celle, maggiore è il fattore di riuso della stessa banda di frequenze. \nNaturalmente ciò si accompagna a un maggiore investimento richiesto per la realizzazione di \nun’infrastruttura con un maggior numero di celle su un dato territorio.", "Le reti 2G hanno reso disponibili i primi servizi dati consentendo il trasferimento di flussi \ndi alcune decine di kbit/s con il servizio denominato GPRS ( general packet radio service ), \nassumendo quindi il nome di reti 2.5G . Tuttavia la diffusione capillare dei servizi dati su ter -\n5 Si consideri che una semplice conversazione vocale richiede la disponibilità di una banda di alcuni kHz nel canale radio \na disposizione delle due apparecchiature terminali. BTSBTSBTS\nBTS\nBTS\nBTSBTSBSCInternet", "BTS\nBTS\nBTSBTSBSCInternet\nFigura 1.8 Rete radiomobile.\nPattavinaReti2021.indb   17PattavinaReti2021.indb   17 14/01/2022   16:08:0114/01/2022   16:08:0118  Capitolo 1 – Introduzione\nminali radiomobili ha avuto luogo con l’avvento delle reti radiomobili di terza generazione, \ndette reti 3G, che utilizzano le bande intorno ai 900 MHz e 2100 MHz, anch’esse assegnate \nsu base competitiva ai singoli operatori di rete. Gli apparecchi terminali sviluppati per queste", "reti, conosciuti come “smartphone”, hanno dato luogo alla vera e propria esplosione di nuovi \nservizi grazie allo sviluppo di migliaia e migliaia di applicazioni accessibili direttamente sullo \nsmartphone. Nuove e più efficienti soluzioni trasmissive sono state sviluppate per consentire il \ntrasporto di flussi dati di maggiore capacità, come richiesto dai nuovi servizi resi disponibili \nin queste reti. Fino a qualche Mbit/s può essere trasferito attraverso queste reti verso ogni", "terminale mobile, per il supporto, in particolare, di applicazioni video. \nLe reti di quarta generazione, dette reti 4G, rappresentano l’ulteriore sviluppo delle reti \nradiomobili con l’obiettivo di rendere possibile il trasferimento di flussi dati di centinaia di \nMbit/s, fino a qualche Gbit/s. Le bande utilizzate per questo servizio, sempre assegnate con \naste competitive, sono nell’intorno di 800 MHz, 1800 MHz, 2600 MHz. Le reti di quinta", "generazione, conosciute come reti 5G, costituiscono il passo successivo nell’evoluzione delle \nreti radiomobili, che si pone come obiettivo il supporto di: (i) servizi di tipo eMBB ( enhan -\nced mobile broadband ) a terminali che si muovono a centinaia di km/h con capacità di picco \ndell’ordine di svariati Gbit/s, (ii) servizi di tipo URLLC ( ultra reliable and low latency com -\nmunications ) che garantiscono latenze di rete all’interfaccia radio dell’ordine del millisecondo,", "(iii) servizi di tipo mMTC ( massive machine-type communications ) che consentono la con -\nnettività in rete a milioni di dispositivi per chilometro quadrato. L ’enorme quantità di traffico \nche si prevede di trasportare nelle reti di accesso di quinta generazione richiede l’adozione di \nnuove bande nello spettro elettromagnetico finora non utilizzate, come nel caso delle bande di \n26 GHz e 47 GHz, sempre assegnate con aste competitive. \n1.2.5 La rete Internet", "1.2.5 La rete Internet\nLe varie tipologie di rete descritte nei paragrafi precedenti nascono per svolgere una funzio -\nnalità di connessione tra sistemi terminali all’interno dell’area di copertura di ciascuna rete. \nAl di là delle ovvie considerazioni sulla copertura geografica della singola rete, in generale i \nsistemi terminali di una rete sono caratterizzati da soluzioni tecnologiche simili per l’accesso", "alla rete, come per esempio nel caso dei cable modem di una rete CATV, oppure nel caso di \ncomputer portatili o smartphone che svolgono le stesse funzioni per accedere alla rete wireless \no radiomobile.\nPossiamo affermare che la rete Internet rappresenta il tessuto connettivo di tutte le reti, \nindipendentemente dalla loro collocazione geografica e dalle soluzioni tecnologiche adottate, \ncosì da consentire la comunicazione tra sistemi terminali di ogni tipo ovunque situati. Tutto", "questo si realizza attraverso l’adozione di apparecchiature, denominate router , in ognuna della \nreti cui si vuole fornire connettività verso il mondo esterno. Queste reti svolgono dunque il \nruolo di reti di accesso  alla rete Internet. A titolo di esempio, la Figura 1.9 rappresenta tre tipo -\nlogie di rete che accedono a Internet: (i) reti domestiche cablate in cui i sistemi terminali sono \nconnessi con doppino attraverso un DSLAM ( digital subscriber line access multiplexer ) per", "soluzioni in rame, oppure attraverso uno splitter PON ( passive optical network ) per soluzioni \nin fibra ottica, (ii) reti radiomobili di diverse generazioni (2G, 3G, 4G, 5G); (iii) reti aziendali \ndi qualunque tipo (LAN, MAN, WAN). \nPattavinaReti2021.indb   18PattavinaReti2021.indb   18 14/01/2022   16:08:0114/01/2022   16:08:011.2 Una pluralità di reti  19\nLa connettività globale su base planetaria resa possibile dalla rete Internet viene realizzata da", "Internet service provider  (ISP), ognuno dei quali dispone di un certo numero di router mutua -\nmente interconnessi e distribuiti sul territorio che forniscono connettività per il trasporto di \nflussi di dati. Tutti questi router, compresi quelli dislocati nelle reti di accesso, adottano gli \nstessi protocolli di comunicazione e quindi consentono di trasferire informazioni da una rete \nall’altra. \nAlcuni degli ISP forniscono alle reti di accesso di un territorio la connettività alla rete", "Internet, mentre altri provvedono all’interconnessione tra ISP di diverse aree geografiche. Si \ndistinguono tre tipologie di ISP: \n• ISP di primo livello ( Tier 1 ISP )6: sono fornitori di connettività a lunga distanza al più \nalto livello gerarchico della rete Internet con il compito di garantire la raggiungibilità \ndi ogni altro ISP, ovunque sia situato; ogni ISP di questo livello dispone di proprie \nrisorse di comunicazione di grande capacità messe a disposizione, tipicamente a paga -", "mento, di ISP di livello inferiore per garantirne la connettività; l’insieme delle reti \ndegli ISP di primo livello costituisce dunque lo scheletro della rete Internet;\n• ISP regionali  (Tier 2 ISP )7: si tratta di fornitori di connettività su aree geografiche di \ntipo regionale cui possono accedere ISP di livello inferiore e clientela di tipo azien -\ndale; questi ISP ricevono connettività (detta “transito”) dagli ISP di primo livello per", "raggiungere l’ISP di destinazione verso cui trasferire un dato flusso di traffico; ISP \nlimitrofi di questo livello possono anche essere mutuamente connessi, con un accordo \n6 Esempi di Tier 1 ISP sono: AT&T, Level 3 Communications, Sprint, NTT Communications, Deutsche Telekom \nAG, Orange, Telecom Italia Sparkle, Telefonica Global Solutions.\n7 Esempi di Tier 2 ISP sono: Comcast, Korea Telekom, British Telecom, Vodafone.PON spli tter\n(3G)(2G)\n(5G)(4G)DSLAM\nReti radiomobiliReti domestich e", "(5G)(4G)DSLAM\nReti radiomobiliReti domestich e\nReti aziendal iInternet\nFigura 1.9 Reti di accesso a Internet.\nPattavinaReti2021.indb   19PattavinaReti2021.indb   19 14/01/2022   16:08:0214/01/2022   16:08:0220  Capitolo 1 – Introduzione\ndi “peering”, per realizzare il trasferimento di traffico verso una destinazione rag -\ngiungibile attraverso l’ISP vicino; \n• ISP di accesso ( Tier 3 ISP ): sono ISP al livello più basso della gerarchia ( access ISP ) e", "si interfacciano dunque con gli utilizzatori di tipo residenziale localizzati nelle reti di \naccesso; forniscono servizi in aree geografiche limitate ricevendo connettività (detta \n“transito”) da ISP di livello superiore (Tier 1 ISP oppure Tier 2 ISP). \nLa Figura 1.10 rappresenta un esempio di struttura della rete Internet che comprende i tre \nlivelli della gerarchia di ISP. \nLa connettività fornita da ISP di primo e secondo livello a ISP di livello più basso viene", "resa disponibile attraverso router dedicati, cui questi ultimi ISP si connettono con collegamen -\nti ad alta velocità. Questi router vengono denominati point of presence  (POP). Inoltre è pratica \ncomune per ISP di secondo e di terzo livello ricevere connettività attraverso POP di più ISP di \nlivello superiore, allo scopo di garantire una migliore qualità di servizio in presenza di guasti \no sovraccarichi in uno o più degli ISP attraversati. Questo tipo di configurazione di un Tier 2", "ISP o Tier 3 ISP è conosciuta come multi-homing . \nIn alternativa agli accordi di peering tra due ISP che si scambiano traffico su un collega -\nmento dedicato, sono disponibili anche siti, denominati Internet exchange point  (IXP), dove \nmolteplici ISP (decine o centinaia), anche di diverso livello, terminano i loro collegamenti \ncosì da scambiarsi mutuamente flussi di traffico; questi possono essere così instradati, tipi -", "camente senza pagamento, attraverso l’ISP di transito più conveniente per raggiungere l’ISP \ndi destinazione. \nÈ importante osservare come la struttura della rete Internet finora rappresentata, costituita \ncioè dall’unione degli ISP dei diversi livelli, non sia pienamente rispondente ai cambiamenti \ndovuti alla presenza delle grandi aziende fornitrici di contenuti, come per esempio Google, \nYahoo, Netflix, Facebook, Youtube8. Queste società dispongono di data center  (DC), anche", "8 Queste aziende sono anche denominate over-the-top  (OTT), in quanto in una ipotetica architettura a strati queste \nsarebbero posizionate al di sopra del livello applicativo. Figura 1.10 La rete Internet.\nPattavinaReti2021.indb   20PattavinaReti2021.indb   20 14/01/2022   16:08:0214/01/2022   16:08:021.3 Architettura di protocolli  21\ndecine, distribuiti su diversi continenti dove sono dislocati centinaia di migliaia di computer.", "La potenza di calcolo e di memorizzazione di queste macchine viene messa a disposizione \ndi chiunque sia interessato alla fruizione di servizi della più varia natura, detti anche “cloud \nservices”. Alcune di queste aziende, invece di chiedere connettività agli ISP di livello più \nalto, realizzano una propria rete su base planetaria, connettendo i propri DC con collegamenti \nprivati ad altissima capacità. Queste reti, che prendono il nome di content delivery networks", "(CDN), svolgono quindi un ruolo analogo a quello svolto dagli ISP di livello più alto, in quanto \nforniscono anche connettività su base mondiale, anche se finalizzata alla distribuzione dei \npropri contenuti. \n1.3 Architettura di protocolli\nUn protocollo di comunicazione  è un insieme di regole che definiscono le modalità di intera -\nzione tra sistemi. I protocolli di comunicazione regolano dunque lo scambio di informazioni", "tra sistemi generalmente distanti l’uno dall’altro; nel caso di una rete di comunicazione, questi \nsistemi si possono identificare nei nodi di commutazione e nei sistemi terminali della rete stes -\nsa. Si parla di architettura a strati  dei protocolli, oppure di pila protocollare , facendo riferimen -\nto alla gerarchia che, quasi sempre, esiste tra protocolli. Storicamente, il primo modello a strati \nè stato definito dall’ISO9 come modello di riferimento OSI  (open systems interconnection ) e", "includeva sette livelli (o strati). Successivamente ha acquisito una grande importanza il modello \ndi riferimento a quattro livelli utilizzato fin dall’inizio nella rete Internet e denominato modello \nTCP/IP . I protocolli definiti in quest’ultimo modello sono poi divenuti i protocolli di riferimen -\nto per il trasferimento a distanza di unità informative attraverso reti di qualunque genere. Per \ndescrivere i protocolli di comunicazione si farà qui riferimento a un modello ibrido  a cinque", "livelli derivato dalla combinazione dei due modelli OSI e TCP/ I P. \n1.3.1 Modello a strati della rete\nL ’interazione tra due sistemi terminali, indipendentemente dalla complessità e numerosità \ndegli apparati di rete che li interconnettono, richiede l’esecuzione di compiti di diversa natura \nche spaziano dall’elaborazione delle informazioni alla trasmissione fisica delle stringhe di bit \nche trasportano l’informazione stessa. Un modello a strati che specifica tutte queste funzioni", "per mezzo di una pila di protocolli, ciascuno dei quali si interfaccia esclusivamente con i pro -\ntocolli adiacenti nella pila, risponde all’esigenza di rendere ordinata la definizione del sistema \ncomplessivo e di agevolarne l’implementazione.\nI criteri fondamentali che definiscono un modello a strati nelle reti di comunicazione sono \ndue: raggruppamento  e stratificazione . Si raggruppano tra loro funzioni simili per logica e/o", "tecnologia, così da definire gruppi omogenei; si organizzano poi gerarchicamente i gruppi \ncosì definiti in strati  (layer ), o livelli  (level )10, in modo da identificare regole di interazione \ntra strati ( interfacce ) quanto più possibile semplici e univoche. \n9 ISO sta per international standardization organization  ed è un ente internazionale di standardizzazione, con \nsede negli Stati Uniti, che si occupa anche della normativa nel campo delle telecomunicazioni.", "10 I termini “strato” (layer) e “livello” (level) sono utilizzati in modo equivalente per rappresentare lo stesso \nconcetto. In questo testo non si farà alcuna distinzione tra essi.\nPattavinaReti2021.indb   21PattavinaReti2021.indb   21 14/01/2022   16:08:0214/01/2022   16:08:0222  Capitolo 1 – Introduzione\nNel modello a strati di riferimento qui adottato, in ogni sistema terminale vengono definiti \ncinque strati che, dal basso verso l’alto, assumono la denominazione di:", "• strato fisico  (physical, P), indicato come livello 1,\n• strato di collegamento dati ( data link , DL), anche detto strato di collegamento , indi -\ncato come livello 2,\n• strato di rete  (network , N), indicato come livello 3,\n• strato di trasporto (transport , T), indicato come livello 4,\n• strato di applicazione11. \nLa Figura 1.11 mostra la modalità di interazione tra due sistemi terminali A e B che sono", "in comunicazione diretta senza apparati di rete interposti. La cooperazione tra i due sistemi \nrichiede lo svolgimento di funzioni protocollari nei due sistemi a partire dall’esecuzione di \nun protocollo applicativo in entrambi. Nel caso generale questa cooperazione richiede l’esecu -\nzione di funzioni espletate dai protocolli di trasporto a livello 4, di rete a livello 3, di collega -\nmento dati a livello 2, affinché stringhe di bit vengano trasferite al livello fisico dal sistema", "A al sistema B (e viceversa). \nLo strato generico n  riceve il servizio dallo strato immediatamente inferiore n   –  1 nel \npunto di accesso al servizio (o interfaccia) denominato ( n – 1)-SAP ( service access point ). \nLo stesso strato n arricchisce il servizio così ricevuto con le proprie funzioni per fornire un \nservizio più completo allo strato superiore n + 1 nel punto di accesso al servizio (o interfaccia)", "n-SAP. Fanno naturalmente eccezione lo strato di applicazione, che rappresenta l’utilizzatore \nultimo dell’interazione tra sistemi, e lo strato fisico, che interfaccia il mezzo trasmissivo. I \n11 Allo strato di applicazione non si assegna qui un numero, in quanto potrebbe generare confusione con il numero \ndel livello (sette) che questo strato assumeva nel modello ISO OSI definito su sette livelli.Applicaz ione\n4\n3\n2\n1T-SAP\nTrasporto\nN-SA P\nRete\nDL-S AP\nCollegamen to\nP-SAP", "Trasporto\nN-SA P\nRete\nDL-S AP\nCollegamen to\nP-SAP\nFisicoProtocolloapplicativo\nProtocollo ditrasporto\nProtocollo direte\nProtocol lodicollegament o\nBitApplicazione\nT-SA P\nTrasport o\nN-SAP\nRete\nDL-SAP\nCollegamen to\nP-SAP\nFisico4\n3\n2\n1\nAB\nFigura 1.11 Modello a strati e pila protocollare.\nPattavinaReti2021.indb   22PattavinaReti2021.indb   22 14/01/2022   16:08:0314/01/2022   16:08:031.3 Architettura di protocolli  23", "punti di accesso al servizio fornito dai livelli 1, 2, 3 e 4 sono denominati, rispettivamente, \nP-SAP , DL-SAP , N-SAP  e T-SAP . Per esempio, il protocollo di trasporto fornisce servizio \nall’interfaccia T-SAP allo strato di applicazione, ricevendo esso servizio dal protocollo di rete \nall’interfaccia N-SAP.\nLa definizione del modello a strati implica che l’interfacciamento tra strati sia consenti -", "to solo se essi sono adiacenti, e le modalità di interlavoro tra strati adiacenti siano definite \nin modo quanto più possibile indipendente dalle tecniche di implementazione delle funzio -\nni negli strati. Ogni strato usufruisce dei servizi resi dallo strato inferiore, cui aggiunge lo \nsvolgimento delle proprie funzioni, così da fornire allo strato superiore un servizio a valore \naggiunto. Il servizio del livello n è fornito indipendentemente dalle procedure realizzative: la", "stratificazione maschera ciò che avviene negli altri livelli. Il livello n +  1 infatti non ha alcu -\nna cognizione di come il livello n svolga le sue funzioni, ma deve conoscere perfettamente \nl’interfaccia tra i due livelli. Ne consegue che la definizione a strati dell’interazione tra due \nsistemi consente di modificare facilmente le modalità di svolgimento delle funzioni di uno \nstrato (per adozione di tecniche o tecnologie innovative), senza che gli strati adiacenti ne siano", "influenzati, a condizione che l’interfaccia tra strati sia mantenuta inalterata. \nLe funzioni svolte in uno strato generico sono attuate mediante dispositivi hardware o \nsoftware, a seconda dello strato interessato. Soluzioni hardware sono adottate negli strati \ninferiori, a partire dallo strato fisico dove necessariamente si usano dispositivi hardware che \ngenerano stringhe di bit da trasmettere e ricevere. Soluzioni software vengono invece utilizza-", "te negli strati superiori, a partire dallo strato di applicazione la cui implementazione naturale \nè un programma software. La tipologia di soluzione implementativa per svolgere le funzioni \npreviste per uno strato intermedio dipende dal grado di maturità della tecnologia disponibile \n(hardware o software) e dalla complessità delle funzioni in questione. \n1.3.2 Unità informative\nL ’interazione tra due sistemi terminali avviene mediante interlavoro di protocolli omogenei", "nei due sistemi, cio è di uguale livello. Si faccia riferimento alla Figura 1.12, che mostra l’invio \ndi un’unità informativa  (UI) dal sistema A al sistema B attraverso un collegamento diretto \npunto-punto. Il protocollo applicativo genera la UI, che assume il nome di messaggio , e la \nconsegna nel T-SAP al protocollo di trasporto. Questo costruisce la propria UI, denominata \nsegmento , anteponendo al messaggio, denominato payload , un header  (T-H) che specifica le", "funzioni richieste al protocollo di trasporto remoto nel sistema B. Il segmento così costruito \nnel sistema A viene consegnato all’interfaccia N-SAP al protocollo di rete che, a sua volta, \nspecifica le funzioni di rete da svolgere nel nuovo header  (N-H) aggiunto alla UI ricevuta, \nche costituisce il payload  della nuova UI. Questa UI, che prende il nome di pacchetto,  viene \nricevuta dal protocollo di collegamento all’interfaccia DL-SAP e costituisce il payload  della", "nuova UI di livello 2. Quest’ultima, arricchita dell’ header  (DL-H) e del trailer  (DL-T), che \nspecificano le funzioni di livello di collegamento da svolgere sulla UI una volta ricevuta, \nprende il nome di trama  e viene trasferita dallo strato fisico del sistema A sulla linea A-B \nsotto forma di una stringa di bit. Nel sistema B che riceve la stringa di bit allo strato fisico, i \nvari protocolli vengono eseguiti ora in ordine inverso utilizzando l’informazione di controllo", "(header e trailer) aggiunta nei differenti strati protocollari al messaggio originale generato dal \nsistema A.\nPattavinaReti2021.indb   23PattavinaReti2021.indb   23 14/01/2022   16:08:0314/01/2022   16:08:0324  Capitolo 1 – Introduzione\nIn sintesi, possiamo affermare che il trasferimento “logico” delle informazioni avviene oriz -\nzontalmente “da pari a pari” ( peer-to-peer ) tra entità omogenee di sistemi diversi. Invece il", "trasferimento fisico delle informazioni avviene verticalmente lungo la “pila” degli strati e \norizzontalmente lungo il mezzo trasmissivo. \nSi vuole ora mostrare con la Figura 1.13 come avviene lo scambio di informazioni tra due \nsistemi terminali, A e B, attraverso due nodi di rete, R e S, evidenziandone il meccanismo di \nscambio di unità informative tra apparati. Nel sistema A il messaggio generato a livello di", "applicazione viene trasferito attraverso i livelli sottostanti per diventare prima un segmento \ncon un header T-H di trasporto, poi un pacchetto con un header N-H di rete, e poi una trama \ncon un header DL-H e un trailer DL-T di trama. Il livello fisico provvede a trasferire la stringa \ndi bit così ottenuta verso il nodo R che, una volta ricevuta, esamina al livello di collegamento", "i campi DL-H e DL-T della trama ricevuta per svolgere le funzioni ivi richieste, tipicamente DL-T DL-HN-H T-HMessaggio\nSegmento\nPacchetto\nTramaA B\nT-H\nN-H T-H\n110011000110001010001000010101111100011111 110011000110001010001000010101111100011111DL-T DL-HN-H T-HT-H\nN-H T-H\nBit\nFigura 1.12 Unità informative generate e ricevute nei diversi strati della pila protocollare.\nFisicoReteTrasporto\nFisicoReteTrasporto\nFisico FisicoRete Rete\nCollegamento Collegamento", "Fisico FisicoRete Rete\nCollegamento Collegamento\n010110001011011 110010001011011 110010001011011Applicazione Applicazione\nA BR SCollegamento Collegamento\nFigura 1.13 Scambio di messaggio attraverso due nodi di rete.\nPattavinaReti2021.indb   24PattavinaReti2021.indb   24 14/01/2022   16:08:0414/01/2022   16:08:041.3 Architettura di protocolli  25\ncontrolli di correttezza. Successivamente il pacchetto contenuto nella trama viene trasferito al", "livello superiore affinché esso esamini il campo N-H che specifica le funzioni di rete da svol -\ngere, tipicamente l’individuazione della linea uscente per raggiungere la destinazione del \nmessaggio. Un nuovo pacchetto viene quindi generato, dotato di un nuovo header N-H e tra -\nsferito allo strato inferiore. Il protocollo di collegamento costruisce la nuova trama aggiungen -\ndo un nuovo header DL-H e un nuovo trailer DL-T al pacchetto ricevuto, così che la stringa di", "bit è pronta per essere inviata al nodo a valle S appena individuato. Il nodo di rete S svolge le \nstesse funzioni del nodo a monte R e la nuova stringa di bit giunge finalmente alla destinazio -\nne B, che inizia a esaminare la trama. Qui vengono svolte, oltre alle consuete funzioni proto -\ncollari previste dai livelli di collegamento, che estrae il pacchetto dalla trama, e di rete, che \nestrae il segmento dal pacchetto, anche le funzioni previste dal protocollo di trasporto e spe -", "cificate nell’header T-H del segmento. Difatti, si noti nella Figura 1.13 che l’header introdotto \ndal livello di trasporto nel terminale A non viene alterato nei nodi R ed S, ma viene elaborato \nsoltanto dal livello di trasporto nel terminale B. Infine il payload del segmento, cio è il mes -\nsaggio, viene trasferito all’applicazione ricevente nel sistema B. \n1.3.3 Protocolli di comunicazione\nSi descrivono ora i protocolli definiti per ognuno degli strati della pila protocollare dall’alto", "verso il basso, cio è per gli strati di applicazione, di trasporto, di rete, di collegamento dati e \nfisico, per fornirne poi un quadro riassuntivo.\nStrato di applicazione\nLo strato di applicazione fornisce, tramite un processo o programma applicativo, l’interfaccia \nd’utente per l’accesso a servizi informativi distribuiti per mezzo dell’esecuzione di protocolli \napplicativi. I protocolli dello strato di applicazione consentono il trasferimento di unità infor -", "mative, denominate messaggi , tra sistemi terminali di utente. \nAlcuni esempi di protocolli che appartengono a questa classe sono:\n• hypertext transfer protocol  (HTTP), che definisce le modalità di scambio di documen -\nti presenti nello spazio informativo mondiale denominato world wide web (WWW);Un’applicazione locale trasferisca un messaggio di 1000 byte a un’applicazione remota. Si \nassume che l’header o trailer aggiunto in ogni livello all’unità dati sia di lunghezza costante", "e uguale a 70 byte e che nello strato fisico venga adottato un codice di linea di tipo 64B66B, \nche trasmette in linea 66 bit per ogni blocco di 64 bit della trama da inviare. Si vuole calco -\nlare la percentuale di overhead richiesto dalla rete per trasportare il messaggio.\nIl messaggio originario viene via via incapsulato in unità dati più grandi durante la sua \n“discesa” attraverso la pila protocollare. Un header viene aggiunto a livello 4, a livello 3 e a", "livello 2, dove viene aggiunto anche un trailer, per un totale di 280 byte. La trama finale di \n1280 byte, trasmessa con un codice di linea 64B66B, è costituita da una stringa di 1320 bit. \nLa percentuale di overhead richiesta per il trasporto in rete del messaggio è quindi del 32%.Esempio 1.3\nPattavinaReti2021.indb   25PattavinaReti2021.indb   25 14/01/2022   16:08:0414/01/2022   16:08:0426  Capitolo 1 – Introduzione", "• simple mail transfer protocol (SMTP), che consente di scambiare messaggi di posta \nelettronica;\n• file transfer protocol  (FTP), che consente il trasferimento di file da/verso un sito \nremoto;\n• domain name system  (DNS), che realizza la traduzione di nomi di host in indirizzi \nnumerici utilizzati dai protocolli di rete.\nStrato di trasporto\nLo strato di trasporto definisce le modalità di trasferimento di messaggi tra sistemi terminali", "sotto forma di unità informative denominate segmenti , tenendo conto del servizio fornito dalle \nreti di comunicazione che vengono attraversate. Alcune delle funzioni che possono essere \nsvolte in questo livello sono: (i) consegna ordinata e garantita dei messaggi a destinazione \nanche se le reti attraversate non garantiscono ciò, (ii) regolazione del flusso di trasferimento \ndei segmenti tra i due sistemi remoti che tenga conto dello stato di congestione delle reti attra -", "versate e possa prevenire il riempimento dei buffer in ricezione, (iii) controllo di integrità dei \nsegmenti ricevuti a destinazione. \nI protocolli definiti nello strato di trasporto del modello TCP/IP sono due e l’adozione \ndell’uno o dell’altro dipende dal tipo di servizio richiesto dal processo applicativo:\n• transmission control protocol  (TCP), che fornisce la maggior parte dei servizi appena \ncitati e viene quindi utilizzato per garantire una determinata qualità di servizio nel", "trasferimento di UI tra sistemi terminali; ciò si realizza mediante un accordo preven -\ntivo tra sistemi terminali sulle modalità di trasferimento dei dati prima che lo scambio \ndi UI venga iniziato;\n• user datagram protocol  (UDP), che fornisce un servizio di trasporto di segmenti \nmolto semplice che non richiede un accordo preventivo sulle modalità di trasferimento \ndelle UI; al contempo questo protocollo offre pochissime garanzie sulla qualità del", "servizio di trasporto fornita (viene attuato solamente il controllo di integrità delle UI \nricevute).\nStrato di rete\nLo strato di rete sovraintende al trasferimento delle UI generate nello strato di trasporto da un \nsistema terminale sorgente a uno di destinazione, sotto forma di unità informative denominate \npacchetti , lungo una sequenza di nodi attraverso una o più reti, anche eterogenee. La funzione", "principale che viene svolta nello strato di rete è l’instradamento dei pacchetti nodo per nodo \nverso una destinazione, specificata dal sistema terminale sorgente, secondo opportuni criteri \ndi ottimalità (per esempio lungo la via che attraversa il numero minimo di nodi, oppure che \nimpiega la quantità minima di tempo). \nI più importanti protocolli a livello di rete definiti nella pila protocollare TCP/IP sono:", "• Internet protocol  (IP), che svolge la funzione di instradamento dei pacchetti nella \nrete Internet e viene eseguito nei sistemi terminali e in tutti i nodi di rete attraversati; \nPattavinaReti2021.indb   26PattavinaReti2021.indb   26 14/01/2022   16:08:0414/01/2022   16:08:041.3 Architettura di protocolli  27\nquesto protocollo definisce anche il meccanismo di indirizzamento IP di tutte le appa -\nrecchiature (sistemi terminali e nodi di rete) collegate alla rete Internet;", "• Internet control message protocol  (ICMP), che svolge funzioni supplementari in sup -\nporto al protocollo IP, quali per esempio la comunicazione di errori nella procedura \ndi instradamento, la raggiungibilità di determinate destinazioni, la rilevazione del \npercorso e del tempo di attraversamento della rete verso una data destinazione, ecc.;\n• address resolution protocol  (ARP), che associa indirizzi di strato di rete a indirizzi di \nstrato di collegamento.", "strato di collegamento.\nOccorre osservare che il protocollo IP realizza l’instradamento dei pacchetti attraverso i nodi \ndella rete Internet con una modalità alquanto semplice che non richiede il preventivo accordo \ntra i due sistemi/nodi che comunicano. Inoltre il protocollo IP non attua meccanismi di con -\ntrollo di flusso e di congestione nella rete, che sono quindi demandati ai protocolli di livello", "di trasporto nell’interazione end-to-end tra sistemi terminali, e ai protocolli di collegamento \nnell’interazione tra nodi adiacenti. Tuttavia, come già osservato nel Paragrafo 1.2.5, Internet \nrealizza la comunicazione tra reti eterogenee, ognuna delle quali può essere dotata di propri \nprotocolli di rete. Questi realizzano la funzionalità di instradamento dei pacchetti e possono \nimplementare sia procedure di consegna garantita delle UI, sia meccanismi di controllo del", "flusso e della congestione a livello di rete. \nStrato di collegamento dati\nLo strato di collegamento dati svolge la funzione di trasferimento dei pacchetti, sotto forma \ndi unità informative denominate trame , attraverso un collegamento tra nodi/sistemi adiacenti \nlungo un percorso individuato nello strato di rete. Questo trasferimento delle trame può richie -\ndere l’attraversamento di un collegamento diretto di tipo punto-punto tra nodi, oppure di una", "rete LAN/MAN, tipicamente basata su topologie multipunto. Le funzioni che possono essere \nsvolte a questo livello sono: (i) rivelazione di errori sulle trame trasferite sul collegamento, \n(ii) recupero delle trame perse per assicurare che tutte le trame inviate da un’estremità del \ncollegamento siano ricevute all’altra estremità, (iii) controllo di flusso delle trame lungo il \ncollegamento per evitare la perdita di UI per saturazione dei buffer in ricezione, (iv) controllo", "di accesso al collegamento dati, nel caso di mezzo trasmissivo condiviso da più utilizzatori, \nche richiede l’esecuzione di un apposito “protocollo di accesso”.\nEsempi di protocolli a livello di collegamento dati sono:\n• high level data link control (HDLC), che rappresenta il protocollo capostipite di quasi \ntutti i protocolli di collegamento dati punto-punto sviluppati e implementati nelle \nvarie tipologie di rete; il point-to-point protocol  (PPP) costituisce uno degli esempi di", "realizzazione del protocollo HDLC oggi utilizzato nei collegamenti dati punto-punto;\n• IEEE 802.3 (protocollo di accesso a LAN di tipo Ethernet ), che realizza la connes -\nsione tra sistemi terminali attraverso una rete cablata multipunto con protocollo di \naccesso distribuito;\n• IEEE 802.11 (protocollo di accesso a LAN di tipo Wi-Fi ), che realizza la connessione \ntra sistemi terminali attraverso una rete wireless;", "PattavinaReti2021.indb   27PattavinaReti2021.indb   27 14/01/2022   16:08:0414/01/2022   16:08:0428  Capitolo 1 – Introduzione\n• IEEE 802.15  (protocollo di accesso a reti di tipo personale), che realizza la connettività \nwireless tra dispositivi in aree molto limitate \nStrato fisico\nLo strato fisico è quello posizionato più in basso nella pila protocollare e svolge tutte le funzio -\nni necessarie a interfacciare il sistema con il mezzo fisico sul quale viaggiano le informazioni", "strutturate in trame sotto forma di flusso di bit . A questo livello sono definite le caratteristi -\nche meccaniche ed elettriche della connessione fisica, nonché le caratteristiche procedurali \nrichieste per consentire il trasferimento di sequenze di bit lungo il mezzo trasmissivo, sia esso \nun cavo (in rame o in fibra) o un canale radio. Occorre notare che la caratteristica del mezzo \ntrasmissivo utilizzato determina il tipo di protocollo di collegamento che viene adottato (vedi", "il Capitolo 9 per le reti cablate e il Capitolo 10 per quelle wireless). Esempi di funzioni svolte \na livello fisico sono: (i) gestione del collegamento fisico (per esempio, numero e posizione \ndelle interfacce dati sul mezzo trasmissivo), nonché delle relative caratteristiche meccaniche; \n(ii) gestione delle procedure di trasmissione/ricezione da parte di ogni apparecchiatura lungo \nil mezzo trasmissivo, come per esempio selezione tra half-duplex , in cui trasmissione e rice -", "zione devono essere alternate, o full-duplex , in cui trasmissione e ricezione possono avvenire \ncontemporaneamente; (iii) codifica dei bit mediante i più opportuni segnali elettrici/ottici per \nadattare il segnale trasmesso alle caratteristiche di propagazione del mezzo trasmissivo e per \nlimitare l’occorrenza di errori nel flusso binario ricevuto a causa di interferenze.\nLe tecnica di codifica adottata gioca un ruolo particolarmente importante nella determi -", "nazione della capacità richiesta a un canale di comunicazione perché molto spesso si rende \nnecessario trasmettere a livello fisico più simboli di quanti ne contenga la trama generata dal \nprotocollo di livello superiore. A titolo di esempio si citano qui alcuni tipi di codici di linea : \n(i) mBnB, che a fronte di m simboli binari (0, 1) da trasmettere, genera n simboli binari (0, 1); \n(ii) mBnT, che a fronte di m simboli binari (0, 1) da trasmettere, genera n simboli ternari (_1,", "0, 1) (vedi Paragrafo 7.4 per un approfondimento). Esempi di codici di linea utilizzati nelle reti \nLAN sono 8B6T, 8B10B, 64B66B. \nPila protocollare\nLa Figura 1.14 mostra l’insieme dei principali protocolli definiti nella pila protocollare TCP/IP, \nevidenziandone la relazione client/server (il client si trova al di sopra del server). In aggiunta \nai protocolli prima definiti, nella figura compaiono altri tre protocolli, cio è border gateway", "protocol  (BGP) , routing information protocol  (RIP) e open shortest path first (OSPF), che \nsono stati aggiunti per rimarcarne l’importanza nell’ambito di Internet. Sono tutti protocolli \ndi instradamento che svolgono una funzione simile, cio è quella di eseguire un algoritmo per \nl’individuazione del percorso da assegnare a un pacchetto attraverso la rete secondo un oppor -\ntuno criterio di ottimalità.", "tuno criterio di ottimalità. \nSi rimarca che due dei protocolli di instradamento, BGP e RIP, sono eseguiti a livello di \napplicazione e quindi le loro UI sono trasferite per mezzo di protocolli di trasporto, e cio è \nTCP per BGP e UDP per RIP. Il terzo invece, OSPF, opera come client del protocollo IP. In \nrealtà ciò può essere considerato una violazione dei principi della pila protocollare, in quanto", "un protocollo client di un servizio di rete dovrebbe essere un protocollo di trasporto, mentre \nOSPF viene eseguito nei router (che sono apparecchiature di rete). Lo stesso accade per il pro -\nPattavinaReti2021.indb   28PattavinaReti2021.indb   28 14/01/2022   16:08:0414/01/2022   16:08:041.3 Architettura di protocolli  29\ntocollo ICMP, le cui UI sono trasportate dal protocollo IP, ma nemmeno ICMP è un protocollo \ndi trasporto: viene eseguito nei router di rete.", "di trasporto: viene eseguito nei router di rete. \nAnalogamente, il protocollo ARP opera come client dei servizi di collegamento per i proto -\ncolli di accesso distribuiti Ethernet e Wi-Fi, ma non è un protocollo di rete nel senso stretto, in \nquanto non opera alcuna funzione di instradamento. Per questo motivo questi ultimi protocolli \nsono stati disegnati a cavallo di due livelli. Tutto ciò sta a testimoniare che la pila protocollare", "TCP/IP non riesce a descrivere in modo rigoroso l’insieme dei protocolli di Internet. \n1.3.4 Segmentazione e multiplazione\nUna delle funzioni fondamentali di un’architettura protocollare di una rete di comunicazione è \nquella che viene denominata segmentazione e riassemblaggio . Questa funzione viene richiesta \nogniqualvolta si debba trasferire un’unità dati di un generico livello, la cui lunghezza eccede", "il massimo consentito dal payload dell’unità dati del livello inferiore. Si consideri per esempio \nil caso di un segmento generato dal protocollo di trasporto la cui lunghezza eccede il campo \ninformativo dei pacchetti generati dal protocollo di rete sottostante. In questo caso si richiede \nal protocollo di livello generico n la capacità di segmentazione dell’UI ricevuta all’interfaccia \nn-SAP in più unità informative di livello n , ognuna delle quali sarà dotata di un proprio header,", "n-H; questo consentirà al protocollo di destinazione remoto di livello n di ricostruire mediante \nun processo di riassemblaggio l’originaria UI di livello n + 1, a partire dalle UI di livello n \nricevute. Si esamini a questo proposito l’esempio della Figura 1.15, in cui l’UI di livello n + 1 \nè stata segmentata in tre UI di livello n . \nUn secondo concetto fondamentale legato alla definizione di un’architettura a strati di", "protocolli è quello della multiplazione . L ’operazione più comune di multiplazione, se svolta TCPU DP\nIP\nNetwor kaccessRIP HTTP SMTP FTPB GP DNS\nPPPE thernetW i-FiOSPF ICMP\nARPApplicazione\nTrasporto\nRete\nCollegamento\nFigura 1.14 Protocolli secondo la pila TCP/IP.\nSegmentazione\n(n+1)-Payload\nn-Hn-Payload(n+1)-H\nRiassemblaggion-H n-H n-Payload n-Payloadn-SAP\nFigura 1.15 Segmentazione e riassemblaggio di un’unità informativa.", "PattavinaReti2021.indb   29PattavinaReti2021.indb   29 14/01/2022   16:08:0514/01/2022   16:08:0530  Capitolo 1 – Introduzione\na livello n , consiste nell’utilizzare un unico servizio di trasferimento di livello n da parte di \npiù protocolli di livello n + 1, che accedono al servizio tramite diversi n -SAP, per trasferire \ninformazioni ricevute da diversi client. In questo caso la multiplazione risponde al criterio", "di utilizzare al meglio la disponibilità di risorse di comunicazione per trasferirvi la maggior \nparte possibile di informazioni. Evidentemente, se in un sistema/nodo locale si opera la fun -\nzione di multiplazione, nel sistema/nodo remoto dove il flusso multiplato è ricevuto viene \neffettuata l’operazione inversa di demultiplazione  mediante consegna delle unità informative \nricevute ognuna al proprio n -SAP. Se il flusso è di tipo bidirezionale, il protocollo di livello n", "effettuerà l’operazione di multiplazione in un verso e quella di demultiplazione nell’altro. Un \nesempio di multiplazione effettuata nello strato n è rappresentato nella Figura 1.16a, dove tre \nflussi di UI di livello n + 1 sono multiplati su un unico flusso di UI di livello n . \nA titolo di esempio di multiplazione, citiamo il caso di un flusso di pacchetti generati \ndal protocollo IP di un sistema terminale che trasporta, intercalati in modo arbitrario, flussi", "generati dai due protocolli di trasporto TCP e UDP che vengono eseguiti nello stesso sistema \nterminale. Assume inoltre una particolare importanza il processo di multiplazione che viene \neseguito a livello fisico, dove un unico mezzo trasmissivo può essere utilizzato per trasmettere \ncontemporaneamente UI relative a una pluralità di sistemi terminali (un approfondimento di \nquesto tipo di multiplazione è svolto nel Paragrafo 2.4).", "Un altro tipo di multiplazione, detta multiplazione inversa , che è meno diffusa della pre -\ncedente, consiste nell’utilizzare più flussi di UI di livello n _ 1, a ognuno dei quali si accede \nsu un proprio ( n _ 1)-SAP, per il trasporto di informazioni relative a un unico flusso di UI di \nlivello n. Questo per esempio è il caso in cui il flusso di UI a livello n richiede una capacità \ndi trasferimento maggiore di quella resa disponibile da un singolo flusso di UI a livello n _ 1.", "Evidentemente l’informazione inserita nell’header delle UI di livello n _ 1 sarà utilizzata in \nricezione per ricostruire il flusso originario. Un esempio di multiplazione inversa effettuata \nnello strato n è rappresentato nella Figura 1.16b, dove tre flussi di UI di livello n _ 1 trasportano \nun unico flusso di UI di livello n. Per distinguere i due tipi di multiplazione si usano anche \ni termini di multiplazione verso l’alto , o upward multiplexing , per indicare la multiplazione", "inversa e di multiplazione verso il basso , o downward multiplexing , per indicare la multipla -\nzione diretta (quella più diffusa). \nA titolo di esempio di multiplazione inversa, vogliamo citare il caso di un collegamento \ndati per il trasferimento di trame con capacità C bit/s che viene realizzato utilizzando n linee \nfisiche ognuna in grado di trasmettere dati fino a C /n bit/s.\nFigura 1.16 Processo di multiplazione diretta (a) e inversa (b).n-SAP", "(n-1)-SAPStratonStraton+1 Straton+1 Straton+1n-SAP\n(n-1)-SAPStraton\nStraton-1 Straton-1 Straton-1\n(a) (b)\nPattavinaReti2021.indb   30PattavinaReti2021.indb   30 14/01/2022   16:08:0514/01/2022   16:08:051.3 Architettura di protocolli  31\n1.3.5 Indirizzamento\nUno degli aspetti fondamentali che consente di “raggiungere” una destinazione in una rete \nè costituito dall’indirizzamento. Sarà infatti disponibile una moltitudine (anche milioni o", "miliardi) di oggetti simili, per esempio schede di rete, computer, applicazioni, ognuno dei \nquali deve poter essere raggiunto e quindi deve essere distinguibile dai suoi simili. Il tema \ndell’indirizzamento deve essere poi coniugato con l’architettura a strati che distingue elementi \ndi hardware (per esempio schede di rete) o software (per esempio applicazioni) in base al rela -\ntivo livello nell’architettura a strati. Ne consegue che nel processo di comunicazione tra due", "sistemi terminali è coinvolta una serie di indirizzi che consentono a un’applicazione sorgente \ndi raggiungere un’applicazione di destinazione.\nLa Figura 1.17 mostra gli indirizzi che vengono utilizzati a ogni livello dell’architettura a \nstrati per inviare dati a una determinata applicazione di destinazione, raggiungibile attraverso \nun router equipaggiato con diverse schede di rete di tipo Ethernet. La specifica scheda di rete", "da raggiungere è caratterizzata dal proprio indirizzo Ethernet a 48 bit (a livello 2). L ’individua -\nzione del router dal quale è possibile raggiungere l’applicazione di destinazione richiede l’uso \ndi un indirizzo IPv4 a 32 bit (a livello 3) che identifica univocamente su base mondiale il router \nin questione. Il protocollo IP eseguito nel router consente a una pluralità di protocolli di livello \nsuperiore (o comunque “client”), come per esempio TCP, UDP, ICMP e OSPF, di utilizzare il", "trasporto di informazioni nella rete Internet; questi protocolli vengono identificati per mezzo \ndi un numero di protocollo . Infine, la raggiungibilità di una specifica applicazione di destina -\nzione, per esempio HTTP, SMP, FTP e BGP che utilizzano TCP, oppure DNS e RIP che sono \nbasati su UDP, viene realizzata specificando un numero di porta associato alla specifica appli -\ncazione. Esempi di numero di protocollo e di numero di porta sono mostrati nella Tabella 1.1.", "EthernetIP ARPICMP TCPU DP OSPFNumero\ndiportaHTTP SMTP FTP BGPD NS RIP\nIndirizzo\nIP\nIndirizzo\nEthernetNumero\ndiprotocollo\nFigura 1.17 Gerarchia di indirizzamento nel modello a strati.\nPattavinaReti2021.indb   31PattavinaReti2021.indb   31 14/01/2022   16:08:0514/01/2022   16:08:0532  Capitolo 1 – Introduzione\n1.3.6 Evoluzione del modello a strati\nCome descritto nel Paragrafo 1.3.1, il modello a strati di riferimento comprende cinque strati", "e cio è, dall’alto in basso, gli strati di applicazione, di trasporto, di rete, di collegamento dati \ne fisico. Può essere considerato la migliore sintesi dei due modelli a strati TCP/IP e OSI defi -\nniti negli anni ’80 e patrocinati da due diversi organismi di standardizzazione, e cio è IETF \n(Internet engineering task force ) per il primo e ITU ( international telecommunication union ) \nper il secondo.", "per il secondo. \nIl modello OSI ( open systems interconnection ) dell’ISO è stato il primo a introdurre il con -\ncetto di architettura protocollare a strati, definendo una pila di sette livelli. Rispetto al modello \na cinque livelli qui descritto, sono presenti due ulteriori livelli tra lo strato di applicazione e lo \nstrato di trasporto. Si tratta di due livelli di utilizzazione, presenti dunque solo nelle apparec -", "chiature terminali e noti come strato di presentazione  e strato di sessione . \nLo strato di presentazione  consente l’interlavoro tra applicazioni che rappresentano i dati \nutilizzando formati diversi in termini di sintassi o semantica. Le sue funzioni consistono nelle \noperazioni di trasformazione, formattazione e modifica della sintassi dei dati utilizzati. La \nsintassi con cui avviene lo scambio dei dati può essere quella di uno dei due sistemi che par -", "tecipano all’interazione, oppure una sintassi intermedia di trasferimento (per esempio quella \nstandard utilizzata dalla rete sottostante). Esempi di funzioni svolte sono:\n• la compressione dei dati per aumentare l’efficienza di rete ( compression );\n• la traduzione dei codici utilizzati per rappresentare i dati ( translation );\n• la transcodifica di alfabeti per scopi di sicurezza ( encryption );\n• la gestione della sicurezza mediante uso di codici e password ( security ).", "Lo strato di sessione  gestisce il dialogo e lo scambio di dati tra due sistemi terminali. Funzio -\nni di questo tipo possono rendersi necessarie nei casi in cui le applicazioni usano diversi modi \ndi trasferimento delle informazioni, oppure quando occorre partizionare un lungo scambio di \ninformazioni attraverso una rete poco affidabile in sequenze tracciabili più brevi, mediante \ninformazioni di sincronizzazione. Esempi di servizi di livello di sessione sono:", "• la gestione delle modalità di dialogo (per esempio, l’interlavoro tra un terminale half -\nduplex e un’applicazione che opera in full-duplex, la segmentazione di lunghe unità \ninformative in sequenze di unità più corte);\n• il recupero del dialogo seguente a un’interruzione del servizio di trasporto sottostante: \nciò si ottiene mediante inserimento nel flusso dati in trasmissione di “ checkpoint”, Tabella 1.1 Esempi di numero di protocollo e di numero di porta.", "Protocollo Numero di protocollo Applicazione Numero di porta\nTCP 6 HTTP 80\nUDP 17 SMTP 25\nICMP 1 FTP 20/21\nOSPF 89 BGP 179\nICMP for IPv6 58 DNS 53\nIPv6 encapsulation 41 RIP 520\nPattavinaReti2021.indb   32PattavinaReti2021.indb   32 14/01/2022   16:08:0514/01/2022   16:08:051.4 Nascita ed evoluzione di Internet  33\nche possono essere poi utilizzati per risincronizzare il trasferimento dei dati tra i due \nsistemi all’ultimo checkpoint senza dover ricominciare la transazione.", "Con il passare degli anni dopo la loro definizione ci si è resi conto dell’assenza di una vera \nnecessità di implementazione di questi due livelli, che quindi hanno completamente perso di \ninteresse. Quindi le funzionalità ad essi delegate, se necessarie, sono riallocate nei due strati \ndi utilizzazione adiacenti, cio è lo strato di trasporto per le funzioni di sessione e lo strato di \napplicazione per le funzioni di presentazione.", "applicazione per le funzioni di presentazione.\nLa pila protocollare TCP/IP, invece, è stata inizialmente definita su quattro soli livelli \nrispetto ai cinque del modello qui adottato. Gli strati di applicazione, di trasporto e di rete \ncoincidono nelle due pile protocollari, mentre i due strati inferiori del nostro modello erano \nrappresentati con un unico strato, denominato di accesso alla rete . Lo strato di accesso alla", "rete viene definito nel modello TCP/IP iniziale al solo scopo di mascherare al protocollo IP, \ne quindi anche agli strati superiori, le caratteristiche fisiche del collegamento e del mezzo \ntrasmissivo utilizzato per trasferire unità informative. Il protocollo IP può infatti utilizzare \nservizi di rete a estensione geografica, collegamenti punto-punto, reti in area locale, ecc. \n1.4 Nascita ed evoluzione di Internet", "1.4 Nascita ed evoluzione di Internet\nDescrivere la storia di Internet dai suoi albori fino al giorno d’oggi potrebbe richiedere la \nscrittura di un intero libro, dato che si dovrebbe descrivere l’evoluzione delle tecnologie, delle \nsoluzioni, delle realizzazioni che hanno caratterizzato la rete Internet nel corso degli ultimi \ncinquant’anni. Ci si limiterà qui a sintetizzare i primi passi che hanno caratterizzato la nasci -", "ta di Internet per poi brevemente accennare alle organizzazioni deputate ad amministrarla. \nUn’attenzione speciale viene anche dedicata agli standard definiti per le reti, dato che solo gra -\nzie a questi Internet può rappresentare una struttura di comunicazione realmente universale e \naperta a tutti, e continuare a evolversi come tale. \n1.4.1 Breve storia di Internet\nLa nascita di Internet può essere associata ai primi esperimenti di connessione tra computer", "realizzati alla fine degli anni ’60 negli Stati Uniti sotto l’egida dell’agenzia di ricerca america -\nna ARPA ( advanced research projects agency ). Venne realizzato nel 1968 lo scambio di brevi \nmessaggi tra computer localizzati in quattro siti universitari nell’ovest degli Stati Uniti, dimo -\nstrando la fattibilità del trasferimento di blocchi di dati tra computer connessi in rete. Così \nnasce e si sviluppa la rete ARPANET, che all’inizio degli anni ’70 copre gli Stati Uniti, rea -", "lizzando una rete magliata con decine di nodi collegata anche via satellite con altri continenti. \nAltre reti furono realizzate negli anni ’70 negli Stati uniti e in Europa; l’esigenza dell’in -\nterconnessione tra reti distribuite sul territorio portò alla prima definizione del protocollo \nTCP per l’interoperabilità delle reti, e parallelamente alla definizione dei primi protocolli di \nstrato di collegamento e di rete, denominati X.25. Nel 1983 la coppia di protocolli TCP/IP fu", "adottata come unico standard di interlavoro tra reti in ARPANET. Occorre osservare che il \nsuccesso iniziale di questa nuova tecnologia era dovuta al fatto che essa andava a sostituire, \nrendendolo molto più efficiente, il modello tradizionale di posta. Infatti l’invio di e-mail e \ndi file da un punto all’altro di un territorio, anche oltre un oceano, richiedeva pochi secondi \ninvece di giorni.", "invece di giorni. \nPattavinaReti2021.indb   33PattavinaReti2021.indb   33 14/01/2022   16:08:0514/01/2022   16:08:0534  Capitolo 1 – Introduzione\nNegli anni ’80 l’ente di ricerca governativo americano NSF ( national science foundation ) \npromuove negli Stati Uniti la realizzazione di NSFNET che si configura come rete dorsale a \nestensione geografica. All’aumentare delle richieste di trasporto di traffico dati, i collegamenti", "tra nodi di questa rete, le cui capacità iniziali erano di 56 kbit/s, vengono via via potenziati \nper trasferire prima 1,5 Mbit/s, secondo lo standard T1 della gerarchia trasmissiva americana \nPDH ( plesiochronous digital hierarchy ), e poi 45 Mbit/s, secondo lo standard T3 della stessa \ngerarchia [G.704]. Analoghe reti sono state sviluppate in Europa con collegamenti che dai 2 \nMbit/s iniziali, secondo lo standard E1 della gerarchia trasmissiva europea PDH, vengono", "potenziati per raggiungere i 34 Mbit/s, secondo lo standard E3 della stessa gerarchia [G.704]. \nDopo un periodo di coabitazione, NSFNET viene a sostituire ARPANET alla fine degli \nanni ’80 e la stessa NSFNET viene dunque abbandonata negli anni ’90 con l’avvento degli ISP \nche vanno a costituire quella che oggi conosciamo come rete Internet.\nFino agli anni ’80 la diffusione delle reti, con la loro capacità di comunicare a distanza, ha", "avuto luogo principalmente nelle comunità accademiche e industriali. Un cambiamento radi -\ncale si verifica negli anni ’90 con la nascita del World Wide Web, il cui obiettivo principale è \nmettere a disposizione contenuti informativi di ogni tipo a chiunque volesse accedervi. Tutto \nciò dà luogo a una vera e propria esplosione di interesse nella popolazione mondiale per Inter -\nnet che rende possibile, da un computer in casa propria, reperire ogni tipo di informazione.", "Un altro fattore che ha determinato il successo e la diffusione capillare di Internet risiede \nnella possibilità di accedere a servizi di diversa natura (per esempio commercio elettronico, \nintrattenimento e giochi online, networking di tipo sociale, ecc.), utilizzando un’unica appa -\nrecchiatura terminale, anche in mobilità. Con le tecnologie hardware e software disponibili \noggi è possibile utilizzare uno smartphone non solo per telefonare in modo tradizionale, ma", "anche per realizzare una videochiamata, per inviare un’e-mail, per ricevere un file o per \nguardare un video. Si tenga presente che fino agli anni ’90 la telefonia e la televisione erano \nservizi disponibili solo attraverso reti dedicate e fruibili solo attraverso apparecchi appositi \n(telefoni e televisori). \nA testimoniare la penetrazione di Internet su scala mondiale, si consideri che nel 2021 il", "60% della popolazione mondiale, cio è quasi 5 miliardi di persone, accede a Internet (e nel 90% \ndei casi attraverso dispositivi mobili).\n1.4.2 Amministrazione di Internet\nLe società che presiedono all’organizzazione di Internet sono riunite dal 1992 sotto la Inter -\nnet society  (ISOC), la cui missione è “promuovere lo sviluppo aperto, l’evoluzione e l’uso di \ninternet a beneficio di tutta la popolazione del mondo”. La ISOC è una società senza scopo di", "lucro che conta migliaia di membri, tra organizzazioni e individui. Le più importanti società \ndella ISOC sono:\n• Internet architecture board  (IAB), che coordina le attività dei due gruppi IETF e IRTF \ne gestisce anche le interazioni con gli altri organismi di standardizzazione; si occupa \ntra l’altro di revisionare gli standard Internet, che sono denominati request for com -\nments  (RFC), e di gestirne i processi di pubblicazione;", "• Internet engineering task force  (IETF), organismo simile alla ITU che affronta proble -\nmi di sviluppo e di implementazione a breve e medio termine della rete Internet; uno \nPattavinaReti2021.indb   34PattavinaReti2021.indb   34 14/01/2022   16:08:0514/01/2022   16:08:051.4 Nascita ed evoluzione di Internet  35\ndei suoi compiti principali è quello di definire specifiche di funzionamento della rete \nInternet, sotto forma di standard RFC;", "Internet, sotto forma di standard RFC;\n• Internet research task force (IRTF), che gestisce e sviluppa attività di ricerca a più \nlungo termine relativamente alla rete Internet;\n• Internet assigned number authority (IANA), che gestisce l’assegnazione degli indiriz -\nzi e dei nomi dei domini nella rete Internet; dal 1999 questa funzione è stata delegata \nalla Internet corporation for assigned names and numbers (ICANN).", "Ai lavori di IETF e IRTF partecipano rappresentanti di organizzazioni di ricerca, di produzio -\nne, commerciali di tutto il mondo, ma anche individui interessati alle problematiche affrontate \nda queste organizzazioni.\nLa dimensione planetaria della rete Internet e la sua continua crescita ha reso indispensa -\nbile decentrare il processo di assegnazione degli indirizzi e dei nomi di dominio. Nel 2004 \ndiventano cinque le organizzazioni, denominate regional Internet registries , RIR, delegate a", "questo scopo nelle diverse regioni del mondo:\n• AFRINIC ( African network information center ) per l’Africa,\n• APNIC  (Asia Pacific network information center ) per l’Asia centrale-orientale e le \nregioni del Pacifico, comprese Australia e Nuova Zelanda,\n• ARIN  (American registry for Internet numbers ) per l’America settentrionale e parte \ndei Caraibi,\n• LACNIC ( Latin America and Caribbean network information centre ) per l’America \ncentro-meridionale e parte dei Caraibi,", "centro-meridionale e parte dei Caraibi,\n• RIPE NCC ( reseaux IP Europeens network coordination center ) per l’Europa, il \nMedio Oriente e parte dell’Asia centrale.\n1.4.3 Gli standard nelle reti\nGli organismi di standardizzazione svolgono un ruolo di fondamentale importanza nel mondo \ndelle reti e soprattutto di Internet. Definiscono infatti le regole cui devono attenersi coloro \nche realizzano o utilizzano apparati di qualunque genere (hardware o software) atti a svolgere", "una funzionalità di comunicazione. A titolo di esempio ci si riferisce alle specifiche fisiche da \nrispettare nella costruzione di cavi (in rame o in fibra), alle caratteristiche del segnale radio \nche emette un router wireless, alla regole di interazione di due sistemi terminali (protocollo \nutilizzato). Il rispetto degli standard consente quindi di interfacciare apparecchiature realiz -\nzate da diversi costruttori di cui si conosce a priori il modo di operare12.", "Uno dei maggiori organismi di standardizzazione è l’ISO ( international standardization \norganization ), che si occupa di standard nei campi più disparati, dalle pitture alla biancheria, \ndal t è ai fogli di carta. Lo stesso standard OSI del modello a strati, descritto nel Paragrafo \n1.3.6, è stato pubblicato dall’ISO. Tuttavia, nel campo delle reti gli standard sono emessi da \norganizzazioni maggiormente focalizzate nel campo delle comunicazioni. Con riferimento", "12  Per comprendere a fondo l’importanza degli standard basti pensare al ruolo fondamentale giocato dalla definizione di \nunità di misura standard, come per esempio il metro, realizzato in platino-iridio e depositato nel Bureau International \ndes Poids et Mesures a Sevres (Francia) nel 1889, cui tutti dovevano fare riferimento per esprimere una misura di \nlunghezza veritiera e riconosciuta da tutti.", "lunghezza veritiera e riconosciuta da tutti.\nPattavinaReti2021.indb   35PattavinaReti2021.indb   35 14/01/2022   16:08:0514/01/2022   16:08:0536  Capitolo 1 – Introduzione\nagli argomenti trattati in questo testo, le organizzazioni più importanti sono tre: ITU, IETF, \nche sono i principali attori, e IEEE, che svolge un ruolo importante, anche se limitato a una \nspecifica classe di reti.\nL ’organismo ITU ( international telecommunication union ) annovera tra i suoi membri gli", "enti governativi per le comunicazioni dei principali paesi insieme a rappresentanti di operatori \ne di aziende. ITU si compone di tre settori dei quali due sono quelli di nostro interesse: ITU-T \n(telecommunications , T) dedicato alle comunicazioni su cavo, e ITU-R ( radiocommunications , \nR) dedicato alle comunicazioni radio. Prima della nascita di Internet, cio è fino a quando gli \nunici servizi di comunicazione erano la telefonia e la televisione, è stato l’unico ente di rife -", "rimento per gli standard nei sistemi di comunicazione. Per esempio ITU-T ha specificato le \ncaratteristiche dei modem e degli apparati trasmissivi nelle raccomandazioni della serie V e \ndella serie G, mentre l’ITU-R ha regolato la suddivisione dello spettro elettromagnetico per i \ndiversi servizi di comunicazione. \nLo IETF prima definito rappresenta un organismo molto meno formale di ITU, in quanto la", "partecipazione ai suoi comitati di lavoro è libera e ha luogo su base volontaria. Il suo compito \nè definire i protocolli degli strati di rete, di trasporto e di applicazione che trovano utilizza -\nzione nelle reti. Gli standard IETF, denominati RFC, diventano standard Internet dopo aver \nattraversato diversi livelli di maturazione [RFC2026]. La proposta di standard  rappresenta il \nprimo livello di questo percorso. Una proposta di standard è una specifica sufficientemente", "stabile, ben compresa, valutata, che ha ricevuto largo consenso dalla comunità per un periodo \nnon inferiore a sei mesi. Nel momento in cui almeno due implementazioni indipendenti dello \nstandard proposto sono state realizzate e sperimentate con successo, la proposta di standard \ndiventa bozza di standard . Infine, quando la specifica ha dimostrato di poter essere implemen -\ntata e utilizzata con successo per raggiungere lo scopo per cui era stata definita per un periodo", "non inferiore a quattro mesi, la bozza di standard diventa standard Internet . \nCon riferimento agli standard delle reti, possiamo sintetizzare dicendo che ITU si occupa \ndegli standard negli strati inferiori della pila protocollare, mentre IETF si pone come obiettivo \nla standardizzazione degli strati superiori. Tutto ciò è consistente con la prima definizione \ndella pila protocollare TCP/IP che definiva come “network access” lo strato più in basso,", "senza nulla specificare di questo. In realtà nel corso degli anni ITU si è anche occupato della \ndefinizione di standard di rete e di livelli superiori. Tuttavia ormai questo ruolo è svolto da \naltri enti, in particolare IETF.\nLo IEEE ( institute of electrical and electronics engineers ) rappresenta una società pro -\nfessionale di ingegneri nel campo delle tecnologie dell’informazione e della comunicazione", "(information and communication technology , ICT) che svolge una pluralità di attività, tra le \nquali quelle editoriali, di formazione, di gestione di conferenze. Di nostro interesse è l’insie -\nme di attività che IEEE svolge nello sviluppo degli standard in ambito ICT. In particolare, il \nsettore della LAN/MAN è quello che ha subito la maggiore influenza in termini di standardiz -\nzazione da IEEE. Infatti il progetto IEEE 802 è l’alveo entro il quale sono stati studiati e svi -", "luppati decine di standard per reti locali/metropolitane, ma solo alcuni hanno avuto successo \ne sono tuttora ampiamente utilizzati e in continua evoluzione. Citiamo tra questi lo standard \ndelle reti Ethernet [802.3] e quello delle reti WiFi [802.11]. \nNaturalmente vi sono numerose altre organizzazioni che hanno definito standard per l’in -\nteroperabilità delle reti, in special modo riferendosi agli aspetti trasmissivi delle reti (livello", "fisico del modello a strati), che qui non vengono citate per brevità. \nPattavinaReti2021.indb   36PattavinaReti2021.indb   36 14/01/2022   16:08:0514/01/2022   16:08:051.4 Nascita ed evoluzione di Internet  37\nMerita tuttavia attenzione un insieme di organizzazioni nate come strutture di collabo -\nrazione tra costruttori e altri attori interessati con lo scopo di favorire la realizzazione di \nsoluzioni commerciali in grado di interoperare. Infatti i sistemi di comunicazione, in special", "modo quelli più innovativi, sono così complessi che gli standard non ne definiscono tutte le \npossibili soluzioni implementative. Queste organizzazioni promuovono il consenso su speci -\nfiche scelte realizzative che possano garantire la interoperabilità di diverse realizzazioni dello \nstesso standard. Ricordiamo tra queste Ethernet alliance  e Wi-Fi alliance , che si occupano \nrispettivamente degli standard IEEE 802.3 e 802.11, il consorzio 3GPP ( 3rd generation part -", "nership project ), focalizzato sulle reti radiomobili, il W3C ( world wide web consortium ) che si \noccupa di problematiche legate al web.\nPer comprendere meglio il processo di standardizzazione vogliamo brevemente descrivere \nle modalità di definizione di uno standard che sia accettato dalla comunità dei costruttori e \nutilizzatori di apparati di rete. Uno standard risponde all’esigenza di condividere un insieme", "di regole per la costruzione, o comunque realizzazione, di un sistema hardware o software \ndedicato allo svolgimento di una nuova funzione o all’espletamento più efficiente di funzioni \npreesistenti in una rete, come per esempio la definizione di un’interfaccia radio nuova e più \npotente, oppure di un protocollo di rete più sicuro. L ’approccio più naturale alla soluzione del \nproblema dovrebbe essere la presa in carico del problema da parte di un organismo per la", "standardizzazione che affronti il problema e lo risolva emettendo lo standard, che specifica la \nsoluzione adottata con il consenso dei suoi membri. \nNon sempre nella realtà la successione degli eventi in un processo di standardizzazio -\nne è quella appena descritta. Infatti la lentezza del processo decisionale, determinato dalla \ncomplessità dell’organizzazione, dalle differenze nelle soluzioni tecnologiche proposte e, più", "spesso, dalla mancanza di consenso dei membri dell’organizzazione, può rendere inutile un \neventuale accordo raggiunto nella definizione di uno standard. Può infatti accadere che un’a -\nzienda, molto attenta all’evoluzione della tecnologia e allo sviluppo di nuove soluzioni, rea -\nlizzi autonomamente un’apparecchiatura che risponde alla problematica in questione e venga \nadottata da molti altri costruttori. In questo caso è possibile che la soluzione implementata con", "successo diventi lo standard di fatto, venendo quindi recepita come specifica da un organismo \ndi standardizzazione. È quello che è accaduto, per esempio, con alcuni dei protocolli di livello \ndi collegamento delle reti locali, ora standard della famiglia IEEE 802. \nSi è anche verificato il caso di uno standard ITU-T per una classe di protocolli di rete, pen -\nsati per definire un’unica modalità di trasferimento in rete di unità dati di ogni tipo e per ogni", "applicazione, che aveva riscosso un consenso generale nella comunità dei costruttori e degli \noperatori. Questo nuovo modo di trasferimento, denominato ATM ( asynchronous transfer \nmode ), non ha nei fatti avuto il successo sperato in quanto la complessità della sua architettura \nprotocollare ha reso molto lento lo sviluppo di questa tecnologia nelle apparecchiature di rete \nlocale e soprattutto nelle apparecchiature terminali. Come dato di fatto, ATM è stato adottato", "con successo solo nelle reti a estensione geografica e viene ora percepito come un tipo di rete \nobsoleto. L ’architettura protocollare TCP/IP, che è alla base della rete Internet, ha nei fatti \nrealizzato l’obiettivo originario della tecnica ATM, e cio è definire, anche se limitatamente \nallo strato di rete, un modo di trasferimento dell’informazione che potesse essere adottato in \nogni apparecchiatura di rete.", "ogni apparecchiatura di rete.\nPattavinaReti2021.indb   37PattavinaReti2021.indb   37 14/01/2022   16:08:0514/01/2022   16:08:05PattavinaReti2021.indb   38PattavinaReti2021.indb   38 14/01/2022   16:08:0514/01/2022   16:08:052CAPITOLO Concetti base \ndelle reti2CAPITOLO\nLe modalità di trasporto delle unità informative attraver -\nso una rete di comunicazione sono le più varie. Una com -\nprensione razionale delle diverse soluzioni adottate fino a", "oggi richiede l’individuazione degli aspetti chiave dei diver -\nsi modi di trasferimento che consentono di differenziare i \ndiversi tipi di rete per caratteristiche tecniche e per presta-\nzioni di trasferimento. Facendo riferimento alla Figura 2.1, \ngli aspetti chiave che configurano un modo di trasferimento \ndelle informazioni sono: \n• i protocolli di comunicazione , che regolano lo scam -\nbio di informazione tra nodi  di rete, adiacenti o \nmeno,", "meno,\n• la tecnica di commutazione , cioè la soluzione adot -\ntata per realizzare l’attraversamento dei nodi  di rete,\n• la tecnica di multiplazione , che definisce la modalità \ndi trasferimento dei flussi informativi attraverso i \ncollegamenti ( rami ) tra nodi  di rete.\nL ’adozione di una particolare soluzione per ognuno dei tre \naspetti chiave citati dipende fondamentalmente dai seguenti \nfattori:\n• tipo dei servizi che devono essere forniti dalla rete,", "• tecnologie hardware e software utilizzabili,\n• disponibilità di tecniche innovative per il trasferi -\nmento di informazioni. \nLe caratteristiche statistiche delle sorgenti di informazione, \nnonché i vincoli di prestazione richiesti alla rete, costitui -\nscono infatti i fattori principali che determinano il tipo di \nmodo di trasferimento da adottare. Questo, tuttavia, deve \nessere compatibile con le tecnologie di elaborazione e di", "trasporto delle informazioni disponibili e utilizzabili. Tali \ntecnologie sono soggette a evoluzioni e cambiamenti con -Argomenti\n2.1 Sorgenti e servizi\n2.2  Trasferimento  \ndi informazione in rete\n2.3 T ecniche di commutazione\n2.4 T ecniche di multiplazione\nPattavinaReti2021.indb   39PattavinaReti2021.indb   39 14/01/2022   16:08:0514/01/2022   16:08:0540  Capitolo 2 – Concetti base delle reti\ntinui, essenzialmente dovuti ai progressi realizzati nel campo dell’hardware e del software.", "Ancora più importanti sono però le innovazioni che consentono di individuare nuovi modi di \ntrasferimento rispetto a quelli “tradizionali”, con l’individuazione di scenari e architetture di \nrete del tutto nuovi. \nIn questo capitolo vengono dapprima descritte le sorgenti di informazione, fornendone un \nsemplice modello rappresentativo e, successivamente, sono caratterizzati i servizi di comuni -\ncazione attraverso i loro requisiti di prestazione. Quindi si introducono i tre principali para -", "metri di prestazione di una rete, atti a caratterizzare il trasferimento di unità informative \nattraverso una rete, e cio è il tempo di ritardo, il throughput e la probabilità di perdita. Infine, \nvengono descritte approfonditamente le principali tecniche di commutazione e tecniche di \nmultiplazione adottate nelle reti. \n2.1 Sorgenti e servizi\nUna rete di comunicazione consente il trasporto a distanza di informazioni allo scopo di", "rendere possibile un’interazione tra due o più entità che sono connesse alla rete. Queste entità \npossono essere della più varia natura, dagli esseri umani alle apparecchiature elettroniche più \no meno complesse (per esempio dai grandi computer ai piccolissimi sensori). Una rete dunque \nmette a disposizione degli utilizzatori le risorse necessarie a soddisfare le richieste di trasferi -\nmento di informazioni secondo parametri di servizio (quantità di dati trasportati per secondo,", "tempo di ritardo, ecc.) richiesti dagli utilizzatori, ma comunque dipendenti dalla disponibilità \neffettiva nella rete delle risorse necessarie al momento in cui il servizio viene fornito.\nTutte le apparecchiature che generano informazioni che devono essere trasferite in rete \nassumono il ruolo di sorgenti di informazione . Un servizio di comunicazione  si può definire \ncome un insieme di procedure che, una volta attuate, rendono possibile trasportare e utilizzare", "a distanza le informazioni generate dalle sorgenti. In generale il trasporto di informazioni \nrichiede l’intervento di vari apparati e dispositivi di comunicazione: il loro insieme configura \nuna rete di comunicazione . \nLa Figura 2.2 mostra uno schema di principio di una generica rete che fornisce servizi di \ncomunicazione. Le apparecchiature terminali (telefoni, computer, server, ecc.) svolgono tutte", "le funzioni richieste per trasmettere e ricevere informazioni che vengono trasferite a distanza \nda una rete di comunicazione. Esempi di servizi di rete che possono essere forniti sono l’acces -\nso remoto a centri di servizio, lo scambio di dati attraverso computer, l’interazione in tempo \nreale tra terminali, per esempio per servizi voce e/o video, ecc. \nSecondo il paradigma “ client-server”, una qualunque apparecchiatura terminale agisce da", "client  e tramite la rete può accedere ai servizi forniti da un server  localizzato in un centro Protocollo\nMultiplazion e\nCommutazione\nFigura 2.1 Aspetti chiave di un modo di trasferimento delle informazioni in una rete.\nPattavinaReti2021.indb   40PattavinaReti2021.indb   40 14/01/2022   16:08:0614/01/2022   16:08:062.1 Sorgenti e servizi  41\ndi servizio, come per esempio l’accesso a una banca dati o a un servizio di video streaming", "in tempo reale. Occorre tuttavia considerare anche il caso più semplice in cui l’interazione \navviene tra due apparecchiature terminali o tra due server di diversi centri di servizio. Anche \nse in questo caso non è dato distinguere chiaramente un fornitore di servizio (server) e un \nutilizzatore (client), la rete fornisce sempre la connettività che rende possibile l’interazione tra \napparecchiature terminali.\n2.1.1 Sorgenti di informazione", "2.1.1 Sorgenti di informazione\nLe informazioni che viaggiano su una rete di comunicazione possono essere di più tipi (per \nesempio informazioni dati, vocali, immagini, ecc.) e in base alla loro natura si diversificano \ni tipi di servizi che si rendono disponibili. In particolar modo questi sono soggetti ad alcuni \nvincoli da rispettare, come la velocità di trasmissione e il tempo di trasporto delle informazio -", "ni, la cui valutazione viene effettuata attraverso determinati indici di qualità. Questi vincoli, \nin genere, sono specifici del servizio; per esempio, le trasmissioni di segnali vocali digitali \ntollerano errori sui bit trasmessi anche di qualche unità percentuale, mentre nella trasmissio -\nne di dati anche un solo bit di errore può compromettere l’intero processo di trasferimento \ndell’informazione. D’altra parte la ricezione con ritardo di secondi o minuti di un messaggio di", "posta elettronica non crea problemi, mentre il segnale vocale deve essere ricevuto entro alcune \ndecine di millisecondi per non compromettere l’efficacia di un servizio di telefonia.\nIn generale possiamo individuare una grande quantità di tipi di informazione, per esempio \nvoce, suoni ad alta fedeltà, messaggi di posta elettronica, immagini, ecc. Per operare una sem -\nplificazione, possiamo classificare tutti i diversi tipi di informazione in tre grandi categorie:", "• voce: comprende tutti i tipi di informazione che vengono “utilizzati” dall’orecchio \numano, come per esempio la voce, i suoni, ecc.;\n• immagini : comprende tutti i tipi di informazione che vengono “utilizzati” dall’occhio \numano, come per esempio le immagini fisse o in movimento;\n• dati: include tutti i tipi di informazione che per loro natura sono rappresentati per \nmezzo di informazioni binarie e che non rientrano nelle due categorie precedenti,", "come per esempio i messaggi di posta elettronica, i dati delle transazioni bancarie, le \ninformazioni presenti in una banca dati, ecc.Rete\nTerminaliCentridi\nservizio\nFigura 2.2 Servizi di comunicazione.\nPattavinaReti2021.indb   41PattavinaReti2021.indb   41 14/01/2022   16:08:0714/01/2022   16:08:0742  Capitolo 2 – Concetti base delle reti\nA seconda della natura delle informazioni trasportate un servizio si distingue in monomediale", "e multimediale. In un servizio monomediale  viaggia un solo tipo di informazione, come per \nesempio la voce nella telefonia, i dati in una sessione di accesso a Internet, le immagini nel \ncaso della telesorveglianza. In un servizio multimediale  i tipi di informazione trasportati \nnell’ambito del servizio sono almeno due, ognuno secondo i propri vincoli di qualità di tra -\nsporto. Un esempio è rappresentato dalla videoconferenza, dove vengono trasmessi sia segnali", "audio, sia immagini, mutuamente sincronizzati.\nIn generale possiamo distinguere tra sorgente analogica  e sorgente numerica . Una sor -\ngente analogica genera informazione sotto forma di un segnale elettrico o ottico che può \nassumere valori arbitrari definiti su intervalli di tempo continui (segnali tempo-continuo) o \nmeno (segnali tempo-discreto), mentre nel caso della sorgente numerica l’informazione gene -", "rata è esclusivamente una stringa di simboli binari (0 e 1). Poiché le reti di comunicazione \nsono ormai in gran parte di tipo numerico, atte cio è a trasferire solo flussi di simboli binari, le \ninformazioni generate dalle sorgenti analogiche devono essere trasformate in forma numerica \nper essere trasportate in una rete di comunicazione. \nIn questo testo si assumerà che l’informazione venga sempre trasferita in forma di sequen -", "za numerica , cioè come sequenza di cifre binarie (0 o 1), anche se non tutte le sorgenti gene -\nrano contenuti informativi direttamente in questa forma. L ’esempio tipico è quello dell’infor -\nmazione vocale, che viene generata e riprodotta in forma “analogica”, cio è come successione \ndi simboli che assumono valori continui su una scala arbitraria di livelli del segnale. Tuttavia \nquesto tipo di informazione viene ormai trasferito attraverso le reti sotto forma di sequenza", "di simboli binari.\n2.1.2 Servizi di comunicazione\nUn servizio di comunicazione richiede l’utilizzazione di diversi tipi e di diverse quantità di \nrisorse di rete che possono variare in base a tre proprietà che caratterizzano il servizio: la \nconfigurazione, la direzione e l’inizializzazione.\nLa configurazione  di un servizio identifica il numero di attori coinvolti nel servizio stesso; \nin particolare, la configurazione varia a seconda del numero di destinatari dell’informazione", "emessa dalla sorgente. Si distinguono tre tipi di configurazione:\n• punto-punto:  il servizio si svolge tra due utilizzatori, ognuno dei quali accede al ser -\nvizio tramite un punto di accesso nella rete di comunicazione; una conversazione \ntelefonica costituisce l’esempio tipico di servizio punto-punto;\n• multipunto : il servizio coinvolge più di due utilizzatori, così che in generale l’informa -\nzione emessa da uno di essi (sorgente) è trasportata e resa disponibile agli altri (desti -", "natari); supportare una comunicazione che abbia queste caratteristiche è tutt’altro che \nsemplice, poiché l’informazione emessa da una sorgente deve essere resa disponibile \nin più punti di accesso alla rete (uno per destinatario); esempi di servizi multipunto \nsono l’audioconferenza e la videoconferenza;\n• diffusiva  (o broadcast ): è un tipo particolare di configurazione multipunto, nella quale \nl’informazione emessa da una sorgente è messa a disposizione di tutti gli utilizzatori", "della rete; è in generale più semplice supportare un servizio diffusivo che uno multi -\npunto, poiché nel primo caso non occorre selezionare i destinatari dell’informazione, \nPattavinaReti2021.indb   42PattavinaReti2021.indb   42 14/01/2022   16:08:0714/01/2022   16:08:072.1 Sorgenti e servizi  43\nescludendo quindi ogni operazione di filtraggio e di selezione; un esempio tipico di \nservizio diffusivo è quello televisivo che viene reso disponibile via etere.", "La direzione  di una comunicazione fa riferimento alla caratteristica del flusso informativo \nemesso e/o ricevuto da un generico utilizzatore di un servizio di comunicazione. Si distinguo -\nno due tipi di servizi:\n• unidirezionale , quando il servizio trasferisce un solo flusso informativo, che va solo \ndalla sorgente all’utilizzatore (servizio punto-punto) o agli utilizzatori (servizio mul -\ntipunto o diffusivo);", "tipunto o diffusivo); \n• bidirezionale , quando il servizio trasferisce due flussi informativi per utilizzatore del \nservizio, chiaramente in direzioni opposte, così che ciascun utilizzatore agisce sia da \nsorgente, sia da destinazione delle informazioni; un servizio bidirezionale può ulte -\nriormente essere distinto in\n –simmetrico , se i due flussi trasferiti sono caratterizzati dagli stessi parametri,\n –asimmetrico , se i due flussi emessi e ricevuti da ogni utilizzatore sono caratteriz -", "zati da parametri diversi.\nEsempi di servizi unidirezionali sono la telesorveglianza e la televisione. La telefonia e l’ac -\ncesso da remoto a centri di servizio sono esempi di servizi bidirezionali rispettivamente \nsimmetrici e asimmetrici. Infatti, solo nel primo caso i due flussi informativi hanno le stesse \ncaratteristiche, mentre nel secondo il flusso nella direzione verso il centro di servizio è gene -\nralmente molto più piccolo di quello in direzione opposta.", "La proprietà di inizializzazione , infine, descrive le modalità attraverso le quali viene reso \ndisponibile un servizio. Un servizio può essere inizializzato:\n• su base chiamata , ogni volta che il servizio si articola nelle tre fasi di richiesta  del \nservizio, attraverso opportune procedure di segnalazione attuate nella stessa rete di \ncomunicazione, utilizzazione  delle risorse di comunicazione (durante la quale vengono", "trasmesse le informazioni), e rilascio  delle risorse di rete utilizzate; \n• su base contrattuale , quando la disponibilità del servizio di telecomunicazione è per -\nmanente per gli utilizzatori coinvolti; ciò implica che la fase di richiesta del servizio \nprecedentemente definita si attua solo con un accordo (contrattuale) siglato tra cliente \ne fornitore del servizio.\nEsempi di servizi su base chiamata e su base contrattuale sono, rispettivamente, il servizio di", "telefonia pubblica e un servizio di connessione dati di tipo affittato tra un cliente e un centro \ndi servizio.\n2.1.3 Requisiti di un servizio\nSi è già accennato al fatto che le prestazioni di trasporto in rete richieste per un servizio di \ncomunicazione sono fortemente dipendenti dal tipo di servizio che si vuole supportare. È  \ndunque necessario definire quantitativamente i principali parametri che si possono utilizzare \nper caratterizzare un servizio di comunicazione. Questi sono:", "PattavinaReti2021.indb   43PattavinaReti2021.indb   43 14/01/2022   16:08:0714/01/2022   16:08:0744  Capitolo 2 – Concetti base delle reti\n• la velocità media , che indica la frequenza media di emissione di unità informative da \nparte della sorgente;\n• il tempo di ritardo , che esprime con opportune grandezze (valore medio, varianza, \necc.) il tempo che la rete impiega a trasportare le unità informative per il servizio in \nquestione;", "questione;\n• il tasso di errore , che indica la quota parte di bit o di unità informative emessi dalla \nsorgente che la rete non è stata in grado di trasportare o che ha consegnato alla desti -\nnazione con errore;\n• l’eventuale vincolo di tempo reale  del servizio, tale che, se previsto, consenta l’inte -\nrattività tra i suoi utilizzatori.\nLa Tabella 2.1 riporta i valori e gli ordini di grandezza (indicati con il simbolo “O”) più signi -", "ficativi per i parametri appena definiti riferiti alle tre tipologie di informazione trasportate in \nrete, e cio è voce, dati, immagini. \nCon riferimento alla capacità di rete richiesta, un servizio di fonia prevede flussi medi dell’or -\ndine di alcune decine di kbit/s, mentre i servizi di immagini sono caratterizzati da flussi di \ncentinaia di kbit/s per servizi di videochiamata, di Mbit/s o qualche decina di Mbit/s per video", "streaming, a seconda della qualità del video trasferito. Per quanto riguarda i servizi per il \ntrasferimento di dati, si possono individuare servizi a bassa velocità (qualche decina di bit/s), \nper esempio per servizi di telemetria e point-of-sale  (POS), a media velocità (qualche decina \ndi kbit/s), per esempio per streaming audio, e alta velocità (decine/centinaia di Mbit/s) per \ntrasferimento di file tra computer.", "trasferimento di file tra computer. \nI requisiti di ritardo richiesti alla rete per il trasferimento delle unità informative dalle \nsorgenti alle destinazioni sono dell’ordine delle decine/centinaia di ms per i servizi in tempo \nreale, come quelli di fonia, di videochiamata, di video streaming in tempo reale o di realtà \nvirtuale/aumentata. Per i servizi non forniti in tempo reale, quali i servizi dati (per esempio", "e-mail) o i servizi di video on-demand, ritardi dell’ordine dei secondi sono invece ampiamente \naccettabili non essendo prevista alcuna stringente interattività in tempo reale tra utilizzatori. Tabella 2.1 Parametri più significativi che descrivono le differenti tipologie di informazione.\nServizio Velocità Ritardo\nmedioTasso  \ndi erroreTempo\nreale\nVoce O(10 kbit/s) O(100 ms) O(1%) Sì\nDatiBassa velocità O(bit/s)\nO(s) @ 0 No Media velocità O(kbit/s)\nAlta velocità O(Mbit/s)", "Alta velocità O(Mbit/s)\nImmaginiVideochiamata O(100 kbit/s) O(100 ms) O(1%) Sì\nStreaming on-demand O(Mbit/s) O(s) O(1%) No\nStreaming live O(Mbit/s) O(100 ms) O(1%) Sì\nVirtual/augmented reality O(100 Mbit/s) O(10 ms) O(1%) Sì\nPattavinaReti2021.indb   44PattavinaReti2021.indb   44 14/01/2022   16:08:0714/01/2022   16:08:072.1 Sorgenti e servizi  45\nInfine occorre osservare che i requisiti di integrità dei flussi trasferiti in rete sono tipica -", "mente richiesti per tutti i servizi dati, con tassi di errore attesi prossimi allo zero. I servizi di \ntipo voce o video sono invece caratterizzati da tassi di errore o perdita di informazione anche \nsignificativamente alti, per esempio dell’ordine dell’1%. Ciò è dovuto al fatto che questi ser -\nvizi trasportano flussi con alta ridondanza, cosa che consente di fornire una buona qualità di \nservizio anche in presenza di alti tassi di errore.", "Si vuole ora evidenziare come la tecnologia giochi un ruolo fondamentale nel determinare \nil ritardo di trasferimento di unità informative attraverso una rete. Faremo riferimento per \nsemplicità a un servizio di comunicazione tra sorgente e destinazione attraverso una rete che \nfornisce collegamenti end-to-end di capacità f bit/s. Vogliamo qui considerare i valori numerici \ndelle capacità dei collegamenti che variano da alcuni Mbit/s, che erano disponibili negli anni", "’80, alle decine di Gbit/s, disponibili nella seconda decade del ventunesimo secolo. La Figura \n2.3 mostra che, trascurando il tempo di propagazione, un messaggio di posta elettronica di \nL = 500 byte trasmesso a f =  1 Mbit/s viene trasferito in poco più di T = 1 ms, tempo che si \nriduce a meno di 1 µ s operando a f = 10 Gbit/s. Analoghe straordinarie riduzioni si ottengono \nnel trasferimento di una foto di L = 3 Mbyte da più di T = 10 s a qualche millisecondo e di un", "file video di L = 2 Gbyte da qualche ora a pochi secondi. Quindi le straordinarie evoluzioni \ntecnologiche delle tecniche trasmissive hanno consentito di ridurre i tempi di trasmissione \ndelle unità informative di diversi ordini di grandezza negli ultimi 30 anni \n2.1.4 Caratterizzazione delle sorgenti\nSpecificare un servizio di comunicazione attraverso una rete significa caratterizzare la rela -\ntiva sorgente di informazioni. Quanto più precisa è la descrizione del comportamento della", "sorgente, tanto migliore è l’identificazione delle risorse di comunicazione necessarie per tra -\nsferire a destinazione le informazioni generate con i prescritti requisiti di qualità. \n10-1110-910-710-510-310-1101103105\n1001011021031041051061071081091010    \n1 Mbit/s\n10 Mbit/s\n100 Mbit/s\n1 Gbit/s\n10 Gbit/s\n100 Gbit/sTempo di trasmissi one, T (s)\nInformaz ione trasmessa, L (byte)Video (MP4)Foto (JPE G)\ne-mail (text)\nFigura 2.3 T empo di trasmissione di un file.", "Figura 2.3 T empo di trasmissione di un file.\nPattavinaReti2021.indb   45PattavinaReti2021.indb   45 14/01/2022   16:08:0714/01/2022   16:08:0746  Capitolo 2 – Concetti base delle reti\nLa più semplice caratterizzazione di una sorgente di informazioni consiste nell’assumere che \nin un generico istante di tempo la sorgente si trova in uno di due stati: attività  (ON), nel quale \nla sorgente emette informazioni a una frequenza di picco,  P (espressa in bit/s), e inattività", "(OFF ), nel quale la sorgente non emette informazioni. L ’intervallo di tempo di permanenza \ndella sorgente nello stato ON ( TON) e nello stato OFF ( TOFF) determina la lunghezza del seg -\nmento informativo emesso, detto “burst”, e la quantità di informazioni emesse. \nSi può poi esprimere sinteticamente il comportamento di una sorgente in un dato intervallo \ndi tempo T , indicando con A la sua frequenza media  (espressa in bit/s) definita come il numero", "di bit emessi nel tempo di osservazione T. Il rapporto tra la frequenza media A e la frequenza \ndi picco P viene indicato come fattore di burstiness1, B, e quindi è dato da\n)2.1( BA\nP---= .             \nOccorre osservare che il fattore di burstiness B di una sorgente rappresenta anche la probabili -\ntà che la sorgente si trovi nello stato di attività (stato ON) in un istante arbitrario di osservazio -\nne. Evidentemente sono sufficienti due dei tre parametri P , A, B per definire completamente", "una sorgente del tipo qui ipotizzato. \nIn base al valore del parametro B si possono distinguere due tipi di sorgente:\n• constant bit rate (CBR) , o di tipo continuo, caratterizzata da un fattore di burstiness \nB = 1, in cui la frequenza media coincide con quella di picco ( A = P), come per esem -\npio una sorgente vocale o video, oppure una sorgente dati continuamente attiva (per \nesempio durante un trasferimento di file);", "esempio durante un trasferimento di file); \n• variable bit rate ( VBR),  o di tipo intermittente (bursty), caratterizzata da un fattore \ndi burstiness B < 1, come per esempio una sorgente dati interattiva. \nSi noti che la caratterizzazione CBR o VBR di una sorgente può anche dipendere dall’even -\ntuale elaborazione che il flusso informativo emesso dalla sorgente subisce prima di essere \nreso disponibile per il suo trasferimento in rete. Infatti la stringa binaria emessa da una sor -", "gente continua può diventare di tipo intermittente in seguito a un’operazione di codifica della \nstringa stessa con lo scopo di eliminarne le ridondanze. Questa elaborazione operata in tempo \nreale implica quasi sempre la degradazione del flusso informativo originario, la cui entità \ncresce con il fattore di compressione  1/B conseguito.\nIl caso più semplice di sorgente bursty è quello in cui gli intervalli di tempo di permanenza", "negli stati di attività e di inattività sono costanti e uguali, rispettivamente, a TON e TOFF (s) e si \nripetono indefinitamente nel tempo. In questo caso il fattore di burstiness B è  semplicemente \ndato da\n)2.2(BTON\nTOFFTON+------------------------------- =.             \nNel seguito una sorgente con queste caratteristiche sarà indicata come sorgente ON-OFF \nperiodica , dato che la transizione tra stati si ripete nel tempo con intervallo costante ( periodo ) \nTON + TOFF .", "TON + TOFF .\n1 Occorre osservare che la definizione del fattore di burstiness B non è universalmente accettata nella forma qui presen -\ntata. Infatti in altri testi si trova anche la definizione inversa B = P/A . \nPattavinaReti2021.indb   46PattavinaReti2021.indb   46 14/01/2022   16:08:0814/01/2022   16:08:082.1 Sorgenti e servizi  47\nSi vuole ora mostrare sinteticamente, utilizzando la Figura 2.5, la tipologia delle sorgenti dei", "vari servizi di comunicazione in base al loro fattore di burstiness. Servizi interattivi di conver -\nsazione, come quelli voce o audio, sono caratterizzati da sorgenti di tipo CBR, aventi quindi Si vuole rappresentare la sequenza dei periodi di attività e di inattività (profilo di traffico) \ndi una sorgente ON-OFF periodica caratterizzata da una frequenza di picco P = 800 kbit/s, \nda periodi di attività di durata TON = 0,2 s e da un fattore di burstiness B = 0,25, calcolando", "anche la frequenza media A della sorgente.\nLa caratterizzazione completa della sorgente richiede l’individuazione della durata dei \nperiodi di inattività, nonché della frequenza media. L ’Equazione (2.2) fornisce il primo \nparametro a partire dalla durata dei periodi di inattività e del fattore di burstiness, e cio è \nTOFF  =  0,6 s, così che possiamo rappresentare la sequenza dei periodi di emissione nel", "tempo riportata in Figura 2.4. Il secondo parametro si ottiene semplicemente dal fattore \ndi burstiness B , conoscendo la frequenza di picco P,  tramite l’Equazione (2.1) che fornisce \nA = 200 kbit/s.Esempio 2.1\n1,0\n0,8\n0,6\n0,4\n0,2\n0,0t[s]\n0,51 ,0 1,52 ,0 2,53 ,0P[Mbit/s]\n1,2\n0,0\nFigura 2.4 Profilo di traffico della sorgente VBR secondo l’Esempio 2.1.\n105 104 106 107 108 10910-310-210-1100\nCommut azione\ndicircuito\nFrequenzadipicco,P(bit/s)Modem\nTerminale-hostVoce\nImmagini\nadalta", "Terminale-hostVoce\nImmagini\nadalta\nrisoluzion eVideo\nchiamata\nVideo\nintempo\nreale\nCommutazione\ndipacchettoAudio\nFigura 2.5 Fattore di burstiness delle sorgenti.\nPattavinaReti2021.indb   47PattavinaReti2021.indb   47 14/01/2022   16:08:0814/01/2022   16:08:0848  Capitolo 2 – Concetti base delle reti\nun fattore di burstiness unitario. Tuttavia, adottando tecniche di elaborazione del segnale \nemesso dalle sorgenti, queste possono diventare sorgenti di tipo VBR; nel caso di segnale", "vocale, la semplice soppressione dei silenzi di chi parla riduce il fattore di burstiness a un valo -\nre dell’ordine di 0,3-0,4. L ’adozione ulteriore di tecniche di elaborazione numerica del segnale, \nche riducono la ridondanza del segnale stesso, consentono di portare il fattore di burstiness a \nvalori anche inferiori a 0,1. A titolo di esempio si consideri il caso dei segnali vocali utilizzati \nnella telefonia cellulare, la cui frequenza media, a seconda della codifica utilizzata, varia", "nell’intervallo 6-13 kbit/s, a fronte di una frequenza del segnale vocale originale di 64 kbit/s.\nI segnali audio sono caratterizzati da frequenze superiori rispetto a quelli vocali, come \ngeneralmente richiesto nei segnali audio di alta qualità che necessitano di qualche centinaio \ndi kbit/s. Anche in questo caso la riduzione della ridondanza informativa può far diminuire \nla frequenza media della sorgente. Considerazioni analoghe valgono per i servizi di video -", "chiamata, che tuttavia richiedono frequenze di picco maggiori che nei segnali vocali, essendo \ncaratterizzati da frequenze di picco da un centinaio di kbit/s fino a qualche Mbit/s. Anche per \ni servizi video in tempo reale, le cui frequenze di picco variano da qualche Mbit/s a centina -\nia di Mbit/s, vale lo stesso principio: le sorgenti sono per loro natura di tipo CBR, anche se \nun’operazione di riduzione di ridondanza ne può ridurre il fattore di burstiness anche di un \nordine di grandezza.", "ordine di grandezza. \nEsiste un’altra tipologia di informazioni, le immagini ad alta risoluzione, come per esempio \nquelle di tipo medico (lastre radiografiche, immagini TAC, ecc.), i cui requisiti di trasferimen -\nto in rete per una loro utilizzazione in tempo reale per servizi critici (per esempio chirurgia a \ndistanza) richiedono la disponibilità di canali di comunicazione con velocità particolarmente", "alte, fino al Gbit/s. Questo tipo di informazioni, per sua natura, può essere significativamente \ncompresso con riduzioni del fattore di burstiness fino a un centinaio di volte.\nLa Figura 2.5 rappresenta anche il caso di terminali connessi a server con frequenze di \npicco fino a qualche Mbit/s (a seconda del tipo di accesso) con fattore di burstiness fortemente \nvariabile in quanto strettamente legato al tipo di servizio dati; per esempio, una singola ope -", "razione di trasferimento di file implica un fattore di burstiness unitario, mentre un’interazione \nclient-server interattiva può portare anche a fattori di burstiness ben inferiori all’1%. Questo \ntipo di servizi di comunicazione è quello utilizzato da specifici apparati trasmissivi, detti \nmodem , per sfruttare la capacità di trasferimento delle informazioni resa disponibile dalle reti \ndi accesso telefoniche. Come sarà chiaro nel seguito (vedi Paragrafo 2.3), i servizi di rete a", "commutazione di circuito e di pacchetto meglio si adattano a supportare sorgenti CBR e VBR, \nrispettivamente, dando tuttavia luogo a un intervallo dei valori del fattore di burstiness in cui \nla miglior scelta tra i due servizi non è sempre univoca. \nCome già accennato, si vuole qui ricordare che il trasferimento in rete delle informazioni \ngenerate da una sorgente di tipo CBR richiede una capacità di almeno P  bit/s, mentre per", "quella di tipo VBR la capacità richiesta può anche essere inferiore a questo livello, potendo \nscendere fino ad A bit/s. Ciò provoca la riduzione degli intervalli di inattività tra un segmento \ninformativo e l’altro. Nel caso di capacità della rete uguale a quella media A della sorgente, il \nflusso informativo nei canali di comunicazione della rete diventerà di tipo “continuo” (cio è \nsenza più intervalli di inattività tra un segmento informativo e un altro). Per esempio, con", "riferimento all’esempio di Figura 2.4, se non occorre soddisfare determinati requisiti di ritar -\ndo di attraversamento della rete, la sorgente VBR potrebbe diventare una sorgente continua \nCBR caratterizzata da A = P = 200 kbit/s. Ciò si realizza mediante l’utilizzazione di un’unità \nPattavinaReti2021.indb   48PattavinaReti2021.indb   48 14/01/2022   16:08:0814/01/2022   16:08:082.2 Trasferimento di informazione in rete  49", "di memoria che immagazzina i blocchi informativi ricevuti a 800 kbit/s, per ritrasmetterli con \nregolarità a 200 kbit/s.\n2.2 Trasferimento di informazione in rete\nAbbiamo esaminato nel Paragrafo 2.1.3 i principali parametri che caratterizzano un servizio \ndi comunicazione. Si definiscono ora i principali parametri di prestazione di una rete che \nsaranno valutati in reti elementari: \n• ritardo : indica il tempo richiesto per trasferire un’unità informativa attraverso la rete;", "• throughput : indica la quantità di unità informative per unità di tempo trasferite con \nsuccesso dalla rete;\n• perdita : indica la quantità di unità informative offerte alla rete che questa non è stata \nin grado di trasportare con successo a destinazione.\n2.2.1 Ritardo\nUna rete di comunicazione consente il trasporto di informazioni a distanza, cio è da una sor -\ngente di informazioni alla relativa destinazione, rendendo possibile l’interazione tra sistemi", "terminali. Questi possono consistere sia in veri e propri “personal computer” (PC), sia in altri \ndispositivi dotati di maggiore o minore “intelligenza”, cio è capacità di elaborazione. Si pensi \nal caso estremo di sensori distribuiti sul territorio il cui compito è esclusivamente quello di \nmisurare un parametro fisico, per esempio la temperatura, e inviarlo a un centro di raccolta \ndelle informazioni meteorologiche.", "delle informazioni meteorologiche.\nRisorse di trasmissione e di elaborazione delle informazioni sono configurate in una rete \nin modo da realizzare l’interazione tra sistemi terminali. Il primo tipo di risorse è quello che \nrende disponibili canali di comunicazione  tra nodi della rete, i quali a loro volta mettono a \ndisposizione le risorse di elaborazione per stabilire come trattare le informazioni ricevute. Per", "brevità possiamo dire che la rete viene rappresentata come una topologia costituita da nodi e \nrami, dove questi ultimi rappresentano i canali di comunicazione.\nPer introdurre i primi concetti base relativi alla trasmissione di informazione in una rete \nconsideriamo la rete elementare costituita da 3 nodi, X, Y, Z, rappresentata in Figura 2.6. \nIpotizzando che X costituisca il nodo sorgente e Z il nodo di destinazione, indichiamo con", "fX e fY la velocità di trasmissione, o frequenza di cifra , espressa in bit/s da X a Y e da Y a Z, \nrispettivamente. La frequenza di trasmissione f di un nodo su un collegamento uscente viene \nanche indicata come capacità  del collegamento stesso. \nLe informazioni che vengono trasferite da una sorgente a una destinazione attraverso la \nrete sono organizzate in unità informative  (UI), ognuna delle quali contiene una quantità gene -", "rica di bit uguale a b . Il trasferimento di un’UI tra nodi adiacenti, per esempio tra i nodi X e \nX Y Z\nfX fY\nFigura 2.6 Rete elementare di 3 nodi.\nPattavinaReti2021.indb   49PattavinaReti2021.indb   49 14/01/2022   16:08:0914/01/2022   16:08:0950  Capitolo 2 – Concetti base delle reti\nY in Figura 2.6, avviene in un intervallo di tempo costituito dalla somma di due componenti: \nil tempo necessario a trasmettere tutti i bit dell’UI e il tempo richiesto dalla propagazione del", "segnale fisico che trasporta i bit lungo il collegamento. Per stabilire una nomenclatura che \nverrà utilizzata consistentemente nel testo, vengono ora definite le prime due componenti delle \nquattro che definiscono il tempo di trasferimento di un’UI:\n1. Tt: tempo di trasmissione  di una generica UI;\n2.\tτ: tempo di propagazione  (assunto costante) di ognuno dei bit dell’UI.\nPossiamo allora esprimere il ritardo totale di trasferimento  (ritardo end-to-end ), T, di un’unità", "informativa dalla sorgente alla destinazione. Questo ritardo viene definito come il tempo che \nintercorre tra l’inizio della trasmissione del primo bit alla sorgente e la fine della ricezione \ndell’ultimo bit alla destinazione ed è dato da\n)2.3( T Ttτ+ = .              \nOccorre osservare che l’Equazione (2.3) esprime il tempo di ritardo come “osservato” alla \nsorgente. Infatti la prima componente rappresenta il tempo richiesto a trasmettere l’intera UI", "e la seconda il tempo richiesto dalla propagazione dell’ultimo bit lungo il collegamento. Se \nvolessimo esprimere lo stesso ritardo come “osservato” alla destinazione, giungeremmo allo \nstesso risultato. Infatti andremmo a scrivere TτTt+= , cioè il tempo necessario a iniziare \na ricevere il primo bit dopo la propagazione lungo il collegamento cui si aggiunge il tempo \nrichiesto per ricevere tutti i b bit dell’UI. Naturalmente quest’ultimo tempo coincide con il", "tempo richiesto dalla trasmissione degli stessi b bit.\nFacendo riferimento alla trasmissione di una UI dal nodo X al nodo Y, possiamo allora \nesprimere il ritardo complessivo TX-Y come2\n)2.4( TX-YTtXτX+b\nfX-----τX+ = = .           \nPer esprimere numericamente il ritardo sul mezzo trasmissivo, ci limiteremo qui a osservare \nche le soluzioni più comuni consistono nell’utilizzare lo spazio libero (etere), oppure un mezzo", "guidato. Nel primo caso assumeremo che la velocità di propagazione v coincida con il valore \nnumerico della propagazione delle onde elettromagnetiche nel vuoto, e cio è ν = c = 3 × 108 \nm/s cui corrisponde un ritardo τ = 3,33 µ s/km. Nel secondo caso i mezzi maggiormente uti -\nlizzati sono costituiti da cavi in rame o in fibra ottica. La specifica velocità di propagazione \ndipende dal materiale utilizzato. Assumeremo qui l’approssimazione per cui nei mezzi guidati", "la velocità di propagazione risulta 2/3 di quella in etere e quindi è ν = 2  × 108 m/s cui corri -\nsponde un ritardo τ = 5 µ s/km. Questo valore rappresenta un valore mediano tra quelli che \ncaratterizzano i cavi in rame, per i quali ν  @ 1,7 × 108 m/s e quello per le fibre ottiche per le \nquali ν @ 2,2 × 108 m/s. \nNaturalmente, nella maggior parte dei casi, sorgente e destinazione non sono collegate", "direttamente e quindi occorre attraversare uno o più nodi di rete per realizzare il trasferi -\n2  Salvo indicazione contraria, la componente di ritardo dovuta alla trasmissione da un nodo o alla propagazione \nsul collegamento in uscita dal nodo viene identificata giustapponendo a pedice il simbolo del nodo al parametro \ndi ritardo. \nPattavinaReti2021.indb   50PattavinaReti2021.indb   50 14/01/2022   16:08:0914/01/2022   16:08:092.2 Trasferimento di informazione in rete  51", "mento delle UI. Attraversare un nodo comporta l’introduzione di altre componenti di ritardo \nnel trasferimento delle UI; ipotizziamo che un’UI debba essere completamente ricevuta in un \nnodo intermedio prima di poter essere ritrasmessa verso un nodo a valle. Ci limitiamo qui \na introdurre una delle componenti aggiuntive che consiste nel tempo richiesto per elaborare \nl’UI nel nodo, cosi da individuare la via in uscita dal nodo stesso. Definiamo quindi la terza", "componente  del tempo di trasferimento in rete di un’UI:\n3. TpK: tempo di elaborazione  dell’UI nel nodo K. \nQuindi, il tempo richiesto per trasferire un’UI da X a Z nella rete elementare di Figura 2.6, \nsarà espresso da\n)2.5( TX-ZTtXτXTpYTtYτY+ + + +b\nfX-----τXTpYb\nfY-----τY+ + + + = = .     \nSi noti che questa espressione è valida a condizione che le risorse di comunicazione tra X e Z \nsiano dedicate a questo specifico trasferimento di UI. Si vedrà successivamente, nel Paragrafo", "2.3.1, che entra sempre in gioco un’altra componente di ritardo dovuta alla condivisione delle \nrisorse di comunicazione tra più operazioni di trasferimento tra nodi diversi della rete. \n2.2.2 Throughput\nUna rete di comunicazione svolge il compito di mettere in comunicazione le sorgenti di infor -\nmazione con i rispettivi utilizzatori delle informazioni. L ’insieme dei flussi informativi gene -\nrati dalle sorgenti e quindi ricevuti in ingresso da una rete o da una sua porzione, oppure da", "un’apparecchiatura di rete, prende il nome di traffico offerto  e viene indicato con Ao. La \nrete o una sua porzione, oppure un’apparecchiatura di rete, trasporterà con successo a desti -\nnazione, oppure all’uscita, il traffico offerto o una sua quota parte cui viene dato il nome di \ntraffico smaltito , indicandolo con As. Il traffico smaltito viene più comunemente indicato Si vuole calcolare il tempo di ritardo richiesto per il trasferimento di un’unità informativa", "di D = 10 kbyte dal nodo X al nodo Z della rete elementare rappresentata in Figura 2.6 in \ncui i collegamenti X-Y e Y-Z, di lunghezza dX-Y = 50 km e dY-Z = 100 km, sono realizzati \nrispettivamente in rame e su canale radio, la frequenza di trasmissione sui due collegamenti \nè f = 100 Mbit/s e il tempo di elaborazione dell’UI nel nodo intermedio è Tp = 0,5 µs/byte.\nL ’espressione del tempo di ritardo si ottiene facilmente considerando le componenti date", "dai tempi di trasmissione e di propagazione sui due collegamenti, nonché dal tempo di \nelaborazione dell’UI nel nodo Y. Applicando quindi l’Equazione (2.5), si può calcolare il \ntempo di ritardo richiesto:\nTX-ZD\nf----dX-Y\nν------------DTpD\nf----dY-Z\nc------------ + + ++ =\n2103×10 8⋅\n1006×10-------------------------50\n25×10---------------103×10 05,6–×10⋅100\n35×10--------------- + + + 7183,ms = =Esempio 2.2", "35×10--------------- + + + 7183,ms = =Esempio 2.2\nPattavinaReti2021.indb   51PattavinaReti2021.indb   51 14/01/2022   16:08:0914/01/2022   16:08:0952  Capitolo 2 – Concetti base delle reti\ncon il termine throughput , denotato con THR . Traffico offerto e throughput sono espressi in \nbit/s, oppure in unità informative per secondo (la cui consistenza in numero di bit deve essere \nopportunamente specificata).", "opportunamente specificata). \nA differenza del parametro tempo di ritardo, che può essere calcolato per ogni unità infor -\nmativa trasferita in rete, il concetto di throughput , che fa riferimento a una capacità reale \ndi trasferire UI nella rete, deve specificare l’intervallo di tempo cui si riferisce la misura in \nquestione. Per esempio, un collegamento che opera a f bit/s sostiene un throughput di f bit/s", "nel momento in cui trasferisce con successo UI senza soluzione di continuità. Tuttavia, nel \nmomento in cui il collegamento non è sempre utilizzato, allora il throughput indica l’effettivo \nlivello di utilizzazione del collegamento stesso. Ne consegue che il throughput costituisce una \nmisura media dell’utilizzazione reale di una rete o di una porzione di essa, rendendo quindi \nestremamente importante la scala temporale cui la misura si riferisce.", "Il traffico offerto o smaltito in una rete o porzione di rete, come per esempio un collega-\nmento, di cui si conosca la capacità C di trasferimento di traffico, può anche essere espresso \nin forma normalizzata rispetto alla capacità di rete. Questo parametro, essendo adimensionale, \nassume l’unità di misura convenzionale di Erlang  (Erl) . Poiché l’intensità del traffico smaltito \ncosì definito\nAsTHR\nC------------ =", "così definito\nAsTHR\nC------------ =\nassume valori nell’intervallo [0,1], essa indica la quota parte di tempo in cui le risorse di rete \nvengono utilizzate, rappresentando quindi l’efficienza della rete o della porzione di rete. \nSi consideri il solo collegamento X-Y di Figura 2.6 che trasmette a frequenza di cifra \nfX = 100 kbit/s e che sia alimentato da una sorgente VBR periodica che emette UI di lun -", "ghezza fissa L = 1000 byte con un periodo di inattività TOFF = 240 ms. Si vuole calcolare il \nthroughput del collegamento espresso sia in bit/s, sia in Erlang3.\nIl tempo speso dal nodo X nella trasmissione di ogni UI è dato da Tt = L/fX = 80 ms e \nTOFF = 240 ms separano due periodi consecutivi di trasmissione. Ne consegue che il throu -\nghput del collegamento è dato da THR  = Tt fX/(Tt +TOFF) = 25 kbit/s, che coincide con la fre -", "quenza media A della sorgente VBR. Considerando la capacità del collegamento, si ricava \nfacilmente anche la sua efficienza As = THR /C = 0,25 Erlang. \nNon sempre però il throughput coincide con la frequenza media della sorgente che alimenta la \nrete. Ci riferiamo ancora alla rete elementare di Figura 2.6 dove il nodo X riceve da una sor -\ngente unità informative destinate questa volta al nodo Z. Le UI vengono trasmesse attraver -", "sando i due collegamenti X-Y e Y-Z di capacità fX e fY (bit/s), rispettivamente. Possiamo quindi \naffermare che il throughput  potenziale  di questa rete elementare è dato da THR  = min( fX, fY), \nin quanto il collegamento a minore capacità dei due è quello che costituisce il collo di bottiglia  \ndel sistema in questione. Il throughput effettivo  sarà ottenuto considerando anche le caratteri -\nstiche delle sorgenti che alimentano la rete. Ipotizzando che una sola sorgente con frequenza", "3 Si osservi che la frequenza di picco di emissione della sorgente VBR coincide con la capacità del collegamento.Esempio 2.3\nPattavinaReti2021.indb   52PattavinaReti2021.indb   52 14/01/2022   16:08:0914/01/2022   16:08:092.2 Trasferimento di informazione in rete  53\nmedia A (bit/s) sia presente nel nodo X, allora il throughput effettivo della rete elementare sarà \ndato da THR  = min( A, fX, fY). \n2.2.3 Perdita", "dato da THR  = min( A, fX, fY). \n2.2.3 Perdita\nIl terzo parametro che caratterizza le prestazioni di una rete serve a descrivere la quantità di \ninformazione che non viene trasportata con successo dalla rete. Idealmente, le UI offerte dalla \nsorgente alla rete sono consegnate integre alla destinazione, realizzando quindi una perfetta \ncoincidenza tra ciò che è stato inviato e ciò che è stato ricevuto. Nella realtà le UI possono", "essere ricevute con errori a destinazione, oppure possono anche essere perse durante l’attra -\nversamento della rete. Il primo caso ( errori di trasmissione ) si verifica quando la qualità del \nsegnale ricevuto su un collegamento è diversa da quella prevista, a causa di interferenze o di \naltre cause di degrado, così da determinare l’interpretazione errata di uno o più bit ricevuti. \nIl secondo caso ( saturazione delle memorie ) occorre quando una memoria di un nodo che", "immagazzina le UI prima della loro trasmissione va in saturazione, così da non poter imma -\ngazzinare ulteriori UI in transito nel nodo.\nL ’insieme delle UI offerte alla rete, ma non consegnate integre a destinazione, costituisce \nil traffico perso , indicato con il simbolo Ap. Diversi parametri possono essere impiegati per \nesprimere il traffico perso in rete:Si consideri la configurazione riportata in Figura 2.7 in cui N sorgenti S1, ..., SN, connesse al", "nodo di accesso X della rete da linee con velocità fs = 1 Mbit/s, comunicano con un server D \nattraverso un nodo di accesso Y su una linea con velocità fY. Ipotizzando che ogni sorgente \nsia caratterizzata da una frequenza media A = 500 kbit/s e che la rete metta a disposizione \nuna connessione tra i nodi X e Y di capacità fX = 20 Mbit/s, si vuole calcolare il throughput \ndella rete per N = 10 e N = 100 nei due casi di linea di accesso al server D di capacità", "fY1 = 10 Mbit/s e fY2 = 100 Mbit/s. \nCon N = 10 sorgenti, il nodo X riceve A·N = 5 Mbit/s che vengono sempre trasportati al \nserver D attraverso la rete, realizzando quindi un throughput THR  = 5 Mbit/s qualunque sia \nla capacità del collegamento Y-D. Se invece le sorgenti sono N = 100, allora il throughput \ndella rete sarà THR  = 10 Mbit/s e THR  = 20 Mbit/s con il collegamento Y-D di capacità \nfY1 e fY2, rispettivamente. Infatti, il collo di bottiglia nel primo caso è il collegamento Y-D,", "mentre nel secondo caso è la rete. Si osservi che la capacità fS dei collegamenti tra sorgenti \ne nodo di accesso X determina solo il throughput potenziale, ma non gioca alcun ruolo nel \ncalcolo del throughput effettivo della rete. Esempio 2.4\nYS1 fS\nfYS2\nSNX\nfXD\nFigura 2.7 Accesso di N sorgenti a un server attraverso una rete secondo l’Esempio 2.4.\nPattavinaReti2021.indb   53PattavinaReti2021.indb   53 14/01/2022   16:08:0914/01/2022   16:08:0954  Capitolo 2 – Concetti base delle reti", "• tasso di errore sul bit ( bit error rate, BER ): numero di bit ricevuti errati diviso per il \nnumero di bit trasmessi;\n• tasso di perdita  di UI ( probabilità di perdita , Pp): numero di UI perse o consegnate \nerrate a destinazione diviso per il numero di UI trasmesse.\nNaturalmente è possibile adottare procedure che consentano di mitigare il fenomeno della \nperdita di UI dovuta a errori di trasmissione o a saturazione delle memorie. Nel primo caso si", "possono adottare codici di trasmissione con ridondanza che consentano di rivelare e corregge -\nre errori di trasmissione, oppure procedure di ritrasmissione per le UI ricevute errate o perse. \nIl primo tipo di azioni può essere realizzato nello strato di collegamento della rete, in funzione \ndel tipo e qualità del mezzo fisico attraversato come per esempio un canale radio, un cavo in \nrame, una fibra ottica. Il secondo tipo di procedure può essere adottato in linea di principio", "in tutti i livelli dell’architettura al di sopra dello strato fisico, prevedendo quindi procedure \ndi rivelazione di errore e di ritrasmissione di trame a livello di collegamento, di pacchetti a \nlivello di rete, di segmenti a livello di trasporto (vedi anche la sezione A del capitolo 3), oppure \naddirittura di interi messaggi a livello di applicazione.\nOccorre notare che il tipo di azioni che prevedono la ritrasmissione delle UI rivelate errate", "difficilmente si applica se le UI sono trasferite nell’ambito di un servizio di comunicazione in \ntempo reale. Tipicamente il vincolo sul tempo di trasferimento richiesto per la consegna delle \nUI a destinazione non consente di attuare procedure di ritrasmissione, a maggior ragione se \nqueste vengono realizzate negli strati di utilizzazione. In questo caso infatti la ritrasmissione \ndi una UI richiede generalmente di ripetere l’attraversamento di più collegamenti, con conse -", "guente penalizzazione in termini di tempo richiesto per trasmissione e propagazione, anche \nse l’errore si è verificato in uno solo dei collegamenti.\nI fenomeni di saturazione delle memorie, con conseguente perdita di nuove UI ricevute nel \nnodo, può invece essere mitigato adottando opportune procedure di controllo di flusso tra nodi \nadiacenti e tra stazioni terminali, che consentono la trasmissione di UI a valle solo a fronte di", "disponibilità di memorizzazione nel nodo/stazione ricevente. Procedure più generali di con -\ntrollo di congestione della rete nel suo complesso possono contribuire anch’esse a raggiungere \nlo stesso scopo di limitare la saturazione delle memorie e quindi lo scarto delle nuove UI \nricevute (vedi anche la sezione E del Capitolo 3).\nVogliamo determinare il tasso di perdita Pp di UI nella configurazione di rete di Figura 2.7,", "assumendo che le linee di accesso alla rete delle sorgenti verso il nodo X e del server verso \nil nodo Y siano caratterizzate da un tasso di errore BERX = BERY = 10-5 nella trasmissione \ndi un messaggio e che la rete attraversata consegni a destinazione correttamente 9.999 \nmessaggi su 10.000. \nUn messaggio è inviato con successo da una sorgente S alla destinazione D se non si verifi -\nca nessun evento di errore di trasmissione sulle linee di accesso o di perdita in rete. Allora", "la probabilità Ps che ciò si verifichi è data da \nPs1BERX–( )1Πn–()1BERY–( ) ⋅ ⋅ =\navendo indicato con Pn il tasso di perdita di UI nella rete. Dato che Pn = 1/10.000, allora il \ntasso di perdita di UI è dato da Pp = 1 – Ps = 1,2 × 10-4.Esempio 2.5\nPattavinaReti2021.indb   54PattavinaReti2021.indb   54 14/01/2022   16:08:1014/01/2022   16:08:102.2 Tecniche di commutazione  55\n2.3 Tecniche di commutazione", "2.3 Tecniche di commutazione\nLa tecnica di commutazione specifica come le unità informative ricevute da un generico nodo \nsui suoi collegamenti entranti siano trasferite attraverso il nodo sui collegamenti uscenti. Tutti \ni nodi di una rete adottano generalmente la stessa modalità di commutazione. L ’aspetto chiave \nche caratterizza la modalità di commutazione è l’individuazione del collegamento uscente da", "assegnare a ogni unità informativa ricevuta. L ’operazione di commutazione si espleta attra -\nverso due distinte operazioni:\n• instradamento : è un’operazione “intelligente”, eseguita dal software del nodo, che \nconsiste nel selezionare, secondo un opportuno algoritmo, il ramo in uscita dal nodo \nda utilizzare per l’unità informativa (UI) ricevuta su un’interfaccia di ingresso del \nnodo stesso;\n• inoltro : è un’operazione più “meccanica”, eseguita tipicamente dall’hardware del", "nodo, che consiste nell’attuare la decisione di instradamento presa nel passo preceden -\nte trasferendo l’UI sull’interfaccia di uscita selezionata, dove questa verrà trasmessa.\nMentre per la descrizione degli algoritmi di instradamento si rimanda alla sezione C del \nCapitolo 3, si descrivono ora le due tecniche di commutazione che vengono adottate nelle \nreti: la commutazione di circuito  e la commutazione di pacchetto . Queste differiscono per la", "modalità di trasferimento delle UI in rete e conseguentemente per le relative prestazioni di \nrete. Con la commutazione di circuito si riserva nella rete a ogni coppia sorgente-destinazione \nuna capacità trasmissiva tale da garantire che tutte le UI saranno consegnate a destinazione \ncon ritardo tipicamente costante. Nella commutazione a pacchetto questa garanzia viene a \nmancare in quanto si cerca di commisurare le risorse di comunicazione da utilizzare alla reale", "attività delle sorgenti, tenendo conto quindi della frequenza media generata da ognuna di \nesse. Nel caso di sorgenti intermittenti ciò conduce a un’utilizzazione ottimale delle risorse di \ncomunicazione disponibili in rete.\n2.3.1 Commutazione di pacchetto\nIn una rete a commutazione di pacchetto l’informazione che deve essere trasferita tra apparec -\nchiature terminali viene generalmente spezzata in una serie di blocchi di lunghezza opportu -", "na, ognuno dei quali viene dotato di un campo aggiuntivo di “intestazione”, chiamato header , \nche reca tra l’altro l’indicazione della destinazione. Ogni UI, denominata pacchetto , sarà dun -\nque costituita da un header lungo Lh bit e da un blocco di dati dell’utente, denominato “carico \npagante”, o payload , lungo Lp bit. In una rete a commutazione di pacchetto ogni nodo riceve \nunità informative da molti nodi a monte e queste UI devono essere instradate verso i nodi a", "valle. Ciò implica che un’UI ricevuta in un nodo, che viene instradata verso la sua destinazio -\nne attraverso una specifica uscita del nodo, può trovare il collegamento uscente selezionato \ngià occupato da un’altra trasmissione. Può anche accadere che un’UI debba attendere non solo \nil completamento della trasmissione in corso, ma anche quella delle altre UI già ricevute dal \nnodo e ugualmente in attesa della disponibilità dello stesso ramo in uscita. Definiamo quindi", "la quarta componente  che definisce il tempo di trasferimento in rete di un’UI (le altre tre \ncomponenti sono state definite nel Paragrafo 2.2.1):\nPattavinaReti2021.indb   55PattavinaReti2021.indb   55 14/01/2022   16:08:1014/01/2022   16:08:1056  Capitolo 2 – Concetti base delle reti\n4. TwK: tempo di attesa  dell’UI nel nodo K prima dell’inizio della sua trasmissione sul \ncollegamento uscente. \nPerciò, nel caso della commutazione di pacchetto ogni nodo deve essere dotato di unità di", "memoria , o buffer , che consentano di memorizzare le UI in attesa di trasmissione. Per questo \nmotivo i nodi di questa rete sono detti di tipo store and forward  (S&F). \nIn genere le UI vengono trasmesse su ogni collegamento uscente secondo il loro ordine di \narrivo al nodo stesso. Risulta evidente che la capacità di memorizzazione del nodo (capacità \ndel buffer) rappresenta un parametro molto importante in una rete a commutazione di pac -", "chetto. Infatti, più grandi sono i buffer, maggiore è il numero delle UI che vi possono essere \nimmagazzinate in attesa che si renda disponibile il collegamento uscente richiesto. Da quanto \ndetto appare evidente che in una rete che fornisce servizi a commutazione di pacchetto le unità \ninformative possono essere perse in occasione della saturazione dei buffer. Quindi si dovranno \nattuare opportune procedure che consentano di controllare il livello di riempimento dei buffer", "e rendano anche possibile l’eventuale recupero delle unità informative che fossero perse per \nsaturazione dei buffer.\nSi faccia ora riferimento all’esempio rappresentato in Figura 2.8 dove un sistema terminale \nA invia dati strutturati in UI di lunghezza L = Lh + Lp bit al sistema terminale B attraversando \ni tre nodi di rete X, Y, Z, dei quali X e Z rappresentano i nodi di access o alla rete, mentre Y", "svolge funzione di nodo di transito . Nel diagramma, sulle ordinate è rappresentato il tempo \n(crescente verso il basso), sulle ascisse lo spazio. \nIl tempo richiesto al pacchetto per l’attraversamento del canale trasmissivo da A a X è \ndeterminato dalla somma del tempo di propagazione τA e del tempo di trasmissione TtA sul \ncollegamento A-X. Quest’ultimo ritardo è determinato in particolare dalla frequenza di tra -", "smissione fA (bit/s) sul collegamento A-X: esso infatti è dato da ( Lh + Lp)/fA. Il tempo di \ntransito nel nodo X comprende, oltre al tempo di elaborazione Tp richiesto per individuare il \ncollegamento uscente, anche l’eventuale tempo di memorizzazione TwX necessario per atten -\nfAfX fY fZ\nLh/fY\nLp/fYL/fXSpaz io\nTempo\nRitardo end- to-endPropagazione\nTrasmissione\nElaborazione\nAttesaA BXY Z\nFigura 2.8 Trasferimento dati a commutazione di pacchetto.", "PattavinaReti2021.indb   56PattavinaReti2021.indb   56 14/01/2022   16:08:1014/01/2022   16:08:102.2 Tecniche di commutazione  57\ndere che si renda disponibile il canale uscente richiesto. Si osservi che, in generale, l’intera \nUI deve essere ricevuta dal nodo X prima che possa iniziare l’elaborazione che determina \nl’instradamento del pacchetto; ciò al fine di potere eventualmente controllare la correttezza", "dell’UI in questione. L ’attraversamento dei successivi collegamenti (X-Y, Y-Z e Z-B) e nodi \n(Y e Z) implica ritardi analoghi a quelli già descritti. Quindi, nel caso generale di un percorso \nsorgente-destinazione che comprende N nodi, l’espressione che fornisce il tempo di ritardo \nend-to-end per un’UI è dato da \n)2.6( T TtAτATpiTwiT+tiτi+ +\ni1=N\n∑+ + = .       \nÈ opportuno notare che mentre i ritardi di propagazione e di trasmissione sono determinati da", "parametri noti a priori  (lunghezza del collegamento, capacità del canale, lunghezza dell’UI), \naltrettanto non vale per il ritardo dell’UI in un nodo. Infatti, mentre si può ragionevolmente \naffermare che il tempo di elaborazione è costante per tutte le UI, il tempo di memorizzazione \nnel nodo in attesa di trasmissione è una variabile che non può essere predeterminata: essa \ninfatti dipende dal numero di unità già ricevute nel nodo e in attesa di essere trasmesse sullo", "stesso collegamento uscente richiesto dall’UI ultima arrivata.\nCon riferimento allo schema di Figura 2.8 per il collegamento via cavo tra le due stazioni \nA e B, in cui tuttavia i nodi X e Z sono direttamente collegati senza attraversare il nodo Y, \nsi considerino i seguenti valori numerici: \n• capacità dei due collegamenti di accesso A-X e Z-B, fa = 1 Mbit/s,\n• capacità del collegamento internodo X-Z, fi = 2 Mbit/s,\n• lunghezza dei due collegamenti di accesso A-X e Z-B, da = 1 km,", "• lunghezza del collegamento internodo X-Z, di = 100 km,\n• tempi di elaborazione nei nodi X e Z, Tp = 10 ms.\nAssumendo una capacità infinita di memorizzazione nei nodi, si vuole calcolare il ritardo \ntotale end-to-end Ttot richiesto per la trasmissione di un’unità dati di 10.000 byte che viene \nspezzata in due pacchetti di uguale lunghezza con un header di pacchetto Lh = 100 byte \n(nessun’altra unità dati attraversa i nodi X e Z).", "Ognuno dei due pacchetti è caratterizzato da un payload di Lp = 5.000 byte e un header di \nLh = 100 byte; i due pacchetti vengono trasmessi senza soluzione di continuità dalla stazio -\nne A (vedi Figura 2.9). Indicando con Tta e Tti i tempi di trasmissione di ogni pacchetto sulle \nlinee di accesso e internodo, e con τa e τi i rispettivi tempi di propagazione, e ricordando \nche la velocità di propagazione su cavo è v = 200.000 km/s, i valori numerici dei ritardi che \nne scaturiscono sono:", "ne scaturiscono sono: \n• τa = da/ν = 5 µs,\n• Tta = (Lp + Lh)/fa = 40,8 ms,\n• τi = di/ν = 0,5 ms,\n• Tti = (Lp + Lh)/fi = 20,4 ms.Esempio 2.6\nPattavinaReti2021.indb   57PattavinaReti2021.indb   57 14/01/2022   16:08:1014/01/2022   16:08:1058  Capitolo 2 – Concetti base delle reti\nTutte le reti a commutazione di pacchetto prevedono una lunghezza massima del payload delle \nunità dati che possono essere trasferite tra nodi. Quindi, in generale, un messaggio dell’utente", "verrà spezzato in una sequenza di pacchetti ( frammentazione dell’UI ), ognuno dotato del \nproprio header necessario per svolgere la funzione di instradamento. Come visto nell’esempio \nprecedente, l’adozione di una molteplicità di pacchetti consente la trasmissione in parallelo da \nparte dei vari nodi. Tuttavia potrebbe anche accadere che l’overhead associato a ogni singolo", "pacchetto vanifichi il vantaggio così ottenuto.Il calcolo del tempo totale necessario per il trasferimento dei due pacchetti richiede di \nsommare tutti le componenti di ritardo. Tuttavia occorre porre attenzione alle conseguenze \ndelle operazioni che vengono svolte in intervalli (parzialmente) sovrapposti dai vari nodi. \nInfatti la trasmissione del secondo pacchetto da parte di ognuno dei due nodi non può ini -", "ziare prima che si sia esaurita la trasmissione del primo pacchetto, ma neanche prima che si \nsia conclusa l’elaborazione dell’instradamento del secondo pacchetto. In questo esempio il \nsecondo pacchetto viene completamente ricevuto nel nodo X dopo la fine della trasmissione \ndel primo pacchetto. Nel nodo Z accade il contrario, in quanto la trasmissione tra i nodi X \ne Z molto più veloce che sulle linee di accesso fa sì che il secondo pacchetto sia comple -", "tamente ricevuto quando la trasmissione del primo è ancora in corso. Tuttavia è possibile \nverificare conteggiando i vari tempi coinvolti che l’elaborazione del secondo pacchetto in \nZ termina al momento in cui termina la trasmissione del primo pacchetto. In conclusione il \ntempo di ritardo totale end-to-end è\nTtotτa2TtaTpτiTtiTpτaTta+ + ++ + + + 3Tta2Tp2τaTtiτi+ + + + = = ,\nche fornisce il valore numerico Ttot = 163,31 ms. fafi fa\nSpaz io\nTempoA BX Z\nTpτa\nTta\nTtiTp\nTpTta\nτi\nTtaτa", "Spaz io\nTempoA BX Z\nTpτa\nTta\nTtiTp\nTpTta\nτi\nTtaτa\nFigura 2.9 Trasferimento di UI attraverso due nodi di rete secondo l’Esempio 2.6.\nPattavinaReti2021.indb   58PattavinaReti2021.indb   58 14/01/2022   16:08:1114/01/2022   16:08:112.2 Tecniche di commutazione  59\nUn servizio di rete fornito con tecnica a commutazione di pacchetto può essere realizzato \nsecondo due modalità ben distinte, che prendono il nome di servizio di tipo datagramma", "(DG) e servizio a circuito  virtuale ( virtual circuit , VC). In un servizio datagramma  le UI \nvengono offerte alla rete senza alcuna verifica preventiva sulle possibilità effettive che la rete \nstessa possa trasferire con successo queste unità dati. Nei servizi a circuito virtuale, i pacchetti \nvengono trasferiti attraverso la rete solo dopo il completamento di una fase iniziale di instau -\nrazione di “connessione”, che consiste nel riservare attraverso la rete le risorse necessarie a", "trasferire il traffico che sta per essere offerto alla rete stessa. Come conseguenza di queste \nmodalità operative, il servizio a circuito virtuale è anche denominato connection-oriented , \nmentre il servizio datagramma è anche identificato come connectionless . \n2.3.2 Commutazione di circuito\nUn servizio di rete a commutazione di circuito rende disponibili connessioni  per il trasfe -\nrimento di dati tra apparecchiature terminali. Questo servizio si articola sempre in tre fasi:", "instaurazione , dati, rilascio . Durante la fase di instaurazione, la connessione richiesta viene \ninstaurata e le risorse trasmissive necessarie a trasportare il flusso di UI generate da una sor -\ngente continua, schematizzabile come sorgente di tipo CBR, sono riservate lungo il percorso \nnella rete. Queste risorse verranno utilizzate nella fase dati al momento di trasferire in rete le \nUI relative alla connessione stessa, per poi essere liberate nella fase di rilascio. Si consideri", "ora un esempio specifico di servizio di rete a commutazione a circuito, come rappresentato \nin Figura 2.11, ipotizzando un’interazione tra i sistemi terminali A e B. Questa interazione Esempio 2.7\nSi consideri il trasferimento di un’unità informativa di 600 byte lungo una serie di quattro \nnodi X-Y-Z-W a commutazione di pacchetto uniti da collegamenti dati a frequenza f = 100 \nkbit/s. Considerando il solo tempo di trasmissione, si vuole determinare il tempo totale di", "trasferimento end-to-end dell’UI nei casi di payload Lp uguale all’intera UI, payload limita -\nto a 200 byte e a 50 byte, assumendo un header di pacchetto Lh = 40 byte. \nLa Figura 2.10 mostra in forma schematica il trasferimento del messaggio tra i nodi ter -\nminali X e W avendo trascurato il ritardo dovuto alla propagazione lungo i collegamenti \ne all’elaborazione dei pacchetti nei nodi. La Figura 2.10a mostra che cosa accade se il", "messaggio non viene frammentato: il suo tempo di ritardo è semplicemente dato dal tempo \ndi trasmissione del messaggio moltiplicato per il numero dei “salti” effettuati, cio è quelli \noriginati nei nodi X, Y, Z, e quindi Ttot = 3( Lp + Lh)/f = 153,6 ms. La Figura 2.10b mostra \nche la frammentazione del messaggio in 3 pacchetti di payload Lp = 200 byte consente di \ndiminuire il tempo di ritardo end-to-end; ciò è dovuto al fatto che la trasmissione da parte", "dei diversi nodi può procedere in parallelo. Condizione necessaria affinché ciò avvenga è \nche il nodo abbia completamente ricevuto l’UI prima di iniziarne la ritrasmissione. Il ritar -\ndo che si ottiene è ora Ttot = 5(Lp + Lh)/f = 96 ms. Infine, se il messaggio viene frammentato \nin 12 pacchetti da Lp = 50 byte l’uno, come mostrato in Figura 2.10c, il ritardo diventa \nTtot = 14( Lp + Lh)/f = 100,8 ms. Quindi la trasmissione dell’header associato a ogni pacchet -", "to, la cui dimensione è fissa, ha reso inutile il vantaggio acquisito dalla parallelizzazione \ndelle trasmissioni. \nPattavinaReti2021.indb   59PattavinaReti2021.indb   59 14/01/2022   16:08:1114/01/2022   16:08:1160  Capitolo 2 – Concetti base delle reti\nrichiede l’attraversamento di tre nodi, denominati X, Y, Z. Come nel caso precedente della \ncommutazione di pacchetto, si osservi che i nodi X e Z sono nodi di accesso (interfacciano", "apparecchiature terminali), mentre Y è un nodo di transito. \nDurante la fase di instaurazione un sistema terminale A che vuole comunicare con un \nsistema terminale remoto B invia al nodo di accesso X un’UI di segnalazione che specifica \nl’indirizzo di rete del sistema B. Il trasferimento di questa unità viene effettuato in modo ana -\nlogo a quanto avviene in una rete a commutazione di pacchetto. Ogni nodo attraversato, scelto", "secondo un opportuno algoritmo di instradamento dal nodo a monte, riserva sul collegamento \nuscente attraversato tutta la capacità richiesta per la comunicazione, fino a che l’UI raggiunge \nla destinazione B. \nNell’esempio di Figura 2.11, assumendo collegamenti di uguale lunghezza e capacità, e nodi \ntutti uguali, il tempo richiesto per la completa ricezione dell’UI da parte di B è 4( τ + Tt) + 3Tp, \nse la componente aleatoria del tempo di attesa nei nodi è trascurabile, come ipotizzato in", "figura. Trascorso il tempo necessario affinché B accetti la richiesta di connessione, la fase \ndi instaurazione viene completata in un tempo 4 τ + Tt necessario per la propagazione della Figura 2.10 Trasmissione di UI senza frammentazione (a) e con frammentazione (b,c).XY ZW XY ZW\n1\n2\n31\n2\n31\n2\n31\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n121\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n121\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12XY ZW\n(a) (b) (c)", "11\n121\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12XY ZW\n(a) (b) (c)\nPattavinaReti2021.indb   60PattavinaReti2021.indb   60 14/01/2022   16:08:1214/01/2022   16:08:122.3 Tecniche di commutazione  61\nrisposta da B ad A e per la sua trasmissione. In questo caso si ipotizza che le risorse di comu -\nnicazione impegnate da A a B siano utilizzate direttamente per la trasmissione anche dell’in -\nformazione in direzione opposta, senza richiedere ulteriore elaborazione nei nodi.", "Alla fase di instaurazione segue la fase dati , nella quale i dati generati da A e da B, sotto \nforma di UI di lunghezza opportuna, sono trasferiti dalla rete a B e A, rispettivamente; ciò \navviene utilizzando la via di rete (sequenza di rami e nodi) tracciata durante la fase di instau -\nrazione4. Dato che una richiesta di connessione viene accettata solo se è possibile riservare la \ncapacità richiesta lungo tutto il percorso, la fase dati è caratterizzata dall’assenza dei tempi di", "elaborazione delle UI nei nodi. Dunque il tempo di ritardo di ogni segmento informativo sarà \ndato dal tempo di propagazione end-to-end in aggiunta al tempo necessario a trasmettere il \nsegmento. \nLa fase di rilascio , che determina la fine del trasferimento di dati, può essere attivata da \nentrambi i sistemi terminali; nel nostro esempio il rilascio è richiesto da A. Questa fase è \nattuata mediante trasferimento di un’UI di segnalazione attraverso la rete lungo la via della", "connessione da A a B, cosa che determina il rilascio delle risorse di comunicazione riservate \nper lo scambio dei dati. \n4 Si osservi che la fase dati etichettata nella Figura 2.11 è riferita alla sorgente A poich é, per effetto del tempo \ndi propagazione finito, la sorgente B in realtà inizia a inviare dati prima dell’inizio della stessa fase dati come \npercepita dalla sorgente A.XY Z\nAB\nSpaz io\nInstaurazion e\nDati\nRilascioRitardo\nend-to-endPropagazione\nTrasmissione\nElaborazioneTempo", "Trasmissione\nElaborazioneTempo\nFigura 2.11 Trasferimento dati a commutazione di circuito.\nPattavinaReti2021.indb   61PattavinaReti2021.indb   61 14/01/2022   16:08:1214/01/2022   16:08:1262  Capitolo 2 – Concetti base delle reti\n2.3.3 Servizio datagramma\nIn una rete a commutazione di pacchetto di tipo datagramma la rete trasferisce i pacchetti \nricevuti nei nodi sorgente attraverso una sequenza di nodi e di rami sulla base dell’indirizzo", "di destinazione che è contenuto in ogni pacchetto. La sequenza dei nodi attraversati dipende \ndagli algoritmi di instradamento che vengono attuati nei singoli nodi. La via da seguire per \nogni pacchetto è memorizzata nella tabella di instradamento , che specifica per ogni desti -\nnazione il collegamento uscente da selezionare, e quindi il nodo successivo ( next hop ) lungo \nil percorso. \nLa Figura 2.12 mostra il principio di trasferimento dati in una rete con servizio di tipo", "datagramma considerando due utilizzatori, A e B. Nell’esempio si ipotizza che il sistema ter -\nminale A invii al server B tre pacchetti e che tutti seguano la stessa strada attraverso i nodi X \ne Y lungo collegamenti che operano alla stessa frequenza di cifra f0. In particolare, non appena \nognuno dei pacchetti viene completamente ricevuto in un nodo, ha inizio la sua elaborazio -\nne per svolgere varie funzioni, tra le quali quella dell’instradamento, che ha come effetto la", "scelta del nodo a valle. Si osserva che il tempo che intercorre tra l’istante di fine ricezione del \npacchetto in ogni nodo e l’istante di inizio di ritrasmissione a valle include due componenti: \nil tempo di elaborazione del pacchetto e il tempo di attesa richiesto per la disponibilità delle \nrisorse trasmissive sul ramo uscente selezionato.\nLa definizione della tabella di instradamento in ogni nodo risponde al criterio di mini -", "mizzare le risorse di rete richieste per instradare un pacchetto. In generale la via più breve, \nespressa per esempio come numero di nodi attraversati, è il criterio più semplice e immediato; \ntuttavia, tecniche più sofisticate richiedono di tenere conto anche degli aspetti di prestazione \nche si conseguono, espressi in termini di tempi di ritardo dei pacchetti e di throughput di rete. \nNe consegue che è buona norma disporre di algoritmi di instradamento “dinamici”, in grado", "cioè di adattarsi alle mutevoli condizioni di traffico in cui viene a trovarsi la rete. A un algo -\nritmo di instradamento dinamico corrisponde naturalmente una variabilità del contenuto delle \ntabelle di instradamento e quindi in generale una variabilità del percorso di rete tra un nodo \nsorgente e un nodo destinazione. \nTempoB AX Y\nSpaz iof0 f0 f0\nFigura 2.12 Trasferimento dati nel servizio datagramma.", "PattavinaReti2021.indb   62PattavinaReti2021.indb   62 14/01/2022   16:08:1214/01/2022   16:08:122.3 Tecniche di commutazione  63\nLa Figura 2.13 mostra un esempio di rete a sei nodi parzialmente magliata in cui un host sor -\ngente HA, connesso al nodo A, invia una sequenza di tre pacchetti all’host di destinazione HD, \nconnesso al nodo D5. L ’host HA consegna i pacchetti al nodo A che li invia al nodo B, sulla", "base della propria tabella di instradamento. Il nodo B, utilizzando la tabella di instradamento \niniziale (Figura 2.14a), invia il primo pacchetto verso il nodo C. Gli altri due pacchetti seguono \ninvece un percorso diverso, in quanto al momento del loro inoltro la tabella di instradamento \ndel nodo B era cambiata (Figura 2.14b); infatti F è divenuto il nodo successivo per i pacchetti \nindirizzati verso D. Quindi, poiché in una rete di tipo datagramma l’instradamento viene", "effettuato pacchetto per pacchetto, indipendentemente dalla relativa sorgente, un cambiamen -\nto nella tabella di instradamento intervenuto durante la ricezione dei pacchetti nel nodo può \nrisultare in instradamenti diversi anche a parità di destinazione. I tre pacchetti vengono quindi \nricevuti dal nodo di destinazione D, il primo attraverso il nodo C, gli altri due attraverso i \nnodi F ed E. \nIn un servizio di tipo datagramma vi è la possibilità che, nonostante il funzionamento", "corretto del protocollo di linea lungo tutti i rami utilizzati, si verifichino i seguenti eventi:\n• fuori sequenza : la destinazione riceve attraverso la rete una sequenza di pacchetti in \nun ordine diverso dalla sequenza di generazione da parte della sorgente;\n• duplicazione : la destinazione riceve due copie identiche dello stesso pacchetto;\n• perdita : un pacchetto viene perso in un nodo della rete, senza che siano disponibili \nprocedure di recupero.", "procedure di recupero. \n5 Nella figura i tre pacchetti sono numerati solo per convenienza grafica, perch é in realtà il servizio datagramma \nnon prevede alcun tipo di numerazione dei pacchetti.1\n32ABC\nFED\nHAHD\nFigura 2.13 Trasferimento di pacchetti nel servizio datagramma..\nFigura 2.14 Tabella di instradamento del nodo B: iniziale (a), finale (b).Dest . Next hop\nA A\nB -\nC C\nD C\nE E\nF FDest . Next hop\nA F\nB -\nC C\nD F\nE E\nF F\n(a) (b)", "A F\nB -\nC C\nD F\nE E\nF F\n(a) (b)\nPattavinaReti2021.indb   63PattavinaReti2021.indb   63 14/01/2022   16:08:1314/01/2022   16:08:1364  Capitolo 2 – Concetti base delle reti\nL ’evento di ricezione fuori sequenza  dei pacchetti può naturalmente verificarsi in una rete di \ntipo datagramma a causa della diversità dei percorsi lungo i quali vengono instradati i singoli \npacchetti, che possono quindi subire ritardi diversi. L ’esempio di Figura 2.15a mostra che il", "pacchetto numero 3 precede il pacchetto numero 2 in ingresso al nodo D, poiché quest’ultimo \nattraversa un nodo in più (il nodo F). \nPer quanto riguarda la perdita  dei pacchetti, si consideri l’esempio nella Figura 2.15b, in \ncui vengono operate le stesse scelte di instradamento considerate nella Figura 2.15a. Ora si \nipotizza che il nodo F si guasti dopo che il pacchetto numero 2 è stato ricevuto e la sua cor -", "retta ricezione confermata al nodo B. In queste condizioni né il nodo D, né la destinazione HD \nhanno modo di rilevare la perdita del pacchetto, che quindi è perso definitivamente. \nPer rappresentare l’evento di duplicazione  di pacchetti si consideri l’esempio di Figura \n2.15c, in cui a differenza dei due esempi precedenti, entrambi i pacchetti numero 2 e 3 sono \ninstradati lungo il ramo B-F. Il nodo F instrada il pacchetto numero 2 verso il nodo E, che", "riscontra regolarmente il pacchetto e lo rilancia al nodo D. Purtroppo il riscontro sul ramo E-F \nviene perduto in seguito a un guasto del ramo, che viene rilevato dal nodo F in uno stato di \nfuori servizio. In assenza di riscontro, il nodo F prova un nuovo instradamento lungo il ramo \n1\n2A\nFEDBC\nHAHD\n1\nABC\nD\nFEHAHD\n21\nA\nFEDBC\nHAHD(a)\n(b)\n(c)\nFigura 2.15 Servizio datagramma: fuori sequenza (a), perdita (b), duplicazione (c).", "PattavinaReti2021.indb   64PattavinaReti2021.indb   64 14/01/2022   16:08:1414/01/2022   16:08:142.3 Tecniche di commutazione  65\nF-D, dove vengono trasmessi con successo i pacchetti numero 2 e 3. Così il nodo D ha ricevuto \ndue copie identiche dello stesso pacchetto numero 2.\nSi è dunque mostrato come nel servizio datagramma il corretto funzionamento dei proto -\ncolli di linea non prevenga a priori eventi indesiderati, quali fuori sequenza, duplicazione e \nperdita di pacchetti.", "perdita di pacchetti.\n2.3.4 Servizio circuito virtuale\nNel servizio circuito virtuale due apparecchiature terminali si scambiano dati solo dopo avere \ninstaurato una connessione virtuale che mette in relazione l’una all’altra. Questo servizio si \narticola in tre fasi, analogamente al servizio reso da una rete a commutazione di circuito che \nmette a disposizione una connessione fisica con risorse di comunicazione dedicate, e cio è \n –fase di instaurazione, \n –fase dati,\n –fase di rilascio.", "–fase dati,\n –fase di rilascio.\nFacciamo riferimento all’esempio di Figura 2.16 per il trasferimento di dati tra le due apparec -\nchiature A e B. Nella fase di instaurazione  di una connessione virtuale la sorgente A invia \nun pacchetto di richiesta di connessione che viene instradato dai vari nodi in base all’indirizzo \ndi destinazione richiesto, secondo le rispettive tabelle di instradamento. Viene così “traccia -", "to” un percorso attraverso la rete, detto circuito virtuale , che dalla sorgente giunge fino alla \nTempoDati\nRilascioInstaurazion eB AX Y\nSpaz iof0 f0 f0\nFigura 2.16 Trasferimento dati nel servizio circuito virtuale..\nPattavinaReti2021.indb   65PattavinaReti2021.indb   65 14/01/2022   16:08:1514/01/2022   16:08:1566  Capitolo 2 – Concetti base delle reti\ndestinazione e che è costituito da una cascata di canali logici , uno per ciascun ramo della rete", "che viene percorso; queste informazioni sono immagazzinate nella tabella di inoltro  del nodo. \nL ’accettazione della richiesta di servizio da parte dei nodi attraversati implica che la rete pre -\nvede di fornire un servizio adeguato di trasferimento dell’informazione in base a parametri di \nprestazione di rete specificati dalla richiesta stessa.\nDopo che la sorgente A riceve indicazione dell’avvenuta instaurazione del circuito virtuale", "ha luogo la fase dati, durante la quale i pacchetti attraversano la rete da A a B lungo il percor -\nso tracciato, grazie al contenuto delle tabelle di inoltro nei nodi X e Y. A differenza di quanto \naccade nel servizio datagramma, la consegna fuori sequenza dei pacchetti a destinazione \nnon può verificarsi per definizione. Inoltre, perdita e duplicazione di pacchetti a destinazione \npossono essere evitate adottando un meccanismo di numerazione dei pacchetti con verifica di", "consistenza all’estremità ricevente della connessione virtuale. \nLa connessione virtuale termina con la fase di rilascio , che ha luogo mediante scambio di \nmessaggi di segnalazione con riscontro locale (la conferma viene generata tratta per tratta). \nQuesta viene attuata su iniziativa di una delle due apparecchiature terminali della connessione \nvirtuale e ha come risultato l’aggiornamento della tabella di inoltro con la cancellazione del \nriferimento alla connessione rilasciata. \nEsempio 2.8", "Esempio 2.8\nNella Figura 2.17a l’host HA richiede l’instaurazione di una connessione virtuale con l’host \nHD. Ciò avviene trasferendo pacchetti di segnalazione da nodo a nodo così da tracciare una \nvia da A a D attraverso la rete. Si noti che i pacchetti di segnalazione vengono instradati \nutilizzando tabelle di instradamento analoghe a quelle definite nel servizio datagramma. \nLungo il percorso così tracciato vengono dunque trasferite le unità informative dell’utente,", "cioè i pacchetti dati, come mostrato nella Figura 2.17b per la fase dati. La definizione di un \nunico percorso per tutti i pacchetti da HA a HD nel servizio circuito virtuale garantisce la \nconsegna a destinazione in sequenza delle unità informative. \nLa Figura 2.18 rappresenta una possibile evoluzione temporale del trasferimento di pacchet -\nti riportato in Figura 2.17. La fase di inizializzazione della connessione virtuale prevede lo", "scambio di pacchetti di segnalazione (richiesta e accettazione). Segue quindi la fase dati \nche nell’esempio in questione prevede il trasferimento di tre pacchetti da A a D, indivi -\ndualmente riscontrati. Nella figura i pacchetti sono numerati per comodità grafica; nella \nrealtà la numerazione può essere presente o meno, a seconda del protocollo che si adotta. \nSi noti come, a differenza di quanto accade trasferendo UI lungo un collegamento, ora il", "tempo di trasferimento attraverso la rete può variare da un’UI all’altra. Infatti, anche se il \ntempo totale di trasmissione e di propagazione lungo la (medesima) serie di collegamenti è \nlo stesso per tutti i pacchetti, ora il diverso tempo di attesa nei nodi attraversati può deter -\nminare differenze anche significative nei tempi totali di attraversamento della rete da parte \ndei pacchetti.", "dei pacchetti. \nPattavinaReti2021.indb   66PattavinaReti2021.indb   66 14/01/2022   16:08:1514/01/2022   16:08:152.3 Tecniche di commutazione  67\nAB C\nD\nFEHAHD\nABC\nFED\nHAHD(a)\n(b)\nFigura 2.17 Servizio circuito virtuale: fase di instaurazione (a), fase dati (b).\nData1\nData2\nData3\nAck1\nConf erma\nAccett azione\nRilascioAD\nAck2\nAck3Richiesta\nFigura 2.18 Trasferimento dati con servizio circuito virtuale secondo l’Esempio 2.8", "PattavinaReti2021.indb   67PattavinaReti2021.indb   67 14/01/2022   16:08:1614/01/2022   16:08:1668  Capitolo 2 – Concetti base delle reti\nTabella di inoltro\nOccorre osservare che nel servizio circuito virtuale la funzione di instradamento, espletata \nmediante l’attuazione di un algoritmo più o meno complesso che determina il collegamento \nuscente dal nodo per il pacchetto in base all’indirizzo di destinazione, viene svolta esclusiva -", "mente nella fase di instaurazione del circuito virtuale. Il risultato dell’operazione di instrada -\nmento effettuata sui pacchetti di segnalazione viene memorizzata nella tabella di inoltro (o \ntabella di attraversamento ) del nodo, affinché per ogni pacchetto dati appartenente a quella \nconnessione virtuale venga “attuata” la stessa scelta. Ciò è reso possibile dalla definizione di \nun identificatore numerico ( numero di canale logico ) per ogni collegamento lungo il circuito", "virtuale. Questo identificatore viene assegnato durante la fase di instaurazione del circuito \nvirtuale e rimane immagazzinato nella tabella di inoltro fino a che il circuito virtuale stesso \nnon viene rilasciato. La tabella di inoltro contiene tante voci quanti sono i circuiti virtuali \nattivi nel nodo e ogni voce contiene i seguenti quattro parametri:\n• nodo a monte del circuito virtuale (o collegamento entrante ),", "• identificatore di canale logico lungo il collegamento entrante (o numero di canale \nlogico in ingresso ),\n• nodo a valle del circuito virtuale (o collegamento uscente ),\n• identificatore di canale logico  lungo il collegamento uscente (o numero di canale \nlogico in uscita ).\nIl generico pacchetto ricevuto nel nodo su un collegamento entrante con un dato numero di \ncanale logico viene inoltrato sul collegamento uscente con il nuovo numero di canale logico,", "così come specificato dalla tabella di inoltro. \nEsempio 2.9\nSi consideri la rete della Figura 2.19a, costituita da nove rami bidirezionali e sei nodi a \nognuno dei quali, per semplicità, si suppone sia associato un solo host. Lo stato delle tabelle \ndi inoltro in un istante arbitrario sia quello mostrato nella Figura 2.19b, in cui il simbolo H \nsta a individuare l’host associato al nodo stesso. \nLa disponibilità delle tabelle di inoltro di tutti i nodi consente di ricavare facilmente la", "mappa dei circuiti virtuali attivi seguendo la successione dei canali logici a partire dal \nsimbolo H presente come identificatore di ingresso. La prima voce della tabella di inoltro \ndel nodo A indica un circuito virtuale cui è stato assegnato dall’host sorgente (arbitraria -\nmente) il numero 41 come identificatore della connessione virtuale con destinazione un host \nassociato al nodo D. In base alla voce della tabella, il nodo A, alla fine dell’operazione di", "instradamento della connessione, ha selezionato B come nodo successivo lungo il circuito \nvirtuale e ha scelto il nuovo numero di canale logico 23 sul ramo A-B. Sulla base della \nprima voce della tabella di inoltro del nodo B, si conferma che la connessione proviene \ndal nodo a monte A con il numero di canale logico 23. Questa volta l’operazione di instra -\ndamento della connessione virtuale nel nodo B ha scelto E come nodo successivo selezio -", "nando il nuovo numero di canale logico 6. Il nodo E, a sua volta, ha scelto di instradare \nla connessione verso il nodo D utilizzando il collegamento diretto e scegliendo il nuovo \nidentificatore 16. Infine, il nodo D risulta essere il nodo di destinazione della connessione \nPattavinaReti2021.indb   68PattavinaReti2021.indb   68 14/01/2022   16:08:1614/01/2022   16:08:162.3 Tecniche di commutazione  69", "Si noti che le voci presenti nelle singole tabelle non sono necessariamente adiacenti; infatti \nalcune posizioni possono essere vuote poiché le connessioni virtuali cui facevano riferimento \nsono state rilasciate e quelle posizioni non sono state ancora riempite. Figura 2.19 Rete a circuito virtuale (a) secondo l’Esempio 2.9 e relative tabelle di inoltro (b).ABC\nFED\nHAHDHBHC\nHEHF\nH41B23\nH2 F7\nF23B 19\nH23B23\nH8 D41\nD2 E41\nA7 E33\nE33A 23B6 D16\nF41H 5\nF33H 13\nH13F 33E16H5F41H 2C23H 23\nH10F 2A23E6", "F33H 13\nH13F 33E16H5F41H 2C23H 23\nH10F 2A23E6\nH0 C3\nH7 A3\nC14H 2A19H 1B23D23\nB3 H2\nH11B 14 F23C 23\nB3 H2IN OUTIN OUTI NO UT\nIN OUT IN OUTIN OUT\nNodoFN odoENodoA NodoDNodoBN odoC(a)\n(b)\nvirtuale cui è infine assegnato l’identificatore 5, in quanto l’identificatore H compare come \nnodo a valle. Quindi è stata individuata la connessione virtuale HA-HD lungo il percorso \ndi rete A-B-E-D, nel quale sono stati utilizzati i numeri di canale logico 41, 23, 6, 16, 5.", "Seguendo la traccia degli altri circuiti virtuali, si arriva a individuare in tutto nove connes -\nsioni virtuali che sono riassunte nella Tabella 2.2. Si può osservare come le due connessioni \nvirtuali HF-HD seguano vie diverse attraverso la rete. Ciò è evidentemente dovuto al fatto \nche la tabella di instradamento del nodo F è cambiata durante il periodo intercorso tra l’in -\nstaurazione delle due connessioni. Infatti in un caso l’instradamento in uscita dal nodo F", "avviene lungo la via diretta, nell’altro attraverso i nodi B e C.\nPattavinaReti2021.indb   69PattavinaReti2021.indb   69 14/01/2022   16:08:1614/01/2022   16:08:1670  Capitolo 2 – Concetti base delle reti\nUn aspetto importante del servizio circuito virtuale riguarda l’indirizzamento dei pacchetti. \nSolo i pacchetti di segnalazione che sono utilizzati per attuare l’instaurazione della connes -\nsione recano gli indirizzi completi di rete dell’host sorgente e dell’host di destinazione. I", "pacchetti dati infatti, grazie al meccanismo di numerazione dei canali logici, non hanno più la \nnecessità di contenere gli indirizzi di rete degli host (e in particolare di quello di destinazione).\nOccorre ora giustificare l’operazione di aggiornamento dell’identificatore di canale logico \nattuata nodo per nodo. Ciò si rende necessario per evitare ambiguità che potrebbero sorgere \nse fosse mantenuto lungo tutta la connessione virtuale il numero di canale logico scelto dalla", "sorgente. Infatti, riferendoci all’esempio di Figura 2.19, supponiamo che nei circuiti virtuali \nHA-HD e HE-HB gli host sorgenti avessero scelto lo stesso numero di canale logico. Poiché \nqueste due connessioni condividono il ramo A-B, il nodo B non sarebbe riuscito a distinguere \ni pacchetti dati delle due connessioni, poiché avrebbero recato lo stesso numero di canale logi -\nco. Dunque la sostituzione del numero di canale logico entrante con un nuovo numero che sul", "ramo uscente sia al momento libero rende priva di ambiguità6 l’operazione di instradamento. \nL ’assenza di ambiguità poteva essere ottenuta anche partizionando a priori  l’insieme di tutti \ni possibili numeri di canale logico tra tutti gli host della rete. È tuttavia evidente che questa \nsoluzione sarebbe molto meno efficiente, specialmente in presenza di moltissimi host, poiché \nrichiederebbe di determinare a priori  il numero massimo di connessioni virtuali che ogni host", "potrebbe chiedere. \nCommutazione cut-through\nUna diversa modalità di commutazione nel servizio circuito virtuale, meno diffusa, prende \nil nome di cut-through  (CT). Questa consiste nel ridurre l’elaborazione del pacchetto al solo \nheader, cosa che consente di attuare la funzione di inoltro mediante lettura della corrispon -\ndente tabella; così l’inizio della trasmissione in uscita non richiede di attendere la ricezione", "dell’intero pacchetto. Indicando con fi e fo la capacità dei collegamenti in ingresso e in uscita \n6 Si noti che potrebbe essere scelto anche lo stesso numero di canale logico entrante, se questo non fosse al \nmomento utilizzato sul ramo uscente selezionato, come nel caso del circuito virtuale numero 8, HF-HD, che \nadotta il solo numero di canale logico 23 lungo tutto il percorso dal nodo sorgente al nodo di destinazione.Tabella 2.2 Connessioni virtuali attive secondo l’Esempio 2.9.", "Numero  Circuito virtuale Percorso\n1 HA-HD A-B-E-D\n2 HA-HE A-F-E\n3 HB-HC B-C\n4 HB-HA B-A\n5 HC-HB C-B\n6 HD-HE D-F-E\n7 HE-HB E-F-A-B\n8 HF-HD F-B-C-D\n9 HF-HD F-D\nPattavinaReti2021.indb   70PattavinaReti2021.indb   70 14/01/2022   16:08:1614/01/2022   16:08:162.3 Tecniche di commutazione  71\ndal nodo generico, la modalità di commutazione cut-through  richiede che la seguente condi -\nzione sia rispettata\nfofi≤.", "zione sia rispettata\nfofi≤.\nInfatti, se ciò non fosse vero, la trasmissione sul lato uscente non potrebbe essere continua per \nuna stessa unità informativa. Tipicamente le due frequenze sono uguali. \nLa Figura 2.20 mostra la sola fase dati dell’esempio di Figura 2.16 quando la commutazione \nè di tipo cut-through  con collegamenti che operano alla stessa frequenza f0. Come si osserva, i \ntempi di trasferimento sono notevolmente ridotti; nel caso limite nel quale il tempo di trasmis -", "sione dell’header sia trascurabile, il tempo di ritardo minimo end-to-end di un pacchetto si \nriduce alla somma del tempo di propagazione end-to-end e del tempo di trasmissione (questa \nvolta conteggiato una volta sola). Naturalmente non è più possibile svolgere altre funzioni di \ncontrollo sull’unità informativa, come per esempio il controllo di errore, poiché queste richie -\ndono l’elaborazione dell’intera unità. Applicazioni tipiche di questa tecnica sono quelle di", "servizi in tempo reale (dove comunque la ritrasmissione di unità dati errate non sarebbe utile) \ne di utilizzazione di sistemi trasmissivi praticamente privi di errore. \n2.3.5 Confronto dei servizi\nLe due modalità di commutazione di pacchetto e di circuito esaminate nei paragrafi preceden -\nti danno luogo a servizi di comunicazione molto diversi tra loro. \nIn una rete a commutazione di circuito, la capacità di rete richiesta da una sorgente di tipo", "continuo viene assegnata in modo esclusivo per ogni chiamata, così che le varie componenti \ndi ritardo di trasferimento in rete delle UI sono praticamente costanti; non si rende infatti \nnecessaria la memorizzazione delle UI nei nodi intermedi della rete. Ne consegue che una \nrete a commutazione di circuito gode della proprietà di trasparenza temporale , secondo cui \nil tempo di trasporto delle diverse unità informative nella rete è caratterizzato da una variabi -", "lità nulla, o comunque minima. La Figura 2.21a mostra un esempio in cui tre UI sono inviate \ndalla sorgente (Tx) e ricevute dalla destinazione (Rx) dopo l’attraversamento di una rete con \nun ritardo T praticamente costante. \nTempoB AX Y\nSpaz iof0 f0 f0\nFigura 2.20 Trasferimento dati nel servizio circuito virtuale con commutazione cut-through.\nPattavinaReti2021.indb   71PattavinaReti2021.indb   71 14/01/2022   16:08:1714/01/2022   16:08:1772  Capitolo 2 – Concetti base delle reti", "Nel caso di commutazione di pacchetto, il trasferimento di UI attraverso la rete non gode \nimplicitamente di trasparenza temporale, poich é la presenza di buffer nei nodi attraversati \nrende il tempo di ritardo end-to-end variabile e non controllabile facilmente. L ’esempio di \nFigura 2.21b mostra il profilo delle UI trasmesse da una sorgente (Tx) e ricevute a destinazione \n(Rx) attraverso una rete priva di trasparenza temporale: il ritardo end-to-end Ti dipende dalla \nspecifica UI.", "specifica UI. \nÈ interessante osservare come una rete temporalmente trasparente richieda che i due appa -\nrecchi terminali siano dello stesso tipo, o comunque mutuamente compatibili, poiché la rete \nnon effettua alcuna “trasformazione” delle UI trasportate. A titolo di esempio, si osserva che \nle due apparecchiature terminali trasmetteranno e riceveranno alla stessa frequenza di cifra, \neseguiranno le medesime procedure di controllo delle UI, ecc. In una rete a commutazione di", "pacchetto questo vincolo di compatibilità fra terminali è ampiamente rilassato, poiché la fun -\nzione di memorizzazione delle UI nei nodi consente di modificare opportunamente i formati \ne le caratteristiche delle unità informative trasferite attraverso la rete. Inoltre si osserva che, \nanche in assenza di errori di trasmissione, solo la commutazione di circuito garantisce che le \nUI giungano tutte a destinazione, grazie al meccanismo dell’allocazione a ogni connessione di", "tutta la capacità richiesta (data dalla frequenza di picco della sorgente). Le UI possono essere \ninvece perdute in reti a commutazione di pacchetto quando si verifica la saturazione dei buffer \ndestinati a immagazzinare le UI in attesa di trasmissione. \nFacciamo ora riferimento ai servizi datagramma e circuito virtuale resi possibili dalla \ncommutazione di pacchetto. Occorre osservare che il servizio circuito virtuale può essere", "fornito da una rete senza necessariamente adottare procedure automatiche di instaurazione \ne di rilascio basate sullo scambio in rete di messaggi di segnalazione. Si fa qui riferimento \na quel servizio di rete, denominato circuito virtuale permanente , nel quale la fornitura del \nservizio richiede l’intervento dell’operatore. Tra le operazioni che questi svolgerà al momento \ndell’attivazione del circuito virtuale permanente, vi sarà l’aggiornamento manuale delle tabel -", "le di inoltro di tutti i nodi attraversati dalla connessione virtuale in questione. Le voci così Figura 2.21 Trasferimento di UI con (a) e senza (b) trasparenza temporale.tTx\ntRx\nT T T\nT1 T2 T3tTx\ntRx(a)\n(b)\nPattavinaReti2021.indb   72PattavinaReti2021.indb   72 14/01/2022   16:08:1814/01/2022   16:08:182.4 Tecniche di commutazione  73\ninserite nelle varie tabelle saranno quindi rimosse solo da un successivo intervento dell’ope -", "ratore, che avverrà al momento in cui egli, manualmente, attuerà la terminazione del circuito \nvirtuale permanente. Il caso tipico è quello in cui un circuito virtuale permanente viene reso \ndisponibile sulla base di un contratto tra utente e gestore di rete; questo sarà dunque rilasciato \nalla scadenza del contratto stesso.\nSi riportano ora alcune considerazioni finali di tipo comparativo sulle caratteristiche e sui", "servizi di reti a commutazione di pacchetto, che sono sinteticamente riassunte nella Tabella \n2.3. La differenza sostanziale tra reti datagramma e reti a circuito virtuale (permanente o no) \nrisiede nella preventiva fase di segnalazione per l’instaurazione del circuito virtuale di queste \nultime. Ciò consente di accettare solo le richieste di connessione che possono essere fornite \ncon adeguata qualità di servizio, commisurata alle risorse di rete disponibili al momento della", "richiesta. Inoltre, permette di semplificare la procedura di inoltro dei pacchetti (nella sola \nfase dati) per mezzo del meccanismo di numerazione dei canali logici (che garantisce anche \nimplicitamente il controllo di sequenza). Ne consegue, come già osservato, che gli indirizzi \ncompleti di sorgente e di destinazione sono necessari sempre nel caso DG, solo nei pacchetti di \nsegnalazione nel caso VC. Infine si osserva che il guasto di un nodo può implicare la perdita", "non recuperabile di pacchetti con servizi DG, senza che i destinatari se ne accorgano; nel caso \nVC viene invece attuato automaticamente il reset di tutti i circuiti virtuali instaurati attraverso \nil nodo, così che gli host alle estremità di queste connessioni virtuali possono attuare eventuali \nprocedure di recupero. \n2.3.6 Aspetti protocollari nella modalità di commutazione\nAl fine di identificare i protocolli coinvolti nelle diverse modalità di commutazione, nell’ambi -", "to del modello a strati introdotto nel Paragrafo 1.3.1, vogliamo distinguere gli strati di utilizza -\nzione,  che risiedono nella parte superiore della pila, dagli strati di trasferimento, che occupano \ninvece la parte inferiore della pila stessa. La Figura 2.22 rappresenta l’ambito di applicazione \ndi questi protocolli nel caso di due sistemi terminali A e B che interagiscono attraverso due \nnodi di rete R e S.", "nodi di rete R e S. \nGli strati di utilizzazione  comprendono funzionalità esclusivamente relative alla gene -\nrazione e alla strutturazione delle unità informative per il loro trasferimento con una data Tabella 2.3 Proprietà dei servizi in reti a commutazione di pacchetto.\nCaratteristica Datagramma Circuito virtuale\nInstradamento Indipendente per pacchettoIndipendente per  \ncircuito virtuale\nInoltro_ Deterministico per  \ncircuito virtuale\nIndirizzamento dei", "circuito virtuale\nIndirizzamento dei \npacchetti (dati)Indirizzo di sorgente  \ne di destinazioneIdentificatore del  \ncanale logico\nControllo di sequenza Assente Implicito\nGaranzia di qualità di servizio Difficile Facile\nGuasto a un nodoPerdita dei pacchetti che  \nattraversano il nodoReset di tutti i circuiti  \nvirtuali attraverso il nodo\nPattavinaReti2021.indb   73PattavinaReti2021.indb   73 14/01/2022   16:08:1814/01/2022   16:08:1874  Capitolo 2 – Concetti base delle reti", "qualità dalla sorgente alla destinazione, indipendentemente dalle caratteristiche della rete di \ncomunicazione che viene attraversata. Le funzioni definite negli strati di utilizzazione sono \ndunque svolte solo nei sistemi terminali, non nei dispositivi di rete, sulla base dei protocolli \ndi utilizzazione . Gli strati e i protocolli di utilizzazione nel nostro modello a strati sono quelli \nrelativi allo strato di applicazione e a quello di trasporto.", "Gli strati di trasferimento  definiscono le modalità di trasferimento delle informazioni di \nutente attraverso una rete di comunicazione. Quindi le funzioni relative agli strati di trasfe -\nrimento saranno localizzate sia nei sistemi terminali, sia negli apparati di rete. I protocolli \ndi trasferimento  definiscono l’interazione tra apparecchiature di rete e tra queste e i sistemi \nterminali. Gli strati e i protocolli di trasferimento nel modello a strati sono quelli relativi allo", "strato di rete, allo strato di collegamento e allo strato fisico. \nSi vogliono ora rappresentare le diverse modalità di commutazione descritte preceden -\ntemente in termini della corrispondente struttura protocollare necessaria al supporto dello \nspecifico modo di trasferimento. Si considera dunque l’interazione tra due sistemi terminali \nA e B attraverso due generici nodi di rete R e S.\nNel caso della commutazione di pacchetto, rappresentata in Figura 2.23, si fa riferimento a", "due diversi nodi di rete, R e S. Mentre il primo nodo svolge tutte le funzioni protocollari fino \nallo strato di rete, nel secondo nodo le funzioni di rete sono limitate al livello 2, in quanto il \nprotocollo di rete è assente. Il trasferimento di stringhe binarie coinvolge naturalmente tutte \nle apparecchiature allo strato fisico. A livello 2 le unità informative, cio è le trame, vengono \nscambiate tra apparecchiature adiacenti e quindi tra ogni sistema terminale e il corrispondente", "nodo di rete, nonché tra i due nodi di rete. Le funzioni che vengono svolte sono quelle relative \nal controllo di integrità delle trame e al controllo di flusso, che regola il riempimento delle \nmemorie di ricezione per evitare la perdita di UI. A livello 3 la principale funzione svolta nei \nnodi di rete è quella di instradare le unità informative, cio è i pacchetti, verso la loro destina -\nzione. Quindi nell’esempio di Figura 2.23 è il solo nodo R che svolge questa funzione, con la", "conseguenza che solo questo nodo interagisce con i due sistemi terminali A e B. Con il sistema Stratidi\ntrasferim entoStratidi\nutilizzazione\nA BRSProtocollidiutilizzazion e\nProtocolli\nditrasferiment oProtocolli\nditrasferiment oProtocolli\nditrasferiment oStrati di\ntrasfe riment oStrati di\nutilizzazion e\nStratidi\ntrasferimentoStratidi\ntrasferimento\nFigura 2.22 Tipologia di strati.\nFisicoRete\nFisicoReteStratidi\nutilizzazione\nFisico FisicoRete\nCollegamento Collegament o", "Fisico FisicoRete\nCollegamento Collegament o\nA BRSColleg amento CollegamentoStratidi\nutilizzazion e\nFigura 2.23 Modello a strati nella commutazione di pacchetto.\nPattavinaReti2021.indb   74PattavinaReti2021.indb   74 14/01/2022   16:08:1814/01/2022   16:08:182.4 Tecniche di multiplazione  75\nA il trasferimento è diretto, mentre con il sistema B i pacchetti attraversano trasparentemente \nil nodo S utilizzando diverse trame nelle due tratte R-S e S-B. Le apparecchiature di rete che", "svolgono le funzioni dei nodi R e S sono denominate rispettivamente “router” e “bridge” (vedi \nParagrafo 11.1).\nAnche se il modello a strati dell’architettura protocollare è stato introdotto per descrivere \nla commutazione di pacchetto, si vuole qui utilizzare lo stesso modello a strati per descrivere \ncosa accade nella commutazione di circuito. In questo caso facciamo riferimento alla sola fase \ndi trasferimento dati, omettendo di descrivere la fase di instaurazione della connessione. La", "funzionalità di ogni nodo di rete in questo caso è implicitamente limitata al solo livello fisico, \npoiché la rete mette a disposizione tutta la capacità richiesta dalla connessione. Non si rende \nquindi necessaria la generazione e l’elaborazione di unità informative di livello di collegamen -\nto e di rete e ciò corrisponde all’assenza di ogni tipo di protocollo di collegamento e di rete. \nQuindi i due nodi di rete ritrasmettono semplicemente le stringhe binarie ricevute. La Figura", "2.24 rappresenta questa situazione. \n2.4 Tecniche di multiplazione\nOccorre innanzitutto distinguere tra due diverse modalità di condivisione della capacità di \nun canale di comunicazione che dipendono dalla localizzazione degli utilizzatori del canale \nstesso, cio è sorgenti e destinazioni delle unità informative (UI). Se il canale di comunicazione \nè unidirezionale, quindi con trasmissione di tipo simplex  (che permette cio è il trasferimento", "di segnali in una sola direzione), allora sorgenti e destinazioni saranno distinte; se invece è \nbidirezionale con trasmissione di tipo half-duplex , HD, (non è permesso il trasferimento con -\ntemporaneo dei segnali nelle due direzioni) o full-duplex , FD, (i segnali sono trasferiti con -\ntemporaneamente nelle due direzioni), la generica apparecchiatura che si interfaccia al canale \nagisce sia da sorgente, sia da destinazione.", "agisce sia da sorgente, sia da destinazione. \nLa multiplazione consente di sfruttare la capacità disponibile su un collegamento tra nodi \nper metterla a disposizione contemporaneamente di più flussi informativi. Per esempio, se un \ncollegamento opera a 1 Mbit/s e un generico flusso richiede la capacità di 10 kbit/s, impiega -\nre il canale per un solo flusso comporterebbe un’utilizzazione del canale stesso all’1% della", "sua potenzialità. Se, invece, il canale può supportare 80 flussi contemporaneamente, ognuno \ncaratterizzato dalla capacità citata, l’utilizzazione del canale salirebbe all’80%. Si noti che la \ntecnica di multiplazione può variare a seconda della sezione di rete considerata; in particolare, \ndiverse tecniche di multiplazione sono adottate nelle reti di accesso e nella rete di trasporto. \nFisico FisicoStratidi\nutilizzazione\nFisico Fisico\nA BRSStratidi\nutilizzazion e\nVuot o\nVuot oVuot o\nVuot o", "utilizzazion e\nVuot o\nVuot oVuot o\nVuot o\nFigura 2.24 Modello a strati nella commutazione di circuito.\nPattavinaReti2021.indb   75PattavinaReti2021.indb   75 14/01/2022   16:08:1814/01/2022   16:08:1876  Capitolo 2 – Concetti base delle reti\nIl modello generale di sistema di multiplazione, per semplicità rappresentato come unidire -\nzionale (simplex), è mostrato in Figura 2.25 nel caso di 5 coppie sorgente-destinazione, (A-A’,", "B-B’, C-C’, D-D’, E-E’), così che il sistema supporta 5 canali. Sorgenti e destinazioni sono \nposizionate alle due estremità del collegamento multiplato, dove operano due dispositivi deno -\nminati multiplatore  e demultiplatore  che agiscono da interfaccia tra sorgenti e collegamento \nda una parte, tra collegamento e destinazioni dall’altra. Il primo dispositivo riceve le unità \ninformative dalle sorgenti A-E e le trasmette sul collegamento con opportuna strategia, mentre", "il secondo dispositivo riceve il flusso delle UI dal collegamento stesso e le distribuisce alle \nrispettive destinazioni A’-E’. Se il canale è bidirezionale, multiplatore e demultiplatore saran -\nno equipaggiati congiuntamente a entrambe le estremità del collegamento. \n2.4.1 Tassonomia delle tecniche di multiplazione\nSono tre le tecniche di multiplazione che possono essere adottate per la condivisione di un \ncanale di comunicazione:", "canale di comunicazione:\n• multiplazione a divisione di frequenza ( frequency division multiplexing , FDM),\n• multiplazione a divisione di tempo ( time division multiplexing , TDM),\n• multiplazione a divisione di lunghezza d’onda ( wavelength division multiplexing , \nWDM).\nLa multiplazione a divisione di frequenza, che è stata storicamente la prima ad essere adottata \nutilizzando componenti analogici, suddivide la banda a disposizione sul portante trasmissivo", "in “fette” (canali), tante quanti sono i flussi da multiplare. Queste fette sono naturalmente \ndisgiunte, senza quindi sovrapporsi in frequenza, e spesso si usa anche lasciare inutilizzata \nuna “banda di guardia” tra canali per consentire la realizzazione fisica di sistemi di multpla-\nzione FDM con dispositivi (per esempio filtri) di complessità limitata. Il caso di multiplazione \nFDM a 5 canali è mostrato in Figura 2.26a.", "FDM a 5 canali è mostrato in Figura 2.26a. \nLa multiplazione a divisione di tempo, affermatasi successivamente a quella FDM grazie \nall’avvento dei dispositivi numerici, assegna invece ciclicamente al singolo canale la totalità \ndella banda disponibile sul collegamento, anche se per un intervallo di tempo limitato. In \nquesto modo i diversi canali hanno a disposizione l’intera capacità del mezzo trasmissivo per", "intervalli limitati che si ripetono periodicamente nel tempo. Anche in questo caso, potrebbe \nessere necessario lasciare un “tempo di guardia” di separazione tra canali per facilitare l’im -\nplementazione fisica del sistema. La Figura 2.26b mostra il principio di multiplazione TDM. \nA\nB\nC\nD\nEA'\nB'\nC'\nD'\nE'\nFigura 2.25 Schema di un sistema di multiplazione.\nPattavinaReti2021.indb   76PattavinaReti2021.indb   76 14/01/2022   16:08:1914/01/2022   16:08:192.4 Tecniche di multiplazione  77", "La multiplazione a divisione di lunghezza d’onda, che si è affermata per ultima, è quella uti -\nlizzata nelle fibre ottiche. Essa suddivide l’intervallo di banda ottica a “fette”, assegnandone \nuna in modo esclusivo a ognuno dei canali da multiplare. Poiché esiste una relazione fissa tra \nlunghezza d’onda e frequenza (vedi Equazione (1.1)), la tecnica WDM coincide con quella \nFDM e quindi la Figura 2.26a rappresenta anche il caso WDM.", "La realizzazione di una comunicazione bidirezionale tra due nodi si realizza utilizzando \ndue mezzi trasmissivi distinti per le due direzioni, oppure un unico mezzo trasmissivo condi -\nviso per i due flussi informativi. In quest’ultimo caso, quindi, la tecnica di multiplazione entra \nin gioco due volte: la prima per multiplare i canali in una direzione e la seconda per condivide -\nre il collegamento nelle due direzioni. A quest’ultimo aspetto si dà il nome di duplexing . Con", "la tecnica time division duplexing (TDD) il canale viene utilizzato alternativamente nelle due \ndirezioni, mentre con la tecnica frequency division duplexing (FDD) la banda a disposizione \nviene suddivisa in due porzioni, assegnando ognuna di esse alla trasmissione in una delle due \ndirezioni. È pratica comune utilizzare anche contemporaneamente la multiplazione a divi -\nsione di tempo e a divisione di frequenza in un sistema bidirezionale. Per esempio, la banda", "disponibile sul mezzo trasmissivo può essere divisa in due porzioni, a divisione di frequenza \no di lunghezza d’onda (FDD), per i due versi trasmissivi e ognuna di queste è poi utilizzata a \ndivisione di tempo (TDM). \nNella descrizione che segue si ipotizza che la condivisione del canale avvenga esclusiva -\nmente con tecnica a divisione di tempo. \n2.4.2 Soluzioni concettuali di multiplazione TDM\nLe tecniche di multiplazione a divisione di tempo si distinguono in due classi, a seconda del", "tipo di sorgenti di informazione che generano i flussi da multiplare (Figura 2.27). La multi -\nplazione deterministica  viene utilizzata con sorgenti continue, cio è di tipo CBR, e dà luogo \na un interallacciamento di tipo periodico dei canali multiplati. La multiplazione statistica  è \nimpiegata invece con sorgenti tipicamente discontinue, cio è di tipo VBR, e quindi non produce \nalcuna forma di periodicità. Con questo secondo tipo di multiplazione si distinguono ulterior -", "mente i due casi di multiplazione di UI a lunghezza fissa ( a slot ) da quello di UI a lunghezza \nvariabile ( continua ). \nFacciamo riferimento a un multiplatore caratterizzato da N ingressi, sui quali si ricevono \nN flussi di unità informative, denominati tributari , che, salvo indicazione contraria, hanno \nle stesse caratteristiche statistiche. I flussi d’ingresso sono generati da sorgenti con fattore Figura 2.26 Tipi di multiplazione: FDM e WDM (a), TDM (b).tf\ntf\n(a) (b)", "tf\n(a) (b)\nPattavinaReti2021.indb   77PattavinaReti2021.indb   77 14/01/2022   16:08:1914/01/2022   16:08:1978  Capitolo 2 – Concetti base delle reti\ndi burstiness B e vengono ricevuti alla frequenza di picco  ft (bit/s). Gli N flussi in ingresso \ncostituiscono il traffico offerto  (in ingresso) al multiplatore la cui intensità (o valore medio), \nindicata con il simbolo Ao, è data da\n)2.7( AoNBft=", ")2.7( AoNBft=                \ndovendo tenere conto del fatto che le UI sono offerte dalle sorgenti solo quando queste sono \nattive.\nIl flusso in uscita dal multiplatore viene generato alla frequenza fm (bit/s). Per semplicità \ntrascuriamo per ora le informazioni aggiuntive (di controllo) che il multiplatore deve aggiun -\ngere ai flussi ricevuti. Per il traffico smaltito  (in uscita) dal multiplatore, la cui intensità (o \nvalore medio) è indicata con il simbolo As, vale la relazione\nAsAo≤", "AsAo≤\ndove il segno di uguaglianza si applica se nessuna UI viene persa dal multiplatore. Il traffico \ntrasportato As da un multiplatore esprime anche il throughput  del dispositivo. \nSe la capacità di trasmissione del multiplatore sulla linea di uscita è inferiore alla somma \ndelle capacità delle linee di ingresso, cio è se\nfmNft<\nallora il dispositivo prende anche il nome di concentratore  e Nft/fm prende il nome di fattore", "di concentrazione . Un esempio di concentratore è rappresentato da un’apparecchiatura di una \nrete di accesso.TDM\nMultiplaz ione\ndeterministicaMultiplaz ione\nstatistica\nA slot Continua\nFigura 2.27 Tassonomia delle tecniche di multiplazione a divisione di tempo.\nSi vuole esaminare un’apparecchiatura di rete presente in un nodo di accesso che interfaccia \nN = 180 linee di utente alla frequenza di cifra ft = 64 kbit/s e che utilizza un unico collega -", "mento uscente verso un nodo a valle di capacità C = 1,92 Mbit/s. \nL ’apparecchiatura in questione svolge evidentemente il ruolo di concentratore dato che solo \nC/ft = 30 delle 180 linee possono essere attive contemporaneamente. Quindi il sistema opera \nun fattore di concentrazione uguale a 6. Esempio 2.10\nPattavinaReti2021.indb   78PattavinaReti2021.indb   78 14/01/2022   16:08:2014/01/2022   16:08:202.4 Tecniche di multiplazione  79\n2.4.3 Multiplazione deterministica", "2.4.3 Multiplazione deterministica\nIn un multiplatore deterministico  i flussi ricevuti (tributari) vengono sempre accomodati nel \nflusso uscente interallacciando ciclicamente nel tempo le unità informative dei singoli flussi \nin ingresso. La struttura logica che definisce l’organizzazione delle UI sulla linea uscente si \nchiama trama  e comprende un’UI per ogni tributario. L ’operazione di multiplazione richiede", "necessariamente la presenza di una (piccola) unità di memoria su ogni ingresso ( memoria di \nlinea ), che consenta di immagazzinare ogni UI ricevuta in attesa dell’occorrenza della posi -\nzione nella trama ad essa dedicata; la capacità della memoria di linea è dell’ordine del numero \ndei byte di un’UI. Il tempo richiesto per trasmettere una trama prende il nome di periodo  e \nviene indicato con il simbolo T (s). In un multiplatore deterministico è sempre vera la relazione", ")2.8( fmNft= .            \nNe consegue che il tempo richiesto per trasmettere in uscita dal multiplatore una generica \nunità informativa è N volte più piccolo di quello impiegato a riceverla sulle linee di ingresso \ne che quest’ultimo tempo coincide anche con la durata della trama. \nLa Figura 2.28 mostra un esempio di multiplazione deterministica nel caso di N = 4 tribu -\ntari con UI di lunghezza fissa7. Il multiplatore riceve dai tributari flussi di UI che in linea di", "principio sono disallineati e potrebbero anche essere discontinui. Nella figura i flussi numero \n1 e 2 sono costituiti da due UI, il flusso numero 4 da tre UI, mentre il flusso numero 3 è \nassente. Come si vede dall’esempio, indipendentemente dalle caratteristiche di questi flussi, il \nmultiplatore riserva sul flusso in uscita una posizione nella trama per ogni flusso entrante e \ngrazie alla memoria di linea ogni UI sarà trasmessa nella propria posizione.", "Quindi il multiplatore deterministico è pensato per operare con sorgenti di informazione di \ntipo CBR, cio è con fattore di burstiness B unitario, altrimenti la capacità disponibile in uscita \ndal multiplatore potrebbe essere fortemente sottoutilizzata. Facendo riferimento al modello di \nsorgente CBR definito nel Paragrafo 2.1.4, che definisce la frequenza di picco P e la frequenza \nmedia A di una sorgente, vale la relazione \nftP A = =.", "ftP A = =.\nInoltre risulta evidente che in un multiplatore deterministico nessuna UI viene persa, data la \ncapacità riservata sulla linea uscente per ogni tributario, quindi il traffico in uscita al multi -\nplatore coincide con quello in ingresso, cio è\nAsAoNBft= = .\n2.4.4 Multiplazione statistica\nUn multiplatore statistico  non assicura invece una posizione nel flusso uscente per ogni UI \nricevuta e quindi non definisce alcuna struttura di trama. Il principio secondo cui esso opera", "è semplicemente quello di allocare nel modo migliore possibile la capacità disponibile sulla \nlinea uscente, per trasmettere le UI che vengono ricevute sugli ingressi. In un multiplatore \nstatistico vale la relazione \n7  Dato il legame specificato dall’Equazione (2.8) tra la capacità del collegamento in uscita e quella dei flussi in \ningresso, non vi è alcuna necessità di specificare la capacità dei collegamenti; basti osservare che il tempo di", "trasmissione in uscita di ogni UI è un quarto di quello di ricezione di ogni UI sugli ingressi.\nPattavinaReti2021.indb   79PattavinaReti2021.indb   79 14/01/2022   16:08:2014/01/2022   16:08:2080  Capitolo 2 – Concetti base delle reti\n)2.9( fmNft≤ .            \nNe consegue che i flussi entranti sono per definizione discontinui. Modelliamo allora il tri -\nbutario entrante i-esimo ( i = 1, ..., N) per mezzo di una sorgente VBR di tipo ON-OFF, la cui", "caratterizzazione è data da due parametri: frequenza di picco, Pi (bit/s), e frequenza media Ai \n(bit/s). Avendo inoltre ipotizzato flussi tributari di uguale capacità, allora\nPi = ft         i = 1, ...,  N .\nInoltre, un dimensionamento corretto del multiplatore richiede che la capacità disponibile in \nuscita non sia inferiore a quella media complessiva richiesta da tutti i flussi tributari, e quindi \nla seguente relazione deve sempre valere\n)2.10( fm Ai\ni1=N\n∑≥ .", ")2.10( fm Ai\ni1=N\n∑≥ .            \nLa scelta per il parametro fm di valori vicini al flusso medio totale offerto (come specificato \ndall’Equazione (2.10)) implica un’utilizzazione quasi ottimale del canale, ma può generare \nconflitti nell’assegnazione del canale alle varie sorgenti nel momento in cui molte di esse siano \ncontemporaneamente attive, come valutato nel seguito. L ’adozione di valori vicini al flusso di", "picco (come specificato dall’Equazione (2.9)) riduce i problemi di conflitto, ma porta a una \nsottoutilizzazione del canale. Nel caso estremo di adozione di una capacità uguale alla fre -\nquenza di picco delle sorgenti, il fattore di utilizzazione del canale per le sorgenti supportate \nsarebbe uguale al fattore di burstiness B della sorgente nel caso di sorgenti tutte uguali; esso \nquindi sarebbe tanto più basso quanto più la sorgente è intermittente. Per esempio se P = 100", "kbit/s, A = 10 kbit/s, un collegamento di capacità C = 1 Mbit/s è in grado di supportare da 10 \na 100 sorgenti. \nLa Figura 2.29 mostra un esempio di multiplazione statistica assumendo N = 4 tributari, \nche offrono UI a lunghezza fissa, e capacità sulla linea uscente doppia di quella di ogni linea \nentrante8. È stato assunto un ordine di trasmissione delle UI ricevute dai tributari secondo il \nloro ordine di arrivo. A differenza dell’esempio di Figura 2.28 ora la linea di uscita è sempre", "attiva, anche se l’attività sulle diverse linee di ingresso non è continua. Tuttavia è evidente che \n8 Ciò si deduce osservando che il tempo di trasmissione in uscita di una UI è la metà di quello di ricezione della \nstessa sugli ingressi.1\n2\n3\n414\nt0 t1 t2 t3t1 t2 t3 t414 1 4\nFigura 2.28 Esempio di multiplazione deterministica.\nPattavinaReti2021.indb   80PattavinaReti2021.indb   80 14/01/2022   16:08:2014/01/2022   16:08:202.4 Tecniche di multiplazione  81", "ciò può accadere solo se il multiplatore dispone di una memoria (buffer) in cui immagazzinare \nle UI ricevute che non possono essere trasmesse immediatamente. Il livello di riempimento del \nbuffer, che contiene le UI in attesa di trasmissione, è mostrato nella figura stessa. Quindi la \ncapacità di memoria nel multiplatore statistico è molto più grande di quella della memoria di \nlinea del multiplatore deterministico; infatti nel primo caso essa deve memorizzare un numero", "anche grande di UI, mentre nel secondo caso la capacità è tipicamente di un’UI per ciascun \ntributario. Si osservi che la trasmissione delle 16 UI ricevute richiede un tempo superiore a \nquello durante il quale sono state ricevute. \nDall’esempio risulta evidente che, anche se la condizione stabilita dall’Equazione (2.10) \nviene rispettata, non vi è alcuna garanzia che le UI ricevute vengano effettivamente trasmesse,", "a meno che il buffer non abbia capacità talmente grande da non andare mai in saturazione. \nNell’esempio in questione un buffer di capacità inferiore a quattro UI9 darebbe luogo a perdita \ndi unità informative. \nUn aspetto critico del multiplatore statistico è determinare la capacità del collegamento \nuscente in funzione delle caratteristiche delle sorgenti, in modo tale che le sue prestazioni \nsiano accettabili. Ipotizziamo, per semplicità, che tutti i tributari siano caratterizzati dagli", "stessi parametri, cio è frequenza media A e frequenza di picco P =  ft; inoltre, che il collega -\nmento uscente dal multiplatore abbia una capacità multipla con fattore c della frequenza di \nogni tributario, cio è\nfmcftcP = = .\nAssumendo l’indipendenza statistica delle sorgenti, la probabilità Pk di avere k tra le N sorgenti \ncontemporaneamente attive è semplicemente data dalla distribuzione binomiale, cio è\n)2.11( PkN\nkBk1B–()Nk–=", ")2.11( PkN\nkBk1B–()Nk–=           \ndove B indica la probabilità che la sorgente generica sia attiva, che coincide con il fattore di \nburstiness B = A/P della singola sorgente. \nIn assenza di memoria, si può determinare la probabilità di perdita Pp di UI, evento che si \nverifica quando una sorgente attiva non trova disponibilità di trasmissione sulla linea uscente. \nChiaramente ciò accade quando le sorgenti contemporaneamente attive sono più di c e quindi", "9 Si assume che anche l’UI in trasmissione occupi una posizione nel buffer.1\n2\n3\n4\nt0 t1 t2 t3 t4 t5t1 t2 t4 t5 t6 t7 t8 t3\nt6Buffer\nFigura 2.29 Esempio di multiplazione statistica a slot.\nPattavinaReti2021.indb   81PattavinaReti2021.indb   81 14/01/2022   16:08:2114/01/2022   16:08:2182  Capitolo 2 – Concetti base delle reti\n)2.12( ΠpPk\nkc1+=N\n∑= .             \nQuindi, nel caso del multiplatore statistico, in cui l’intensità del traffico in ingresso è data", "dall’Equazione (2.7), l’intensità del traffico in uscita è espressa come \nAs1Πp–()Ao= .\nPoich é c indica anche il massimo numero delle sorgenti attive contemporaneamente che trova -\nno posto sul canale di uscita, allora definiamo S = N /c come il fattore di sottodimensionamento  \ndel multiplatore rispetto a una capacità massima in uscita fm = Nft; quest’ultima condizione \ncorrisponde a garantire che tutte le UI generate dai tributari trovino sempre posto nel flusso", "uscente. Il nostro obiettivo è saper scegliere il massimo livello di sottodimensionamento che \npossa garantire la qualità di servizio desiderata, dato il fattore di burstiness delle sorgenti.\nLa valutazione numerica appena effettuata non tiene comunque conto della quantità di tempo \nper cui ogni sorgente attiva tiene impegnato il canale uscente del multiplatore. Per tenere conto \ndi ciò utilizziamo ora un modello a coda di tipo M/M/1/L, che rappresenta il funzionamento", "di un multiplatore statistico continuo10 dotato di buffer con capacità di L UI. I parametri di \ntraffico che andiamo qui a considerare sono la frequenza media fUI (s-1) con cui le UI sono \nofferte al multiplatore e la lunghezza media Lm (bit) delle UI. Il traffico offerto al multiplatore \nè quindi espresso da \nAoLmfUI=  [bit/s],\nche nell’espressione adimensionale in Erlang diventa\nAoLmfUI\nfm--------------- =  [Erl].", "AoLmfUI\nfm--------------- =  [Erl].\n10  Senza entrare nei dettagli di un modello a coda, si vuole qui utilizzare questo modello esclusivamente per \nvalutare numericamente i parametri di prestazione del multiplatore statistico. Nel caso della coda M/M/1/L si \nipotizza che: (i) le sorgenti siano un numero infinitamente grande, (ii) le UI siano offerte al multiplatore con \ntempi di interarrivo a distribuzione esponenziale (assumendo quindi un processo di Poisson), (iii) le UI abbiano", "lunghezza variabile con distribuzione esponenziale, (iv) il sistema abbia una sola unità di servizio, (v) si pos -\nsano immagazzinare fino a L UI in attesa di trasmissione.Si vuole valutare la probabilità che una sorgente attiva non riceva servizio nel caso di \nN = 20 sorgenti al variare del loro fattore di burstiness B per c = 1, 2, 4, 8, 16. \nLa Figura 2.30 riporta l’andamento della probabilità di perdita di UI in funzione del coef -", "ficiente di attività B di ogni sorgente, fornita dall’Equazione (2.12) per diversi valori della \ncapacità in uscita del multiplatore. Come si vede esaminando l’intersezione delle varie \ncurve con un dato livello di probabilità di perdita, il fattore di sottodimensionamento \naumenta al diminuire del fattore di burstiness. Per esempio, assumendo una probabilità \ndi rifiuto Pp = 10-3, il fattore di sottodimensionamento aumenta da S =  1,25 per B =  0,4 a \nS = 10 per B =  0,01. Esempio 2.11", "S = 10 per B =  0,01. Esempio 2.11\nPattavinaReti2021.indb   82PattavinaReti2021.indb   82 14/01/2022   16:08:2114/01/2022   16:08:212.4 Tecniche di multiplazione  83\nUtilizzando il modello a coda introdotto [Kleinrock], si riporta nella Tabella 2.4 la probabilità \ndi perdita associata alle diverse profondità del buffer L = 0, 1, 2, 4, 8, 16 per diversi livelli \ndel traffico offerto espresso in Erlang. I valori numerici mostrano chiaramente che anche una", "modesta quantità di memoria ( L = 8) nel multiplatore consente di avere una probabilità di per -\ndita bassa (inferiore a 10-3 per un traffico offerto uguale al 50% della capacità del multiplatore \ne addirittura dell’ordine di 10-9 per una utilizzazione del 10% del canale in uscita). \nFacendo invece riferimento a un multiplatore statistico a slot , quindi con UI a lunghezza \ncostante di Lc bit, possiamo considerare il modello a coda M/D/1 [Kleinrock], che assume un", "tempo di trasmissione costante e ipotizza che la capacità di memoria nel multiplatore sia infi -\nnita. In base a questo modello, il traffico smaltito ( throughput) coincide con il traffico offerto \ne la sua intensità, espressa in bit/s, è data da\nAsAoLcfUI= =  [bit/s],\nche nell’espressione adimensionale in Erlang diventa c = 16 c = 4 c = 2c = 1\nc = 8\n10-510-410-310-210-1100\n10-310-210-1100N = 20Probabilità di pe rdita,  Πp\nFattore di bu rstiness, B", "Fattore di bu rstiness, B\nFigura 2.30 Probabilità di perdita nel multiplatore statistico secondo l’Esempio 2.11.\nTabella 2.4 Probabilità di perdita in un multiplatore statistico.\nAoL = 0 L = 1 L = 2 L = 4 L = 8 L = 16\n0,01 9,9 x 10-39,9 x 10-59,9 x 10-79,9 x 10-119,9 x 10-199,9 x 10-35\n0,05 4,8 x 10-2 2,4 x 10-3 1,2 x 10-4 3,0 x 10-7 1,9 x 10-12 7 ,2 x 10-23\n0,10 9,1 x 10-2 9,0 x 10-3 9,0 x 10-4 9,0 x 10-6 9,0 x 10-10 9,0 x 10-18", "0,50 3,3 x 10-1 1,4 x 10-1 6,6 x 10-2 1,5 x 10-2 9,8 x 10-4 3,8 x 10-6\n0,90 4,7 x 10-1 3,0 x 10-1 2,1 x 10-1 1,3 x 10-1 5,9 x 10-2 2,0 x 10-2\nPattavinaReti2021.indb   83PattavinaReti2021.indb   83 14/01/2022   16:08:2114/01/2022   16:08:2184  Capitolo 2 – Concetti base delle reti\nAsAoLcfUI\nfm------------- = =  [Erl].\nPoiché il traffico smaltito normalizzato così definito assume valori nell’intervallo (0,1), esso", "viene anche indicato come coefficiente (o fattore ) di utilizzazione dell’apparecchiatura con il \nsimbolo ρ e rappresenta anche la quota parte di tempo in cui la linea uscente dal multiplatore \nè attiva. Utilizzando il modello a coda M/D/1 [Kleinrock], il tempo medio di attraversamento \ndel multiplatore statistico a slot è dato dall’espressione \n)2.13( TLc\nfm-----ρ\n21ρ–()--------------------Lc\nfm----- + =", "fm----- + =             \nin cui al tempo di trasmissione Lc/fm dell’UI si aggiunge il tempo di attesa richiesto per comple -\ntare la trasmissione delle UI ricevute in precedenza dal multiplatore, ma non ancora trasmesse. \nLa Figura 2.31 riporta, in funzione del traffico offerto Ao, il tempo medio normalizzato Tn \ndi attraversamento del multiplatore ottenuto dividendo il tempo medio T dato dall’Equazione", "(2.13) per il tempo di trasmissione di una UI. Il grafico mostra che il tempo di ritardo si man -\ntiene sotto il valore Tn = 2 per livelli di traffico offerto inferiori a Ao = 0,65 Erl, per assumere il \nvalore Tn = 10,5 per un fattore di utilizzazione del collegamento uscente del 95%. Naturalmen -\nte, il ritardo diventa infinitamente grande per traffico offerto Ao = 1,0 Erl. Ciò corrisponde al \ncaso limite in cui il tempo medio che intercorre tra due arrivi di UI in ingresso al multiplatore", "coincide con il tempo di trasmissione dell’UI sulla linea uscente.\nSi consideri l’interazione tra due stazioni terminali, e cio è una sorgente S e una destina -\nzione D, attraverso una rete a commutazione di pacchetto che prevede l’attraversamento \ndei due nodi di accesso X e Z e del nodo di transito Y, come rappresentato in Figura 2.32. \nI collegamenti X-Y e Y-Z in cavo hanno lunghezza d = 100 km. I collegamenti di accesso", "S-X e Z-D hanno lunghezza trascurabile e una capacità arbitrariamente grande. La sorgente \nS genera un file di L = 5 kbyte che viene trasferito alla destinazione D come unica unità \ninformativa priva di overhead. Il nodo X trasmette il file sulla linea uscente di capacità \nfX = 20 Mbit/s occupata dal solo flusso della sorgente S. Il nodo Y, che riceve traffico da \nmolti altri nodi a monte, ritrasmette il file sulla linea uscente verso il nodo Z che ha capa -", "cità fY = fX = f = 20 Mbit/s. Si assume un tempo di elaborazione costante Tp = 100 ms per \ndeterminare l’instradamento nei nodi X e Y. Si vuole calcolare il tempo medio totale Ttot \nrichiesto per il trasferimento dell’UI attraverso la rete nei tre casi in cui il nodo Y riceva in \ningresso un traffico medio totale Ao = 4, 10, 19 Mbit/s. \nIl calcolo del tempo totale di trasferimento richiede di tenere conto di tutte le componenti", "di ritardo coinvolte nell’attraversamento delle due tratte X-Y e Y-Z, e cio è il tempo di ela -\nborazione Tp, il tempo di trasmissione Tt e il tempo di propagazione τ . In aggiunta a queste \ncomponenti occorre considerare che la trasmissione dell’UI sulla tratta Y-Z richiede anche \nun tempo di attesa Tw per l’accesso al mezzo trasmissivo, data la condivisione del collega -\nmento con molti altri flussi di traffico. QuindiEsempio 2.12", "PattavinaReti2021.indb   84PattavinaReti2021.indb   84 14/01/2022   16:08:2114/01/2022   16:08:212.4 Tecniche di multiplazione  85\nSi osserva che il trasporto di unità informative attraverso una rete implica l’attraversamento \ndi molti nodi e quindi di molti collegamenti. Le valutazioni numeriche qui riportate mostrano \nchiaramente l’importanza di utilizzare buffer di una certa capacità ogni volta che si attua", "una multiplazione statistica su un collegamento. Inoltre, risulta fondamentale controllare il \ntraffico offerto su ogni collegamento di rete affinché il coefficiente di utilizzazione di ogni \nlinea uscente non superi una determinata soglia, così da evitare eccessivi aumenti del tempo \ndi attesa nel nodo.\n100101102\n0,00 ,2 0,40 ,6 0,81 ,0Ritardo medio normal izzato, Tn\nTraffico offerto, Ao\nFigura 2.31 Ritardo medio normalizzato nel multiplatore statistico.\nXfX fYYZ SD", "XfX fYYZ SD\nFigura 2.32 Configurazione di rete secondo l’Esempio 2.12 TtotTpXTtXτXTpYTwYT+tYτY+ + + + + 2Tp2τTwY2Tt+ + + = =\nI ritardi di trasmissione e di propagazione sono dati da Tt = L/f = 40×103/20×106 = 2 ms e \nτ = d/v = 1 00/2×105 = 0,5 ms. Assumendo che il nodo Y sia modellabile come una coda \nM/D/1, allora il ritardo medio TwY + TtY è fornito dall’Equazione (2.13) con coefficiente di \nutilizzazione ρ = Ao/f e cio è ρ = 0,2, 0,5, 0,95 Erl. Il ritardo medio totale di trasferimento", "che si ottiene è T = 5,5, 6,2, 24,2 ms per Ao = 4, 10, 19 Mbit/s, rispettivamente, che mostra \ncome la componente di ritardo del tempo di attesa diventa predominante quando il traffico \nofferto al nodo si avvicina alla capacita limite Ao = 1 Erl.\nPattavinaReti2021.indb   85PattavinaReti2021.indb   85 14/01/2022   16:08:2214/01/2022   16:08:2286  Capitolo 2 – Concetti base delle reti\n2.4.5 Realizzazione di multiplazione TDM", "2.4.5 Realizzazione di multiplazione TDM\nLa realizzazione di uno specifico meccanismo di multiplazione TDM si basa sulla definizione \ndi due aspetti fondamentali di coordinamento degli apparati di multiplazione e demultiplazio -\nne, e cio è la delimitazione  delle singole UI trasmesse sul canale e il loro indirizzamento . Per \nquanto riguarda il primo aspetto, il multiplatore trasmette la sequenza delle UI emesse dalle", "varie sorgenti una dopo l’altra, senza soluzione di continuità. Ne consegue che il demultiplato -\nre riceve una sequenza indistinta di bit dalla quale devono essere estratte le singole UI; da ciò \nnasce la necessità di coordinamento tra multiplatore e demultiplatore per risolvere il proble -\nma della delimitazione delle UI trasmesse sul canale. Una volta ricevute e individuate, le UI \ndevono essere distribuite ognuna alla propria destinazione così come indicato dall’operazione", "di indirizzamento. La specifica tecnica di multiplazione viene definita in base alla soluzione \nadottata per la delimitazione e l’indirizzamento delle UI. \nI tipi di multiplazione a divisione di tempo che oggi vengono utilizzati sono essenzialmente \ndue: la multiplazione sincrona  e la multiplazione asincrona . \nQuella che è oggi conosciuta come multiplazione sincrona  (S-TDM) consiste sostanzial -\nmente in una multiplazione di tipo deterministico con adozione di opportune tecniche per", "attuare delimitazione e indirizzamento delle UI. La multiplazione sincrona S-TDM è quella \nche viene impiegata nelle reti a commutazione di circuito. \nNella multiplazione sincrona l’asse dei tempi è diviso in slot organizzati in una struttura \ndi trama di durata T che si ripete indefinitamente nel tempo. La struttura di trama viene rico -\nnosciuta in ricezione dal demultiplatore perché il multiplatore trasmette un opportuno codice", "all’inizio di ogni trama (informazione di allineamento ). A seconda delle soluzioni implemen -\ntative questo codice può occupare uno slot intero o meno. Poiché la struttura della trama è nota \na priori a multiplatore e demultiplatore, il riconoscimento dell’informazione di allineamento in \nricezione, una volta effettuato, consente di individuare in modo implicito  i confini tra gli slot \ne quindi di identificare le UI via via ricevute.", "e quindi di identificare le UI via via ricevute. \nNella multiplazione S-TDM, in genere, il numero di slot disponibili per informazioni di \nutente è uguale al numero N delle coppie sorgente-destinazione, così che ogni coppia ha a \ndisposizione uno slot per il trasferimento di un’UI. Tipicamente la coppia i-esima ha sempre a \ndisposizione lo slot i -esimo ( i = 1, …, N ) nella trama di N + 1 slot, dei quali il primo (lo slot 0)", "svolge funzione di allineamento. Dunque il meccanismo di indirizzamento è implicito  poich é \nil multiplatore utilizza lo slot i per la trasmissione dell’UI della sorgente i e il demultiplatore, \nuna volta realizzato l’allineamento con la trama entrante, opera trama per trama consegnando \nl’UI dello slot i alla destinazione i ( i = 1, …, N ). Si noti che l’assegnazione deterministica \ndella stessa posizione di trama a una specifica coppia sorgente-destinazione assicura che il", "trasferimento delle UI per ogni coppia sorgente-destinazione avvenga con ritardo costante. \nLa Figura 2.33 riporta un esempio di multiplazione S-TDM con una trama costituita da 6 \nslot di lunghezza costante, il primo dei quali è occupato dall’informazione di allineamento. \nTttramai-1 tramai tramai+1\nT T\nFigura 2.33 Multiplazione sincrona.\nPattavinaReti2021.indb   86PattavinaReti2021.indb   86 14/01/2022   16:08:2214/01/2022   16:08:222.4 Tecniche di multiplazione  87", "Questa struttura di trama si riferisce al caso di un sistema di multiplazione TDM con 5 coppie \nsorgente-destinazione, come quelle riportate in Figura 2.25, delle quali solo la terza e la quinta \nsono attive. \nSi introducono ora i parametri che descrivono un sistema di multiplazione S-TDM:\n• Lc:  numero di bit trasmessi per slot (bit);\n• fc:  capacità di ogni tributario in ingresso (bit/s);\n• La:  numero di bit per trama addizionali rispetto all’informazione di utente (bit);", "• fa:  capacità addizionale del multiplatore utilizzata per servizio (bit/s);\n• Lm: numero di bit per trama (bit);\n• fm: capacità in uscita dal multiplatore (bit/s);\n• ts: tempo di trasmissione di un bit in uscita dal multiplatore (s);\n• N:  numero di slot di utente per trama11.\nOtteniamo allora la seguente espressione per la capacità totale del sistema di multiplazione\nfmLm\nT-------NLc⋅ La+\nT-------------------------- Nfc⋅ fa+ = = =", "T-------------------------- Nfc⋅ fa+ = = =\ncioè il flusso in uscita da un multiplatore sarà dato dalla somma dei flussi dei tributari in \ningresso e della capacità addizionale utilizzata per servizio. Quindi la capacità di ogni slot, \nche uguaglia la capacità di ogni tributario, si ricava come rapporto tra il numero di bit dello \nslot e il periodo di trama, cio è \n)2.14( fcLc\nT-----= .", ")2.14( fcLc\nT-----= .               \nInoltre il tempo di trasmissione di ogni bit in uscita dal multiplatore è semplicemente dato \ndall’inverso della capacità totale del multiplatore, cio è ts = 1/fm . \nIn sistemi di multiplazione più complessi è possibile allocare ai tributari una capacità \nvariabile, a condizione che la somma delle capacità allocate alle singole coppie sorgente-de -\nstinazione non ecceda la capacità di canale multiplato. Se si opera con sovramultiplazione ,", "si possono allocare più slot per trama a una specifica coppia sorgente-destinazione. Se per \nesempio gli slot allocati sono n , allora la capacità allocata alla coppia sarà\n)2.15( fovernLc\nT--------- = n 12…N1–,,, = .        \nSe si opera con sottomultiplazione , si può allocare a una specifica coppia sorgente-destina -\nzione una frazione di slot, cio è uno specifico insieme di bit il cui numero è inferiore a Lc; se", "per esempio i bit allocati sono m, allora la capacità allocata alla coppia sarà\n)2.16( fsubm\nT----= m 12…Lc1– ,,, = .        \n11 Questo numero corrisponde anche al numero di coppie sorgente-destinazione.\nPattavinaReti2021.indb   87PattavinaReti2021.indb   87 14/01/2022   16:08:2214/01/2022   16:08:2288  Capitolo 2 – Concetti base delle reti\nSi consideri un sistema di multiplazione caratterizzato da un periodo di trama T = 125 µs,", "N = 30 tributari, frequenza di cifra in uscita dal multiplatore fm = 2048 kbit/s e Lc = 8 bit \nper slot12. Si vuole determinare: (i) la capacità fc del singolo tributario con tributari tutti \ndi uguale capacità e la capacità addizionale fa per servizio, (ii) la capacità minima fmin e la \ncapacità massima fmax assegnabile ai tributari mediante sottomultiplazione e sovramultipla -\nzione, rispettivamente, con capacità variabile assegnata ai tributari.", "Dall’Equazione (2.14) si può ricavare la capacità fissa dei tributari fc = 8/ ( 125×10-6) = 64 \nkbit/s, mentre la capacità addizionale per servizio è data da fa = fm – Nfc = 128 kbit/s. La \nsottomultiplazione consente di allocare a una coppia sorgente-destinazione una capacità \ninferiore a quella fissa, con una capacità minima di m = 1 bit ogni trama, e quindi l’E -\nquazione (2.16) fornisce   fmin = 1/T = 8 kbit/s. La capacità massima assegnabile con sovra -", "multiplazione a un tributario richiede che agli altri N  – 1 = 29 tributari venga allocata la \ncapacità minima di m = 1 bit per trama, che corrisponde a utilizzare per essi 4 slot. Quindi \nl’Equazione (2.15) fornisce  fmax = (N – 4)fc = 1664 kbit/s.\nIn sistemi di multiplazione asincrona  (A-TDM) si adotta il principio della multiplazione \nstatistica, in quanto le sorgenti di informazione sono tipicamente di tipo intermittente con", "fattore di burstiness B inferiore a 1, in cui cio è la frequenza media di bit emessi dalla sorgente \nè significativamente più piccola della frequenza di cifra con cui le UI vengono emesse dal \nmultiplatore (quando la sorgente è attiva). Questo tipo di multiplazione viene adottato nelle \nreti a commutazione di pacchetto.\nNella multiplazione asincrona a slot  non esiste alcuna struttura di trama periodica e l’al -", "locazione della capacità del canale alle sorgenti per la trasmissione delle UI da queste gene -\nrate avviene in modo statistico, sebbene per unità di durata costante (quella consentita dalla \ncapacità del canale in un tempo di slot). Anche in questo caso quindi la delimitazione delle UI \nè implicita , poiché il demultiplatore, una volta realizzato l’allineamento di trama, può man -\ntenerlo indefinitamente conoscendo a priori la durata dello slot stesso (e quindi il numero di", "bit di ogni UI). A differenza della multiplazione sincrona, l’assenza di una struttura di trama \nnon consente di inviare periodicamente un’informazione di allineamento; si rende quindi \nnecessario utilizzare un codice opportuno all’inizio di ogni UI per trasferire l’informazione di \nallineamento. Un esempio di soluzione a slot è rappresentato in Figura 2.34a. \nNella multiplazione asincrona continua  non si attua alcuna divisione a priori dell’asse dei", "tempi e il multiplatore può trasmettere UI con istante di inizio trasmissione completamente \narbitrario. Ne consegue che ora le unità informative avranno in generale lunghezza variabile, \nnon essendo la loro trasmissione vincolata a essere espletata in un tempo costante. In questo \ncaso la delimitazione delle UI deve essere necessariamente esplicita , cioè deve essere eseguita \nper ogni unità informativa, per esempio mediante un opportuno codice da porre in testa all’UI.", "Un esempio di soluzione continua è rappresentato in Figura 2.34b.\n12 Questi parametri identificano il sistema di multiplazione E1 della gerarchia digitale plesiocrona Europea PDH \n[G.704].Esempio 2.13\nPattavinaReti2021.indb   88PattavinaReti2021.indb   88 14/01/2022   16:08:2314/01/2022   16:08:232.4 Tecniche di multiplazione  89\nPer quanto riguarda l’indirizzamento delle UI nella multiplazione asincrona, questo deve", "essere necessariamente esplicito , cioè con le necessarie informazioni nell’UI stessa, in quanto \nl’allocazione statistica del canale alle sorgenti non consente di conoscere a priori  la destina -\nzione di ogni UI. \nLa tecnica A-TDM, non avendo esclusività di utilizzazione di capacità, implica la possi -\nbilità di contese di utilizzazione. Ciò comporta che una UI sia trasmessa subito se le risorse \nsono disponibili, oppure sia memorizzata; è per questo motivo che sono previste delle unità", "di memoria nei nodi di rete nei quali sono attestati i sistemi di multiplazione (la necessità del \nbuffer è stata già discussa nel Paragrafo 2.4.4). In questo caso i ritardi di trasmissione sono \nvariabili (dipendono dalle UI già in attesa della disponibilità della stessa risorsa trasmissiva) \ne si può anche avere perdita di UI in presenza di saturazione dei buffer.\nIn conclusione, la tecnica di multiplazione A-TDM consente di ottimizzare l’utilizzazione", "della capacità del canale trasmissivo in presenza di sorgenti di tipo intermittente, anche se ciò \nimplica limitazioni nelle prestazioni di trasferimento in rete in termini di ritardo di trasferi -\nmento variabile e possibile perdita di UI.\n2.4.6 Prestazioni delle tecniche di multiplazione TDM\nSi vuole ora delineare come le due diverse tecniche di multiplazione deterministica e statistica, \nadottate rispettivamente nelle reti a commutazione di circuito e di pacchetto, possano dare", "luogo a prestazioni di rete molto diverse. \nFacciamo riferimento alla Figura 2.35, che mostra un generico nodo X alimentato da N \nsorgenti Si (i = 1, ..., N ) che trasmette il flusso multiplato di fX bit/s verso un server D. Per \nquanto riguarda le sorgenti, se ne considerano due tipi: (i) sorgenti di tipo CBR che emettono \nun flusso continuo di ft bit/s; (ii) sorgenti di tipo VBR ON-OFF con fattore di burstiness B", "che, quando attive, generano un flusso di ft bit/s. Adottando questi due modelli di sorgenti si Figura 2.34 Multiplazione asincrona a slot (a) e continua (b). t\nt(a)\n(b)\nS1 ft\nS2\nSNX\nfXD\nFigura 2.35 Schema di multiplazione.\nPattavinaReti2021.indb   89PattavinaReti2021.indb   89 14/01/2022   16:08:2314/01/2022   16:08:2390  Capitolo 2 – Concetti base delle reti\nvogliono confrontare le prestazioni di un nodo che svolge funzioni di multiplazione in reti a", "commutazione di circuito con le sorgenti CBR, e a commutazione di pacchetto con le sorgenti \nVBR. \nAssumiamo che ogni sorgente generi un flusso di bit alla frequenza di cifra ft = 50 kbit/s \ne che siano disponibili due tipologie di sorgenti:\n• sorgenti VBR con fattore di burstiness B = 0,1 e B = 0,01,\n• sorgenti CBR (fattore di burstiness B = 1).\nLe sorgenti VBR e CBR modellano il traffico offerto in una rete a commutazione di pacchetto", "(packet switching , PS) e a commutazione di circuito ( circuit switching , CS), rispettivamente \n(vedi Figura 2.5). Per quanto riguarda la capacità del multiplatore, sono selezionati i valori \nfX = 400, 200, 100, 50 kbit/s. Nel multiplatore deterministico adottato in reti a commutazione \ndi circuito (CS) ciò corrisponde ad avere un numero di sorgenti N =  fX/ft = 8, 4, 2, 1 per i \nquattro casi considerati. Nel caso del multiplatore statistico, utilizzato in reti a commutazione", "di pacchetto (PS), vengono sempre ipotizzate N = 20 sorgenti che alimentano il multiplato -\nre, caratterizzate da un fattore di burstiness B = 0,1 per fX = 400, 200 kbit/s e B = 0,01 per \nfX = 100, 50 kbit/s. Il traffico offerto al nodo si ricava facilmente come Ao = Nft/fX = 1 Erl per \nla multiplazione deterministica, e Ao = NBft/fX con la multiplazione statistica. In quest’ultimo \ncaso, quindi, il traffico medio  offerto varia tra Ao = 0,1 Erl e Ao = 0,5 Erl a seconda del fattore", "di burstiness e della capacità del multiplatore.\nSi vogliono qui confrontare le prestazioni dei due tipi di multiplazione per dimostrare come \nla commutazione a pacchetto rappresenti la soluzioni migliore come tecnica di commutazione \nper la rete Internet. In particolare vengono confrontati i due parametri principali che carat -\nterizzano il trasferimento di UI in una rete, e cio è la probabilità Pp di perdita di UI generate", "dalle sorgenti e il tempo medio T di ritardo nel trasferimento di una UI dalla sorgente Si al \nserver D. \nNella multiplazione deterministica naturalmente Pp = 0, in quanto il traffico offerto Nft \n(bit/s) coincide con la capacità fX (bit/s) in uscita dal nodo e quindi Ao = 1 Erl. Con la multipla -\nzione statistica il traffico medio offerto è sempre inferiore a 1 Erl, ma se più di i sorgenti sono \nattive contemporaneamente, si verificano perdite di UI ogniqualvolta ift > fX . In questo caso", "il parametro Pp viene valutato mediante l’Equazione (2.12), i cui risultati sono rappresentati \nnella Figura 2.30, ipotizzando che non sia possibile immagazzinare le UI generate dalle sor -\ngenti se le sorgenti già attive stanno utilizzando tutta la capacità del multiplatore. \nIl parametro T viene calcolato assumendo che l’unità informativa da trasferire al server \nsia costituita da L = 50 kbyte. Nel caso della multiplazione deterministica il ritardo è dato", "solamente dal tempo di trasmissione T =  L/ft, dato che ogni sorgente dispone di una capacità \nin uscita dal multiplatore coincidente con la sua frequenza di picco ft. Con la multiplazio -\nne statistica assumiamo che le 20 sorgenti possano essere modellate come una sorgente di \nPoisson che offre il traffico Ao prima specificato. Possiamo così utilizzare un sistema a coda \nM/D/1 [Kleinrock] in cui il tempo di ritardo T è espresso dall’Equazione (2.13), con i risultati", "in forma normalizzata rappresentati in Figura 2.31. \nLa Tabella 2.5 riporta i valori numerici della probabilità di perdita Pp e del tempo medio \ndi ritardo T per i diversi valori numerici della capacità del multiplatore e del fattore di bursti -\nness delle sorgenti. Per quanto riguarda il parametro Pp, una rete che commuta a circuito (CS) \nPattavinaReti2021.indb   90PattavinaReti2021.indb   90 14/01/2022   16:08:2414/01/2022   16:08:242.4 Tecniche di multiplazione  91", "presenta naturalmente una perdita nulla, mentre in una rete che commuta a pacchetto (PS) i \nvalori di traffico offerto considerato consentono di limitare la perdita a valori molto piccoli, \ncioè compresi tra due per cento e uno per diecimila. Naturalmente, traffici medi offerti più \ngrandi darebbero luogo a tassi di perdita ben più significativi. Con riferimento al parametro T \nsi può affermare che, rispetto a una rete a commutazione di circuito, una rete che commuta a", "pacchetto riduce notevolmente i tempi di trasferimento delle UI (nel nostro caso fino a quasi \n8 volte) a meno che la capacità del multiplatore diventi paragonabile alla frequenza di picco \ndelle sorgenti; nelle normali operazioni di rete ciò non accade. Possiamo quindi concludere \nche in un ambiente di rete dove le sorgenti sono prevalentemente bursty, come nel caso di \nInternet, la commutazione di pacchetto consente di servire un maggior numero di sorgenti di", "traffico con migliori prestazioni di ritardo, anche se occorre accettare l’eventualità che alcune \nunità informative generate vengano perse. Naturalmente ciò richiede di realizzare opportune \nprocedure che permettano di controllare e limitare il traffico che viene offerto alla rete quando \nvengono a presentarsi fenomeni di congestione. \nTabella 2.5 Confronto di prestazioni per multiplazione deterministica e statistica.\nfX [kbit/s] Commutazione N B A0 [Erl]PpT [s]\n400CS 8 1 1 0 8", "400CS 8 1 1 0 8\nPS 20 0,1 0,25 10-4 1,17\n200CS 4 1 1 0 8\nPS 20 0,1 0,50 5×10-2 3\n100CS 2 1 1 0 8\nPS 20 0,01 0,10 10-3 4,2\n50CS 1 1 1 0 8\nPS 20 0,01 0,20 2×10-2 9\nPattavinaReti2021.indb   91PattavinaReti2021.indb   91 14/01/2022   16:08:2414/01/2022   16:08:24PattavinaReti2021.indb   92PattavinaReti2021.indb   92 14/01/2022   16:08:2414/01/2022   16:08:24Teoria dei protocolli\n3CAPITOLO\nQuesto capitolo è dedicato alla descrizione dei protocolli di", "comunicazione da un punto di vista astratto, prescindendo \nper ora dalle peculiarità relative alla loro implementazione. \nVengono affrontati cinque ambiti di rete dove i protocolli \ngiocano un ruolo fondamentale: collegamenti punto-punto, \nreti multipunto, protocolli di instradamento, controllo di \nerrore, controllo di flusso e di congestione. Nei primi due \nambiti si descrivono le principali tipologie di protocolli di \ncomunicazione tenendo conto, da un lato, dell’occorrenza di", "eventi di errore che colpiscono le unità informative trasferite \ne, dall’altro, delle caratteristiche del mezzo trasmissivo uti -\nlizzato. Vengono poi presentati i protocolli di instradamento \nadottati nelle reti di comunicazione, il cui scopo è quello di \nindividuare i percorsi tra sistemi terminali attraverso la rete \nche consentano di ottimizzare l’utilizzazione delle risorse \ndi comunicazione disponibili. Infine, vengono descritte le", "procedure per la rivelazione di errori che colpiscano le unità \ninformative durante il loro trasferimento e le tecniche adot -\ntate per regolare i flussi di dati in rete allo scopo di evitarne \nla perdita e di prevenire fenomeni di congestione. Argomenti\n3A  Collegamenti punto-punto\n3B Reti multipunto\n3C Protocolli di instradamento\n3D Controllo degli errori\n3E  Controllo del flusso  \ne della congestione", "3E  Controllo del flusso  \ne della congestione\nPattavinaReti2021.indb   93PattavinaReti2021.indb   93 14/01/2022   16:08:2414/01/2022   16:08:2494  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\n3A  Collegamenti punto-punto\nIl trasferimento di unità informative  (UI) tra apparecchiature di rete direttamente connesse \nl’una all’altra si svolge in conformità a un insieme di regole che definiscono il protocollo di", "comunicazione . La necessità di garantire la consegna e l’integrità delle unità informative, \nnonostante eventuali disturbi che possono colpire la stringa di bit durante il suo trasferimento \ntra le due apparecchiature, rende necessaria l’attuazione di procedure di controllo degli errori. \nInfatti, a destinazione occorre rilevare sia l’eventuale presenza di errori sulle UI ricevute, sia \nl’eventuale mancata ricezione di UI.", "l’eventuale mancata ricezione di UI. \nLa classe di protocolli che viene qui descritta va sotto il nome di automatic repeat request  \n(ARQ). Si descriveranno in particolare due tipi di protocolli per comunicazione su linea pun -\nto-punto: stop and wait  (S&W) e continuous ARQ . Nel primo caso il trasmettitore invia un’UI \ne aspetta il riscontro prima di emetterne un’altra, mentre nel secondo è ammessa la trasmis -", "sione continua di UI che vengono opportunamente numerate. In entrambi i casi faremo riferi -\nmento prima al trasferimento di UI prive di errori e successivamente esamineremo il caso in \ncui uno o più errori colpiscono l’unità informativa che viene trasferita. Le due diverse tecniche \nche vengono adottate per recuperare UI affette da errori sono definite dai protocolli go-back-n  \ne selective repeat . La classificazione dei protocolli di tipo ARQ è riassunta nella Figura 3.1.", "Si suppone, per semplicità, che la trasmissione di UI sia di tipo unidirezionale dalla stazio -\nne A alla stazione B, con riscontri quindi inviati da B ad A su un collegamento separato, che \nnon interferisce con il flusso di UI da A a B. Nella realtà la trasmissione di UI è tipicamente \nbidirezionale, così che UI e riscontri inviati nella stessa direzione condividono lo stesso col -\nlegamento che opera in modalità full-duplex. Si ipotizza inoltre che le UI abbiano lunghezza", "costante e, a meno di diversa asserzione, che vi sia un collegamento diretto tra le stazioni A \ne B.\nAutomatic\nrepeat request\nContinuous\nARQStop and wait\nSelective\nrepeatGo-back- n\nFigura 3.1 Protocolli di tipo ARQ.3.1 Protocollo stop and wait\n3.2 Protocolli continuous ARQ\nPattavinaReti2021.indb   94PattavinaReti2021.indb   94 14/01/2022   16:08:2414/01/2022   16:08:243.1 Protocollo stop and wait  95\n3.1 Protocollo stop and wait", "3.1 Protocollo stop and wait\nAdottare un protocollo  stop and wait ( S&W), come indica il nome stesso, consiste nell’effet -\ntuare la trasmissione di un’UI e attenderne il riscontro ( acknowledgment ) da parte del rice -\nvente prima di trasmetterne una successiva. Questo protocollo, come tutti i protocolli basati \nsul principio della trasmissione di unità informative con riscontro, prevede che il trasmettitore", "conservi nel proprio buffer di ritrasmissione  l’UI trasmessa fino alla ricezione del relativo \nriscontro positivo. \nPer rendere possibile una valutazione quantitativa dell’efficienza di trasmissione di un pro -\ntocollo, si rende necessario definire i seguenti parametri riferiti a un generico collegamento \ntra due stazioni A e B:\n• Tu: tempo di trasmissione di un’UI (s);\n• Ta: tempo di trasmissione di un riscontro (s);\n• Tp: tempo di elaborazione di un’UI (s);\n• t:  tempo di propagazione (s);", "• t:  tempo di propagazione (s);\n• C: frequenza di cifra (detta anche capacità ) del collegamento (bit/s);\n• Lu: lunghezza di un’UI (bit);\n• La: lunghezza di un riscontro (bit);\n• d: estensione del collegamento (m);\n• v: velocità di propagazione sul collegamento (m/s).\n3.1.1 Protocollo S&W in assenza di errori\nSi suppone di voler trasferire una o più UI dalla stazione A alla stazione B attraverso un col -", "legamento diretto. La prima UI viene trasmessa dalla stazione A, che si pone in attesa di un \nriscontro (sicuramente positivo avendo assunto assenza di errore) da parte di B prima di tra -\nsmetterne una seconda. Ovviamente le UI in attesa di trasmissione vengono immagazzinate \nnel buffer di trasmissione. \nLa Figura 3.2 rappresenta in un diagramma spazio-tempo un esempio di operazioni svolte \ndal protocollo S&W in assenza di errori di linea. La stazione A trasmette un’UI alla stazione B", "impiegando un tempo Tu = Lu/C. Il primo bit dell’UI sarà ricevuto t secondi dopo l’inizio della \ntrasmissione e l’UI sarà completamente ricevuta al tempo1 t = Tu + t. La stazione B impiega \nun tempo uguale a Tp per controllare l’UI ricevuta, dopodiché inizia a trasmettere un riscontro, \nche completa in un intervallo di tempo Ta. Anche in questo caso la velocità di propagazione \nfinita del segnale sul collegamento causa un ulteriore ritardo t , così che la stazione A finisce", "di ricevere il riscontro al tempo t = Tu + Tp + Ta + 2t. Dopo un ulteriore ritardo di elaborazione \nin A per il controllo del riscontro ricevuto, assunto uguale a quello ( Tp) che caratterizza l’e -\nlaborazione dell’UI in ricezione, la stazione stessa può iniziare a trasmettere un’altra UI, che \nviene successivamente riscontrata. \n1 Si pone convenzionalmente che la trasmissione da parte della stazione A abbia inizio al tempo t = 0.", "PattavinaReti2021.indb   95PattavinaReti2021.indb   95 14/01/2022   16:08:2414/01/2022   16:08:2496  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\nPossiamo quindi esprimere il tempo di ritardo complessivo, Ttot, richiesto per trasferire un \npredeterminato numero di UI tra due stazioni, come il tempo che intercorre dall’inizio della \ntrasmissione della prima UI alla completa ricezione ed elaborazione del riscontro dell’ultima", "UI. Se T1 indica il tempo necessario a trasferire un’UI e Nu è il numero di UI da trasferire \n(assunte di lunghezza costante), allora si ricava facilmente \n)3.1( TtotNuT1NuTuTa2Tp2τ + + + ( ) NuLu\nC------La\nC------2Tp2d\nv------ + + +\n   = = = .  \nUn parametro molto significativo nell’ambito dei protocolli per il trasferimento punto-punto \nè il rapporto a fra tempo di propagazione e tempo di trasmissione di un’UI (ipotizzata a lun -", "ghezza costante Lu) sul collegamento, denominato tempo di propagazione normalizzato , dato \nda\n)3.2( aτ\nTu------dv⁄\nLuC⁄--------------dC\nLuv--------- = = = .          \nEsprimiamo ora l’ efficienza h del protocollo S&W in assenza di errori, definendo questo \nparametro come la quota parte di tempo nel quale il collegamento da A e B è impegnato in \ntrasmissioni, assumendo che la stazione A abbia sempre almeno un’UI in attesa di trasmissio -", "ne. Applicando la definizione, si ottiene la seguente espressione per l’efficienza\n)3.3( ηTu\nTuTa2Tp2τ + + +---------------------------------------------- = .                \nUn’espressione ancora più semplice e immediata, anche se approssimata, si ottiene assumendo \nche il tempo di elaborazione sia molto piccolo e il riscontro sia composto da pochissimi bit \nrispetto alla lunghezza dell’UI, così che Tp = Ta ≅ 0. Allora l’Equazione (3.3) si riduce a \nηTu\nTu2τ+------------------≅1", "ηTu\nTu2τ+------------------≅1\n12a+--------------- = .Tu\nTp\n\nTa\nTpB A\nFigura 3.2 Protocollo stop and wait in assenza di errore.\nPattavinaReti2021.indb   96PattavinaReti2021.indb   96 14/01/2022   16:08:2514/01/2022   16:08:253.1 Protocollo stop and wait  97\nQuesta espressione consente di affermare che l’efficienza del protocollo è tanto più alta quanto \npiù si riduce il parametro a . Ciò implica che su un dato collegamento un aumento di efficienza", "può essere ottenuto aumentando la lunghezza Lu dell’UI, a parità di frequenza di cifra C (vedi \nEquazione (3.2)). Naturalmente il solo aumento della frequenza di cifra a parità della lunghez -\nza dell’UI implica una diminuzione di efficienza. Nel caso limite di UI a lunghezza infinita, \nl’efficienza diventa unitaria.\nL ’efficienza di utilizzazione di un collegamento dati viene anche espressa in bit/s con rife -", "rimento alla quantità di dati effettivamente trasferita ( throughput ) e si calcola semplicemente \ncome\n)3.4( THRηC⋅ =  [bit/s].            \nDue stazioni A e B sono collegate da un sistema di trasmissione dati bidirezionale che for -\nnisce un canale così caratterizzato:\n• lunghezza del collegamento, d = 100 km,\n• velocità di propagazione del segnale, v  = 200.000 km/s,\n• capacità del collegamento, C = 2048 kbit/s.", "• capacità del collegamento, C = 2048 kbit/s.\nIl protocollo che controlla la trasmissione delle UI su questo collegamento è così \ncaratterizzato:\n• dimensione fissa dei riscontri, La = 40 byte,\n• dimensione variabile delle unità informative, con un massimo di Lumax = 1540 byte \nper UI,\n• tempo di elaborazione di un’UI o di un riscontro, Tp = 10 ms.\nSi vuole valutare il tempo totale di trasferimento da A a B di un segmento dati di lunghezza", "Ltot = 5260 byte e l’efficienza di utilizzazione del collegamento conseguita.\nIl tempo totale di trasferimento Ttot può essere calcolato utilizzando l’Equazione (3.1) tenen -\ndo conto del fatto che non tutte le UI hanno la stessa lunghezza. Infatti il segmento dati di \n5260 byte viene trasferito utilizzando quattro UI delle quali le prime tre hanno lunghezza \nmassima  Lumax = 1540 byte e l’ultima ha lunghezza Lu = 640 byte. Quindi si possono cal -\ncolare tutti i parametri temporali richiesti:", "colare tutti i parametri temporali richiesti:\n• τd\nv---100\n200.000----------------------- 500 = = =ms,\n• TumaxLumax\nC---------------1540 8⋅\n20483×10-------------------------- 6 = = =ms,\n• TuLu\nC------640 8⋅\n20483×10------------------------ 2,5 = = = ms,\n• TaLa\nC-----408⋅\n20483×10------------------------ 156 = = =ms.Esempio 3.1\nPattavinaReti2021.indb   97PattavinaReti2021.indb   97 14/01/2022   16:08:2514/01/2022   16:08:2598  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto", "3A Collegamenti punto-punto\n3.1.2 Protocollo S&W in presenza di errori\nSi consideri ora il caso in cui la trasmissione di un’UI, o del relativo riscontro, non sia priva \ndi errori. Si noti che nei protocolli ARQ uno o più errori possono essere solo rivelati, ma non \ncorretti. Quindi la ricezione di un’unità informativa affetta da errori determina solo lo scarto \ndell’unità stessa, non potendo il ricevente determinare quale fosse l’unità originariamente", "trasmessa. Nel protocollo S&W dovrà dunque essere definito un meccanismo, denominato \ntime-out , che indica quando ritrasmettere l’unità informativa che non sia stata riscontrata \ncorrettamente, a causa dello scarto per errore dell’UI originaria o del relativo riscontro. \nLa Figura 3.3a mostra un esempio di operazioni del protocollo S&W con un evento di erro -\nre che colpisce il riscontro. La stazione A, non ricevendo il riscontro della propria trasmissione", "entro un tempo To di time-out  a decorrere dalla fine della trasmissione, provvederà a ritrasmet -\nTu\nTp\n\nTaTo\nTpB A\nToB A\nFigura 3.3 Protocollo stop and wait in presenza di errore nel riscontro (a) e nell’UI (b).(a) (b)Il tempo totale di trasferimento si ottiene quindi semplicemente come\nTtot3TumaxTa2Tp2τ + + + ( )TuTa2Tp2τ + + + + 252ms., = =\nPer valutare l’efficienza di utilizzazione del collegamento, fornita dall’Equazione (3.3) per", "la trasmissione di un’UI, occorre considerare che nell’esempio vengono trasmesse quattro \nUI non tutte della stessa lunghezza. Quindi l’efficienza può essere semplicemente calcolata \ncome rapporto tra tempo effettivamente impegnato in trasmissione di dati e tempo totale \nrichiesto per completare la trasmissione, cio è\nηLtotC⁄\nTtot-----------------205, 103–×\n252103–×,----------------------------- 081., = = =", "Il throughput sul collegamento è quindi ottenuto immediatamente utilizzando l’Equazione \n(3.4) e fornisce THR  = 1,659 Mbit/s.\nPattavinaReti2021.indb   98PattavinaReti2021.indb   98 14/01/2022   16:08:2514/01/2022   16:08:253.1 Protocollo stop and wait  99\ntere la stessa UI, immagazzinata nel buffer di ritrasmissione. La seconda trasmissione viene \nportata a termine con successo. \nRisulta allora evidente, anche osservando la Figura 3.3a, l’esistenza di un valore minimo", "del tempo di time-out affinché il protocollo operi correttamente, e cio è\n)3.5( ToTa2Tp2τ + + ≥            \nche, nell’ipotesi di tempo di elaborazione e di trasmissione del riscontro trascurabili \n(Tp = Ta ≅ 0), diventa\n)3.6( To2τ≥ .            \nSi osservi che la seconda trasmissione dell’UI avrebbe richiesto lo stesso tempo anche se l’er -\nrore avesse colpito l’unità informativa invece del riscontro, come rappresentato nella Figura", "3.3b. In questo caso la stazione B non può inviare alcun riscontro e quindi la stazione A appli -\nca lo stesso meccanismo di time-out per ripetere la trasmissione.\nNumerazione delle UI\nI due casi appena discussi di errore sull’UI o sul riscontro hanno tuttavia una diversa conse -\nguenza sul corretto funzionamento del protocollo. Infatti, se l’errore colpisce l’UI, la seconda \ntrasmissione ha come conseguenza la corretta ricezione dell’UI da parte di B. Invece, se è il", "riscontro a essere corrotto, alla fine della ritrasmissione la stazione B si troverà ad aver rice -\nvuto due volte la stessa unità informativa. Si noti che, in generale, si ritiene inapplicabile una \nprocedura che preveda il controllo di uguaglianza bit a bit di UI ricevute consecutivamente \nnella stazione ricevente o di un analogo controllo dei riscontri nella stazione trasmittente. \nDunque la stazione B considererebbe erroneamente di aver ricevuto due UI consecutive. In", "questo caso, la correttezza del protocollo S&W viene ripristinata adottando un meccanismo di \nnumerazione delle UI  a 1 bit, numerando cio è le UI alternativamente con i simboli 0 e 1. Con \nquesto meccanismo la stazione B deve ricevere UI consecutive con numerazione alternata. \nQuindi la stazione B, ricevendo due UI consecutive con lo stesso numero (0 o 1), scarterà la \nseconda UI in quanto ripetuta.\nPossiamo ora valutare l’ efficienza del protocollo S&W , in questo caso di presenza di", "errori di trasmissione, assumendo che gli eventi di errore sui singoli bit siano mutuamente \nindipendenti. Definiamo allora i seguenti parametri:\n• p: probabilità di errore sul singolo bit;\n• P: probabilità di errore nella trasmissione di un’UI;\n• ai: probabilità di successo alla trasmissione i -esima di un’UI;\n• Ns: numero medio di tentativi di trasmissione per UI ricevuta con successo.\nL ’ipotesi di indipendenza statistica degli eventi di errore sui bit rende possibile calcolare facil -", "mente la probabilità P che un’unità informativa debba essere ritrasmessa a causa di un errore \nsull’UI stessa o sul riscontro; ciò accade quando viene ricevuto errato almeno un bit dell’UI \no del riscontro, cio è:\nP 1 1p–()LuLa+\n–= .\nPattavinaReti2021.indb   99PattavinaReti2021.indb   99 14/01/2022   16:08:2514/01/2022   16:08:25100  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\nSi calcola ora facilmente il numero medio Ns di tentativi di trasmissione per UI trasmessa (di", "cui solo l’ultimo ha successo), esprimendo la probabilità ai di successo all’ i-esimo tentativo \ndi trasmissione per mezzo della probabilità P di trasmissione senza successo (ha avuto luogo \nalmeno un errore di trasmissione) e della probabilità complementare di insuccesso 1 – P, cioè2\n)3.7( Nsiai\ni1=∞\n∑iPi1–1P–()\ni1=∞\n∑1P–() iPi1–\ni1=∞\n∑1\n1P–------------ = = = = .     \nIl tempo complessivo di trasferimento con successo di un’UI di lunghezza Lu bit lungo un", "collegamento, per una data probabilità p di errore sul bit, è quindi dato da:\n)3.8( TtotNs1–()TuTo+()T+uTa2Tp2τ + + + = .      \nInfatti solo l’ultima delle Ns trasmissioni ha successo, mentre per tutti i tentativi precedenti \ninterviene il meccanismo di time-out.\nAnalogamente a quanto fatto nel caso di protocollo S&W in assenza di errori, calcoliamo \nora l’efficienza del protocollo tenendo conto dei possibili eventi di errore. Questa è data come", "sempre dal rapporto tra il tempo speso in trasmissione di dati con successo, cio è il tempo di \ntrasmissione Tu dell’UI, e il tempo totale Ttot richiesto per completare la trasmissione. Utiliz -\nzando l’Equazione (3.8) si ottiene:\n)3.9( ηTu\nTtot---------Tu1P–()\nTuToP Ta2Tp2τ + + ( )1P–() + +------------------------------------------------------------------------------------- = = .      \nPer calcolare il massimo valore di efficienza del collegamento ci poniamo nella condizione", "limite nella quale il time-out scatta esattamente all’istante in cui avrebbe dovuto essere rice -\nvuto il riscontro in assenza di errori, cio è \nToTa2Tp2τ + + =\nche trasforma l’Equazione (3.9) nella seguente espressione:\nηηmaxTu1P–()\nTuTa2Tp2τ + + +---------------------------------------------- = = .\nInfine, assumendo Ta = Tp ≅ 0, si ottiene la seguente espressione per l’efficienza massima del \ncollegamento: \nηmax1P–\n12a+--------------- = .", "collegamento: \nηmax1P–\n12a+--------------- = .\nAppare evidente come l’efficienza del protocollo sia fortemente legata al valore To del time-\nout che viene selezionato: infatti la massima efficienza del protocollo S&W è stata calcolata \nassumendo il minimo valore del time-out compatibile con il funzionamento corretto del pro -\ntocollo stesso. Occorre osservare che il parametro Tp, tempo di elaborazione dell’UI, in realtà", "non è fisso, ma dipende dalle caratteristiche della stazione ricevente e soprattutto dal carico \ndi lavoro della stazione stessa al momento della ricezione dell’UI o del riscontro. In alcuni \ncasi l’efficienza può diventare molto bassa, come nel caso di collegamenti molto lunghi, come \n2 La derivata della somma della serie geometrica \n  vale \n .\nPattavinaReti2021.indb   100PattavinaReti2021.indb   100 14/01/2022   16:08:2614/01/2022   16:08:263.1 Protocollo stop and wait  101", "quelli via satellite (grandi valori di t ), o di un ricevitore particolarmente lento o comunque non \ncontrollabile (valori di Tp grandi o non limitabili).\nNumerazione dei riscontri\nConsiderando che il time-out non può comunque essere più piccolo del minimo tempo richie -\nsto per ricevere il riscontro a causa del tempo di propagazione ( To ≥ Ta + 2t), una ragionevole \nefficienza si può ottenere selezionando un time-out che ipotizzi un valore Tp dato da un fun -", "zionamento in condizioni ideali della stazione ricevente. Ne consegue che il corretto funziona -\nmento del protocollo richiede necessariamente anche la numerazione dei riscontri  con un bit. \nLa Figura 3.4a mostra il diagramma di flusso delle operazioni dal lato trasmissione per \nil protocollo S&W, ipotizzando che sia disponibile un buffer a due posizioni ( B0 e B1) per le \nUI in attesa di trasmissione, alimentato ciclicamente dal client della stazione A. Dopo l’ini -", "zializzazione della variabile i , se la cella B0 del buffer contiene un’UI, questa viene inviata \ninizializzando il conteggio del time-out To(i). Se questo time-out scade prima che il riscontro \nsia completamente ricevuto, la trasmissione dell’UI si ripete reinizializzando il time-out. \nSe invece viene prima ricevuto il riscontro, allora si ferma il time-out, la variabile i viene \naumentata di un’unità in modulo-2 e si ripete il ciclo per trasmettere alternativamente le UI", "numero 0 e numero 1. Come rappresentato nella Figura 3.4b, l’inizializzazione a 0 della varia -\nbile j dal lato della stazione B ricevente predispone la ricezione dell’UI numero 0. Se questa \nviene correttamente ricevuta, viene anche accettata e riscontrata incrementando di un’unità in \nmodulo-2 la variabile j , così da poter accettare l’UI numero 1 e di seguito, alternativamente, le \nUI numero 0 e numero 1. Se invece viene ricevuta un’UI con numero uguale a quello dell’UI", "precedente, allora l’UI ricevuta viene scartata e viene ritrasmesso l’ultimo riscontro inviato. \ni= 0\nNoSìInvia UI i\nInizializza TO(i)No\nTO(i)\nscadutoBivuoto\nFerma TO(i)\ni = (i + 1)mod2No ACK i\nricevutoSì\nSìj = 0\nSìNoi = j Scarta UI iRicezione UI i\nAccetta UI i\nInvia ACK j\nj = ( j + 1)mod2Invia\nACK  (j - 1)mod2\nFigura 3.4 Diagramma di flusso per il protocollo S&W al trasmettitore (a) e al ricevitore (b).(a) (b)", "PattavinaReti2021.indb   101PattavinaReti2021.indb   101 14/01/2022   16:08:2614/01/2022   16:08:26102  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\nSi vuole mostrare un esempio di trasmissione di UI tra le due stazioni A e B con il protocollo \nS&W che numera UI e riscontri, in cui un riscontro venga ricevuto dopo la scadenza del time-\nout della relativa UI. Si consideri l’esempio della Figura 3.5 in cui la stazione A invia la prima", "UI numero 0 e finisce di ricevere il relativo riscontro dopo che si è esaurito il conteggio del \ntime-out. La trasmissione dell’UI numero 0 viene dunque ripetuta, ma non occorre più atten -\ndere la successiva ricezione del riscontro, che nel frattempo è stato già ricevuto, per iniziare a \ntrasmettere l’UI numero 1. Infatti, all’inizio della trasmissione dell’UI numero 1 la variabile i \ndel trasmettitore assume il valore 1 e quindi il secondo riscontro ACK 0 viene ignorato. Si", "osservi che, senza la numerazione dei riscontri, A accetterebbe il secondo riscontro come \nconferma di ricezione dell’UI numero 1, che quindi verrebbe eliminata dal buffer di ritrasmis -\nsione. Se questa UI fosse nel frattempo scartata da B a causa di errori, essa sarebbe definiti -\nvamente persa. \n3.2 Protocolli continuous ARQ\nNei protocolli di tipo continuous ARQ  si cerca di aumentare l’efficienza del protocollo con -", "sentendo anche la trasmissione di più UI consecutive in attesa dei riscontri delle prime UI \ntrasmesse. Questo tipo di operazione richiede dunque che il meccanismo di numerazione sia \nesteso per fare in modo che tutte le UI inviate, ma non ancora riscontrate, abbiano un identi -\nficativo distinto, nel nostro caso un numero, per consentire alle due stazioni di intendersi su Si vuole ripetere il calcolo dei parametri richiesti nell’Esempio 3.1, ipotizzando ora un col -", "legamento soggetto a errori con i seguenti valori numerici: \n• probabilità di errore sul bit, p = 10-4,\n• time-out per inizio di ritrasmissione, To = 100 ms.\nIl tempo totale di trasferimento si ottiene allora come:\nTtot3Ns1–()TumaxTo+( )T+umaxTa2Tp2τ + + + [ ] =\n+Ns1–()TuTo+()T+uTa2Tp2τ + + +\nEsprimendo il parametro Ns mediante l’Equazione (3.7) si ottiene Ttot = 329,2 ms, indice \ndi un netto peggioramento della prestazione di ritardo dovuto alle ritrasmissioni delle UI", "errate. L ’efficienza viene sempre calcolata come rapporto tra tempo effettivamente impe -\ngnato in trasmissione di dati e tempo totale richiesto per completare la trasmissione (con \nsuccesso), cio è\nηLtotC⁄\nTtot-----------------205103–×,\n329,2103–×------------------------------- 0,062 = = = .\nSi osserva quindi come la presenza di errori abbia fortemente ridotto l’efficienza del colle -\ngamento, il cui throughput è ora THR  = 126,98 kbit/s, cio è meno del 10% del valore conse -", "guito nel caso di assenza di errori.Esempio 3.2\nPattavinaReti2021.indb   102PattavinaReti2021.indb   102 14/01/2022   16:08:2714/01/2022   16:08:273.2 Protocolli continuous ARQ  103\nquali UI sono state ricevute correttamente e quali no. Poiché si utilizza un numero finito di bit \nper numerare le UI, indicato con b , la numerazione è di tipo ciclico modulo- N con N = 2b. Per \nesempio, se b = 3, le UI vengono trasmesse con i numeri consecutivi 0, 1, 2, 3, 4, 5, 6, 7, 0, 1,", "2, ... Un esempio di operazioni del protocollo continuous ARQ  in assenza di errori è illustrato \nnella Figura 3.6, che rappresenta la trasmissione da A a B di sette UI consecutive in assenza 0\nACK0\nACK110\nACK0ToB A\nFigura 3.5 Protocollo stop and wait con unità informative e riscontri numerati.\n4\n5\n6\n7\n0\n1ACK4\nACK5\nACK6\nACK0\nACK1ACK7\n2\nACK2B A\nFigura 3.6 Protocollo continuous ARQ in assenza di errore.", "PattavinaReti2021.indb   103PattavinaReti2021.indb   103 14/01/2022   16:08:2714/01/2022   16:08:27104  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\ndi errori (per semplicità i protocolli continuous ARQ saranno descritti e valutati in termini di \nefficienza ipotizzando che il tempo di elaborazione nelle due stazioni sia nullo, cio è Tp = 0). \nIl tempo totale Ttot richiesto per trasferire Nu UI con un protocollo ARQ su un collegamento", "di tipo ideale, quindi in assenza di errori, si ricava facilmente:\nTtotNuTuTa2τ + + NuLu\nC------La\nC------2d\nv------ + + = = .\nSi noti come, a differenza di quanto avviene nel protocollo stop and wait  (Equazione (3.1)), ora \nil tempo di trasmissione del riscontro e il tempo di propagazione vengono conteggiati una sola \nvolta; per semplicità potrebbero essere considerati come associati alla trasmissione dell’ultima \nUI.\nSliding window", "UI.\nSliding window\nLa trasmissione continua di unità informative può dare luogo a situazioni di ambiguità nel \ncaso in cui i riscontri relativi non siano ricevuti come ci si aspetterebbe. Infatti basti conside -\nrare il caso in cui il trasmettitore non riceva il riscontro di un’UI, per esempio la numero 3, a \ncausa di un evento di errore in trasmissione (dell’UI o del relativo riscontro). In questo caso,", "nell’ipotesi di numerazione modulo-4 e in assenza di ulteriori vincoli, il trasmettitore può \ncontinuare ad emettere le UI numero 0, 1, 2, ma poi deve fermarsi; infatti emettere una nuova \nUI con il numero 3 implicherebbe ambiguità nell’associare il relativo riscontro a quest’ultima \nUI numero 3 o alla precedente. \nPer controllare queste situazioni nell’ambito dei protocolli continuous ARQ  si definisce un", "meccanismo di abilitazione all’invio e all’accettazione di UI mediante sliding window , o fine -\nstra a scorrimento . Questo consiste nello specificare due distinte “finestre”, una in trasmissio -\nne e una in ricezione , di apertura  Ws e Wr,rispettivamente. Il primo numero indica il numero \ndelle UI  che il trasmettitore può inviare senza dover attendere i relativi riscontri, mentre il \nsecondo indica il numero delle UI che possono essere accettate dal ricevitore. Naturalmente", "le UI sono numerate, per cui il meccanismo a finestra indica anche quali UI possono essere Si vuole ancora ripetere il calcolo dei parametri richiesti nell’Esempio 3.1 nel caso si utilizzi \nun protocollo di linea ARQ in assenza di errori.\nIl tempo totale di trasferimento si ottiene ora come\nTtot3TumaxTuTa2Tp2τ + + + + 2168ms, = = .\nL ’efficienza del collegamento è allora\nηLtotC⁄\nTtot-----------------205103–×,\n2168 103–×,-------------------------------- 095, = = =", "e il throughput è THR  = 1,946 Mbit/s. Si nota quindi come la trasmissione continua di UI \nabbia consentito di migliorare tutti i parametri di prestazione, diminuendo il tempo di tra -\nsferimento totale e aumentando l’efficienza del collegamento.Esempio 3.3\nPattavinaReti2021.indb   104PattavinaReti2021.indb   104 14/01/2022   16:08:2714/01/2022   16:08:273.2 Protocolli continuous ARQ  105\ninviate e accettate, mediante l’ estremo inferiore  della finestra, che viene indicato con i simboli", "Ls (in trasmissione) e Lr (in ricezione).\nLa stazione trasmittente sarà dunque autorizzata a inviare le UI con numero n che soddisfa \nla relazione\n n Ls… LsWs1– +( )modN,, = .\nAll’altro estremo del collegamento, la stazione ricevente accetterà le UI con numero n  di \nsequenza tale che\n n Lr… LrWr1– +( )modN,, = .\nLa rotazione in avanti di una posizione avverrà alla ricezione del riscontro relativo all’UI", "numero Ls per la finestra di trasmissione, alla ricezione dell’UI numero Lr per la finestra di \nricezione.\nUn esempio di finestra in trasmissione con apertura Ws = 5 è mostrato nella Figura 3.7a nel \ncaso N = 8. Poiché l’estremo inferiore corrente della finestra è Ls = 4, la stazione è autorizzata \na trasmettere le cinque UI numero 4, 5, 6, 7, 0. Alla ricezione del riscontro dell’UI numero 4, \nla finestra ruoterà in avanti di una posizione consentendo la trasmissione dell’UI numero 1. Un", "esempio analogo di finestra in ricezione con apertura Wr = 2 è riportato nella Figura 3.7b. In \nquesto caso, poiché l’estremo inferiore corrente è Lr = 5, la stazione è autorizzata ad accettare \nle UI numero 5 e 6. La ricezione dell’UI numero 5 consentirà anche la successiva accettazione \ndell’UI numero 7, conseguente alla rotazione della finestra di una posizione in avanti.\nSi noti che gli estremi inferiori delle due finestre in un determinato istante non devono", "necessariamente coincidere, poiché esse fanno riferimento a due stazioni spazialmente separa-\nte. Occorre infatti un tempo t per ricevere sul collegamento un’UI emessa all’altra estremità. \nNell’esempio di Figura 3.7 la stazione ricevente ha emesso il riscontro dell’UI numero 4, che \nnon è stato ancora ricevuto dalla stazione trasmittente. \nIl meccanismo delle due finestre a scorrimento su un collegamento dati viene anche utiliz -", "zato come strumento per operare un controllo del flusso di unità informative sul collegamento \nstesso. Ciò può rendersi necessario se occorre limitare il numero di UI che possono essere \ninviate e che sono in attesa di riscontro, per esempio per evitare fenomeni di saturazione del \nbuffer nella stazione ricevente. Questi potrebbero essere dovuti per esempio a un trasferimento \nrallentato al livello superiore (client) delle unità informative ricevute.\n01 2\n3\n4\n5 67Ls=4\nWs=5\n01 2\n3\n4\n5 67Lr=5", "01 2\n3\n4\n5 67Ls=4\nWs=5\n01 2\n3\n4\n5 67Lr=5\nWr=2\nFigura 3.7 Meccanismo a finestra in trasmissione (a) e in ricezione (b).(a) (b)\nPattavinaReti2021.indb   105PattavinaReti2021.indb   105 14/01/2022   16:08:2814/01/2022   16:08:28106  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\nEfficienza\nAdottare un controllo di flusso a finestra potrebbe causare una perdita di efficienza del pro -\ntocollo ARQ anche in assenza di errori. Risulta infatti estremamente semplice esprimere la", "condizione limite sul valore di apertura della finestra in trasmissione che evita una perdita di \nefficienza, data da:\n)3.10( WsTuTuTa2τ + + ≥ .          \nQuesta condizione, che assume nullo il tempo di elaborazione ( Tp = 0), impone all’apertura \ndella finestra in trasmissione un valore che garantisca una trasmissione continua di UI fino \nalla ricezione del primo riscontro.\nLa Figura 3.8 mostra l’effetto del rapporto tra l’apertura Ws della finestra in trasmissione", "e il tempo di propagazione t sull’efficienza del protocollo in una trasmissione unidirezionale \ndi UI (da A a B). Vengono mostrati i due casi di finestra con apertura Ws = 4 (Figura 3.8a) e \nWs = 2 (Figura 3.8b): solo il primo caso realizza una trasmissione continua di UI, in quanto \nsolo in quella situazione risulta soddisfatto il vincolo dato dalla condizione (3.10). Infatti, \nquando questa relazione non è soddisfatta, come nel caso di Figura 3.8b, il trasmettitore deve", "interrompere l’invio di UI per attendere il riscontro della prima UI emessa. In quest’ultima \nsituazione si dice che il meccanismo a finestra limita (“strozza”) la piena utilizzazione del \ncollegamento. \nNel caso in cui si assuma ulteriormente che il tempo di trasmissione del riscontro sia tra -\nscurabile, cio è Ta = 0, allora il vincolo sul parametro Ws che garantisce continuità di trasmis -\nsione delle UI si riduce a WsTu ≥ Tu + 2t, ovvero a:\n)3.11( Ws12a+≥ .           \nTu\nWsTu\nTa0\n1\n2", ")3.11( Ws12a+≥ .           \nTu\nWsTu\nTa0\n1\n2\n3ACK0\nACK1\nACK2\nACK3B A\nTu\nWsTu0\n1\n2\n3TaACK0\nACK1\nACK2\nACK3B A\n(a) (b)\nFigura 3.8 Sliding window: Ws = 4 (a) e Ws = 2 (b).\nPattavinaReti2021.indb   106PattavinaReti2021.indb   106 14/01/2022   16:08:2814/01/2022   16:08:283.2 Protocolli continuous ARQ  107\nDue stazioni A e B sono collegate da un sistema di trasmissione dati bidirezionale il cui \nprotocollo ARQ è caratterizzato dai seguenti parametri:\n• dimensione fissa delle UI, Lu = 4 kbyte,", "• dimensione fissa delle UI, Lu = 4 kbyte,\n• dimensione fissa dei riscontri, La = 100 byte,\n• tempo di elaborazione di unità informativa e di riscontro trascurabile, Tp0≅.\nLa trasmissione dati tra le due stazioni è realizzata mediante un satellite, che rende dispo -\nnibile un canale di comunicazione privo di errori così caratterizzato:\n• altitudine del satellite, h = 30.000 km,\n• capacità del collegamento, C = 10 Mbit/s.", "• capacità del collegamento, C = 10 Mbit/s.\nSia inoltre operante un meccanismo di controllo di flusso a finestra con i seguenti parametri:\n• apertura della finestra di trasmissione, Ws = 5,\n• finestra di ricezione di apertura arbitrariamente grande,\n• time-out per inizio di ritrasmissione, To = 500 ms.\nSi vuole valutare il tempo totale di trasferimento da A a B di un segmento dati di lunghezza \nLtot = 100 kbyte, il throughput realizzato e l’efficienza di utilizzazione del collegamento", "conseguita. Si chiede inoltre di calcolare l’apertura ottimale della finestra di trasmissione \nche massimizza il throughput sul collegamento.\nSi determina anzitutto il numero Nu di UI da trasferire sul collegamento, dato da \nNu = 100.000/4.000 = 25. Quindi si calcolano i parametri temporali base, tenendo conto del \nfatto che un collegamento via satellite richiede la propagazione del segnale via etere con", "velocità  c = 300.000 km/s tra le due stazioni su due tratte in serie, la prima in salita e la \nseconda in discesa:\n• τ2h\nc------60.000\n300.000---------------------- 200 = = = ms,\n• TuLu\nC------4000 8⋅\n106×10------------------- 32, = = = ms,\n• TaLa\nC-----100 8⋅\n106×10------------------ 80 = = =ms.\nOccorre ora determinare se con i parametri in gioco il meccanismo a finestra determina \nuna limitata utilizzazione del collegamento per mezzo dell’Equazione (3.10). Nel nostro", "caso WsTu = 16 < Tu + Ta + 2t = 403,28 (ms) e quindi occorre tenere conto della trasmissione \ndiscontinua determinata dalla finestra a scorrimento. Infatti, come mostrato in Figura 3.9, \ndopo la trasmissione di cinque UI occorre attendere la ricezione del riscontro della prima \nUI per riprendere la trasmissione in quanto questo evento consente la rotazione in avanti \ndella finestra. Si noti anche che le successive quattro UI possono essere trasmesse senza", "interruzioni, poiché il tempo di ricezione (uguale al tempo di trasmissione) di un riscontro \nè più piccolo del tempo di trasmissione di un’UI. Esempio 3.4\nPattavinaReti2021.indb   107PattavinaReti2021.indb   107 14/01/2022   16:08:2814/01/2022   16:08:28108  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\nÈ opportuno osservare quali conseguenze abbia il vincolo rappresentato dall’Equazione (3.11)", "nel caso di collegamenti caratterizzati da un grande prodotto “banda-ritardo”, che hanno quin -\ndi una grandissima capacità, cio è dell’ordine dei Gbit/s, e coprono distanze molto grandi, per \nesempio di centinaia o migliaia di chilometri. In queste situazioni il tempo di propagazione \nnormalizzato assume valori a >> 1. Collegamenti di questo genere sono molto frequenti nelle \nreti dorsali di tipo continentale o intercontinentale, a maggior ragione considerando l’evoluzio -", "ne delle tecnologie di accesso alle reti e di trasmissione che ha avuto luogo negli ultimi anni. \nAllo scopo di esplicitare il contributo dei differenti parametri per la determinazione dell’a -\npertura di finestra di trasmissione che non “strozza” il flusso delle UI sul collegamento, \nesprimiamo il parametro a attraverso l’Equazione (3.2) ottenendo\nWs12a+≥ 12dC\nLuv---------⋅+= .\nLa Tabella 3.1 mostra l’apertura Ws richiesta per la finestra di trasmissione su un collegamento", "di tipo cablato, quindi con v = 200.000 km/s, per diversi valori di capacità C e di lunghezza d \ncon unità informative di L = 2000 byte. Si può osservare come l’apertura richiesta per la fine -\nstra rimanga al di sotto del valore 64 UI solo per collegamenti molto corti (10 km) o di capacità Il tempo totale di trasferimento si ottiene considerando che occorre inizialmente comple -\ntare il trasferimento di quattro “finestre” di cinque UI ognuna. Indichiamo con T1 il tempo", "richiesto al trasferimento completo di un’UI; dopo T1 secondi dall’inizio della trasmissione, \npuò essere trasmessa l’UI numero 6, e analogamente per le UI numero 11, numero 16 e \nnumero 21. Il completamento del trasferimento richiede che siano trasmesse e riscontrate le \nultime cinque UI; come mostrato in figura, ciò richiede dunque di considerare il tempo di \ntrasmissione di quattro UI in aggiunta al tempo di trasferimento completo dell’ultima UI, \ncioè la numero 25. Quindi:", "cioè la numero 25. Quindi:\nTtot4T14TuT1 + + 5TuTa2τ + +( )4Tu + 2,092 s = = = s.\nL’a p e r t u r a  Ws della finestra in trasmissione che “non strozza” il collegamento si determina \ncome il valore intero più piccolo che soddisfa l’Equazione (3.10), e cio è\nWTuTa2τ + +\nTu------------------------------ 127. = =12345\nA\nB678910 1112131415 1617181920 2122232425T1T1T1T1T14TuTtot\nFigura 3.9 Diagramma spazio-temporale secondo l’Esempio 3.4.", "PattavinaReti2021.indb   108PattavinaReti2021.indb   108 14/01/2022   16:08:2814/01/2022   16:08:283.2 Protocolli continuous ARQ  109\nmolto limitata (10/100 Mbit/s). Aperture della finestra di centinaia o anche migliaia di UI sono \ninvece richieste all’aumentare della distanza coperta (100/1000 km) e della capacità del colle -\ngamento (1/10 Gbit/s). Naturalmente, minori aperture possono essere necessarie a condizioni", "di adottare UI molto più lunghe, cosa non sempre possibile perché ciò dipende dai protocolli \ndi livello superiore. \nNegli esempi riportati finora, con trasmissione unidirezionale da A a B, ogni UI può essere \nsingolarmente riscontrata sul canale di ritorno. Tuttavia, nel caso generale di trasferimento \nbidirezionale sul collegamento A-B, è  possibile che un riscontro non possa essere inviato \nimmediatamente dalla stazione ricevente impegnata a sua volta in una trasmissione di un’UI.", "Per evitare perdita di efficienza dovuta alla trasmissione di un riscontro, quando vi è almeno \nun’UI che deve essere inviata, il protocollo prevede che un’UI rechi anche l’informazione \ndi riscontro sulle UI ricevute correttamente. Questa modalità di trasferimento del riscontro \nviene denominata piggybacking . Risulta altresì evidente che in un collegamento bidirezio -\nnale entrambe le stazioni alle estremità del collegamento sono dotate di due finestre, una di", "trasmissione e una di ricezione.\nOccorre osservare che il meccanismo della finestra a scorrimento impone implicitamente \nun vincolo sull’apertura  delle finestre affinché il protocollo ARQ operi correttamente. Come \nsi vedrà nel seguito, la condizione che devono soddisfare le aperture delle due finestre in tra -\nsmissione e in ricezione (per ognuno dei due versi del collegamento nel caso di trasmissione \nbidirezionale) è \n)3.12( WsWrN≤ + .           \nTipi di protocolli ARQ", "Tipi di protocolli ARQ\nNell’ambito dei protocolli continuous ARQ  sono stati definiti due protocolli denomina-\nti “go-back-n” ( GBN) e “selective repeat” (SR), che utilizzano riscontri positivi  (acknow -\nledgment , ACK) e riscontri negativi  (negative acknowledgment , NACK) con il seguente \nsignificato:\n• ACK i viene emesso per segnalare la corretta ricezione dell’UI numero i  e indica \nanche che tutte le UI fino all’UI numero i sono state ricevute correttamente3 (ACK \ncumulativo );", "cumulativo );\n3  Si ricordi il principio della numerazione ciclica modulo- N; quindi ACK 0 indica la corretta ricezione delle UI \nnumero ..., 5, 6, 7, 0, se N = 8.Tabella 3.1 Apertura Ws della finestra di trasmissione per una trasmissione continua.\nCapacità, C Lunghezza, d\n10 km 100 km 1000 km\n10 Mbit/s 2 2 8\n100 Mbit/s 2 8 64\n1 Gbit/s 8 64 626\n10 Gbit/s 64 626 6251", "1 Gbit/s 8 64 626\n10 Gbit/s 64 626 6251\nPattavinaReti2021.indb   109PattavinaReti2021.indb   109 14/01/2022   16:08:2914/01/2022   16:08:29110  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\n• NACK i viene emesso quando viene ricevuta un’UI successiva all’UI numero i atte -\nsa, evento che quindi indica la perdita dell’UI numero i; il significato ulteriore di un \nriscontro negativo dipende tuttavia dallo specifico protocollo.", "I protocolli GBN e SR si differenziano nella modalità di gestione degli eventi di errore di \ntrasmissione delle UI. Un terzo tipo di protocollo continuous ARQ  che trova larga applicazio -\nne nelle reti odierne consiste nel prevedere che i riscontri siano solo di tipo positivo (ACK), \ndelegando così al solo meccanismo del time-out la gestione della ritrasmissione delle UI che \nnon vengono ricevute correttamente a destinazione.", "Nei paragrafi successivi che descrivono i protocolli di tipo continuous ARQ  si ipotizza, a \nmeno di specificazione contraria, che la stazione A del collegamento A-B abbia sempre un’UI \npronta per l’invio e quindi un buffer di trasmissione mai vuoto. \n3.2.1 Protocollo go-back-n\nCon il protocollo go-back-n  (GBN) il ricevitore B accetta le UI ricevute solo se queste sono \nstrettamente in sequenza (ciclica modulo- N). Il numero n nel nome stesso del protocollo sta a", "indicare il numero massimo di UI che possono essere trasmesse in assenza di riscontro (per \nesempio n = 7 con b = 3). La ricezione di un’UI fuori sequenza implica non solo lo scarto \ndell’UI stessa, ma anche l’invio di un riscontro negativo. NACK i nel protocollo GBN indica \nnon solo la mancata ricezione da parte della stazione dell’UI numero i , ma anche la corretta \nricezione di tutte le unità informative fino all’UI numero ( i _ 1)modN. Dopo l’invio di un NACK", "i, la stazione B scarta tutte le UI ricevute con numeri crescenti fino alla corretta ricezione \ndell’UI numero  i. Ciò implica che l’apertura della finestra in ricezione Wr assume valore uni -\ntario e che le UI possono essere ricevute solo in sequenza.\nAnche se le implementazioni del protocollo possono prevedere diverse varianti nella gestio -\nne dei riscontri negativi, si assumerà qui che il NACK relativo a una specifica UI venga inviato", "solo alla prima ricezione di un’UI fuori sequenza, anche se altre UI fuori sequenza vengono \nricevute prima che l’UI mancante sia finalmente ricevuta. Tutte queste UI fuori sequenza \nvengono ovviamente scartate data l’apertura Wr = 1 della finestra in ricezione.\nAl fine di evitare ambiguità nell’identificazione delle UI, è facile dedurre che l’apertura \ndella finestra in trasmissione non deve eccedere il valore Ws = N – 1, se N = 2b è il modulo", "di numerazione delle UI. Quindi, se si usano b = 3 bit di numerazione, la massima apertura \ndella finestra in trasmissione è Ws = 7. Si consideri, per esempio, il caso di un collegamento \nunidirezionale A-B in cui le UI siano numerate modulo-8 ( b = 3), con apertura della finestra \nin trasmissione Ws = 8. Ipotizziamo che la stazione A invii le otto UI consecutive numero 2, 3, \n4, 5, 6, 7, 0, 1. Se la stazione B invia un riscontro positivo ACK 1, la stazione A può interpre -", "tare ciò in due modi diversi: B ha ricevuto tutte le otto UI, oppure B non ha ricevuto alcuna \ndelle otto UI e sta semplicemente confermando che l’ultima UI ricevuta correttamente era la \nnumero 1 precedente (quest’informazione implicita può essere trasportata con la tecnica di \npiggybacking anche numerose volte da B ad A). Questo tipo di ambiguità può essere evitato \nimponendo Ws = 7. \nIl diagramma di flusso che descrive le operazioni di trasferimento di UI dalla stazione", "trasmittente A alla stazione ricevente B è mostrata in Figura 3.10. Si ipotizza che la stazione \ntrasmittente sia dotata di un buffer a N posizioni dove la cella Bi (0 ≤ i ≤ N – 1) contiene l’UI \nPattavinaReti2021.indb   110PattavinaReti2021.indb   110 14/01/2022   16:08:2914/01/2022   16:08:293.2 Protocolli continuous ARQ  111\nnumero i in attesa di trasmissione. Le UI generate nella stazione A vengono depositate nella \nmemoria ciclicamente a partire dalla cella B0.", "memoria ciclicamente a partire dalla cella B0. \nDal lato trasmissione (Figura 3.10a), vengono inizializzate le variabili Ls, estremo inferiore \ndella finestra di trasmissione, e i , indice corrente di lettura della memoria nella stazione A. \nNel ciclo che viene ripetuto indefinitamente si invia l’UI numero i , se presente nel buffer e se \nrientra nell’apertura corrente della finestra di trasmissione, cio è se  i =  Ls,...,(Ls + Ws _ 1) modN,", "inizializzando il relativo time-out To(i). Vengono quindi svolte le operazioni previste per l’oc -\ncorrenza di ognuno dei tre eventi:\n• ricezione ACK j ; il riscontro positivo dell’UI numero j determina il nuovo estremo \ninferiore ( j + 1 )modN della finestra di trasmissione e il blocco del time-out di tutte le \nUI in attesa di riscontro fino all’UI numero j ; \n• ricezione NACK j : il riscontro negativo dell’UI numero j determina il nuovo valore", "i  = j della variabile corrente di lettura del buffer, che predispone la ritrasmissione \ndell’UI numero j nel ciclo successivo; j indica anche il nuovo valore dell’estremo infe -\nriore della finestra di trasmissione con conseguente blocco del time-out di tutte le UI Figura 3.10 Diagramma di flusso per il protocollo GBN al trasmettitore (a) e al ricevitore (b).Ls = 0\ni = 0\nSì\nNoSì\nBivuoto\nInvia UIi\nInizializza TO(i)\ni = (i + 1)modN\nACK j\nricevuto\nNo\nNACK j\nricevuto\nTO(k)\nscadutoLs = (j + 1)modN", "No\nNACK j\nricevuto\nTO(k)\nscadutoLs = (j + 1)modN\nFerma TO(k)\nk=Ls,...,j\nLs =j\ni =j\nFerma TO(k)\nk=Ls,...,(j - 1)modN\nInvia UIk\nInizializza TO(k)Sì\nSì\nSìNo\nNo\nNoi =Ls,...,(Ls+Ws-1)modNLr = 0\nSìRicezione UIi\nNo\nAccetta UIi\nInvia ACK Lr\nLr = (Lr + 1)mod Ni =LrScarta UIi\nInvia\nNACK LrSì\nNo\nInvia\nACK  (Lr- 1)mod NNACK Lr\ngiàinviato\n(a) (b)\nPattavinaReti2021.indb   111PattavinaReti2021.indb   111 14/01/2022   16:08:2914/01/2022   16:08:29112  Capitolo 3 – Teoria dei protocolli", "3A Collegamenti punto-punto\nin attesa di riscontro fino all’UI numero ( j _ 1)modN, che vengono considerate ricevute \na destinazione;\n• scadenza time-out To(k): viene inviata l’UI numero k , reinizializzando il relativo \ntime-out. \nDal lato ricezione (Figura 3.10b), dopo l’inizializzazione dell’estremo inferiore Lr della finestra \ndi ricezione, viene eseguito un ciclo a fronte dell’evento di ricezione dell’UI numero i. Se questa", "UI è quella attesa in base all’apertura corrente della finestra di ricezione ( i = Lr), l’UI viene \naccettata inviando il relativo riscontro ACK  j (j = Lr) e viene aumentato di un’unità modulo- N \nl’estremo inferiore Lr della finestra di ricezione . Se invece l’UI ricevuta non è quella attesa, \nl’UI viene scartata riscontrando nuovamente l’ultima UI accettata. Solo alla prima occorrenza \ndi ricezione di UI fuori sequenza, viene invece inviato un riscontro negativo NACK  j (j = Lr),", "per indicare alla parte trasmittente che l’UI attesa è andata evidentemente persa. \nLa Figura 3.11 rappresenta un esempio di applicazione del protocollo go-back-n  sul col -\nlegamento A-B assumendo la massima dimensione delle finestre, cio è Ws  = 7, Wr  =  1 (la \nmodalità di numerazione delle UI nelle finestre, che non viene mostrata in figura per motivi \ndi leggibilità, è la stessa di Figura 3.7). La stazione A invia con successo alla stazione B le", "UI numerate da 0 a 2, che vengono puntualmente riscontrate facendo ruotare in avanti di una \nposizione alla volta le finestre corrispondenti. L ’UI numero 3 non viene ricevuta correttamen -\nte da B, che quindi la scarta. Si noti che la stazione B può inviare il riscontro negativo, NACK \nNACK30\n1\n2\n3\n4\n5\n6\n3\n4\n5\n6ACK0\nACK1\nACK2\nACK3\nACK4B A\nACK2ACK2\nACK5\nFigura 3.11 Protocollo go-back-n con ritrasmissione per riscontro negativo.", "PattavinaReti2021.indb   112PattavinaReti2021.indb   112 14/01/2022   16:08:2914/01/2022   16:08:293.2 Protocolli continuous ARQ  113\n3, solo dopo la corretta ricezione dell’UI numero 4, che indica a B la mancata ricezione (corret -\nta) dell’UI numero 3. La stazione B quindi scarta l’UI numero 4 e le successive UI numero 5 e \n6, in quanto tutte non ammesse dalla finestra di ricezione (esse sono ricevute fuori sequenza).", "Nel frattempo la stazione A riceve il riscontro negativo4 NACK 3 e ricomincia a trasmettere le \nUI a partire dalla numero 3 (memorizzata nel buffer di ritrasmissione insieme alle UI numero \n4, 5 e 6), che viene questa volta ricevuta correttamente da B. La rotazione delle due finestre \npuò così continuare. \n4  Negli esempi raffiguranti il funzionamento di un protocollo punto-punto si assume che la trasmissione di un’UI", "o di un riscontro, una volta iniziata, venga sempre portata a termine anche se, come in questo caso, l’UI in corso \ndi trasmissione sarà sicuramente scartata dalla stazione B ricevente.Si ripete l’Esempio 3.4 di trasferimento dati ipotizzando ora un canale di comunicazione \nvia cavo soggetto a errori con le seguenti caratteristiche:\n• lunghezza del collegamento, l  = 600 km,\n• capacità del collegamento, C = 10 Mbit/s,\ne un meccanismo di controllo di flusso a finestra con i seguenti parametri:", "• apertura della finestra di trasmissione, Ws = 5,\n• time-out per inizio di ritrasmissione, To = 12 ms.\nAdottando un protocollo ARQ di tipo go-back-n e ipotizzando che la terza UI sia scartata \nin ricezione per errore di trasmissione, si vuole valutare il tempo totale di trasferimento da \nA a B di un segmento dati di lunghezza Ltot = 100 kbyte e il numero Ntot di UI trasmesse \ncomplessivamente.\nRispetto all’Esempio 3.4 abbiamo uguali tempi di trasmissione di UI e di riscontri, ma un", "diverso tempo di propagazione che, considerando la minore velocità di propagazione nel \ncavo n = 200.000 km/s, è dato da\nτl\nv--600\n200.000------------------- 3ms = = = .\nQuesto piccolo tempo di propagazione determina una trasmissione continua di UI senza \nlimitazioni da parte della finestra, infatti risulta ora WsTu = 16 >  Tu + Ta + 2t = 9,28 (ms). \nCome mostrato in Figura 3.12, la mancata ricezione dell’UI numero 3 determina un riscon -", "tro negativo alla ricezione dell’UI numero 4 che viene ricevuto dalla stazione A mentre è in \ncorso la trasmissione dell’UI numero 6. Si procede dunque alla ritrasmissione sequenziale \ndelle UI a partire dall’UI numero 3. Si noti che il riscontro negativo NACK 3 viene ricevuto \nprima della scadenza del time-out, che quindi in questo caso non influenza le prestazioni \ndi ritardo. Il tempo totale di trasferimento si ottiene quindi semplicemente tenendo conto", "delle quattro UI ritrasmesse, e cio è\nTtot25Tu4TuTa+ 2τ + + 9888ms, = =\ne il numero complessivo di UI trasmesse è Ntot = 29. Esempio 3.5\nPattavinaReti2021.indb   113PattavinaReti2021.indb   113 14/01/2022   16:08:3014/01/2022   16:08:30114  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\n3.2.2 Protocollo selective repeat\nNel protocollo selective repeat  (SR) le unità informative sono accettate anche se ricevute", "fuori sequenza; ciò richiede la disponibilità di un buffer di ricezione  che consenta di riordi -\nnare le UI, affinché il payload in esse contenuto possa essere consegnato in ordine sequenziale \nal livello superiore (client). Accettare UI fuori sequenza implica che il ricevitore ha rilevato \nla mancata ricezione di una o più delle UI trasmesse. Questo evento viene segnalato dalla \nstazione ricevente mediante l’invio di un riscontro negativo, che questa volta non indica anche", "il riscontro positivo delle UI precedenti; quindi il riscontro negativo NACK i nel protocollo \nSR indica solamente che l’UI numero i non è stata ricevuta dalla stazione. Come nel caso del \nprotocollo go-back-n , il riscontro positivo ACK i indica la corretta ricezione delle UI fino alla \nnumero i compresa.\nAnalogamente a quanto ipotizzato nel protocollo GBN, un riscontro negativo viene inviato \nalla ricezione della prima UI fuori sequenza. Ora, con il protocollo SR, a ogni altra UI ricevuta", "fuori sequenza con numerazione all’interno della finestra di ricezione corrisponde l’invio di \nun ACK i , che sta a riconfermare che l’ultima UI corretta ricevuta in sequenza è la numero \ni. Naturalmente, se la numerazione dell’UI ricevuta rientra nella finestra di ricezione, questa \nverrà comunque accettata dal ricevitore. \nNel protocollo selective repeat  l’apertura della finestra in ricezione non deve essere più", "unitaria, poiché il ricevitore, per definizione, può accettare UI anche fuori sequenza. Tuttavia \noccorre stabilire un vincolo congiunto sull’apertura delle due finestre per evitare ambiguità. \nConsideriamo, per esempio, il caso in cui entrambe le finestre abbiano apertura Ws = Wr = 7. \nIpotizziamo che la stazione A abbia emesso le UI numero 2, 3, 4, 5, 6, 7, 0, che vengono rice -\nvute correttamente dalla stazione B, che emette un riscontro cumulativo ACK 0. Quest’ultima", "allora ruota la propria finestra in ricezione per accettare le successive UI numerate da 1 a 7. \nA causa di un errore, il riscontro si perde, così che la stazione A inizia a ritrasmettere le UI \nper scadenza del time-out, a partire dall’UI numero 2. La stazione B accetta questa UI, poiché \nrientra nella sua finestra in ricezione, senza accorgersi che è la ripetizione di un’UI già rice -\nvuta. Si può quindi facilmente dedurre la condizione che garantisce l’assenza di ambiguità nel", "protocollo selective repeat : la finestra in ricezione, quando viene ruotata in avanti della mas -\nsima quantità in seguito a ricezione corretta di Wr UI, non deve “sovrapporsi” con la finestra \nin trasmissione, che corrisponde a imporre la condizione specificata dall’Equazione (3.12). \nLa scelta ottimale dell’apertura delle due finestre nel protocollo selective repeat  è \nWs = Wr = N/2. Infatti, scegliere Ws > Wr implica che la stazione ricevente potrebbe scartare 12345\nA", "A\nB63456 111213141516171819202122232425Ttot\n78910\nFigura 3.12 Diagramma spazio-temporale secondo l’Esempio 3.5.\nPattavinaReti2021.indb   114PattavinaReti2021.indb   114 14/01/2022   16:08:3014/01/2022   16:08:303.2 Protocolli continuous ARQ  115\nalcune UI corrette ricevute fuori sequenza, poiché non rientrano nell’apertura corrente della \nfinestra di ricezione. Analogamente, assumere Ws < Wr significa predisporre un’apertura della", "finestra in ricezione che non può mai essere sfruttata pienamente. \nIl diagramma di flusso che descrive le operazioni di trasferimento di UI dalla stazione \ntrasmittente A alla stazione ricevente B con il protocollo SR è mostrato in Figura 3.13. Come \nnel caso del protocollo GBN, si ipotizza che la stazione trasmittente sia dotata di un buffer a N \nposizioni dove la cella Bi (0 ≤ i ≤ N – 1) contiene l’UI numero i in attesa di trasmissione. Le UI", "generate nella stazione A vengono depositate nella memoria ciclicamente a partire dalla cella \nB0. Dal lato trasmissione (Figura 3.13a), la differenza con il protocollo GBN risiede solamente \nnelle operazioni svolte alla ricezione del riscontro negativo NACK j . Ora l’indice corrente i \ndelle UI da trasmettere non viene modificato, in quanto il riscontro negativo implica il reinvio \ndella sola UI j , con nuova inizializzazione del relativo time-out. Inoltre questo riscontro nega-", "tivo non implica alcun riscontro positivo di UI con numero i <  j. Dal lato ricezione (Figura \n3.13b), le differenze con il protocollo GBN sono sostanziali, in quanto ora si accettano UI \nLs = 0\ni = 0\nSì\nNoSìBivuoto\nInvia UI i\nInizializza TO(i)\ni = (i + 1)mod N\nACK j\nricevuto\nNo\nNACK j\nricevuto\nTO(k)\nscadutoLs = (j + 1)mod N\nFerma TO(k)\nk =Ls,...,j\nInvia UIj\nInizializza TO(j)\nInvia UIk\nInizializza TO(k)Sì\nSì\nSìNo\nNo\nNoi=Ls,...,(Ls+Ws-1)mod NLr = 0\nSìi =Lr\nLr = (Lr + 1)modNSìSì", "Sìi =Lr\nLr = (Lr + 1)modNSìSì\nNoRicezione UIiScarta UIi\nInvia\nACK  (Lr- 1)modN\nInvia ACK Lr\nLr = (Lr + 1)modNi=Lr,...,(Lr+Wr-1)modN\nAccetta UIi\nInvia\nNACK LrNo\nNoSì\nNoNACK Lr\ngiàinviato\nUILr + 1\ngiàaccettata\nFigura 3.13 Diagramma di flusso per il protocollo SR al trasmettitore (a) e al ricevitore (b).(a) (b)\nPattavinaReti2021.indb   115PattavinaReti2021.indb   115 14/01/2022   16:08:3014/01/2022   16:08:30116  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto", "3A Collegamenti punto-punto\nanche fuori sequenza. Dopo l’inizializzazione dell’estremo inferiore della finestra di rice -\nzione, all’evento di ricezione dell’UI numero i corrisponde l’accettazione o lo scarto dell’UI \nstessa, a seconda dell’appartenenza o meno del numero i all’apertura corrente della finestra \ndi ricezione. In quest’ultimo caso viene sempre inviato un riscontro dell’ultima UI ricevuta", "in sequenza. Inoltre, se l’UI ricevuta non è quella specificata dall’estremo inferiore Lr della \nfinestra, essendo ricevuta fuori sequenza, viene inviato un riscontro negativo per questa UI, \nse non già inviato, altrimenti si riscontra l’ultima UI ricevuta in sequenza. Se invece i =  Lr, \nviene inviato un riscontro ACK j ( j ≥ i) che specifica tutte le UI consecutive accettate, tenendo \nconto anche delle altre UI accettate precedentemente ma fuori sequenza.", "Nella Figura 3.14 è rappresentato un esempio di trasmissione di unità informative tra le \nstazioni A e B secondo il protocollo selective repeat  assumendo la massima dimensione delle \nfinestre, cio è Ws = Wr = 4, con una numerazione delle UI con b = 3 bit. Dal lato trasmissione, \nper ogni riscontro positivo di UI (ACK), la stazione A ruota in avanti la propria finestra; dal \nlato ricezione, per ogni UI corretta ricevuta in sequenza, la stazione B ruota di una posi -", "zione in avanti la propria finestra. Come nel caso del protocollo precedente, si assume che \nl’UI numero 3 venga scartata dalla stazione B per errore di trasmissione. In questo caso, \nnon appena l’UI numero 4 viene ricevuta correttamente e accettata, la stazione B emette un \nriscontro negativo, NACK 3, per segnalare alla stazione A la richiesta di ritrasmissione della \nsola UI numero 3. Nel frattempo, in accordo all’apertura corrente della finestra in ricezione,", "la stazione B accetta anche le UI numero 5 e 6, la cui trasmissione era consentita dalla fine -\n0\n1\n2\n3\n4\n5\n6\n3\n7ACK0\nACK1\nACK2\nACK6NACK3\nACK2\nACK2B A\nFigura 3.14 Protocollo selective repeat con ritrasmissione per riscontro negativo.\nPattavinaReti2021.indb   116PattavinaReti2021.indb   116 14/01/2022   16:08:3014/01/2022   16:08:303.2 Protocolli continuous ARQ  117\nstra di trasmissione, senza tuttavia ruotare la propria finestra di ricezione. Quando riceve il", "riscontro negativo dell’UI numero 3, la stazione A provvede alla ritrasmissione della stessa, al \ntermine della quale non vengono trasmesse altre UI. Infatti, la finestra in trasmissione è stata \ncompletamente esaurita, essendo state già trasmesse tutte le UI ivi autorizzate. Alla ricezione \ndel riscontro ACK 6, che indica riscontro cumulativo delle UI numero 3, 4, 5, 6, la finestra di \ntrasmissione ruota in avanti di 4 posizioni consentendo la riattivazione dell’invio delle UI. Si", "noti che anche dal lato della stazione B la finestra di ricezione ruota di 4 posizioni in avanti al \nricevimento dell’UI numero 3, in quanto le UI numero 4, 5, 6 erano già state accettate. \nLa Figura 3.15 mostra invece le operazioni del protocollo quando interviene anche il mec -\ncanismo di ritrasmissione dovuta a time-out. In questo caso si è ipotizzato un time-out \nTo = 4,25· Tu, che soddisfa la condizione (3.5), poichè nell’esempio Ta < Tu e t < Tu. La stazione", "A trasmette con successo le UI numero 0, 1, 2 e, alla ricezione del corrispondente riscontro, \nruota in avanti la finestra di trasmissione di una posizione. Questa rotazione tuttavia non \navviene per l’UI numero 2, poiché il riscontro relativo viene perso per errore. Nella stazione \nB, a ogni UI ricevuta la finestra ruota in avanti di una posizione. Come per il precedente \nesempio del protocollo GBN, l’UI numero 3 viene persa per errore. Ciò viene segnalato dalla", "stazione B con un riscontro negativo, NACK 3, alla ricezione dell’UI numero 4, che viene \naccettata. Anche l’UI numero 5 viene accettata in quanto all’interno della finestra di ricezione, \ngenerando un ACK uguale all’ultimo riscontro positivo inviato, senza tuttavia provocare la \n60\n1\n2\n3\n4\n5\n3\n4To\n7ACK0\nACK1\nACK2\nACK5NACK3\nACK6ACK2\nACK7B A\nACK6\nFigura 3.15 Protocollo selective repeat con ritrasmissione per riscontro negativo e time-out.", "PattavinaReti2021.indb   117PattavinaReti2021.indb   117 14/01/2022   16:08:3114/01/2022   16:08:31118  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\nrotazione della finestra in ricezione. La trasmissione di unità informative da parte della sta -\nzione A si interrompe con quest’ultima UI, poiché la finestra in trasmissione si è esaurita, \nanche a causa della perdita del riscontro ACK 2. Alla ricezione del riscontro negativo NACK", "3, la stazione A opera la ritrasmissione dell’UI numero 3, durante la quale scatta il time-out \ndell’UI numero 2, che tuttavia non viene ritrasmessa perché il time out è disabilitato dalla \nricezione, questa volta corretta, del riscontro ACK 2. Ciò provoca la rotazione in avanti di una \nposizione della finestra in trasmissione con conseguente trasmissione dell’UI numero 6. Alla \nricezione corretta dell’UI numero 3 segue l’invio del riscontro ACK 5 da parte della stazione", "B, che ruota in avanti di 3 posizioni la finestra in ricezione, avendo già accettato le UI numero \n4 e 5. Nel frattempo scade anche il time-out relativo alle UI numero 4 e 5. Mentre la prima \nviene ritrasmessa, la seconda ritrasmissione viene annullata dalla ricezione del riscontro \ncumulativo ACK 5 che provoca la rotazione in avanti della finestra di trasmissione di 3 \nposizioni. \nSi ripete ora l’Esempio 3.5 nel caso del protocollo selective repeat .", "Anche in questo caso abbiamo una trasmissione continua di UI, essendo gli stessi i para -\nmetri in gioco. Ora tuttavia, come mostrato in Figura 3.16, la trasmissione da parte della \nstazione A si interrompe al termine della trasmissione dell’UI numero 7, poiché la finestra \ndi trasmissione è esaurita (tutte le 5 UI autorizzate sono state inviate e non ancora riscon -\ntrate). Non appena l’UI numero 3 viene riscontrata, unitamente alle UI numero 4, 5, 6 già", "ricevute con successo, tutte le altre UI vengono inviate senza soluzione di continuità. Anche \nin questo caso il time-out non scatta in quanto la trasmissione dell’UI persa è seguita dal \ncorretto trasferimento di un’UI, che quindi segnala l’evento di perdita di unità informativa \nprima che scatti il time-out. Il tempo totale di trasferimento si ottiene quindi come\nTtot7TuTa2τ18TuTa2τ + + + + + 9216ms, = =", "Ttot7TuTa2τ18TuTa2τ + + + + + 9216ms, = =\nrealizzando così una prestazione di ritardo migliore che nel protocollo go-back-n . Il numero \ncomplessivo di UI trasmesse è ora Ntot = 26, cio è solo quelle previste, aumentate del numero \ndi UI perse.Esempio 3.6\n12345\nA\nB63 111213141516171819202122232425Ttot\n78910\nFigura 3.16 Diagramma spazio-temporale secondo l’Esempio 3.6.", "PattavinaReti2021.indb   118PattavinaReti2021.indb   118 14/01/2022   16:08:3114/01/2022   16:08:313.2 Protocolli continuous ARQ  119\n3.2.3 Protocollo con soli riscontri positivi\nI due protocolli GBN e SR finora descritti sono basati sul concetto di collegare la perdita di \nun’UI alla numerazione delle UI che vengono ricevute. Questo approccio nasce dall’ipotesi \nche il mezzo trasmissivo tra le due stazioni che comunicano garantisca implicitamente la con -", "segna in sequenza delle UI in assenza di errori. Occorre tuttavia considerare che non sempre \ntale requisito risulta soddisfatto, come per esempio nel caso in cui le due stazioni non siano \nconnesse da un collegamento punto-punto, bensì da una rete. Potrebbe essere infatti necessa -\nrio attraversare diversi nodi per realizzare la connettività tra stazioni terminali e la successio -\nne dei nodi da attraversare potrebbe cambiare nel tempo, determinando una consegna fuori", "sequenza delle UI a destinazione.\nNell’architettura protocollare TCP/IP le funzioni di trasferimento dello strato di rete sono \nrealizzate dal protocollo IP che, come descritto nel Paragrafo 6.3, è un protocollo connection -\nless, che consente dunque la consegna delle UI a destinazione fuori sequenza. Risulta quindi \nevidente che meccanismi di ritrasmissione utilizzati nei protocolli GBN e SR basati sulla", "rilevazione di UI ricevute fuori sequenza non possono funzionare nel caso di protocolli di \ntrasporto basati sul servizio dello strato di rete realizzato dal protocollo IP. Per questo risul -\ntano di particolare interesse i protocolli di trasferimento punto-punto che prevedano la dispo -\nnibilità di soli riscontri positivi per segnalare la corretta ricezione di UI. Naturalmente, in \nquesto caso l’unica possibilità di garantire la ritrasmissione di UI andate perse per errore o", "per qualunque altro motivo risiede nell’applicazione del meccanismo del time-out, che entra \nin funzione in assenza di riscontro positivo. Ne consegue che nei protocolli con soli riscontri \npositivi occorre prevedere una finestra di ricezione di capacità adeguata a garantire la conse -\ngna a destinazione delle UI fuori sequenza.\nI protocolli con soli riscontri positivi possono dunque essere considerati degli ibridi tra i", "protocolli go-back-n  e selective repeat . Infatti, come nei protocolli GBN, le UI che non vengo -\nno riscontrate sono ritrasmesse in ordine a partire dalla prima UI trasmessa e non riscontrata, \ngrazie alla scadenza in sequenza dei rispettivi time-out. Inoltre, come nei protocolli SR, le \nUI vengono accettate fuori sequenza grazie al meccanismo a finestra applicato in ricezione. \nNei protocolli con soli riscontri positivi il riscontro ACK i riveste lo stesso significato dei", "protocolli GBN e SR, indicando cio è riscontro positivo cumulativo per tutte le UI ricevute fino \nall’UI numero i . Un riscontro positivo viene inviato alla ricezione di una qualunque UI che \nrientra nella finestra di ricezione. Si assume qui che il meccanismo di numerazione delle UI, \ndelle finestre di trasmissione e di ricezione sia lo stesso definito nel protocollo SR, dovendo \nora considerare trasferimenti di UI che ammettono esplicitamente la ricezione di UI fuori \nsequenza.", "sequenza. \nPer descrivere il funzionamento del protocollo con soli riscontri positivi, facciamo rife -\nrimento all’esempio di Figura 3.15 relativo al protocollo SR ora modificato nel senso di non \navere più disponibile un riscontro negativo. Si assume che le due finestre di trasmissione e di \nricezione abbiano uguale apertura Ws = Wr = 4, con una numerazione delle UI con b = 3 bit. \nL ’evoluzione del protocollo con soli riscontri positivi è rappresentata in Figura 3.17.", "Come nel caso del protocollo SR, vengono persi per errore l’UI numero 3 trasmessa dalla \nstazione A e il riscontro numero 2 (ACK 2) inviato dalla stazione B. Dalla mancata ricezione \ndi questo riscontro nella stazione A consegue l’inibizione all’invio di nuove UI da parte di A, \nuna volta esaurita la finestra di trasmissione, che include le UI fino alla numero 5. Alla rice -", "PattavinaReti2021.indb   119PattavinaReti2021.indb   119 14/01/2022   16:08:3114/01/2022   16:08:31120  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\nzione in B della prima UI fuori sequenza, cio è la numero 4, segue l’invio dell’ultimo riscontro \ntrasmesso, e cio è ACK 2. Questo, una volta ricevuto in A, fa ruotare la finestra di trasmissione \nconsentendo l’invio dell’UI numero 6 e causa l’annullamento della ritrasmissione per time-out", "dell’UI numero 2. Analoghi riscontri inviati da B alla ricezione delle UI numero 5 e numero 6 \nnon hanno conseguenze di sorta. Alla scadenza dei successivi time-out, le UI numero 3, 4, 5 \nvengono ritrasmesse. Alla ricezione della prima segue l’invio di un riscontro cumulativo ACK \n6, dato che le altre tre UI erano state nel frattempo già ricevute. Questo riscontro fa ruotare \ndi 4 posizioni la finestra di trasmissione della stazione A, consentendo l’invio di nuove UI a \npartire dalla numero 7.", "partire dalla numero 7. \nSi osserva che l’informazione fornita dall’invio di un riscontro per ogni UI ricevuta, anche \nfuori sequenza, consente al trasmettitore di rilevare comportamenti anomali del trasferimento \ndi UI, in aggiunta al meccanismo di ritrasmissione previsto dal time-out. Ciò rende possibile \nattuare procedure di ritrasmissione più efficienti che anticipano la scadenza del time-out (vedi \nParagrafo 5.4.3).30\n1\n2\n3\n4\n5\n6\n4ACK0\nACK1\nACK2\nACK2\nACK6ACK2\n5ACK2\n7\nACK7ToB A\nACK6\nACK6", "ACK2\nACK2\nACK6ACK2\n5ACK2\n7\nACK7ToB A\nACK6\nACK6\nFigura 3.17 Protocollo con soli riscontri positivi.\nPattavinaReti2021.indb   120PattavinaReti2021.indb   120 14/01/2022   16:08:3214/01/2022   16:08:323.2 Protocolli continuous ARQ  121\n3.2.4 Protocolli bidirezionali\nI protocolli punto-punto descritti finora sono basati sull’ipotesi di flusso informativo unidire -\nzionale, in cui cio è una sola delle due stazioni genera UI e l’altra ha il solo compito di riceverle", "e riscontrarle. Nella realtà, praticamente tutte le modalità di interazione di tipo punto-punto \nsono di tipo bidirezionale. Infatti, entrambe le stazioni generano UI e ognuna delle due deve \nriscontrare quelle ricevute correttamente, oppure quelle mancanti ove il protocollo gestisca \nquesto tipo di eventi. \nLa Figura 3.18 mostra un modello di comunicazione bidirezionale tra due stazioni che si \nscambiano informazioni attraverso un collegamento bidirezionale. Occorre osservare che, a", "seconda del livello protocollare nel quale le UI vengono scambiate, il collegamento può essere \nrealizzato da un canale punto-punto, per protocolli di collegamento, oppure da una rete o \nsuccessione di reti, per protocolli di trasporto. In ognuna delle due stazioni sono disponibili \ndue buffer, uno di trasmissione (Tx) e uno di ricezione (Rx) con il compito, rispettivamente, di \ntrasmettere lungo il collegamento le UI ricevute nel N -SAP dal livello superiore, e di imma -", "gazzinare le UI ricevute lungo il collegamento in attesa di elaborazione. \nLe UI ricevute correttamente dalla stazione A lungo il collegamento vengono riscontra -\nte alla stazione B inviando un ACK con un’indicazione numerica nella direzione opposta. \nDato che sul collegamento potrebbero transitare UI senza soluzione di continuità, l’invio \ndi informazione di riscontro positivo da parte della stazione A può avvenire con maggiore", "efficienza utilizzando le stesse UI con payload dati che la stazione A invia alla stazione B. \nQueste UI saranno allora dotate di due numeri, SNA e ANA, che indicano, rispettivamente, il \nnumero di sequenza dell’UI inviata da A a B e il numero di sequenza dell’ultima UI ricevuta \ncorrettamente da B nella stazione A5. Il parametro ANA svolge dunque lo stesso ruolo del \nriscontro (cumulativo) ACK visto finora. Questa tecnica di invio del riscontro va sotto il nome", "di piggybacking . Quindi il buffer Tx di ognuna delle due stazioni è alimentato sia dal livello \nsuperiore, che consegna nuove UI da trasmettere, sia dal buffer Rx locale, che indica le UI da \nriscontrare tramite ACK oppure con tecnica piggybacking (vedi Figura 3.18).\n5 In alcuni protocolli, ANA indica invece la prossima UI che la stazione A si aspetta di ricevere dalla stazione B, \nriscontrando implicitamente tutte le UI fino all’UI numero ANA - 1.Tx\nRx\nStratoNRx\nTx", "Rx\nStratoNRx\nTx\nStratoNA BN-SAPStratoN+1 StratoN+1\nFigura 3.18 Modello di collegamento bidirezionale nel livello N.\nPattavinaReti2021.indb   121PattavinaReti2021.indb   121 14/01/2022   16:08:3214/01/2022   16:08:32122  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\n3.2.5 Efficienza dei protocolli continuous ARQ\nSe il collegamento tra le due stazioni A e B è ideale, cio è privo di errori, allora l’efficienza è", "unitaria se l’apertura della finestra consente di trasmettere in modo continuativo. Se invece \nquesta condizione non è verificata, allora l’efficienza si otterrà come rapporto tra il tempo \nspeso in trasmissione, per inviare le Ws UI, e il tempo richiesto per far ruotare la finestra stessa \n(e quindi far riprendere la trasmissione). QuindiSi vuole rappresentare uno scambio bidirezionale di UI tra due stazioni A e B in assenza", "di errori, assumendo che il modulo di numerazione delle UI sia N = 8 e che le ultime UI \ninviate da A e da B, ricevute correttamente, siano SNA = 2 e SNB = 5. \nCome rappresentato in Figura 3.19, la tecnica del piggybacking viene utilizzata ogniqual -\nvolta una stazione abbia un’UI da inviare e abbia completamente ricevuto un’UI corretta. \nIn ogni caso il parametro AN indica sempre l’ultima UI ricevuta correttamente. La stazione", "A invia in sequenza le UI numero 3, 4, 5, che vengono riscontrate con le UI numero 7, 0, \ncon tecnica piggybacking, e con il riscontro ANB = 5. Analogamente la stazione B invia le \nUI numero 6, 7, 0, che vengono riscontrate con un ACK recante ANA = 6, con l’UI numero \n7 e con un secondo ACK recante ANA = 0. Le successive UI numero 6, 7, 0 inviate da A \nsono riscontrate con l’UI numero 2, e con due ACK, mentre le UI numero 1, 2 inviate da B \nsono riscontrate con due ACK. Esempio 3.7\nSNA=3\nANA=5", "SNA=3\nANA=5\nSNA=4\nANA=5\nSNA=5\nANA=5\nSNA=6\nANA=6\nSNA=7\nANA=7\nSNA=0\nANA=0SNB=6\nANB=2\nSNB=7\nANB=3\nSNB=0\nANB=4\nSNB=1\nANB=5ANA=6\nANB=5\nANA=1SNB=2\nANB=6\nANB=0ANA=2ANA=0\nANB=7B A\nFigura 3.19 Trasferimento bidirezionale di UI con piggybacking secondo l’Esempio 3.7.\nPattavinaReti2021.indb   122PattavinaReti2021.indb   122 14/01/2022   16:08:3214/01/2022   16:08:323.2 Protocolli continuous ARQ  123\n)3.13( η1 Ws12a+≥\nWsTu\nTu2τ+------------------ Ws12a+<\n\n= .", "\n= .        \nAnche nel caso di presenza di errori di trasmissione, il calcolo dell’efficienza dipende dalle \nmodalità di operazione della finestra. Ipotizziamo inizialmente che la condizione che garan -\ntisce la piena utilizzazione del collegamento (Equazione (3.11)) sia soddisfatta, trovandoci \nquindi nella situazione di un’apertura di finestra che non influisce sull’efficienza del protocol -", "lo. Per calcolare l’efficienza dei protocolli ARQ, si assume per semplicità che i tempi di tra -\nsmissione dei riscontri e di elaborazione siano trascurabili ( Ta = Tp H 0). Come già ipotizzato, \nil buffer del trasmettitore è sempre non vuoto. L ’efficienza del protocollo di collegamento si \ncalcola come rapporto fra il tempo Tu di trasmissione di un’UI e il tempo totale richiesto per \ntrasmettere con successo l’UI stessa, cosa che richiede la trasmissione di Ns UI in media a", "causa degli errori, cio è\nηTu\nNsTu------------1\nNs------ = = .\nInfatti i protocolli continuous ARQ , a differenza dei protocolli stop and wait , non perdono \ndi efficienza a causa del tempo di propagazione sul collegamento, perché la stazione A può \ntrasmettere UI con continuità.\nPer il protocollo selective repeat , l’efficienza può essere facilmente calcolata considerando \nche il numero medio di tentativi di trasmissione della stessa UI, ivi incluso l’ultimo che ha", "successo, è dato ancora dall’Equazione (3.7), e cio è\n)3.14( Ns1\n1P–------------ =              \npoiché la ritrasmissione interessa solo la stessa UI errata e non altre.\nNel caso del protocollo  go-back-n , si indica con K il numero di UI consecutive che devo -\nno essere ritrasmesse in seguito a un errore6. Occorre ora considerare che a ogni errore di \ntrasmissione corrisponde la ritrasmissione di K UI (in media) in aggiunta alla ritrasmissione", "con successo dell’UI stessa: con un solo errore vengono ritrasmesse K + 1 UI, con due errori \n2K + 1 UI, con 3 errori 3 K + 1 UI, e così via. Considerando che Pi(1 _ P) indica la probabilità \ndi accumulare i errori su i trasmissioni ripetute della stessa UI, allora il numero medio Ns di \nUI trasmesse per UI inviata con successo è dato da:\n)3.15(Ns1P–()K1+()P1P–()2K1+()P21P–()… iK1+()Pi1P–()… + + + + + =\niK1+()Pi1P–()\ni0=∞\n∑KP\n1P–------------1+1 K1–()P +\n1P–------------------------------- = = =", "1P–------------------------------- = = =\n6 Per il calcolo dell’efficienza si ipotizza che le UI ritrasmesse, ad eccezione di quella ritrasmessa per errore di \ntrasmissione, siano sempre ricevute senza errori.\nPattavinaReti2021.indb   123PattavinaReti2021.indb   123 14/01/2022   16:08:3214/01/2022   16:08:32124  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\nIl parametro K può essere determinato considerando che una trasmissione priva di successo", "viene rivelata dalla stazione ricevente al momento della ricezione dell’UI successiva (corretta). \nQuesta invia un riscontro negativo e quindi la rilevazione di perdita di un’UI deve anche tene -\nre conto del tempo di propagazione sul collegamento dell’UI corretta e del riscontro. Durante \nquesto intervallo di tempo, tutte le UI trasmesse vengono scartate. Infatti, allo scadere di \nquesto intervallo di tempo, il trasmettitore riceve un riscontro positivo o negativo, quindi", "KTu H 2Tu + 2t, ovvero K  H 2 + 2 a. \nSi ottengono dunque le seguenti espressioni per l’efficienza dei protocolli continuous ARQ  \nnell’ipotesi Ws ≥ 1 + 2 a \n)3.16( η1P– SR\n1P–\n1P2aP ++----------------------------- GBN\n\n= .         \nCome appare chiaramente dall’Equazione (3.16), il protocollo selective repeat  è più efficiente \ndel protocollo go-back-n , ma questa differenza si riduce al diminuire della lunghezza del col -", "legamento o, viceversa, all’aumentare del tempo di trasmissione dell’unità informativa. Anche \nnel caso limite a = 0, il protocollo SR fornisce un’efficienza migliore. Infatti la necessità di \nricevere un’UI corretta per rilevarne una (mancante) errata implica, solo nel protocollo GBN, \nuna diminuzione di efficienza dovuta allo scarto dell’ultima UI corretta ricevuta. \nEsaminiamo ora il caso in cui Ws < 1 + 2 a. Si osserva che l’efficienza del protocollo è Ns", "volte di meno di quella espressa dall’Equazione (3.13), poiché Ns rappresenta il numero medio \ndi UI trasmesse per UI trasmessa con successo. Quindi\nηWsTuNs⁄\nTu2τ+-----------------------Ws\nNs12a+()--------------------------- = = .\nPer quanto riguarda il valore di Ns, questo è fornito ancora dall’Equazione (3.14) per il proto -\ncollo selective repeat  e dall’Equazione (3.15) per il protocollo go-back-n . In quest’ultimo caso", "il numero K di UI consecutive che devono essere ritrasmesse in seguito a errore è proprio \nquello consentito dall’apertura Ws della finestra. In conclusione, nel caso di Ws < 1 + 2 a, si ha \n)3.17( ηWs1P–()\n12a+------------------------- SR\nWs1P–()\n12a+()1 Ws1–()P +[ ]------------------------------------------------------------ GBN\n\n= .      \n3.2.6 Esempi numerici\nSi vuole ora confrontare l’efficienza dei protocolli di collegamento stop and wait  e continuous", "ARQ  utilizzando le espressioni fin qui derivate. Sono stati selezionati i seguenti parametri: \nlunghezza dell’UI Lu = 256 bit, apertura della finestra di trasmissione Ws = 7, 127 per il pro -\ntocollo go-back-n  e Ws = Wr = 4, 64 per il protocollo selective repeat , che corrispondono a \nrichiedere la massima efficienza dei due protocolli con numerazione di UI a b = 3 e b = 7 bit. \nL ’assunzione di tempi trascurabili di elaborazione e di trasmissione dei riscontri ( Tp = Ta H 0)", "implica anche La = 0. \nPattavinaReti2021.indb   124PattavinaReti2021.indb   124 14/01/2022   16:08:3214/01/2022   16:08:323.2 Protocolli continuous ARQ  125\nLa Figura 3.20 mostra l’andamento dell’efficienza h dei protocolli al variare del tempo di \npropagazione normalizzato7, a. Si è considerata una probabilità di errore sul bit p = 10–6, che \nsignifica ipotizzare un collegamento di ottima qualità. I protocolli ARQ hanno una presta -", "zione nettamente migliore del protocollo stop and wait  grazie al meccanismo di trasmissione \ncontinua. Infatti la loro efficienza è praticamente unitaria per valori del tempo di ritardo \nnormalizzato inferiori a circa metà dell’apertura della finestra ( Ws ≥ 1 + 2 a), quando cioè l’a -\npertura della finestra non ritarda le trasmissioni (le inefficienze sono dovute esclusivamente \nalle ritrasmissioni per errore). All’aumentare di a oltre la soglia appena citata, è la finestra", "di trasmissione a ridurre l’efficienza, che può diventare anche molto piccola per collegamenti \nmolto lunghi. Il grafico mostra anche che il protocollo go-back-n  ha un’efficienza maggiore \ndel protocollo selective repeat ; ciò è dovuto alla maggiore apertura della finestra di trasmis -\nsione del primo protocollo. L ’apertura della finestra di ricezione nel protocollo SR rimane \npraticamente inutilizzata a causa del tasso di errore molto piccolo.", "La Figura 3.21 mostra invece l’efficienza dei protocolli nel caso di una probabilità di errore \np = 10–4, facendo quindi riferimento a un collegamento di qualità intermedia. Ferma restando \nla migliore efficienza dei protocolli ARQ rispetto al protocollo stop and wait , si nota ora il \nmiglioramento di prestazioni fornito dal protocollo selective repeat , specialmente per una \ngrande apertura della finestra. Con numerazione di UI a 7 bit, il protocollo SR risulta sempre", "migliore del protocollo GBN, mentre con soli 3 bit di numerazione quest’ultimo protocollo \nrisulta più efficiente per collegamenti lunghi. Ciò si spiega considerando che ad aperture mag -\ngiori della finestra di trasmissione corrisponde la necessità di dover ritrasmettere più UI nel \nprotocollo go-back-n  in seguito a eventi di errore. Ovviamente tale numero di UI ritrasmesse \n7 Si osservi che, avendo fissato la lunghezza dell’UI, il ritardo di propagazione normalizzato aumenta all’aumen -", "tare della lunghezza del collegamento (la velocità di propagazione sul mezzo trasmissivo si può considerare \ncostante per un dato tipo di mezzo, per esempio rame, fibra ottica o canale radio).0,00,20,40,60,81,0\n0,1 1 10 100 1000ARQ - Lu = 256 bit, p = 10-6Efficienza del protocollo, \nRitardo di propagazione normalizzato, aS&W\nSR\nWs = 4SR\nWs = 64GBN\nWs = 127\nGBN\nWs = 7\nFigura 3.20 Efficienza dei protocolli sui collegamenti di alta qualità.", "03A-PattavinaWin2021_WIDE_10,5.indd   12503A-PattavinaWin2021_WIDE_10,5.indd   125 18/01/2022   17:49:2018/01/2022   17:49:20126  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto\ncresce all’aumentare di a, poiché aumenta il tempo necessario a rilevare e segnalare la manca -\nta ricezione di un’UI. Questo svantaggio del protocollo go-back-n  viene più che compensato \ndalla maggiore efficienza dovuta all’apertura quasi doppia della finestra di trasmissione solo \nnel caso b = 3.", "nel caso b = 3. \nIn entrambe le Figure 3.20 e 3.21 si nota un punto di discontinuità nelle curve di efficienza. \nCome già accennato, ciò è dovuto al meccanismo a finestra che, entrando in funzione come \ncontrollore di flusso, determina una repentina diminuzione di efficienza all’aumentare del \ntempo di propagazione normalizzato. Il valore numerico di a per cui ciò si verifica si ricava \ndall’Equazione (3.11), che fornisce: \naWs1–\n2---------------- = .", "aWs1–\n2---------------- = .\nVogliamo ora valutare l’effetto del parametro Lu, cioè la lunghezza dell’unità informativa, \nsull’efficienza dei protocolli ARQ. Nelle Figure 3.22 e 3.23 è rappresentata l’efficienza h dei \nprotocolli GBN e SR in funzione della lunghezza Lu dell’UI, con riferimento, rispettivamente, \na un collegamento terrestre e a uno satellitare. Il tempo di propagazione nel primo caso viene \nposto uguale a t = 5 ms8, che corrisponde a un collegamento di circa 1000 km, mentre nel", "secondo caso è scelto il valore t = 250 ms9. Per quanto riguarda i parametri comuni ai due \ncasi, si ipotizza che il tempo di trasmissione del riscontro sia trascurabile ( Ta H 0) e che la \n8 La velocità di propagazione dei segnali su cavo in rame o in fibra, è dell’ordine di 200.000 km/s, come spiegato \nnel Paragrafo 1.2.1 .\n9 La maggior parte dei satelliti per telecomunicazioni è di tipo geostazionario, con il satellite che si trova cioè", "sempre sulla verticale dello stesso punto terrestre. Ciò richiede che i satelliti siano posizionati a un’altitudine \ndi circa 36.000 km sulla superficie terrestre. Ipotizzando una velocità di propagazione dei segnali nell’etere \ndell’ordine di 300.000 km/s, un tempo di 250 ms indica con buona approssimazione il ritardo di propagazione \ntra due stazioni terrestri in un collegamento via satellite.0,00,20,40,60,81,0\n0,1 1 10 100 1000ARQ - Lu = 256 bit, p = 10-4Efficienza del protocollo, ", "Ritardo di propagazione normalizzato, aS&W\nSR\nWs = 4SR\nWs = 64\nGBN\nWs = 127\nGBN\nWs = 7\nFigura 3.21 Efficienza dei protocolli sui collegamenti di media qualità.\n03A-PattavinaWin2021_WIDE_10,5.indd   12603A-PattavinaWin2021_WIDE_10,5.indd   126 18/01/2022   17:49:2018/01/2022   17:49:203.2 Protocolli continuous ARQ  127\nprobabilità di errore sul bit sia p = 10–4, con una frequenza di trasmissione C = 64 kbit/s. Ven -", "gono comparate le due tecniche di recupero di errore GBN e SR a parità di numero di bit per \nla numerazione delle UI (3 o 7 bit); sono stati assunti quindi i due valori di apertura di finestra \nWs = 7, 127 per il protocollo go-back-n  e Ws = Wr = 4, 64 per il protocollo selective repeat . \nCome mostrato nella Figura 3.22, con l’apertura di finestra consentita da b = 3 bit di nume -\nrazione, il protocollo GBN fornisce prestazioni migliori del protocollo SR fino a lunghezze di", "UI dell’ordine del centinaio di bit, grazie alla maggiore apertura della finestra di trasmissione. \nOltre questa soglia, il secondo protocollo ha un’efficienza superiore, poiché implica un minor \nnumero di ritrasmissioni. Con numerazione a 7 bit, il protocollo SR risulta sempre migliore \ndel protocollo GBN, poiché il numero di ritrasmissioni necessarie con finestre più ampie pena -\nlizza di più il protocollo GBN. Per UI molto lunghe, i due protocolli convergono verso valori", "di efficienza bassi, ma simili. \nLa maggiore efficienza del protocollo selective repeat è invece evidente nel caso del col -\nlegamento satellitare rappresentato nella Figura 3.23. Ora l’elevato tempo di propagazione \nimplica un grande numero di UI da ritrasmettere nel protocollo go-back-n , a fronte di una sola \nUI nel protocollo selective repeat  nel caso di un’UI errata. Si nota anche che per entrambi i", "protocolli, a meno che le UI non siano particolarmente lunghe, l’efficienza migliora sensibil -\nmente aumentando l’apertura della finestra, poiché l’inibizione temporanea delle trasmissioni \ndovuta al meccanismo a finestra è sempre operante. \nSe il tasso di errore sul collegamento è molto più piccolo, per esempio di due ordini di \ngrandezza, come ipotizzato nella Figura 3.24 ( p =  1 0–6) per un collegamento via satellite,", "allora entrambi i protocolli forniscono prestazioni migliori, poiché le ritrasmissioni sono vera-\nmente poche. In questo caso, il protocollo go-back-n è più efficiente, avendo una finestra di \ntrasmissione più ampia, se il meccanismo di controllo di flusso a finestra limita effettivamente \nle trasmissioni. In caso contrario, il protocollo selective repeat  risulta leggermente più effi -\nciente a causa del minor numero di UI ritrasmesse per errore. Per ognuno dei due protocolli", "0,00,20,40,60,81,0\n101102103104105ARQ -  = 5 ms, C = 64 kbit/s, p = 10-4Efficienza del protocollo, \nLunghezza della UI, Lu (bit)SR\nWs = 4SR\nWs = 64GBN\nWs = 127\nGBN\nWs = 7\nFigura 3.22 Efficienza dei protocolli in un collegamento terrestre.\n03A-PattavinaWin2021_WIDE_10,5.indd   12703A-PattavinaWin2021_WIDE_10,5.indd   127 18/01/2022   17:49:2118/01/2022   17:49:21128  Capitolo 3 – Teoria dei protocolli\n 3A Collegamenti punto-punto", "3A Collegamenti punto-punto\nresta naturalmente una notevole differenza di efficienza per le due diverse aperture di finestra \nper UI di lunghezza limitata (fino a qualche centinaio e un migliaio di bit, con b = 7 e b = 3 \nbit di numerazione, rispettivamente). \n0,00,20,40,60,81,0\n101102103104105ARQ -  = 250 ms, C = 64 kbit/s, p = 10-4Efﬁcienza del protocollo, \nLunghezza della UI, Lu (bit)SR\nWs = 4SR\nWs = 64\nGBN\nWs = 127\nGBN\nWs = 7", "Ws = 4SR\nWs = 64\nGBN\nWs = 127\nGBN\nWs = 7\nFigura 3.23 Efficienza dei protocolli in un collegamento via satellite.\nSR\nWs = 4\n0,00,20,40,60,81,0\n101102103104105ARQ -  = 250 ms, C = 64 kbit/s, p = 10-6Efﬁcienza del protocollo, \nLunghezza della UI, Lu (bit)SR\nWs = 64GBN\nWs = 127\nGBN\nWs = 7\nFigura 3.24 Efficienza dei protocolli in un collegamento via satellite con basso tasso di errore.", "03A-PattavinaWin2021_WIDE_10,5.indd   12803A-PattavinaWin2021_WIDE_10,5.indd   128 18/01/2022   17:49:2118/01/2022   17:49:213.3 Topologie di rete multipunto  129\n3B Reti multipunto\nUna rete multipunto è definita come un sistema di comunicazione tra apparecchiature indipen -\ndenti, dette stazioni , entro un’area limitata che utilizza un canale fisico condiviso ad alta velo -\ncità con tasso d’errore generalmente basso. Data la loro ristretta estensione geografica, le reti", "multipunto sono generalmente indicate come reti in area locale ( local area network , LAN). \nUna LAN è caratterizzata dall’utilizzazione di dispositivi e apparecchiature di rete estrema -\nmente semplici, che rendono queste strutture di comunicazione particolarmente economiche. \nEsse presentano anche una notevole affidabilità, robustezza e flessibilità, pur non offrendo \ngaranzie molto stringenti sulle prestazioni di traffico. Questo infatti è il prezzo da pagare per", "avere una tecnologia d’accesso alla LAN semplice, facilmente fruibile e molto robusta.\nLe LAN sono sistemi caratterizzati da modularità ed espandibilità, potendosi evolvere nel \ntempo con un incremento di costo limitato, sia nella configurazione (aumento del numero di \nstazioni connesse e dell’area geografica coperta), sia nella tecnologia (aumento della capacità \ndella rete). Al contrario di quanto accade nelle reti in area geografica ( wide area network ,", "WAN), dove un’eventuale espansione richiede in generale una ridefinizione della topologia di \nrete, aggiungere stazioni o segmenti di rete a una struttura di LAN preesistente è molto sem -\nplice e ha un’influenza limitata sulle apparecchiature già operanti. Un cambio di tecnologia, \ncome per esempio l’aumento della capacità della rete, viene generalmente realizzato agendo \nesclusivamente sulle apparecchiature terminali e riutilizzando al massimo l’infrastruttura di \nrete preesistente.", "rete preesistente. \nDue sono le caratteristiche che consentono di distinguere una LAN dall’altra: il protocollo \nd’accesso e la topologia della rete. Con protocollo di accesso si fa riferimento alle procedure \nattuate da ogni stazione per poter effettuare la trasmissione di unità informative verso altre \nstazioni. Ciò avviene utilizzando un mezzo trasmissivo che è tipicamente condiviso da tutte \nle stazioni della LAN. Essendo le stazioni distribuite entro un’area geografica limitata, un’a-", "zione di coordinamento tra di esse si rende necessaria per evitare conflitti nell’utilizzazione \ndel mezzo trasmissivo. Possiamo quindi definire il protocollo d’accesso come l’insieme delle \nregole che le diverse stazioni seguono per accedere in modo coordinato al mezzo trasmissivo. \nLa modalità di interconnessione tra stazioni viene invece indicata come topologia di rete . \nCome sarà spiegato nel seguito, il protocollo d’accesso alla rete dipende anche dalla topologia", "della rete stessa. La Figura 3.25 mostra un insieme di apparecchiature terminali (stazioni) che \naccedono a un mezzo trasmissivo condiviso non meglio specificato nell’ambito di una rete \nmultipunto.\n3.3 Topologie di rete multipunto\nUno degli aspetti che differenziano sostanzialmente le diverse reti multipunto è la topolo -\ngia. Infatti, nella maggior parte dei casi la struttura di connessione delle apparecchiature di", "comunicazione di una LAN determina le modalità di trasmissione delle unità informative. Nel 3.3 T opologie di rete multipunto\n3.4 Protocolli di accesso3.5 Protocolli senza rilevazione del canale\n3.6 Protocolli con rilevazione del canale\nPattavinaReti2021.indb   129PattavinaReti2021.indb   129 14/01/2022   16:08:3614/01/2022   16:08:36130  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\ncorso degli ultimi decenni abbiamo assistito alla diffusione di diversi tipi di LAN, che possono", "essere classificate in base a una delle tre topologie principalmente usate: bus, anello e stella, \ncome mostrato nella Figura 3.26. Nell’esempio sono sempre rappresentate sei stazioni che inte -\nragiscono mutuamente, utilizzando opportune procedure. Queste topologie fanno riferimento \na un mezzo di comunicazione in cavo, perciò queste strutture possono essere denominate reti \nmultipunto cablate , o LAN cablate. Nel caso di reti dove il mezzo trasmissivo è rappresentato", "da un canale radio, cio è nelle reti wireless , che sono quindi prive di cablatura, non è possibile \nindividuare una topologia di rete. Infatti il mezzo trasmissivo, costituito dall’etere, connette “a \nmaglia completa” tutte le stazioni. Sarà il protocollo di accesso a determinare la connettività \nche viene via via realizzata tra stazioni per il trasferimento di informazioni. \nUna caratteristica comune a tutte le topologie di rete cablata, e naturalmente anche a quelle", "wireless, è la natura “broadcast” del mezzo trasmissivo, nel senso che un’unità informativa \n(UI) emessa da una stazione viene ricevuta da tutte le altre stazioni della rete. Naturalmente, \nin caso di comunicazioni punto-punto, che rappresentano la maggioranza delle trasmissioni, \nsarà compito della singola stazione determinare se essa è la destinazione dell’UI. Come in \nogni protocollo, ciò si attua per mezzo di un campo indirizzo nell’UI che individua in modo", "univoco la stazione di destinazione. Le tecniche di accesso comunemente adottate nelle LAN \nsono di tipo dinamico, poiché cercano di allocare il diritto di accesso al mezzo trasmissivo alle \nstazioni con UI pronte a essere trasmesse. \nFigura 3.26 T opologie di rete multipunto: bus (a), anello (b), stella (c).(a) (b) (c)Figura 3.25 Apparecchiature terminali in una rete multipunto con topologia arbitraria.LAN", "PattavinaReti2021.indb   130PattavinaReti2021.indb   130 14/01/2022   16:08:3614/01/2022   16:08:363.3 Topologie di rete multipunto  131\n3.3.1 Topologia a bus\nIn una rete cablata con topologia a bus (Figura 3.26a), il mezzo trasmissivo è di tipo broadcast  \ned è costituito da un conduttore lungo il quale sono distribuite le stazioni. Queste accedono al \nmezzo mediante opportuni dispositivi che consentono sia la trasmissione, sia la ricezione di", "segnali che si propagano in entrambe le direzioni del mezzo, realizzando così una trasmissio -\nne bidirezionale . Il bus presenta alle due estremità un dispositivo (“terminazione”) che limita \nla “riflessione” dei segnali ricevuti, ottimizzando così il trasferimento dei segnali elettrici sul \nbus stesso. Si noti che il bus è un mezzo trasmissivo passivo, per cui i segnali emessi da una \nstazione viaggiano lungo il bus e possono essere rilevati dalle altre stazioni solo grazie alla", "potenza con cui il segnale stesso è stato emesso dalla stazione trasmittente. Le procedure di \naccesso che meglio si adattano ad una struttura fisica a bus sono quelle a contesa  oppure ad \naccesso ordinato  con prenotazione .\nUna topologia a bus presenta problematiche di progetto legate alla scelta del tipo di segnali \nda trasmettere in presenza di una topologia che in linea di massima è concepita per un numero", "arbitrario di stazioni connesse. Anche se questi problemi non saranno qui esaminati, si con -\nsideri il fatto che il mezzo trasmissivo di tipo passivo pone dei vincoli all’ampliamento della \nrete, sia nel numero di stazioni che si possono connettere, sia nell’estensione geografica della \nrete stessa, a causa della degradazione che il segnale trasmesso subisce per ogni dispositivo \ndi accesso attraversato. La rete Ethernet  rappresenta l’esempio tipico di rete multipunto con", "topologia a bus che opera come finora descritto. \n3.3.2 Topologia ad anello\nIn una rete multipunto con topologia ad anello (Figura 3.26b) le stazioni sono connesse in \nsequenza, così da formare un anello. Sull’anello si attua una trasmissione unidirezionale  dei \nsegnali e l’unità informativa trasmessa da una stazione generica attraversa tutte le altre sta -\nzioni che, a differenza della topologia a bus, provvedono a rigenerare elettricamente il segnale", "ricevuto, realizzando dunque sempre trasmissioni di tipo punto-punto. Poiché il segnale emes -\nso, e quindi l’unità informativa, torna sempre alla stazione sorgente dopo un giro dell’anello, \nsarà compito di questa stazione rimuovere le unità informative che hanno effettuato il giro \ncompleto. Quindi, anche nelle reti ad anello la trasmissione è di tipo broadcast .\nIl protocollo di accesso più comune nelle reti LAN ad anello è di tipo a trasferimento di", "permesso . Poiché le stazioni si scambiano mutuamente il permesso a trasmettere sull’anello \nstesso, non possono verificarsi a priori conflitti nell’accesso al mezzo trasmissivo da parte di \npiù stazioni. Questa situazione vantaggiosa implica, tuttavia, che occorre prevedere opportune \nprocedure di controllo affinché il trasferimento del permesso di accesso non si interrompa per \nqualche motivo.\nLa topologia ad anello delle reti multipunto è stata inizialmente adottata nella rete token", "ring sviluppata dall’IBM e poi divenuta standard IEEE 802.5. Questa, negli anni ’80, è riuscita \na svolgere un ruolo di concorrenza verso la più diffusa rete Ethernet che oggi rappresenta la \nsoluzione dominante nelle reti multipunto in aree geografiche limitate. In ambiti geografici \npiù estesi, come quelli metropolitani, reti con topologia ad anello hanno riscosso un certo \nsuccesso, come nel caso della rete fiber distributed data interface ( FDDI), che utilizza la fibra", "ottica come mezzo trasmissivo.\nPattavinaReti2021.indb   131PattavinaReti2021.indb   131 14/01/2022   16:08:3614/01/2022   16:08:36132  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\n3.3.3 Topologia a stella\nL ’utilizzazione della topologia a stella (Figura 3.26c) in reti di tipo LAN si è andata affer -\nmando grazie alla semplicità delle soluzioni tecnologiche che si sono rese disponibili. Nella", "sua forma tipica, una rete a stella connette le stazioni a un nodo centrale, che svolge funzioni \ndiverse a seconda del contesto di rete. Nel caso di reti cablate (wired), questo prende il nome \ndi hub, e il mezzo trasmissivo utilizzato è tipicamente il doppino. Nelle reti wireless, in cui il \nmezzo trasmissivo è un canale radio, il nodo centrale viene denominato stazione base . \nNelle reti di tipo cablato una topologia a stella può essere utilizzata anche come cablatura", "fisica di una rete ad anello. Ovviamente, in questo caso il nodo centrale non agisce come hub \nma semplicemente come punto di terminazione per i cavi che raggiungono tutte le stazioni. \nIl vantaggio di ciò risiede nella facilità di far fronte a eventi di guasto di una stazione, che \ncosì potrebbe essere facilmente eliminata dall’anello con una riconfigurazione di cavi attua -\nta nel centro-stella. È ragionevole adottare questa soluzione solo nel caso di reti di piccole", "dimensioni, per limitare il costo aggiuntivo richiesto per la connessione di tutte le stazioni a \nun centro-stella. \n3.4 Protocolli di accesso\nSi vuole qui fornire una classificazione dei protocolli d’accesso al mezzo trasmissivo che si \npossono adottare in una rete multipunto, anche indipendentemente dalla specifica topologia \ndi interconnessione tra stazioni che la rete adotta.\nUna tassonomia delle tecniche di accesso per reti LAN è mostrata in Figura 3.27. La prima", "caratteristica che differenzia i protocolli d’accesso è la modalità temporale secondo cui la \ncapacità trasmissiva della rete è resa disponibile alle diverse stazioni. Le tecniche d’accesso \nstatiche, dette anche tecniche “a canalizzazione” , suddividono la capacità disponibile nella \nTecniche di\naccesso multiplo\nCanalizzazioneAccesso\ndinamico\nAccesso  a\ncontesaAccesso\nordinatoFDMA CDMA TDMA\nTrasferimento\ndipermessoPrenotazione\nFigura 3.27 Tassonomia delle tecniche di accesso multiplo.", "PattavinaReti2021.indb   132PattavinaReti2021.indb   132 14/01/2022   16:08:3614/01/2022   16:08:363.4 Protocolli di accesso  133\nrete, preassegnandola alle diverse stazioni, indipendentemente dalla loro necessità di utiliz -\nzazione effettiva. Le tecniche “ad accesso dinamico”, invece, tengono conto delle effettive \nnecessità di utilizzazione del canale trasmissivo, assegnando l’accesso al canale di comuni -", "cazione in modo conseguente. Da ciò deriva che queste ultime tecniche sono più efficienti in \ntermini di prestazioni di traffico (maggiori quantità di dati trasportati, minore tempo richiesto \nper completare il loro trasferimento). Il prezzo che si paga è la complessità insita nel trasferire \ndinamicamente il diritto d’accesso tra le varie stazioni, operazione tutt’altro che banale in un \nambito dove le stazioni sono distribuite su un territorio.", "Si possono distinguere tre tecniche a canalizzazione a seconda della modalità di suddivi -\nsione della capacità del canale tra le stazioni, denominate frequency division multiple access \n(FDMA), time division multiple access (TDMA) e code division multiple access (CDMA). Le \nprime due tecniche sono state già descritte nel Paragrafo 2.4.1 con riferimento a un sistema \ndi multiplazione punto-punto. Qui si fa riferimento allo stesso principio di suddivisione della", "capacità disponibile, con la sola differenza che, ora, le stazioni sono distribuite su un dato \nterritorio invece di essere l’una vicina all’altra connesse ad un apparato di multiplazione. In \nsintesi, con l’accesso multiplo a divisione di frequenza, o FDMA, ogni stazione può accedere \nliberamente al mezzo trasmissivo utilizzando una data porzione preassegnata della capacità \ndisponibile. Con l’accesso multiplo a divisione di tempo, o TDMA, l’intera capacità del mezzo", "trasmissivo è messa a disposizione di ogni stazione, ma in intervalli di tempi disgiunti per le \nvarie stazioni. In quest’ultimo caso, occorre disporre di un meccanismo di sincronizzazione \nche renda noto in modo univoco alle varie stazioni l’intervallo di tempo assegnato a ciascu -\nna di esse per la trasmissione. Anche la tecnica d’accesso multiplo a divisione di codice, o \nCDMA, rende disponibile l’intera larghezza di banda del canale a tutte le stazioni che, tut -", "tavia, in questo caso possono trasmettere contemporaneamente. Nonostante ciò, è possibile \ndistinguere in ricezione i segnali trasmessi grazie al diverso codice utilizzato da parte delle \ndiverse stazioni per generare il segnale da trasmettere.\nNell’ambito delle tecniche ad accesso dinamico , che tengono conto dello stato delle sta -\nzioni e quindi della loro necessità di occupare il mezzo trasmissivo condiviso, occorre distin -", "guere preliminarmente tra tecniche centralizzate e tecniche distribuite. \nCon soluzioni di accesso centralizzato  un elemento della rete, la stazione base , svolge la \nfunzione di ricevere le richieste di accesso al mezzo trasmissivo e di autorizzare la successio -\nne delle trasmissioni. Soluzioni di questo genere si basano sulla disponibilità di due canali di \ncomunicazione: uno (unidirezionale), condiviso tra tutte le stazioni, viene usato per richiedere", "alla stazione base l’accesso al mezzo, l’altro (bidirezionale) è invece utilizzato per inviare unità \ninformative a tutte le stazioni della rete. Quest’ultimo è anche utilizzato dalla stazione base \nper comunicare la successione del diritto di accesso al canale stesso.\nLe tecniche di accesso distribuito  delegano all’insieme di tutte le stazioni la funzione di \ncoordinare mutuamente l’accesso al mezzo trasmissivo. Ciò viene attuato utilizzando un solo", "canale di comunicazione (bidirezionale), dove viaggiano sia le unità informative scambiate \ntra le stazioni, sia le informazioni di controllo. Quindi, a differenza delle tecniche a canaliz -\nzazione, una quota parte della capacità del canale viene utilizzata per attuare il controllo di \naccesso al canale stesso. \nLe tecniche dinamiche di accesso delle reti multipunto sono tipicamente a controllo distri -", "buito , anche se alcune funzioni particolari di controllo vengono delegate a una stazione spe -\ncifica. Tra le tecniche dinamiche di accesso di tipo distribuito distinguiamo prima di tutto tra \nPattavinaReti2021.indb   133PattavinaReti2021.indb   133 14/01/2022   16:08:3614/01/2022   16:08:36134  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\nle tecniche ad accesso ordinato e quelle ad accesso a contesa. Nel caso di accesso ordinato", "si attua una procedura distribuita che consente di determinare una sequenza di accesso al \ncanale da parte delle varie stazioni in base al trasferimento di informazioni di segnalazione \nsullo stato delle singole stazioni. Con le tecniche di accesso  a contesa , dette anche “ad acces -\nso casuale”, non si attua alcuna programmazione delle trasmissioni, lasciando libertà a ogni \nstazione di decidere quando iniziare la propria trasmissione. Ne consegue che più stazioni", "possono trasmettere contemporaneamente, determinando naturalmente la perdita di tutte le \nunità informative inviate quando ciò avviene.\nTra le tecniche ad accesso ordinato se ne citano due solamente, anche se molte altre sono \nstate proposte: accesso a prenotazione,  oppure con trasferimento di permesso . La prima trova \napplicazione nelle reti con topologia a bus, mentre la seconda viene impiegata nell’ambito delle \nreti ad anello.\n3.4.1 Misure di prestazione", "reti ad anello.\n3.4.1 Misure di prestazione\nLa valutazione delle prestazioni delle reti multipunto sarà effettuata con riferimento a condi -\nzioni ideali, adottando opportune ipotesi semplificative rispetto al comportamento reale della \nrete. Questo approccio ci permette di ricavare l’andamento delle principali grandezze che \ncaratterizzano le prestazioni di traffico della rete, consentendone anche il confronto per reti \ncon diverse topologie e differenti protocolli d’accesso.", "Si definiscono i seguenti parametri:\n• N: numero dei nodi, o stazioni , della rete multipunto; a differenza della rete a esten -\nsione geografica, i nodi della rete costituiscono solo le sorgenti e le destinazioni delle \nunità informative10; \n• l: frequenza media di arrivo in una generica stazione delle unità informative ricevute \ndal livello superiore che devono essere trasmesse in rete (1/s);\n• C: velocità di trasmissione (o capacità) della rete (bit/s);", "• L: lunghezza fissa della generica unità informativa trasportata dalla rete (bit).\nCome spiegato nel Paragrafo 2.2, le prestazioni di una rete multipunto possono essere espresse \nvalutando tre parametri di traffico, e cio è il traffico smaltito (il throughput), il tempo di ritardo \n(cioè il tempo di attraversamento della rete) e la probabilità di perdita delle unità informative \nofferte alla rete. Sulla base dei parametri appena definiti, il traffico offerto  alla rete Ao, in", "bit/s, si esprime come prodotto della frequenza media totale di arrivo delle UI per la lunghezza \n(fissa) di queste\nAo = Nl · L.\nIl traffico smaltito  As, anch’esso espresso in bit/s, rappresenta la quota parte del traffico offerto \nche viene trasferito con successo attraverso la rete e consegnato alle rispettive destinazioni. \nQuesto è espresso dalla relazione\nAs = NlL(1 – Pp)", "As = NlL(1 – Pp)\n10  La motivazione di ciò sta nel fatto che le reti locali rappresentano reti a commutazione di pacchetto di tipo dege -\nnere, in cui cio è le unità informative trasmesse dalla sorgente vengono ricevute direttamente dalla destinazione, \nsenza memorizzazione in nodi intermedi.\nPattavinaReti2021.indb   134PattavinaReti2021.indb   134 14/01/2022   16:08:3714/01/2022   16:08:373.4 Protocolli di accesso  135", "in cui Pp rappresenta la probabilità che una generica UI non venga trasferita con successo \ndalla sorgente alla destinazione11. Ipotizzando che non si verifichino eventi che danno luogo a \nperdita di unità informative ( Pp = 0) , è possibile esprimere il throughput  di rete normalizzato \nalla capacità della rete stessa, indicato con il simbolo S , come\n)3.18( S NλL\nC---- =  .           \nQuesto parametro viene anche indicato come coefficiente di utilizzazione,  r, della rete stessa,", "poiché indica la quota parte di tempo in cui la rete è impegnata nella trasmissione (con suc -\ncesso) di unità informative. Per esso vale la relazione 0 ≤ r ≤ 1. Quindi il throughput della rete \nin bit/s sarà espresso da THR = S · C =  r · C . \nPer quanto riguarda il secondo parametro di prestazione, e cio è il tempo di ritardo, come \nnelle reti dati con estensione geografica, faremo riferimento al solo valore medio T del ritardo, \ntralasciando ogni altra statistica di ordine superiore.", "La probabilità di perdita delle unità dati, che rappresenta il terzo parametro fondamentale \ndi una rete a commutazione di pacchetto, sarà qui trascurata; si ipotizza infatti che il mezzo \ntrasmissivo sia ideale, quindi esente da errori di trasmissione, e che la stazione generica abbia \nun buffer molto grande, tale che le unità informative scambiate con il livello superiore non \nvengano mai perse.\n3.4.2 Protocolli a canalizzazione", "3.4.2 Protocolli a canalizzazione\nNell’ambito dei protocolli a canalizzazione si valutano qui le prestazioni di traffico dei pro -\ntocolli che consentono di fornire semplici espressioni del throughput e del tempo di ritardo, e \ncioè nei casi dei protocolli ad accesso multiplo a divisione di tempo e a divisione di frequen -\nza. Analoghe semplici valutazioni non sono possibili per il protocollo ad accesso multiplo a", "divisione di codice, in cui la sovrapposizione dei diversi segnali nella stessa banda richiede di \ntenere conto anche della reciproca interferenza tra i segnali stessi. \nInizialmente faremo riferimento alla tecnica di accesso multiplo a divisione di tempo \n(time division multiple access , TDMA) di tipo statico che alloca a ogni stazione una finestra \ntemporale ( slot) sufficiente a trasmettere un’unità informativa. Dati i parametri di rete appena", "definiti, lo slot avrà durata L /C (s) e si verrà quindi a definire una trama , la cui durata NL /C \n(s) fornisce un’opportunità di accesso per stazione, come mostrato nella Figura 3.28. \n11  Non si vuole qui distinguere tra le diverse cause che portano alla perdita di unità informative, tra le quali eventi \ndi collisione in trasmissione su reti ad accesso casuale, eventi di errore di trasmissione, saturazione di memorie \nin ricezione, ecc.1\nNL/CtTrama1\n23 N123 N12Trama2\nNL/C", "NL/CtTrama1\n23 N123 N12Trama2\nNL/C\nFigura 3.28 Allocazione della banda con tecnica TDMA.\nPattavinaReti2021.indb   135PattavinaReti2021.indb   135 14/01/2022   16:08:3714/01/2022   16:08:37136  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\nIl throughput della rete si calcola molto facilmente osservando che questo è dato dalla \nsomma del traffico ricevuto dal livello superiore in tutte le stazioni (avendo ipotizzato un", "buffer di dimensione infinita, ogni UI ricevuta viene sicuramente trasmessa alla destinazione). \nQuindi, poiché il tempo di trasmissione Tt della generica UI è \n)3.19( TtL\nC----=             \nil throughput è dato da\n)3.20(Sρ NλTt⋅ NλL\nC---- = = =         \nche naturalmente coincide con l’Equazione (3.18). \nIpotizzando trascurabile il tempo di propagazione, la generica unità informativa che attra -\nversa la rete sarà caratterizzata da diverse componenti di ritardo:", "• Tt: tempo di trasmissione sul mezzo trasmissivo;\n• Tw: tempo di attesa nella stazione, richiesto perché vengano trasmesse le unità infor -\nmative giunte in precedenza e ancora in attesa di trasmissione;\n• Ts: tempo di attesa per l’occorrenza dello slot assegnato alla stazione in questione.\nSi assume che l’arrivo delle unità informative alla singola stazione sia di tipo casuale generato \nda un numero molto grande di sorgenti, modellabile come un processo di Poisson. Dato che", "una lunghezza fissa delle unità informative implica un tempo fisso di trasmissione, allora il \ntempo medio di attesa per raggiungere la prima posizione del buffer si ricava facilmente uti -\nlizzando un sistema a coda di tipo M/D/1 (già utilizzato nel Paragrafo 2.4.4). Quindi il tempo \nmedio totale D di attraversamento della rete, espresso dalle tre componenti appena definite, \nè dato da\n)3.21( DTDMAL\nC----ρ\n21ρ–()--------------------NL\nC-------1\n2---NL\nC------- + + = .", "C-------1\n2---NL\nC------- + + = .       \nIl primo termine rappresenta il tempo di trasmissione Tt, mentre il secondo indica il tempo Tw \ndi attesa nel buffer prima dell’inizio della trasmissione. Quest’ultimo è dato dall’espressione \ngià utilizzata nell’Equazione 2.13 in cui si è considerato che la velocità (media) di trasmissione \ndisponibile nella singola stazione è espressa dalla capacità C della rete divisa per il numero N", "delle stazioni presenti, determinando un tempo medio  di trasmissione NL /C. Infine, la terza \ncomponente del tempo di ritardo è stata calcolata ipotizzando che mediamente la generica UI è \nricevuta nel buffer in un istante che precede l’occorrenza dello slot allocato alla stazione di un \ntempo uguale alla metà della durata di una trama. Per grandi valori di N,  questa componente \nrisulta molto più grande del tempo di trasmissione.", "Risulta estremamente interessante confrontare i risultati appena ottenuti con quelli forniti \nda una tecnica di allocazione di banda ampiamente utilizzata nel secolo scorso, tipicamente \ncon segnali analogici, e cio è l’accesso multiplo a divisione di frequenza ( frequency division \nmultiple access , FDMA). In questo caso, l’intero spettro a disposizione sul mezzo trasmissivo \nviene suddiviso in parti uguali e assegnato alle singole stazioni, ognuna delle quali utilizza la", "propria “fetta” in modo esclusivo. Per omogeneità con la multiplazione TDMA, si assume che \nla capacità a disposizione sia C (Hz), assegnata alle singole stazioni in ragione di C /N (Hz) \nPattavinaReti2021.indb   136PattavinaReti2021.indb   136 14/01/2022   16:08:3714/01/2022   16:08:373.4 Protocolli di accesso  137\nciascuna, come mostrato nella Figura 3.29; si assume che la tecnica di modulazione adottata \nconsenta di trasmettere 1 bit/Hz.", "consenta di trasmettere 1 bit/Hz. \nOra il tempo di trasmissione dell’unità informativa sarà dato da\n)3.22(TFDMAL\nC\nN--------NL\nC------- = =          \nessendo il singolo canale N volte più lento rispetto al caso TDMA. Il throughput della rete con \naccesso FDMA, che coincide con il throughput realizzato dalla singola stazione essendo le \nstazioni tutte uguali, viene ottenuto utilizzando l’Equazione (3.22) che fornisce\nSρλTFDMAλNL\nC------- = = = .", "SρλTFDMAλNL\nC------- = = = .\nQuesto ovviamente coincide con quello del caso TDMA dato dall’Equazione (3.20), poiché \nogni stazione dispone in modo continuativo di una capacità uguale a (1/ N)-esimo della capaci -\ntà totale C della rete (nel caso TDMA la capacità totale C è disponibile per ogni stazione solo \nper una quota parte di tempo 1/ N).\nAnche in questo caso il tempo di attesa nella stazione viene fornito da un sistema a coda", "di tipo M/D/1, con frequenza di arrivo l e tempo (fisso) di trasmissione NL /C. Il tempo medio \ntotale D di attraversamento della rete sarà ora dato da\n)3.23( DFDMANL\nC-------ρ\n21ρ–()--------------------NL\nC------- + = .        \nNaturalmente, la terza componente del tempo di ritardo dell’Equazione (3.20) relativa al caso \nTDMA si annulla con accesso FDMA, in quanto la porzione di capacità della rete assegnata \nalla stazione è sempre disponibile.", "alla stazione è sempre disponibile.\nPossiamo ora comparare i tempi medi di ritardo delle UI dati delle due tecniche di accesso, \nche vengono espressi nella loro forma normalizzata Dn, rapportata cio è al tempo medio di \ntrasmissione nella rete a divisione di tempo. Queste espressioni si ricavano facilmente dalle \nEquazioni (3.21) e (3.23) rispettivamente, per accesso a divisione di tempo e a divisione di \nfrequenza\n)3.24( DTDMAnDTDMA\nT------------------ 1Nρ\n21ρ–()--------------------N", "21ρ–()--------------------N\n2---- + +21ρ–()N+\n21ρ–()------------------------------ = = =    \n)3.25( DFDMAnDFDMA\nT-------------------- NNρ\n21ρ–()-------------------- +N2ρ–()\n21ρ–()--------------------- = = = .     Cf Stazione1\nC/NStazione2 Stazione N\nFigura 3.29 Allocazione della banda con tecnica FDMA.\nPattavinaReti2021.indb   137PattavinaReti2021.indb   137 14/01/2022   16:08:3714/01/2022   16:08:37138  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto", "3B Reti multipunto\nQueste due equazioni permettono di mettere in relazione i due tempi di ritardo, ottenendo \nl’espressione\n)3.26( DFDMAnDTDMAnN\n2----1–+ = .        \nLe Equazioni (3.24) e (3.25) consentono di ricavare il grafico mostrato in Figura 3.30, che \nmostra l’andamento del tempo di ritardo normalizzato12 per i due protocolli di accesso TDMA \ne FDMA all’aumentare del throughput S della rete nel caso di un numero di stazioni N = 2, 10,", "100. La tecnica TDMA fornisce prestazioni migliori, a meno che le stazioni connesse siano \nsolamente N = 2, nel qual caso le due prestazioni coincidono, consistentemente con l’Equa -\nzione (3.26). Naturalmente il tempo di ritardo cresce all’aumentare del throughput; inoltre, \nper valori molto piccoli del traffico offerto, il tempo speso nel buffer in attesa del servizio \ndi altre unità dati si annulla. In queste condizioni il tempo di ritardo con accesso a divisione", "di frequenza è costituito dal solo tempo di trasmissione, mentre con accesso a divisione di \ntempo a questo ritardo si deve sommare un tempo uguale a metà della durata di una trama. \nIn sintesi, un accesso a divisione di tempo fornisce risultati migliori, ma il prezzo da pagare è \nuna maggiore complessità dell’apparecchiatura di accesso della stazione, che deve essere “sin -\ncronizzata” con tutte le altre per riconoscere senza ambiguità lo slot assegnato alla stazione.", "Il limite teorico alle prestazioni ottenibili con tecniche di accesso deterministiche (TDMA \no FDMA) è fornito dal caso di un controllore ideale  centralizzato che alloca a divisione di \ntempo la capacità disponibile sul mezzo trasmissivo alle stazioni che via via ricevono unità \ninformative da trasmettere in rete. Quindi in questo caso l’ordine di servizio delle stazioni \n12  Si noti che un grafico che rappresenta tempi normalizzati invece che assoluti consente di avere una visione", "generale delle prestazioni di ritardo, senza dover specificare necessariamente il valore del tempo di trasmis -\nsione. Naturalmente questi grafici hanno sempre valore minimo unitario del tempo di ritardo normalizzato.N = 100\nN = 10\nN = 2\n1101001000\n0,0 0,2 0,4 0,6 0,8 1,0Ritardo medio normalizzato, Dn\nThroughput, SFDMA\nTDMA\nFigura 3.30 T empo di ritardo delle UI con accesso FDMA e TDMA.", "PattavinaReti2021.indb   138PattavinaReti2021.indb   138 14/01/2022   16:08:3814/01/2022   16:08:383.4 Protocolli di accesso  139\nviene ottimizzato, in quanto non si assegna capacità trasmissiva a una stazione priva di unità \ndati mentre altre stazioni restano in attesa (come può avvenire nel caso di accesso TDMA \nesaminato finora). Questo tipo di controllo può essere schematizzato con un unico sistema a", "coda, che modellizza il funzionamento del controllore centralizzato, con frequenza complessi -\nva L = N l di arrivo delle UI (infatti a ogni arrivo di un’UI corrisponde una richiesta di accesso \nal mezzo inviata al controllore centrale) e tempo (fisso) di trasmissione dato da T = L /C. \nIl throughput di questo sistema ideale coincide naturalmente con quello delle due tecniche \nprecedenti, poiché il traffico offerto è lo stesso e nessuna unità informativa viene scartata; infatti\nSρΛT NλT NλL", "SρΛT NλT NλL\nC---- = = = = .\nIl tempo medio di ritardo delle UI viene calcolato come nel caso dell’Equazione (3.21) privata \ndell’ultimo termine. Infatti in questo caso non si sconta alcun tempo di attesa dello slot preal -\nlocato alla stazione, come nel caso TDMA deterministico, perché l’intera capacità della rete \nè a disposizione del controllore, che la assegna immediatamente alla stazione che la richiede.", "Quindi il tempo di ritardo è semplicemente quello fornito dal solo sistema a coda M/D/1, con \nfrequenza di arrivo totale N l e tempo costante di trasmissione L /C, cioè \n)3.27( DIL\nC----ρ\n21ρ–()--------------------L\nC---- + =           \ncui corrisponde un tempo di ritardo normalizzato dato da\nDInDI\nT------ 1ρ\n21ρ–()-------------------- +2ρ–\n21ρ–()-------------------- = = = .\nLa Figura 3.31 rende conto graficamente di ciò, mostrando che le prestazioni del controllore", "ideale sono indipendenti dal numero N di stazioni e che la penalizzazione dell’accesso TDMA \nè dovuta all’attesa della “finestra” di accesso al mezzo trasmissivo. Naturalmente nel caso \n1101001000\n0,0 0,2 0,4 0,6 0,8 1,0\nThroughput, SN = 2N = 10N = 100TDMA\nIdealeRitardo medio normalizzato, Dn\nFigura 3.31 T empo di ritardo delle UI con accesso TDMA rispetto a un controllore ideale.", "PattavinaReti2021.indb   139PattavinaReti2021.indb   139 14/01/2022   16:08:3814/01/2022   16:08:38140  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\nideale si assume anche che vi sia una struttura di comunicazione tra stazioni e controllore per \ncomunicare gli arrivi nelle stazioni delle UI da trasmettere e per ricevere l’autorizzazione di \naccesso al canale. \n3.4.3 Protocolli a prenotazione\nAnche in assenza di un controllore centralizzato è possibile organizzare le operazioni delle", "stazioni di una LAN in modo da determinare dinamicamente la sequenza delle stazioni che \npossono trasmettere. Una delle soluzioni più semplici di accesso con prenotazione prevede che \nl’asse dei tempi sia suddiviso in cicli, in ognuno dei quali ogni stazione ha diritto a trasmettere \nun’unità informativa. Si assume che le stazioni della rete siano N (numerate da 1 a N ) e che le \nUI abbiano lunghezza fissa.", "UI abbiano lunghezza fissa.\nUn ciclo  si compone di due parti, la prima dedicata alla prenotazione e la seconda alla \ntrasmissione di UI da parte delle stazioni che hanno effettuato una prenotazione. L ’intervallo \ndi prenotazione si compone di N minislot , uno per stazione, così che la stazione i -esima con \nun’UI da trasmettere invia il proprio bit di prenotazione in corrispondenza del minislot i . Una", "volta che il ciclo di prenotazione si è esaurito, tutte le stazioni sono a conoscenza della durata \ndella successiva fase dati, corrispondente al tempo necessario per trasmettere tante UI quante \nsono state le prenotazioni. Le stazioni che hanno richiesto l’accesso al mezzo, trasmettono \nordinatamente secondo l’indice che caratterizza la stazione e l’istante di inizio per ognuna di \nesse è univocamente determinato grazie all’ipotesi di UI a lunghezza fissa.", "La Figura 3.32 riporta un esempio di applicazione del protocollo di accesso con prenota -\nzione. Le stazioni che prenotano una trasmissione, e quindi trasmettono, sono 3 nel ciclo i e 2 \nnel ciclo i  + 1. Risulta quindi evidente anche dall’esempio che la durata del ciclo dipende dal \nnumero delle prenotazioni ivi espresse. Si vuole valutare il throughput e il tempo di ritardo che caratterizza le tecniche di accesso", "multiplo TDMA e FDMA, confrontando anche i valori ricavati con quelli corrispondenti al \nlimite teorico del controllore ideale per i seguenti parametri di rete:\n• numero di stazioni, N = 16,\n• traffico offerto per stazione, l = 40 UI/s,\n• lunghezza dell’UI, L = 1000 byte,\n• capacità della rete, C = 10 Mbit/s. \nIl throughput della rete è lo stesso indipendentemente dal protocollo di accesso, avendo ipo -\ntizzato che nessuna UI vada persa (nessun errore di trasmissione e buffer infinito in ogni", "stazione). Esso è semplicemente dato dall’Equazione (3.20), r = N lL/C = 0,512 esprimibile \nanche come traffico smaltito As = 5,12 Mbit/s. Questo valore numerico consente il calcolo \ndel tempo medio di ritardo delle due tecniche a canalizzazione TDMA e FDMA per mezzo \ndelle Equazioni (3.21) e (3.23), ottenendo DTDMA  = 13,9 ms e DFDMA  = 19,5 ms, confer -\nmando così la migliore prestazione della tecnica TDMA. Il controllore ideale fornirebbe", "invece una migliore prestazione di ritardo, come risulta applicando l’Equazione (3.27), e \ncioè DI = 1,22 ms.Esempio 3.8\nPattavinaReti2021.indb   140PattavinaReti2021.indb   140 14/01/2022   16:08:3814/01/2022   16:08:383.4 Protocolli di accesso  141\nUn protocollo di accesso più flessibile che consenta di trasmettere UI a lunghezza variabile \nrichiede che durante la fase di prenotazione ogni stazione dichiari il numero di byte di cui si", "compone l’UI che desidera trasmettere. La conoscenza della capacità della rete rende allora \npossibile a ogni stazione con prenotazione attiva la determinazione dell’istante di inizio della \npropria trasmissione. \nIndichiamo con T il tempo di trasmissione dell’UI, supposto come sempre di lunghezza \nfissa, e con R la durata di un minislot. Si ipotizza che il tempo di propagazione sia trascurabile, \ncosì che tutte le stazioni che hanno effettuato la prenotazione sono consapevoli alla fine della", "fase di prenotazione dei rispettivi tempi di accesso al canale. Allora il throughput massimo, h , \nche si può raggiungere ipotizzando che ogni stazione sia attiva, che abbia cio è almeno un’UI \nin attesa di trasmissione, si calcola semplicemente come quota parte di tempo impiegato in \ntrasmissione di informazioni dell’utente. Quindi\n)3.28( ηNT\nNTNR+----------------------1\n1r+----------- = =", "1r+----------- = =           \nin cui r =  R/T. Quindi 1/ r indica anche il numero di minislot che corrispondono al tempo di \ntrasmissione di un’UI. \nRisulta interessante osservare come la condizione di attività delle stazioni influenzi il \nthroughput massimo appena ricavato. Infatti il caso peggiore si verifica quando una sola delle \nstazioni è attiva, cio è con UI pronte alla trasmissione. In questo caso il throughput massimo \ndiventa\n)3.29( ηT\nTNR+-----------------1", "diventa\n)3.29( ηT\nTNR+-----------------1\n1rN+---------------- = = .          \nL ’efficienza del protocollo di accesso può essere aumentata consentendo la prenotazione per \nla trasmissione di una quantità variabile di dati. Nell’ipotesi che un minislot consenta la pre -\nnotazione della trasmissione di un numero di UI fino a M, allora il throughput massimo con \ntutte le stazioni attive, dato dall’Equazione (3.28), diventa13\n)3.30( ηNMT\nNMTNR+---------------------------1", ")3.30( ηNMT\nNMTNR+---------------------------1\n1rM⁄+-------------------- = = .         \n13  Si trascura la maggiore durata di un minislot necessaria a trasmettere l’informazione sul numero di UI che una \nstazione intende trasmettere.t\nCicloi123 N 123 N\nCicloi+1Prenotazione Prenotazione\n10 01 01 2 3 N 00 11 00 1 3\nFigura 3.32 Procedura di accesso con prenotazione.", "PattavinaReti2021.indb   141PattavinaReti2021.indb   141 14/01/2022   16:08:3814/01/2022   16:08:38142  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\n3.4.4 Protocolli a trasferimento di permesso\nI protocolli di accesso a trasferimento di permesso sono basati sul presupposto che nella rete \nsia disponibile un elemento, denominato token, che autorizza la stazione che lo detiene ad \naccedere alla rete per effettuare una trasmissione. Naturalmente deve essere prevista anche", "una procedura che regoli il trasferimento del token tra stazioni e il massimo intervallo tem -\nporale di “possesso” del token da parte di ogni stazione. L ’implementazione più semplice \ndel token è costituita da un’unità informativa speciale di pochi bit trasferita da una stazione \nall’altra secondo un ordine prestabilito. \nUn protocollo di accesso a trasferimento di permesso può essere realizzato in una rete", "multipunto a topologia arbitraria, anche se la topologia ad anello meglio si adatta a questo pro -\ntocollo, in quanto l’ordine di trasferimento del token tra stazioni viene implicitamente definito \ndall’ordinamento fisico delle stazioni lungo l’anello. Nelle reti con topologia a bus oppure a \nstella, la sequenza delle stazioni che ricevono il token deve essere definita arbitrariamente a \npriori. Nel seguito, per semplicità e senza perdita di generalità, faremo riferimento alla topo -", "logia ad anello per descrivere il protocollo a trasferimento di permesso.\nIl protocollo di accesso prevede che il token venga trasferito in continuazione da una sta-\nzione a quella immediatamente a valle lungo l’anello. Una stazione con UI in attesa di trasmis -\nsione, una volta ricevuto il token, inizia la trasmissione delle UI che può prolungarsi fino a un \ntempo massimo determinato da un parametro chiamato finestra di trasmissione . Quando la", "stazione non ha più UI da trasmettere, o quando si esaurisce la finestra di trasmissione, la sta -\nzione emette il token in coda all’ultima UI trasmessa sull’anello. La sequenza delle operazioni \nche descrivono il protocollo di accesso è mostrata in Figura 3.33. Risulta quindi evidente che \nnei protocolli di accesso a trasferimento di permesso  può essere garantito un limite superio -", "re al tempo di attesa delle unità informative nel buffer di trasmissione della stazione sorgente. Si vogliono calcolare i valori del massimo throughput consentito dal protocollo a preno -\ntazione, nei due casi di tutte le stazioni attive e una sola stazione attiva con i seguenti \nparametri:\n• numero di stazioni, N = 30,\n• lunghezza delle UI, L = 1000 byte,\n• minislot di durata tale da consentire la trasmissione di 8 bit.", "Si vuole anche esprimere l’aumento percentuale del throughput quando è consentita la tra -\nsmissione di M = 8 UI per ciclo per stazione.\nOccorre osservare che tra i dati dell’esempio non compare la capacità della rete. Ciò è \ndovuto al fatto che la durata del minislot è espressa come numero di bit trasmessi e non \nin termini di durata. Quindi il parametro r viene direttamente ricavato come rapporto tra", "numero di bit inviati per prenotazione e numero di bit dell’UI, quindi r = 8/8000 = 1 0-3. \nUtilizzando l’Equazione (3.29), quando tutte le stazioni sono attive il throughput massimo \nè h = 0,999, mentre scende a h = 0,971 con una sola stazione attiva. La trasmissione di \nblocchi di 8 UI consente di aumentare il throughput massimo con tutte le stazioni attive a \nh = 0,9999 in base all’Equazione (3.30), riducendo così il tasso di non utilizzo della rete", "dall’uno per mille all’uno per diecimila. Esempio 3.9\nPattavinaReti2021.indb   142PattavinaReti2021.indb   142 14/01/2022   16:08:3814/01/2022   16:08:383.4 Protocolli di accesso  143\nLe UI trasmesse sull’anello vengono ritrasmesse da tutte le stazioni eccetto quella sorgente, \nche ha il compito di rimuoverle dall’anello. Come nel caso di reti a bus, il mezzo trasmissivo \nè di tipo broadcast, ma le comunicazioni sono tipicamente punto-punto, utilizzando a questo", "fine un campo indirizzo contenuto nell’UI che specifica quale stazione tra quelle sull’anello è \ndestinataria dell’UI. Il protocollo prevede anche che la stazione di destinazione possa segnala -\nre alla stazione sorgente la ricezione con successo dell’UI, utilizzando appositi campi dell’UI \nstessa. \nIn base al protocollo di accesso appena descritto, una stazione si può trovare in una delle \ndue condizioni: “ascolto” e “trasmissione”. Nello stato di ascolto  l’interfaccia di rete è predi -", "sposta per ritrasmettere il segnale ricevuto sull’anello, garantendo comunque sempre che il \nflusso dei dati venga anche “copiato” nella stazione per essere esaminato, rendendo possibile, \nove necessario, anche la modifica dei dati in transito. Nello stato di trasmissione  l’interfaccia \n“apre” l’anello, in modo tale che solo la stazione stessa possa generare UI sull’anello; questo \nstato viene assunto dalla stazione dopo che ha rimosso il token e viene mantenuto per tutto il", "tempo necessario a ricevere e a rimuovere dalla rete tutte le UI che la stazione ha trasmesso. \nLa gestione del token richiede un insieme di procedure che devono essere attuate da tutte \nle stazioni per far fronte a tutti i possibili eventi di malfunzionamento della rete, come quello \nin cui il token viene “perso” (cio è l’unità informativa che lo trasportava è affetta da errori) \noppure duplicato (due diverse stazioni immettono il token sull’anello), quello in cui una sta -", "zione guasta non rimuove dalla rete una propria unità informativa, che quindi ruoterebbe \nindefinitamente nell’anello, e così via. \nAl fine di esprimere la prestazione del protocollo a trasferimento di permesso in una rete \nad anello, si definiscono i seguenti parametri:Ricezione\npermesso\nRilascio\npermessoSìNo Finestra\nesauritaTrasmissioneNo\nSìUnità dati\ndisponibile\nFigura 3.33 Procedura di accesso con trasferimento di permesso.", "PattavinaReti2021.indb   143PattavinaReti2021.indb   143 14/01/2022   16:08:3914/01/2022   16:08:39144  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\n• C: capacità della rete (bit/s);\n• N: numero di stazioni sull’anello;\n• L: lunghezza (fissa) dell’UI (bit);\n• Bs: latenza di stazione, cio è tempo di attraversamento di una stazione in cui l’unità di \nmisura14 è il tempo di trasmissione di un bit (1/ C);", "• t': latenza dell’anello, cio è tempo totale necessario per attraversare completamente \nl’anello, espressa in secondi;\n• a': latenza dell’anello normalizzata al tempo di trasmissione T di un’UI ( T = L/C).\nRisulta molto semplice esprimere la latenza dell’anello a partire dal tempo totale di propaga -\nzione t sugli N collegamenti punto-punto che costituiscono l’anello stesso, cio è\nτ′τNBs\nC-----⋅+=\ncon valore normalizzato fornito da:\na′τ′\nL\nC-------- aNBs\nL-----⋅+ = =", "a′τ′\nL\nC-------- aNBs\nL-----⋅+ = =\nin cui a = t /T = t C/L. È possibile calcolare abbastanza semplicemente il throughput massimo, \ncioè l’efficienza h della rete. Per fare ciò ipotizziamo che tutte le stazioni abbiano sempre \nun’UI pronta da trasmettere, il cui tempo di trasmissione è T , che le stazioni siano equispa-\nziate sull’anello e che il tempo di trasmissione del token sia trascurabile. Allora la perdita di", "efficienza del protocollo con trasferimenti di permesso è solo quella dovuta al trasferimento \ndel token alla stazione a valle; quindi\n)3.31( ηT\nTτ′\nN----+--------------1\n1a′\nN----+-------------- = = .           \nNel caso limite di un numero molto grande di stazioni ( N → ∞ ), che comunque mantenga fini -\nta la latenza di anello t ' (Bs → 0, così da mantenere costante il prodotto Bs · N), si raggiunge \nla massima efficienza di rete h = 1.", "la massima efficienza di rete h = 1.\n14 Quindi una latenza Bs = 2 sta a indicare che ogni stazione ritarda il segnale in transito di 2 volte il tempo di \ntrasmissione di un bit.Si vuole calcolare la massima efficienza di una rete ad anello con protocollo di accesso a \ntrasferimento di permesso con le seguenti caratteristiche:\n• numero di stazioni, N = 16,\n• lunghezza dell’anello, l  = 20 km,\n• latenza di stazione, Bs = 4,Esempio 3.10", "• latenza di stazione, Bs = 4,Esempio 3.10\nPattavinaReti2021.indb   144PattavinaReti2021.indb   144 14/01/2022   16:08:3914/01/2022   16:08:393.4 Protocolli senza rilevazione del canale  145\n3.4.5 Protocolli a contesa\nIn una rete locale governata da un protocollo a contesa non vi sono preassegnazioni di capacità \ntrasmissiva nella rete alle singole stazioni. Anzi, ogni stazione accede alla rete indipenden -", "temente dalle altre, salvo eventualmente verificare se altre stazioni stiano trasmettendo con -\ntemporaneamente. Se ciò si verifica, ha luogo una collisione e questa implica l’inutilizzabilità \ndelle UI in corso di trasmissione.\nIn funzione delle diverse tecniche che consentono di prevenire e/o rilevare collisioni, è \npossibile distinguere due classi di protocolli:\n• ALOHA : protocolli di accesso che non effettuano alcuna rilevazione dello stato del", "canale trasmissivo condiviso al momento di iniziare una trasmissione da parte di una \nstazione;\n• carrier sense multiple access, CSMA: protocolli di accesso che, grazie a un’opera -\nzione di “sensing” (rilevazione) del canale, consentono la trasmissione solo quando \nrilevano che il canale è libero; in una sottoclasse dei protocolli CSMA, denomina -\nta CSMA/CD ( collision detection , CD), si effettua anche una rilevazione del canale", "durante la trasmissione per verificare se la collisione ha luogo comunque, così da \nessere in grado di sospendere subito la trasmissione non appena ciò avviene; l’ulte -\nriore protocollo CSMA/CA ( collision avoidance , CA) previene invece le collisioni \napplicando un esplicito protocollo di richiesta/autorizzazione per l’accesso al canale. \nLa Figura 3.34 mostra la classificazione dei protocolli ad accesso casuale (cio è a contesa).", "Si nota che, a eccezione del protocollo CSMA/CA, per ogni protocollo è definita la versione \nbase e quella “slotted”. In quest’ultimo caso le trasmissioni da parte delle singole stazioni \nnon possono iniziare in istanti arbitrari, bensì in istanti temporali prefissati; l’asse dei tempi \nsarà dunque diviso in slot  di uguale durata e le trasmissioni potranno iniziare esclusivamente \nall’inizio di uno slot. \n3.5 Protocolli senza rilevazione del canale", "3.5 Protocolli senza rilevazione del canale\nVengono ora descritti i protocolli ad accesso casuale ALOHA  e slotted ALOHA  caratterizzati \ndall’assenza di rilevazione dello stato del canale prima dell’inizio della trasmissione. • lunghezza variabile dell’UI con valore massimo, Lmax = 256 byte,\n• capacità della rete, C = 16 Mbit/s. \nIpotizzando una velocità di propagazione del segnale di 200.000 km/s, il ritardo di propaga -", "zione sull’anello è t =  l/n = 100 ms, così che la latenza dell’anello è t ' = t + NBs/C =104 m s, \nche corrisponde a t ' · C = 1664 bit time. La massima efficienza di rete richiede che tutte le \nUI trasmesse abbiano lunghezza massima Lmax = 256 byte. Quindi, la latenza normalizzata \ndi anello è a'  = t'C/Lmax  =  0,8125, cui corrisponde un’efficienza, fornita dall’Equazione \n(3.31), h = 0,9517.", "(3.31), h = 0,9517. \nPattavinaReti2021.indb   145PattavinaReti2021.indb   145 14/01/2022   16:08:3914/01/2022   16:08:39146  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\n3.5.1 Protocollo ALOHA\nI protocolli di tipo ALOHA  sono stati sviluppati all’inizio degli anni ’70 con l’obiettivo di \ninterconnettere stazioni dislocate in diverse isole delle Hawaii utilizzando i canali radio, cio è \nl’etere, come mezzo trasmissivo condiviso. Caratteristica base di questi protocolli è l’estrema", "semplicità delle procedure di accesso, che dovevano essere compatibili con la tecnologia elet -\ntronica immatura di quei tempi. \nUnità dati\ndisponibile\nAttesa ACK\n(2)\nTrasmissione\ncompletaRitardo iT\nNo Calcolo  max\nritardo  (K- 1)T\nSìUnità dati\nriscontrataTrasmissione\nunitàdati\nFigura 3.35 Procedura di accesso nel protocollo ALOHA.Con rilevazione\ndelcanaleProtocolli  con\naccesso casuale\nSenza rilevazione\ndicollisioniCon rilevazione\ndicollisioniSenza\nrilevazione del\ncanale\nCSMASlotted", "rilevazione del\ncanale\nCSMASlotted\nCSMACSMA /CA CSMA /CDSlotted\nCSMA /CDALOHASlotted\nALOHA\nFigura 3.34 Tassonomia dei protocolli con accesso casuale.\nPattavinaReti2021.indb   146PattavinaReti2021.indb   146 14/01/2022   16:08:3914/01/2022   16:08:393.5 Protocolli senza rilevazione del canale  147\nLo schema a blocchi della procedura di accesso del protocollo ALOHA  è mostrata nella \nFigura 3.35. Una stazione generica, A, trasmette un’UI nel momento in cui questa viene rice -", "vuta dal livello superiore. Poiché ogni stazione agisce indipendentemente dalle altre, il succes -\nso della trasmissione è determinato unicamente dalla mancata collisione con altre trasmissio -\nni. Il riscontro dell’UI trasmessa è realizzato tramite l’invio a ritroso da parte della stazione \ndestinataria ricevente, B, di un messaggio di riscontro (ACK), che si ipotizza sia trasferito \nattraverso un canale ideale separato, privo di errori e di collisioni. La stazione trasmittente A", "deduce che la propria trasmissione ha avuto successo se riceve il messaggio di riscontro da \nparte della stazione B entro un tempo uguale al doppio del tempo massimo di propagazione tra \nstazioni, cio è 2t. Se ciò non avviene, la stazione A provvede a calcolare un successivo tempo \ndi ritrasmissione dell’UI stessa. \nPer evitare che una collisione si ripeta indefinitamente, è opportuno che le stazioni coin -", "volte ritentino la trasmissione in tempi distinti, in modo da non avere sovrapposizione tra i \nloro periodi di trasmissione. Poiché le stazioni agiscono indipendentemente l’una dall’altra, \nil modo migliore per evitare la sovrapposizione delle ritrasmissioni è che ogni stazione scel -\nga casualmente, con opportuni vincoli, il successivo tempo di ritrasmissione, detto anche \ntempo di “rescheduling”. Ciò si attua selezionando un intervallo di ritardo di durata massima", "(K – 1)  T, multiplo del tempo di trasmissione T , e selezionando in modo casuale uno dei K valo -\nri di ritardo 0, T, 2T, ..., ( K – 1) T. Il valore del parametro K può eventualmente dipendere dal \nnumero di collisioni già avvenute per un’UI: al crescere del numero di collisioni consecutive \nè opportuno aumentare il tempo massimo di “rescheduling”, per rendere minore la probabilità \ndi collisioni ripetute.", "di collisioni ripetute. \nVolendo calcolare la capacità che il protocollo di accesso ALOHA  può garantire, si indica \ncon G il numero medio di tentativi di trasmissione da parte delle stazioni in un tempo uguale \nal tempo di trasmissione T  di un’UI. Quindi la frequenza media L  di arrivo delle UI, che \ntiene conto sia delle nuove UI ricevute, sia dei tentativi di ritrasmissione delle UI soggette a \ncollisione, è data da\n)3.32( ΛG\nT----= .", ")3.32( ΛG\nT----= .            \nOsservando la Figura 3.36, possiamo rilevare che l’UI emessa dalla stazione A viene trasmes -\nsa con successo se in un periodo di durata 2 T che precede la fine della trasmissione dell’UI, \nnessun’altra stazione ha iniziato la trasmissione di unità informative. Nell’esempio si è ipo -\ntizzato che al momento di inizio della trasmissione dell’UI da parte di A era già in fase di", "trasmissione un’altra UI, emessa dalla stazione B, e ciò dà luogo alla collisione che implica lo \nscarto di entrambe le UI. Si dice dunque che il periodo di vulnerabilità  nel protocollo ALOHA  \nha una durata 2 T. \ntB AT2T\nB A\nFigura 3.36 Periodo di vulnerabilità nel protocollo ALOHA.\nPattavinaReti2021.indb   147PattavinaReti2021.indb   147 14/01/2022   16:08:3914/01/2022   16:08:39148  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto", "3B Reti multipunto\nPer semplicità si ipotizza che il processo di arrivo delle UI nelle varie stazioni sia schematiz -\nzabile con un processo di Poisson con frequenza media di arrivo L data dall’Equazione (3.32), \nassumendo dunque anche un numero infinito di stazioni ( N = ∞ ), ognuna delle quali offre un \ntraffico infinitesimo. Considerato il periodo di vulnerabilità, il throughput della rete si espri -\nme come prodotto del traffico offerto G per la probabilità di trasmissione con successo;", "quest’ultima coincide con la probabilità15 Pk(t) che nel periodo di vulnerabilità di durata t = 2 T \nnessun’altra UI venga generata ( k = 0); quindi\n)3.33( S GΛt()0\n0!-------------eΛt–\nt2T=⋅ Ge2G–= = .        \nL ’andamento del throughput di rete in funzione del traffico offerto del protocollo ALOHA  \ndato dall’Equazione (3.33) è mostrato nella Figura 3.37: la percentuale di utilizzazione varia \nin funzione del traffico offerto, ma il throughput massimo che si può ottenere è appena il 18%", "della capacità della rete. Il grafico mostra che per valori crescenti di traffico offerto G > 0,5 il \nthroughput decresce, addirittura fino ad annullarsi. Questo significa che, se il traffico offerto \nsupera il valore per cui la rete raggiunge il throughput massimo, la rete è instabile; in queste \ncondizioni la rete “collassa”, come descritto più in dettaglio nel Paragrafo 3.5.3. \nLa Figura 3.38 mostra gli istanti di possibili ritrasmissioni di una’UI (A in figura) per la", "quale non viene ricevuto il relativo riscontro entro un tempo uguale al doppio del tempo mas -\nsimo di propagazione (2 t). La stazione sceglie preliminarmente il tempo di “rescheduling” \nmassimo ( K – 1) T, selezionando un intero opportuno K (K ≥ 2), quindi seleziona casualmente \nquale dei possibili ritardi iT (i = 0, 1, ..., K – 1) voglia adottare. \nPer calcolare il tempo medio di trasferimento di un’UI dobbiamo esprimere il numero di", "collisioni che questa subisce. Si osserva che il rapporto G /S tra traffico offerto e traffico smal -\ntito rappresenta il numero medio di tentativi di trasmissione di una generica UI che sia stata \ntrasmessa con successo nell’ultimo tentativo. Dall’Equazione (3.33) si ricava\n15  Senza entrare nel dettaglio della spiegazione del processo di Poisson caratterizzato dalla frequenza media", "di arrivo l , basta qui ricordare che la probabilità di rilevare k  arrivi in un intervallo di tempo t  è data da:  \nPk(t) = ( lt)ke-lt/k!.Si vuole calcolare il throughput massimo Smax consentito dal protocollo ALOHA  e il valore \ndel traffico offerto che garantisce questo risultato. \nIl valore massimo che assume la funzione S (G) può essere ricavato uguagliando a zero la \nderivata del throughput rispetto al traffico offerto, cio è \nS′G() e2G–2Ge2G–– 0 = =", "S′G() e2G–2Ge2G–– 0 = =\nche fornisce la soluzione G = 0,5. Quindi il throughput massimo è dato da\nSmax1\n2e------=  = 0,184.Esempio 3.11\nPattavinaReti2021.indb   148PattavinaReti2021.indb   148 14/01/2022   16:08:3914/01/2022   16:08:393.5 Protocolli senza rilevazione del canale  149\nG\nS---- e2G= .\nQuindi il numero di tentativi di trasmissione che hanno incontrato collisione è dato da\nG\nS----1– e2G1– = .", "G\nS----1– e2G1– = .\nIndichiamo con b il tempo di backoff  dovuto al processo di ritrasmissione in seguito a colli -\nsione (rescheduling);  il valore massimo della grandezza b è dato da ( K – 1) T. Si può calcolare \nil valore medio B di questo tempo di backoff osservando che ognuno dei K ritardi possibili è \nscelto con uguale probabilità 1/ K, ottenendo\nB iT1\nK----⋅\ni0=K1–\n∑T\nK----KK1–()\n2----------------------K1–\n2-------------T = = = .", "2-------------T = = = .\nIl ritardo medio di trasmissione (con successo) dell’UI è quindi dato da\n)3.34( D e2G1–()T2τK1–\n2-------------T + +  Tτ ++ = .         0,000,050,100,150,20\n10-210-1100101Throughput, S\nTraffico offerto, GALOHA\nFigura 3.37 Throughput di rete con il protocollo ALOHA.\ntKT 2\nA A A A A\ni= 0i= 1i= 2 i =K - 1\nFigura 3.38 Istanti di possibile ritrasmissione dopo una collisione.", "PattavinaReti2021.indb   149PattavinaReti2021.indb   149 14/01/2022   16:08:4114/01/2022   16:08:41150  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\nIl primo termine riporta il tempo impiegato per trasmissione, attesa di riscontro e rescheduling \nper ognuno dei tentativi senza successo, mentre il secondo e il terzo termine indicano il tempo \ndi trasmissione dell’ultimo tentativo, che ha successo, e il tempo di propagazione. Quindi il", "tempo medio di ritardo normalizzato Dn, rapportato cio è al tempo di trasmissione T dell’UI, \nè uguale a\n)3.35( DnD\nT---- e2G1–()K1+\n2-------------2a+  1a ++ = = .         \navendo denotato con a = t /T il tempo di propagazione da estremo a estremo normalizzato al \ntempo di trasmissione. \nLa Figura 3.39 mostra l’andamento del ritardo normalizzato Dn delle UI con protocollo \nALOHA  in funzione del throughput S della rete, per diversi valori della costante K , assumen -", "do nullo il tempo di propagazione ( a = 0). Quando la rete smaltisce un traffico prossimo al \nthroughput massimo Smax = 0,184, il ritardo medio assume il valore di Dn = 3,58 per il valore \nminimo del parametro K ( K = 2). Selezionando valori più grandi di K,  naturalmente il tempo \ndi ritardo aumenta. Si noti che la Figura 3.39 considera i tempi di ritardo esclusivamente per \nvalori del traffico offerto che mantengono la rete stabile, cio è per G ≤ 0,5. \n3.5.2 Protocollo slotted ALOHA", "3.5.2 Protocollo slotted ALOHA\nCome già accennato, la differenza sostanziale tra i protocolli ALOHA  e slotted ALOHA  è che \nin quest’ultimo l’istante di inizio della trasmissione da parte di una stazione fa parte di un \ninsieme di istanti d’inizio distanziati di un tempo T uguale al tempo di trasmissione dell’UI, \nla cui lunghezza è fissa. L ’intervallo di tempo che intercorre tra due di questi istanti conse -", "cutivi prende il nome di time slot  o semplicemente di slot . Deve dunque essere disponibile un \nmeccanismo di sincronizzazione di rete che indichi alle stazioni quando possono iniziare a \n110100\n0,00 0,05 0,10 0,15 0,20ALOHARitardo medio normalizzato,  Dn\nThroughput, SK = 2K = 10K = 100\nFigura 3.39 T empo di ritardo delle UI con il protocollo ALOHA.", "PattavinaReti2021.indb   150PattavinaReti2021.indb   150 14/01/2022   16:08:4114/01/2022   16:08:413.5 Protocolli senza rilevazione del canale  151\ntrasmettere. La procedura di accesso con il protocollo slotted ALOHA  è riportata nella Figu -\nra 3.40. A differenza del protocollo ALOHA , l’inizio trasmissione di un’UI appena generata \nviene ritardato al successivo istante di inizio di uno slot. Inoltre, il riscontro viene atteso per", "un tempo uguale a due volte il tempo di propagazione aumentato del tempo e necessario per \nl’occorrenza del successivo inizio slot. \nIl meccanismo di “sincronizzazione” delle trasmissioni da parte delle diverse stazioni ha \ncome conseguenza il dimezzamento del periodo di vulnerabilità . Infatti, come mostrato nella \nFigura 3.41 che ipotizza due UI ricevute nelle stazioni A e B in istanti diversi di uno stesso", "slot, le due trasmissioni si sovrappongono completamente nello slot successivo riducendo \nl’intervallo di tempo di inutilizzabilità della rete (periodo di vulnerabilità) alla durata della \ntrasmissione di un’UI. \nIl throughput del protocollo slotted ALOHA  si calcola facilmente come nel protocollo \nALOHA , considerando il dimezzamento del periodo di vulnerabilità. Tuttavia è possibile svi -\nluppare un semplice modello che consente di valutare il throughput massimo anche per un", "numero finito N di stazioni assunte mutuamente indipendenti. Ipotizzando che ogni stazione \noffra alla rete una stessa quantità di traffico, G /N UI per slot, la probabilità Pk che in uno slot Unità dati\ndisponibile\nAttesa inizio\nslot\nAttesa ACK\n(2)\nTrasmissione\ncompletaRitardo iT\nNo Calcolo  max\nritardo  (K - 1) T\nSìUnità dati\nriscontrataTrasmissione\nunità dati\nFigura 3.40 Procedura di accesso nel protocollo slotted ALOHA.\nt\nB AABTimeslot TimeslotT T", "t\nB AABTimeslot TimeslotT T\nFigura 3.41 Periodo di vulnerabilità nel protocollo slotted ALOHA.\nPattavinaReti2021.indb   151PattavinaReti2021.indb   151 14/01/2022   16:08:4214/01/2022   16:08:42152  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\ngenerico vengano effettuati k tentativi di trasmissione è semplicemente data dalla distribuzio -\nne binomiale\nPkN\nkG\nN----k\n1G\nN----–Nk–\n=", "PkN\nkG\nN----k\n1G\nN----–Nk–\n=\nessendo G/N la probabilità che la stazione generica effettui il tentativo di trasmissione. Il \nthroughput è allora dato dalla probabilità che vi sia un solo tentativo di trasmissione per slot, \ncioè \n)3.36( S P1G1G\nN----–N1–\n= = .            \nNel caso di un numero infinito di stazioni si ottiene:\nS G1G\nN----–N1–\nN∞→lim G1G\nN----–N\nN∞→lim GeG–= = = .\nLa Figura 3.42 compara il throughput di rete dei due protocolli ALOHA  e slotted ALOHA ,", "evidenziando le migliori prestazioni di quest’ultimo, che può raggiungere un throughput mas -\nsimo doppio del protocollo ALOHA . Il valore G = 1 rappresenta in questo caso il massimo \ncarico che si può offrire alla rete in condizioni di stabilità. Si vuole calcolare il throughput massimo Smax consentito dal protocollo slotted ALOHA  e il \nvalore del traffico offerto che garantisce questo risultato. \nCome per il protocollo ALOHA , il valore massimo che assume la funzione può essere rica -", "vato uguagliando a zero la derivata del throughput rispetto al traffico offerto, cio è \nS′G() eG–GeG–– 0 = =\nche fornisce la soluzione G = 1. Quindi il throughput massimo è dato da\nSmax1\ne---= = 0,368.Esempio 3.12\nSi vuole calcolare il valore del throughput massimo del protocollo slotted ALOHA  in fun -\nzione del numero N di stazioni della rete.\nLa procedura è la stessa seguita nell’Esempio 3.12 e fornisce:\nS′G() 1G\nN----–N1–G\nN----N1–()1G\nN----–N2–\n– 0 = =.", "N----N1–()1G\nN----–N2–\n– 0 = =.\nCome previsto, si ottiene ancora G = 1, che corrisponde al throughput massimo\n)3.37( SmaxP1max11\nN----–N1–\n= = .        Esempio 3.13\nPattavinaReti2021.indb   152PattavinaReti2021.indb   152 14/01/2022   16:08:4214/01/2022   16:08:423.5 Protocolli senza rilevazione del canale  153\nLa Tabella 3.2, che riporta i valori che assume l’Equazione (3.37) per un numero crescente di", "stazioni N, evidenzia come le prestazioni di rete riferite a un numero molto grande di stazioni \n(al limite infinito) rappresentino il caso peggiore. Infatti il throughput massimo aumenta quan -\ndo il numero delle stazioni diminuisce, per diventare naturalmente unitario con N = 1, non \npotendo in questo caso verificarsi collisioni. I valori riportati nella tabella mettono in evidenza \nche un numero di stazioni anche di solo qualche decina fornisce prestazioni vicine al caso", "limite di infinite stazioni. \nPer quanto riguarda il tempo medio di ritardo, si possono adattare semplicemente le Equazioni \n(3.34) e (3.35) considerando che la prima trasmissione di un’UI viene ritardata in media di \nmezzo slot rispetto all’istante di arrivo e che il numero medio di tentativi di trasmissione per \nUI ricevuta a destinazione con successo è dato ora da eG. Allora, assumendo nullo il tempo \ne, si ottiene:\nD eG1–()T2τK1–\n2-------------T + +  TτT\n2--- +++ = .", "2-------------T + +  TτT\n2--- +++ = .\nQuindi il tempo di ritardo normalizzato Dn, rapportato cio è al tempo di trasmissione T dell’UI, \nè uguale a:\nDnD\nT---- eG1–()K1+\n2-------------2a+  15, a + + = = .Tabella 3.2 Throughput massimo del protocollo slotted ALOHA con numero di stazioni finito.\nN 1 2 5 10 20 50 100 ∞\nSmax 1 0,5 0,41 0,387 0,377 0,372 0,370 0,3680,000,050,100,150,200,250,300,350,40\n10-210-1100101Throughput, S\nTraffico offerto, GALOHASlotted ALOHA", "Traffico offerto, GALOHASlotted ALOHA\nFigura 3.42 Throughput di rete con i protocolli ALOHA e slotted ALOHA.\nPattavinaReti2021.indb   153PattavinaReti2021.indb   153 14/01/2022   16:08:4314/01/2022   16:08:43154  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\nLa Figura 3.43 mostra i tempi di ritardo dei due protocolli nel caso a = 0; naturalmente la \ndifferenza sostanziale dipende dai diversi valori asintotici del throughput massimo dei due", "protocolli ( slotted ALOHA  può smaltire il doppio del traffico). \n3.5.3 Stabilità dei protocolli ALOHA\nI protocolli ALOHA sono caratterizzati da un andamento del throughput tale per cui esiste \nun livello di traffico offerto che determina il throughput massimo; valori superiori di traffico \nofferto determinano condizioni di instabilità del sistema che portano al collasso delle presta -\nzioni di rete. \nAl fine di chiarire questo importante aspetto facciamo riferimento alla versione slotted del", "protocollo ALOHA. Ipotizziamo ora che il meccanismo di ritrasmissione a seguito di colli -\nsione non richieda di selezionare in modo casuale uno slot di ritrasmissione, bensì consista \nnel trasmettere in ogni slot con probabilità a fino a che la trasmissione ha successo [Keiser]. \nIn un generico slot tra le N stazioni della rete ve ne sono nb “bloccate”, impegnate cioè \na ritrasmettere un’UI le cui trasmissioni precedenti hanno dato luogo a collisione. Possiamo", "allora esprimere il throughput della rete nello “stato nb” come la probabilità che la trasmissio -\nne nello slot generico abbia successo. Ciò avviene quando uno solo dei tentativi di trasmis -\nsione da parte delle nb stazioni bloccate e delle N – nb non bloccate ha successo. Indicando \ncon p la probabilità di arrivo di un’UI in una delle stazioni non bloccate possiamo calcolare \nil throughput come\nSoutnbα1α–()nb1–1p–()Nnb–1α–()nbNnb–()p1p–()Nnb1– –+ = .", "Il primo e il secondo termine indicano la probabilità che l’unica trasmissione che ha luogo \navviene da parte di una stazione bloccata e di una non bloccata, rispettivamente. \nIl carico “esterno” offerto alla rete nello stato nb è dato da:K = 100\nK = 2K = 10\nK = 2K = 10K = 100\n110100\n0,00 0,05 0,10 0,15 0,20 0,25 0,30 0,35 0,40Ritardo medio normalizzato, Dn\nThroughput, SALOHA\nSlotted ALOHA\nFigura 3.43 T empo di ritardo delle UI con i protocolli ALOHA e slotted ALOHA.", "03B-PattavinaWin2021_WIDE_10,5.indd   15403B-PattavinaWin2021_WIDE_10,5.indd   154 18/01/2022   17:50:4518/01/2022   17:50:453.5 Protocolli senza rilevazione del canale  155\n)3.38( SinNnb–()p = .          \nIpotizzando che il numero N delle stazioni diventi infinito con un traffico offerto p per sta -\nzione infinitesimo in modo tale che Sin resti costante, allora il throughput in uscita può essere \nespresso come:\nSoutnbα1α–()nb1–eSin–1α–()nbSineSin–+ = .", "Soutnbα1α–()nb1–eSin–1α–()nbSineSin–+ = .\nLa Figura 3.44 mostra l’andamento del throughput di rete in funzione del numero delle sta-\nzioni bloccate assumendo N = 250, p = 0,001 e a = 0,01, 0,03, 0,05. Per trovare le condizioni \ndi equilibrio della rete è stata tracciata anche la retta che indica il carico in ingresso secondo \nl’Equazione (3.38); le intersezioni delle due curve di carico indicano i possibili punti di lavoro.", "Considerando la probabilità a = 0,03 di ritrasmissione per le stazioni bloccate, si osserva che \nvi sono tre possibili punti di lavoro: P1, P2, P3. P1 costituisce un punto di lavoro stabile. Infatti, \nuna fluttuazione istantanea del traffico in ingresso che spostasse il punto di lavoro a destra di \nP1 implicherebbe un aumento del throughput con una contestuale diminuzione del traffico in \ningresso, dovuto all’aumento del numero di stazioni bloccate; questi due eventi contrastanti", "implicano il ritorno del punto di lavoro al suo stato iniziale P1. Analogamente, fluttuazioni \ndel traffico in ingresso che causano una diminuzione del throughput, con uno spostamento \nverso sinistra del punto di lavoro, implicano una diminuzione delle stazioni bloccate con \naumento del traffico in ingresso; quindi ancora una volta si tratta di due eventi contrastanti \nche riportano il punto di lavoro al suo stato iniziale P1. A differenza di P1, il punto di lavoro P2", "è instabile. Infatti una fluttuazione del traffico in ingresso che aumenti il numero di stazioni \nbloccate riduce ulteriormente il throughput, con spostamento del punto di lavoro sempre più a \ndestra. Condizioni di equilibrio possono essere raggiunte nel punto P3, che si presenta stabile \ncome P1, ma a differenza di quest’ultimo è caratterizzato da un throughput molto più basso. \nα = 0,05α = 0,03α = 0,01\n0,000,050,100,150,200,250,300,350,40\n0 50 100 150 200 250N = 250, p = 0,001Throughput, S", "Numero di stazioni bloccate, nbP1\nP2\nP3\nFigura 3.44 Throughput di rete con il protocollo ALOHA in funzione delle stazioni bloccate.\nPattavinaReti2021.indb   155PattavinaReti2021.indb   155 14/01/2022   16:08:4414/01/2022   16:08:44156  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\nSi osservi che, se la probabilità di ritrasmissione scende al valore a = 0,01, allora il sistema \nè sempre stabile esistendo un solo punto di lavoro dato il carico in ingresso ipotizzato (esiste", "un’unica intersezione tra le due curve). Aumentando invece la probabilità di ritrasmissione al \nvalore a = 0,05, le cose non cambiano sostanzialmente rispetto al caso a = 0,03; si rileva un \nleggero aumento del throughput dovuto all’aumento di a, ma le condizioni di instabilità per -\nmangono. Aumentare il valore di a in questo modello semplificato corrisponde ad aumentare \nnel protocollo reale il parametro K , che determina il ritardo massimo di ritrasmissione. Quindi", "nella rete slotted ALOHA  reale le condizioni di stabilità possono essere assicurate scegliendo \nopportunamente il parametro K .\n3.6 Protocolli con rilevazione del canale\nViene ora descritta la classe dei protocolli carrier sense multiple access ( CSMA) che, a diffe -\nrenza dei protocolli ALOHA, prevedono la rilevazione dello stato del canale prima dell’inizio \ndi ogni trasmissione, così da ridurre gli eventi di collisione con altre UI la cui trasmissione è", "già iniziata. Appartengono a questa classe anche i protocolli che rivelano/prevengono le colli -\nsioni, e cio è il protocollo CSMA/CD ( with collision detection , CD) utilizzato in reti cablate e \nil protocollo CSMA/CA ( with collision avoidance , CA) utilizzato in reti wireless. \n3.6.1 Protocolli CSMA\nIn generale si può dire che un protocollo CSMA svolge le stesse operazioni del protocollo \nALOHA per accedere a un mezzo trasmissivo condiviso, con in più la possibilità di contare", "sulle informazioni fornite dall’operazione di “carrier sense”. La rilevazione dello stato del \ncanale consente a una stazione di verificare, prima di iniziare a trasmettere sulla rete, che non \nci siano altre trasmissioni in corso. Ciò tuttavia non assicura che le collisioni non abbiano \nluogo. Infatti una stazione generica (A) potrebbe rilevare che il canale trasmissivo è libero \nanche nel caso in cui un’altra stazione (B) avesse già iniziato una propria trasmissione ma il", "segnale non si fosse ancora propagato per tutta la rete.\nSi vuole rappresentare una rete locale in cui la trasmissione di unità informative da parte \ndi due stazioni dà luogo a collisione, ma la distribuzione delle stazioni lungo la rete è tale \nche la collisione non interessa tutte le stazioni.\nLa Figura 3.45 mostra una rete locale con topologia a bus con 5 stazioni, in cui la stazione \nD trasmette un’unità informativa all’istante t0. La stazione B rileva il canale trasmissivo", "libero all’istante t1 e quindi può iniziare la propria trasmissione. All’istante t2 il segnale \nemesso dalla stazione D si sovrappone a quello emesso dalla stazione B all’interfaccia di \nrete della stazione B fino all’istante t5. Ne consegue che l’UI emessa dalla stazione B viene \nricevuta corrotta da tutte le altre stazioni della rete. Diversa è la situazione dell’UI emessa \ndalla stazione D: essa viene ricevuta corrotta nella stazioni A, B, C, ma la stazione E la", "riceve correttamente. Infatti la trasmissione da parte della stazione D termina all’istante t3 \ne il segnale relativo all’UI emessa dalla stazione B giunge in D all’istante successivo t4 non \npotendo più alterare il segnale già emesso da D e propagatosi verso E. Infine, all’istante t6 \nla stazione B termina la propria trasmissione. Esempio 3.14\nPattavinaReti2021.indb   156PattavinaReti2021.indb   156 14/01/2022   16:08:4414/01/2022   16:08:443.6 Protocolli con rilevazione del canale  157", "Il motivo per cui la tecnica della rilevazione del canale prima della trasmissione non sia stata \nutilizzata anche nel protocollo ALOHA è dovuto ai diversi ambienti di rete cui i protocolli \nfanno riferimento. Una funzione di “carrier sense” è quasi priva di effetti su reti caratterizzate \nda un tempo di propagazione alto rispetto a quello di trasmissione. Infatti, potrebbe verifi -\ncarsi facilmente l’evento di una trasmissione di UI già terminata il cui segnale non ha ancora", "raggiunto tutte le stazioni della rete, che quindi possono rilevare il canale libero. Invece, nel \ncaso di reti meno estese, la funzione di “carrier sense” si rivela molto utile nella riduzione \ndelle collisioni.\nAnche nei protocolli CSMA è possibile operare senza o con asse dei tempi suddiviso in \nslot. In quest’ultimo caso, che identifica i protocolli slotted , la durata di uno slot è uguale al \ntempo di propagazione t da estremo a estremo della rete che, data la limitata estensione della", "rete e la capacità della rete in gioco, è più piccola che nel protocollo ALOHA. Tutte le stazioni, \ninoltre, sono sincronizzate con opportune tolleranze che tengono conto delle distanze, in modo \nda poter trarre vantaggio del ridotto tempo di collisione; la rilevazione dello stato del canale \navviene all’inizio dello slot.\nQuando una stazione che deve trasmettere trova il canale occupato, le tecniche adottabili \nsono tre:", "sono tre:\n• non-persistent : la trasmissione viene rimandata a un istante successivo;\n• 1-persistent : si continua a rilevare lo stato del canale finché questo non si libera, \nquindi si trasmette (“con probabilità 1”, da cui deriva il nome del protocollo); la tra -\nsmissione inizia alla rilevazione del canale libero con protocollo CSMA , alla prima \noccorrenza di slot con canale libero con protocollo slotted CSMA ;", "• p-persistent : anche in questo caso si rileva lo stato del canale fino a che questo non si \nlibera, dopodiché si trasmette con probabilità p, altrimenti si ripete l’operazione dopo t0\nt1\nt3\nt6\ntt2\nt4\nt5\ntB C D E A\nFigura 3.45 Collisione tra UI nel protocollo CSMA secondo l’Esempio 3.14.\nPattavinaReti2021.indb   157PattavinaReti2021.indb   157 14/01/2022   16:08:4514/01/2022   16:08:45158  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto", "3B Reti multipunto\nun tempo t; le modalità di accesso con protocollo non-slotted e slotted sono le stesse \ndel caso precedente.\nSi noti che nei casi limite p = 0 e p = 1 il protocollo p-persistent  degenera rispettivamente nei \nprotocolli non-persistent  e 1-persistent . In tutti i protocolli l’operazione di rinvio della trasmis -\nsione a istanti successivi avviene sempre in seguito alla mancata ricezione del messaggio di", "riscontro entro due volte il ritardo massimo di propagazione; anche in questo caso si assume \nl’esistenza di un canale di ritorno ideale privo di errori. \nNella Figura 3.46 sono riportati gli schemi a blocchi dei protocolli di accesso slotted CSMA  \ndi tipo non-persistent  e 1-persistent . La differenza tra i due risiede nelle operazioni svolte nel \ncaso in cui il canale venga trovato occupato. Con il protocollo non-persistent , questa situa -", "zione è equivalente a non ricevere un riscontro su una trasmissione effettuata entro un tempo \nuguale a 2 t. La trasmissione dell’UI viene dunque riprogrammata con la stessa procedura \ndel protocollo ALOHA , in cui questa volta l’unità base di ritardo è il tempo t . Il protocollo \n1-persistent  invece prevede di eseguire il “sensing” del canale a ogni inizio di slot successivo \nfino a che non si rileva una condizione di libero, così da poter iniziare la trasmissione. Se il", "protocollo d’accesso è di tipo p-persistent , alla prima occorrenza di canale libero la stazione \nUnità dati\ndisponibile\nAttesa inizio\nslot\nAttesa ACK\n(2τ)\nTrasmissione\ncompletaRitardo i slot\n(iτ)\nNoCalcolo  max\nritardo  (K - 1)τ\nSìUnità dati\nriscontrataTrasmissione\nunità datiSìRitardo  1 slot\n(τ)\nNoCanale\noccupatoUnità dati\ndisponibile\nAttesa inizio\nslot\nAttesa ACK\n(2τ)\nTrasmissione\ncompletaRitardo islot\n(iτ)\nNoCalcolo  max\nritardo  (K-1)τ\nSìUnità dati\nriscontrataTrasmissione\nunità datiSì", "SìUnità dati\nriscontrataTrasmissione\nunità datiSì\nNoCanale\noccupato\n(a) (b)\nFigura 3.46 Protocolli di accesso slotted CSMA: non-persistent (a) e 1-persistent (b).\nPattavinaReti2021.indb   158PattavinaReti2021.indb   158 14/01/2022   16:08:4514/01/2022   16:08:453.6 Protocolli con rilevazione del canale  159\ntrasmette con probabilità p . In caso di mancanza di trasmissione, la stessa procedura si ripete \nin ogni altro successivo istante di inizio slot in cui si rileva il canale libero.", "Si osservi che i protocolli CSMA  non-slotted si differenziano da quelli slotted esclusiva -\nmente per l’assenza del blocco “Attesa inizio slot”.\nUn esempio di trasmissione con i protocolli slotted CSMA  viene riportato nella Figura \n3.47, in cui a ogni freccia corrisponde l’arrivo di un’UI in una stazione generica dal livello \nsuperiore; si assume che le UI, il cui tempo di trasmissione è T = 5 t, siano tutte ricevute in", "stazioni diverse e che il rescheduling delle trasmissioni dovuto a collisioni avvenga in un \ntempo molto più grande del periodo osservato in figura. Nel caso di protocollo non-persistent \nCSMA  (Figura 3.47a), si nota subito all’inizio dell’asse temporale la presenza di due tentativi \ndi trasmissione nello stesso slot. Avviene così una collisione: questa dura il tempo di una \ntrasmissione, ossia T = 5 slot di trasmissione più un tempo massimo di 1 slot necessario al", "segnale per propagarsi su tutta la rete. Durante questo intervallo ci sono altri due tentativi, che \ntuttavia vengono subito rinviati in quanto trovano il canale occupato. Seguono due slot in cui \nil canale risulta libero, e infatti non appena arriva un tentativo di trasmissione la stazione rela -\ntiva può trasmettere con successo. Durante l’ultima trasmissione su questo stesso diagramma \nsi nota come ci sia un ulteriore tentativo nell’ultimo slot di propagazione del segnale: poiché", "il “sensing” sul canale viene effettuato all’inizio dello slot successivo, il canale risulta libero \ne una nuova trasmissione può iniziare nello stesso istante. \nDiverso è ciò che accade con il protocollo 1-persistent  (Figura 3.47b), dove è stata presenta -\nta la stessa configurazione di richieste di trasmissione del caso non-persistent . Anche qui si ha \nsubito una collisione, ma a questa ne segue immediatamente un’altra, dato che le due stazioni", "che cercano di trasmettere durante il primo intervallo di T + 1 slot continuano a effettuare il \nsensing del canale, finché non lo trovano libero contemporaneamente. A seguito della mancata \nricezione del riscontro entro 2 t, le due stazioni rinviano le loro trasmissioni esattamente come \navveniva nel protocollo non-persistent  quando si trovava il canale occupato. L ’unico tentativo \ndi accesso durante il secondo intervallo di T + 1 slot determina una trasmissione con suc -", "cesso. Questa è seguita da un intervallo di collisione a causa degli arrivi multipli nell’ultimo \nintervallo di trasmissione. Si nota come questo algoritmo 1-persistent  in condizioni di traffico \nelevato possa risultare dannoso soprattutto con un grande numero di stazioni. Il protocollo \nnon-persistent invece è più efficiente con traffico offerto alto, mentre con traffico offerto \nbasso, potrebbe utilizzare in modo non ottimale la capacità a disposizione. Per quanto riguarda", "il protocollo p-persistent , esso costituisce una sorta di via di mezzo tra le due soluzioni, per \nFigura 3.47 Accesso con protocollo slotted CSMA: non-persistent (a) e 1-persistent (b).Collisione\nT+1Trasmissione\nT+1Trasmissione\nT+1Libero Libero\nCollisione\nT+1Collisione\nT+1Trasmissione\nT+1Collisione\nT+1(a)\n(b)\nPattavinaReti2021.indb   159PattavinaReti2021.indb   159 14/01/2022   16:08:4614/01/2022   16:08:46160  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto", "3B Reti multipunto\ncui, scegliendo dinamicamente p , si può ottimizzare il comportamento della rete a fronte di \nun traffico offerto variabile.\n3.6.2 Prestazioni dei protocolli CSMA\nLe prestazioni di throughput dei vari protocolli CSMA sono state valutate utilizzando i model -\nli riportati in [Hammond], dei quali qui si riportano in forma dettagliata quelli più semplici. \nPer gli altri si farà riferimento solo ai risultati finali.\nProtocollo non-persistent CSMA", "Protocollo non-persistent CSMA\nNel protocollo non-persistent CSMA è possibile ricavare l’andamento del throughput in fun -\nzione del ritardo normalizzato a utilizzando un semplice modello che valuta la quota parte \ndi tempo spesa in trasmissioni con successo, cio è senza collisioni. Il mezzo trasmissivo, per \ncome viene rilevato da una generica stazione, si trova sempre in uno di due stati, occupato", "o libero , a seconda che vi sia propagazione di segnale o meno. Si osservi che, a causa della \ndistanza tra le stazioni, può accadere che il rilevamento indichi che il mezzo è occupato anche \nse le trasmissioni sono terminate. \nSi definisce ciclo  un intervallo di tempo che intercorre tra l’inizio di due stati di “occupa -\nto” consecutivi. Si faccia riferimento alla Figura 3.48 che mostra l’attività di trasmissione da", "parte di tre stazioni che si assumono essere a massima distanza l’una dall’altra, quindi con \ntempo di propagazione t tra di esse. Si ipotizza che la stazione B sia la prima a trasmettere \nla propria UI P , seguita dalla stazione A (che trasmette l’UI Q) e dalla stazione C (che invia \nl’UI R). Poiché gli istanti di inizio delle tre trasmissioni sono distanziati temporalmente per \nmeno di t , l’operazione di “sensing” rileva il canale libero anche se si verificheranno colli -", "sioni tra le trasmissioni. Il periodo di occupato  termina un intervallo di tempo t dopo la fine \ndella trasmissione da parte della stazione C, che è stata l’ultima a iniziare a trasmettere. Dopo \nun intervallo di tempo di libero,  il mezzo trasmissivo risulta impegnato per la trasmissione \ntt\nPT\ntRT\nτSτT\nOccupato Occupato Libero Lib.\nCiclo CicloSt. B\nSt. Ct\nτQT\nSt. A\nyτ\nττ\nFigura 3.48 Esempi di cicli di successo e insuccesso nel protocollo CSMA.", "PattavinaReti2021.indb   160PattavinaReti2021.indb   160 14/01/2022   16:08:4614/01/2022   16:08:463.6 Protocolli con rilevazione del canale  161\ndell’UI S da parte della stazione B, che avviene senza collisione, determinando un periodo di \noccupato  del canale, questa volta per una trasmissione con successo. \nIndichiamo con tO e con tL le variabili aleatorie che denotano i tempi di permanenza del \nmezzo rispettivamente nello stato di occupato e di libero; inoltre denotiamo con tS l’interval -", "lo di tempo speso in trasmissione con successo nell’intervallo di tempo di un ciclo, tO + tL. \nRisulta allora evidente che il throughput si esprime, facendo riferimento ai valori medi delle \nvariabili in gioco (indicate con lettera maiuscola), come la quota parte di tempo impiegato in \ntrasmissioni con successo e cio è\n)3.39( STS\nTOTL+-------------------- = .            \nIl tempo medio impiegato in trasmissioni senza collisioni si calcola facilmente considerando", "che T esprime il tempo di trasmissione di un’UI e che il successo richiede che nessun’altra UI \nvenga generata nei primi t secondi a partire dall’inizio della trasmissione; quindi, nell’ipotesi \ndi distribuzione degli arrivi secondo il processo di Poisson,\n)3.40(TSTPr0arrivi inτsecondi { } ⋅ TΛt()0\n0!-------------eΛt–\ntτ=⋅ TeG\nT----τ–\n= = =  \nricordando che la frequenza di arrivo delle UI è L = G/T . \nLa durata media dello stato di libero si calcola come tempo che intercorre tra la fine dello", "stato di occupato e l’istante di arrivo della successiva UI. A causa della proprietà di assenza di \nmemoria della distribuzione esponenziale, questo tempo coincide con il tempo tra due arrivi \nconsecutivi, e cio è\n)3.41( TL1\nΛ----T\nG---- = = .           \nPer esprimere il tempo di occupato tO, occorre osservare che questo è determinato dall’ultima \nUI che concorre nella collisione, che giunge nella stazione un intervallo di tempo y dopo l’ini -", "zio del tempo di ciclo; naturalmente la condizione 0 ≤ y ≤ t risulta sempre verificata. Nell’e -\nsempio di Figura 3.48 è l’UI R della stazione C a trovarsi in queste condizioni, essendo stata \ngenerata successivamente all’UI Q della stazione A, anch’essa coinvolta nella stessa collisione. \nQuindi possiamo scrivere\n)3.42( tOyTτ ++ =                \ndove la sola variabile aleatoria è y che indica il tempo dell’ultimo arrivo nell’intervallo [0, t ].", "La funzione di distribuzione Fyt() Pryt≤{} =  di questa variabile è data dalla probabilità \nche non si verifichino arrivi nell’intervallo yτ,[] e quindi\nFyt() eG\nT----τt–() –\n= .\nCon procedure standard si ricava il valore medio Y della variabile y come:\nYτT\nG----1eG\nT----τ–\n–\n\n–=\nPattavinaReti2021.indb   161PattavinaReti2021.indb   161 14/01/2022   16:08:4614/01/2022   16:08:46162  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto", "3B Reti multipunto\ncosì che possiamo esprimere la durata media TO di un tempo di occupato a partire dall’Equa-\nzione (3.42):\n)3.43( TOYTτ ++ T2τT\nG----1eG\nT----τ–\n–\n\n– + = = .         \nUtilizzando le Equazioni (3.40), (3.41) e (3.43) si ricava il throughput S (Equazione (3.39)) in \nfunzione del ritardo normalizzato a =  t/T:\nSGeaG–\nG12a+()eaG–+------------------------------------------- = .\nProtocollo slotted non-persistent CSMA", "Protocollo slotted non-persistent CSMA\nIl calcolo del throughput nel protocollo slotted non-persistent CSMA  richiede l’applicazione \ndella stessa procedura sviluppata per il protocollo non-persistent CSMA , tenendo conto del \nfatto che ora tutti i tempi in gioco sono multipli di un tempo base di durata t , detto “time slot”. \nPer applicare quindi l’Equazione (3.39) occorre esprimere i tempi medi TS, TL e TO.", "Il tempo medio TS di trasmissione con successo si può esprimere come prodotto del tempo \ndi trasmissione T per la probabilità che la trasmissione abbia successo, dato che si è verifica -\nto almeno un arrivo nello slot che precede l’inizio della trasmissione. Indicando con P0 e P1 \nrispettivamente le probabilità che non si verifichino arrivi e si verifichi un solo arrivo in uno \nslot, la distribuzione di Poisson ipotizzata per gli arrivi implica che P0 = e-aG e P1 = aGe-aG,", "avendo utilizzato il ritardo normalizzato a =  t/T.\nQuindi\n)3.44(TSTPrun solo arrivo in τalmeno un arrivo in τ { } ⋅ =\nTP1\n1P0–---------------⋅\n   TaGeaG–\n1eaG––---------------------⋅= =.       \nIl tempo (medio) di occupato si esprime questa volta semplicemente come tempo (fisso) di \ntrasmissione aumentato del tempo di propagazione, quindi\n)3.45( TOTτ+ = .           \nPer valutare il tempo medio di libero TL, la cui durata è sempre un multiplo del time slot,", "osserviamo che una durata di i slot si verifica quando nessun arrivo si verifica in i slot conse -\ncutivi e nel successivo viene ricevuta almeno un’UI; questo evento si verifica con probabilità \npiP0i1P0–()⋅ = .\nLa durata media di un periodo di libero è quindi data da:\n)3.46( TLτ ipi\ni0=∞\n∑⋅ τ1P0–()P0iP0i1–\ni0=∞\n∑τP0\n1P0–---------------τeaG–\n1eaG––-------------------- = = = = .", "1eaG––-------------------- = = = = .      \nPattavinaReti2021.indb   162PattavinaReti2021.indb   162 14/01/2022   16:08:4614/01/2022   16:08:463.6 Protocolli con rilevazione del canale  163\nIl throughput si ottiene infine combinando le Equazioni (3.44)-(3.46) con l’Equazione (3.39) \nottenendo\nSaGeaG–\n1eaG–a+ –------------------------------ = .\nProtocollo 1-persistent CSMA\nAnaloghe procedure possono essere sviluppate per derivare l’espressione del throughput per i", "protocolli 1-persistent CSMA , che qui ci limitiamo a riportare.\nPer il protocollo 1-persistent CSMA il throughput è :\nSG1GaG1GaG2⁄ ++( ) ++[ ]eG12a+() –\nG12a+()1eaG––1aG+()eG1a+() –+ –--------------------------------------------------------------------------------------------------------------- =\nmentre per quello slotted 1-persistent CSMA  si ha:\nSGeG1a+() –1aeaG––+  \n1a+()1eaG––aeG1a+() –+------------------------------------------------------------------------------ = .", "Prestazioni di traffico\nLa Figura 3.49 riporta il throughput di rete per differenti protocolli di accesso CSMA, unita -\nmente agli analoghi valori forniti dai protocolli ALOHA, al variare del traffico offerto G,  per \nil valore del tempo di ritardo normalizzato a = 0,01 (quindi il tempo di trasmissione dell’UI è \n100 volte più grande del tempo di propagazione da estremo a estremo sulla rete). Si può notare", "come, rispetto alle reti con protocolli ALOHA  e slotted ALOHA , le reti con protocolli CSMA \nmostrano un traffico smaltito ben maggiore. In particolare il protocollo 1-persistent CSMA , \ncome già detto, offre prestazioni migliori per un traffico offerto ridotto, mentre collassa velo -\ncemente a 0 per valori di G elevati. Invece il protocollo non-persistent CSMA si comporta in \nmodo eccellente per carichi elevati, arrivando a un valore massimo di traffico smaltito quasi", "del 90% nel caso slotted. Quindi, a seconda delle esigenze, ossia delle diverse condizioni di \ntraffico offerto alla rete, si può scegliere l’algoritmo più opportuno. \nSe ora ci concentriamo sul protocollo slotted non-persistent CSMA  con diversi valori del \nparametro a = t /T, le cui prestazioni sono riportate nella Figura 3.50, ci accorgiamo come il \ntraffico smaltito S aumenti al diminuire di questo parametro. Infatti, se per esempio a = 1, si", "ha un tempo di propagazione uguale a quello di trasmissione e dunque l’efficienza del proto -\ncollo è necessariamente bassa. Più è piccolo a, invece, migliori risultano le prestazioni, dato \nche l’inefficienza dovuta alla propagazione del segnale diminuisce e la procedura di “sensing” \ndel canale diventa anche più efficiente. Il caso limite teorico a = 0, che implica tempo di pro -\npagazione nullo del segnale tra stazioni, non dà luogo a fenomeni di instabilità e il throughput", "tende al valore unitario al crescere del traffico offerto. Infatti, per definizione non possono \nverificarsi collisioni poiché la rivelazione del canale libero da parte di una stazione implica \nche nessuna altra trasmissione è  iniziata, quindi la trasmissione da parte della stazione ha \nsempre successo. \nPattavinaReti2021.indb   163PattavinaReti2021.indb   163 14/01/2022   16:08:4614/01/2022   16:08:46164  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\n3.6.3 Protocolli CSMA/CD", "3B Reti multipunto\n3.6.3 Protocolli CSMA/CD\nI protocolli carrier sense multiple access with collision detection ( CSMA/CD) costituiscono \nl’evoluzione diretta dei protocolli CSMA, dunque presentano le stesse caratteristiche di questi \nultimi con in più la possibilità di “ascoltare” il canale mentre viene effettuata la trasmissione. 0,000,200,400,600,801,00\n10-1100101102a = 0,01Throughput, S\nTraffico offerto, GALOHASlotted\nALOHASlotted 1-persistent\n1-persistentSlotted non-persistent", "1-persistentSlotted non-persistent\nNon-persistent\nFigura 3.49 Throughput di rete con protocolli di accesso ALOHA e CSMA.\na = 1a = 0\na = 0,1a = 0,01\n0,000,200,400,600,801,00\n10-210-1100101102Slotted non-persistent CSMAThroughput, S\nTraffico offerto, G\nFigura 3.50 Throughput di rete con protocollo slotted CSMA.\nPattavinaReti2021.indb   164PattavinaReti2021.indb   164 14/01/2022   16:08:4814/01/2022   16:08:483.6 Protocolli con rilevazione del canale  165", "Quindi, non appena viene rilevata una collisione, la trasmissione è interrotta e viene inviato \nsulla rete un segnale particolare, detto di “jam”, che fornisce implicitamente a tutte le stazioni \ndella rete l’indicazione di scartare la porzione di unità informativa che hanno ricevuto. Così \nsi riesce a minimizzare il tempo che viene perso in tali circostanze, ossia il cosiddetto inter -\nvallo di collisione . Sono definite le stesse classi di protocolli delle reti CSMA, cio è slotted ,", "non-slotted , non-persistent , 1-persistent  e p-persistent .\nNella Figura 3.52 sono mostrati nuovamente gli stessi diagrammi temporali visti per i proto -\ncolli CSMA in cui ora si adotta il protocollo CSMA/CD. Si nota come l’intervallo di collisione \nabbia una durata g   +  1 slot, dove g  rappresenta un parametro prefissato che generalmente \nvale uno o due (slot); nel nostro caso si è assunto g = 2. Durante questo intervallo si rivela la", "collisione e si dà modo al segnale di jam di propagarsi in tutta la rete. L ’evoluzione dei due \nesempi segue gli stessi principi già esaminati nel caso CSMA, che ora tengono conto della \ndiversa durata dei periodi di trasmissione e di collisione. Rispetto a quanto accade nel caso Si vuole ripetere l’Esempio 3.14, mostrando l’effetto del meccanismo di rilevazione delle \ncollisioni tra unità informative.", "collisioni tra unità informative. \nCome mostrato in Figura 3.51, la collisione tra i segnali emessi dalle stazioni D e B negli \nistanti t0 e t1, rispettivamente, ha luogo all’istante t2 in corrispondenza della stazione B. \nQuesta, dopo un intervallo di tempo prestabilito necessario per verificare la presenza con -\ntemporanea di due segnali sul mezzo trasmissivo, all’istante t3 interrompe la propria tra -\nsmissione, divenuta comunque inutile. Infatti questa unità informativa verrà comunque", "ricevuta corrotta da tutte le stazioni della rete. Rispetto allo stesso evento di collisione \ncon il protocollo CSMA mostrato in Figura 3.47, ora la stazione B libera anticipatamente \nil mezzo trasmissivo, e cio è all’istante t6 per la stazione D e all’istante t7 per la stazione E.Esempio 3.15\nt0\nt1\nt4\ntt2\nt5t3\ntt6\nt7B C D E A\nFigura 3.51 Collisione tra UI nel protocollo CSMA/CD secondo l’Esempio 3.15.", "PattavinaReti2021.indb   165PattavinaReti2021.indb   165 14/01/2022   16:08:4814/01/2022   16:08:48166  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\ndei protocolli CSMA mostrato in Figura 3.47, la minore durata degli intervalli di collisione \ndovuta alla loro tempestiva rivelazione risulta in un aumento delle trasmissioni con successo \nnel caso 1-persistent . \n3.6.4 Prestazioni dei protocolli CSMA/CD", "3.6.4 Prestazioni dei protocolli CSMA/CD\nVolendo inizialmente valutare, anche in modo approssimato, l’efficienza della classe di pro -\ntocolli CSMA/CD, osserviamo la seguente procedura [Stallings]. Si considera un’unità base \ndell’asse dei tempi uguale a 2 t, che nel caso di accesso di tipo non-slotted indica il tempo \nmassimo richiesto per rilevare una collisione. L ’efficienza del protocollo può essere calcolata", "come rapporto tra il tempo richiesto da una trasmissione con successo di un’UI e il tempo \nglobalmente impiegato per completare la trasmissione a seguito delle collisioni che possono \nessere intervenute. Il tempo di trasmissione di un’UI, espresso in termini dell’unità base tem -\nporale, è T /2t. Per calcolare il tempo speso in collisioni per un’UI, si valuta dapprima la pro -\nbabilità che una generica UI sia trasmessa con successo. Ciò si verifica quando in un intervallo", "uguale a 2 t solo una stazione riceve dal livello superiore un’UI da trasmettere. Indicando con \np la probabilità che una stazione riceva un’UI in un intervallo di tempo base, la probabilità di \nsuccesso A si calcola come \nAN\n1p1p–()N1–Np1p–()N1–= = .\nIl valore massimo di questa funzione, ottenuto uguagliando a zero la derivata prima della \nfunzione A(p), si ottiene ponendo p  = 1/N , che fornisce (vedi Esempio 3.13)\n)3.47( Amax11\nN----–N1–\n= .", ")3.47( Amax11\nN----–N1–\n= .          \nLa durata media W di un intervallo di collisione, espressa in unità base di 2 t, si ottiene consi -\nderando che i collisioni consecutive si verificano con probabilità (1 _ A)iA; quindi\nW i1A–()iA\ni1=∞∑ 1A–()A i1A–()i1–\ni1=∞\n∑1A–\nA------------ = = = .Coll.\nγ+1Coll.\nγ+1Trasmissione\nT+1Trasmissione\nT+1Libero Lib.\nγ+1Trasmissione\nT+1Coll.\nγ+1Coll. Trasmissione\nT+1Trasmissione\nT+1Lib.(a)\n(b)", "T+1Trasmissione\nT+1Lib.(a)\n(b)\nFigura 3.52 Accesso con protocollo slotted CSMA/CD: non-persistent (a) e 1-persistent (b).\nPattavinaReti2021.indb   166PattavinaReti2021.indb   166 14/01/2022   16:08:4914/01/2022   16:08:493.6 Protocolli con rilevazione del canale  167\nConsiderando che il tempo totale richiesto per completare una trasmissione con successo deve \nincludere anche il tempo di propagazione, che nel caso peggiore è t , allora il throughput mas -", "simo h per un protocollo CSMA/CD può essere espresso come\n)3.48( ηT\nTτ2τ1Amax–\nAmax---------------------- ++-----------------------------------------------1\n1a2a1Amax–( )\nAmax--------------------------------- ++---------------------------------------------------- = = .     \nLa Tabella 3.3 mostra il valore dell’efficienza di rete h al variare del numero di stazioni N e \ndel ritardo normalizzato a = t/T. Con tempi di propagazione 2 o 3 ordini di grandezza più", "piccoli del tempo di trasmissione, si raggiunge un’efficienza di rete superiore al 95% e al 99% \nrispettivamente. Al crescere di a, invece, l’efficienza scende e non è superiore al 25% quando \nil tempo di propagazione uguaglia il tempo di trasmissione T, per diventare il 2-3% quando \nt = 10 T. Si osserva che il numero di stazioni N ha un’influenza molto limitata sull’efficienza, \nin special modo per valori decrescenti del ritardo normalizzato.", "Le procedure che consentono di ricavare l’espressione del throughput dei diversi protocolli \nCSMA/CD sono analoghe a quelle presentate nel Paragrafo 3.6.2, anche se si rivelano più com -\nplesse. Ci si limita qui a riportare le espressioni finali ricavate per i protocolli non-persistent \nCSMA, dove g =  aG denota il numero di UI trasmesse per slot. \nIl throughput per il protocollo non-persistent CSMA/CD è dato da:\nSgeg–", "Sgeg–\ngeg–aγg1eg––2ag1eg––a2eg––() + + +------------------------------------------------------------------------------------------------------------------------- =\nmentre per il protocollo slotted non-persistent CSMA/CD si ottiene:Tabella 3.3 Throughput massimo con protocollo CSMA/CD e numero finito di stazioni.\nN a = 10-3a = 10-2a = 10-1a = 100a = 101\n2 0,997 0,971 0,769 0,250 0,032\n10 0,996 0,960 0,706 0,194 0,023\n20 0,996 0,958 0,699 0,189 0,023\n100 0,996 0,958 0,694 0,185 0,022", "100 0,996 0,958 0,694 0,185 0,022\nSi vuole valutare l’efficienza del protocollo CSMA/CD nel caso limite di un numero infi -\nnito di stazioni ( N → ∞ ).\nPoiché la massima probabilità di successo (Equazione (3.47)) tende a Amax = 1/e, l’efficienza \ndel protocollo, data dall’Equazione (3.48), diventa \nη1\n1444a,+------------------------ = .Esempio 3.16\nPattavinaReti2021.indb   167PattavinaReti2021.indb   167 14/01/2022   16:08:4914/01/2022   16:08:49168  Capitolo 3 – Teoria dei protocolli", "3B Reti multipunto\nSgeg–\ngeg–aγ1eg–– geg––  a2eg–– geg––  + +------------------------------------------------------------------------------------------------------------------ = .\nLa Figura 3.53 mostra l’andamento del throughput di rete con i protocolli non-persistent  \nCSMA  e CSMA/CD  per a  = 0,01 e g  = 1. Per avere un’idea del notevole miglioramento di \nprestazioni che la rilevazione delle collisioni può apportare, basti considerare le curve relative", "ai due protocolli non-persistent CSMA  e CSMA/CD ; al crescere del traffico aumentano le \ncollisioni e dunque risulta sempre più efficace il meccanismo di rilevamento delle collisioni \ndi quest’ultimo protocollo. Ciò spiega l’enorme differenza che si riscontra tra le due curve. Le \nmigliori prestazioni si ottengono con il protocollo slotted non-persistent CSMA/CD , in cui il \nmassimo throughput raggiunge addirittura il 95%.", "massimo throughput raggiunge addirittura il 95%. \nInfine, la Figura 3.54 riporta i valori di massimo throughput (efficienza) di rete con i \ndiversi protocolli CSMA e CSMA/CD al variare di a . Le reti con protocollo CSMA offrono \nnaturalmente prestazioni migliori rispetto ai protocolli ALOHA  grazie al meccanismo di rile -\nvazione dello stato del canale prima della trasmissione. I protocolli 1-persistent CSMA mostra -", "no un’efficienza di poco superiore al 50% per UI con tempo di trasmissione T20τ≅ . Per \nquesto valore i protocolli CSMA e CSMA/CD hanno rispettivamente un’efficienza superiore \nal 60% e al 75%, mentre le corrispondenti versioni slotted raggiungono efficienze superiori \nal 70 e all’80%. Per valori molto piccoli di a, per esempio con un tempo di trasmissione di tre \nordini di grandezza più grande del tempo di propagazione, l’efficienza dei protocolli CSMA", "è nell’intorno del 95%, mentre si avvicina al 100% quella dei protocolli CSMA/CD. Risulta \ninteressante osservare come il protocollo non-persistent CSMA/CD per alti valori di a diventi \nmeno efficiente rispetto al protocollo slotted non-persistent CSMA . In tal caso infatti i tempi \ndel rilevamento delle collisioni si allungano, dunque i miglioramenti apportati da questa fun -\n0,000,200,400,600,801,00\n10-210-1100101102103Non persistent, a = 0,01, γ = 1Throughput, S", "Traffico offerto, GSlotted CSMA\nSlotted CSMA/CDCSMA\nCSMA/CD\nFigura 3.53 Throughput di rete con protocolli non-persistent CSMA e CSMA/CD.\nPattavinaReti2021.indb   168PattavinaReti2021.indb   168 14/01/2022   16:08:5014/01/2022   16:08:503.6 Protocolli con rilevazione del canale  169\nzione tendono a sparire, mentre il miglioramento dovuto al minore periodo di vulnerabilità \ndel protocollo “slotted” resta. \n3.6.5 Protocollo CSMA/CA", "3.6.5 Protocollo CSMA/CA\nIl protocollo CSMA/CD (utilizzato tipicamente nelle reti LAN cablate) non viene utilizzato \nnelle reti LAN wireless, che adottano come mezzo trasmissivo l’etere. Una delle principali \nragioni è che nelle reti radiomobili la potenza del segnale ricevuto è strettamente dipendente \ndalla posizione del terminale, quindi viene meno la certezza di poter rilevare collisioni. Per \nmostrare ciò, si fa riferimento alla configurazione di rete che determina lo stato di stazione", "nascosta  mostrato nella Figura 3.55. Si consideri la stazione A che sta trasmettendo dati alla \nstazione B utilizzando come mezzo trasmissivo un canale radio. La stazione C, che è al di \nfuori del raggio di copertura della trasmissione in corso, rileva che il mezzo trasmissivo è libe -\n0,000,200,400,600,801,00\n10-310-210-1100Efficienza, η\nRitardo di propagazione normalizzato, aNon-persistent CSMA\nSlotted non-persistent CSMANon-persistent CSMA/CDSlotted non-persistent CSMA/CD", "Slotted 1-persistent CSMA\n1-persistent CSMA\nFigura 3.54 Efficienza di rete con protocolli CSMA e CSMA/CD.\nCA\nDB\nFigura 3.55 Il problema della stazione nascosta..\nPattavinaReti2021.indb   169PattavinaReti2021.indb   169 14/01/2022   16:08:5114/01/2022   16:08:51170  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\nro e inizia a trasmettere verso la stazione B, determinando ovviamente collisione di segnale in", "B che non viene rilevata dalla stazione A. La stazione A è quindi nascosta alla visibilità della \nstazione C e viceversa. \nPer questo motivo nelle reti wireless LAN si adotta un protocollo di accesso diverso, detto \ncarrier sense multiple access with collision avoidance  (CSMA/CA), che cerca di prevenire \nle collisioni invece di rivelarle. Quindi la funzione di “sensing” del canale è sempre attuata,", "ma la possibile occorrenza di collisioni viene gestita in modo diverso. In particolare, viene \nintrodotta la procedura di esplicita richiesta di autorizzazione alla trasmissione da una stazio -\nne all’altra. Questa viene attuata mediante invio da parte della stazione sorgente di un’UI di \ncontrollo detta request to send  (RTS), cui segue, in caso di accettazione, l’invio di una seconda \nUI di controllo detta clear to send  (CTS) da parte della stazione di destinazione. Poiché nono -", "stante ciò le collisioni possono avere luogo, si prevede che le UI dati ricevute correttamente \nsiano riscontrate in modo esplicito inviando un’UI di controllo detta acknowledgment  (ACK). \nIl protocollo di accesso CSMA/CA si basa sulla definizione di due diversi intervalli tem -\nporali16, denominati DCF interframe space (DIFS), e short interframe space  (SIFS). DIFS \nrappresenta l’intervallo di tempo che una stazione attende prima di iniziare il tentativo di", "trasmissione di un’UI dati, che inizia con l’invio di un’UI di controllo RTS. SIFS invece costi -\ntuisce l’intervallo di tempo richiesto per iniziare la trasmissione: (i) di un’UI di accettazione \nCTS, autorizzando quindi la ricezione di un’UI dati da una stazione che ne ha fatto richiesta \ntramite UI di richiesta RTS; (ii) oppure di un’UI di riscontro ACK, a seguito della ricezione \ndi un’UI dati. Allo scopo di fornire priorità nell’accesso al mezzo condiviso all’invio di UI di", "controllo CTS e ACK, rispetto all’inizio di un nuovo tentativo di trasmissione, SIFS è sempre \npiù piccolo di DIFS.\nOccorre precisare che le procedure seguite da una stazione che intenda iniziare un tenta -\ntivo di trasmissione di un’UI dati sono diverse a seconda dello stato del canale radio. Se si \nrileva che il canale è libero, la stazione attende un intervallo di tempo DIFS e quindi, se il \ncanale permane libero, inizia la trasmissione. Se invece si rileva che il canale è occupato, la", "stazione attende che il canale si liberi, dopodiché attende per un intervallo di tempo variabile, \ndetto finestra di contesa , per conquistare l’accesso al canale secondo il protocollo CSMA/CA. \nQuesto intervallo è definito come multiplo di un intervallo temporale base t , detto tempo di \nslot, utilizzato per determinare il ritardo ( tempo di backoff ) da parte di una stazione con un’UI \ndati da trasmettere che rileva il mezzo trasmissivo occupato.", "Per illustrare le operazioni della stazioni che adottano il protocollo CSMA/CA, si consi -\nderi l’esempio rappresentato in Figura 3.56 che si riferisce alla configurazione di stazioni di \nFigura 3.55. Questo esempio ipotizza l’assenza di collisioni, che tuttavia possono verificarsi, \ncome discusso nel seguito, e di errori di trasmissione. La stazione A con un’UI dati diretta alla \nstazione B rileva il canale radio occupato e attende quindi che si liberi. Quando ciò accade,", "la stazione B attende un intervallo di tempo DIFS seguito da una “finestra di contesa” prima \ndi inviare alla stazione B la propria UI RTS di richiesta di trasmissione. La stazione B, dopo \naver atteso un intervallo di tempo SIFS, acconsente a ricevere un’UI, inviando un’UI di con -\ntrollo CTS alla stazione A. Questa, completata la ricezione dell’UI CTS, inizia la trasmissione \ndell’UI dati verso la stazione B dopo aver atteso un intervallo di tempo SIFS. La stazione B,", "16  L’accesso di tipo PCF, definito nel Paragrafo 10.1.2, non è rilevante al fine di descrivere il protocollo CSMA/\nCA.\nPattavinaReti2021.indb   170PattavinaReti2021.indb   170 14/01/2022   16:08:5114/01/2022   16:08:513.6 Protocolli con rilevazione del canale  171\nal completamento della ricezione dell’UI dati, attende un intervallo di tempo SIFS e quindi \ninvia un’UI di riscontro ACK alla stazione A. \nAl fine di evitare altre trasmissioni che possano dar luogo a collisione, le UI RTS e CTS", "recano l’informazione sull’intervallo di tempo previsto di occupazione del canale radio per \nl’invio e il riscontro dell’UI dati in questione (ivi inclusi gli intervalli SIFS relativi), denomina -\nto network allocation vector  (NAV). Le altre stazioni che ricevono queste UI restano inattive \ndurante l’intervallo di tempo NAV. Nel nostro esempio, oltre alla stazione destinataria B, solo \nla stazione D riceve l’UI di controllo RTS e quindi registra la durata dell’intervallo NAV. Il", "problema della stazione nascosta viene superato in questo caso grazie all’UI CTS emessa da B, \nche reca anch’essa l’informazione sull’occupazione prevista del canale. Così anche la stazione \nC, che si trova nel raggio di copertura di questa trasmissione, può registrare l’intervallo NAV \ned evitare collisioni con la trasmissione da parte della stazione A. \nConsideriamo ora che cosa accade quando la generica stazione con un’UI dati pronta alla", "trasmissione rileva il canale occupato, come mostrato nel diagramma di Figura 3.57. La stazio -\nne attende che il canale permanga libero per un tempo DIFS; ciò garantisce che le trasmissioni \na priorità superiore, cio è tutte quelle che attendono un tempo inferiore (SIFS), possano iniziare \ne così occupare il canale. Se il canale risulta libero dopo un tempo DIFS, viene trasmessa l’UI \nRTS di richiesta di trasmissione. Altrimenti la stazione applica l’algoritmo di backoff, secondo", "il quale la trasmissione viene ritardata di un tempo casuale selezionato con equiprobabilità \nall’interno di un intervallo di durata massima K1– slot, con K crescente con il numero dei \ntentativi di trasmissione che non hanno successo. Il valore iniziale di questo intervallo è K = 7 \nslot, così che il ritardo iniziale è un numero di slot tra 0 e 7. Al tentativo i -esimo, l’intervallo \nha ampiezza massima K 22i+1– =  slot. Una particolarità dell’algoritmo di backoff del", "protocollo CSMA/CA, rispetto a quello del protocollo CSMA, è che gli slot di attesa vengono \ncalcolati solo durante le effettive finestre di contesa, cio è quando il mezzo è libero. Quindi \nuna stazione in attesa di ritrasmissione, che rileva una nuova trasmissione che occupa il canale \nradio, sospende il conteggio degli slot di attesa che viene ripreso dopo un intervallo di tempo \nDIFS che segue le fine dell’occupazione del canale. Esaurito il tempo di backoff, ha luogo la", "trasmissione dell’UI RTS.tRTSSIFS DIFS\nDatiDIFS\nSt. A\nSt. B\nSt.C\nSt. DSIFS\nCTSSIFS\nACK\nNAVNAVt\nt\ntFinestra\ndicontesa\nFigura 3.56 Trasmissione di unità dati nel protocollo CSMA/CA.\nPattavinaReti2021.indb   171PattavinaReti2021.indb   171 14/01/2022   16:08:5214/01/2022   16:08:52172  Capitolo 3 – Teoria dei protocolli\n 3B Reti multipunto\nSi noti che nonostante il protocollo preveda lo scambio di UI di controllo RTS e CTS, possono", "sempre verificarsi collisioni tra UI; infatti, nulla impedisce che due stazioni emettano un’UI di \ncontrollo RTS nello stesso slot. In questo caso la stazione destinataria non emette, come pre -\nvisto, l’UI di controllo CTS entro un tempo SIFS e quindi la stazione che ha emesso l’UI RTS \napplica l’algoritmo di backoff, incrementando il valore del parametro K . Questo algoritmo si \napplica anche quando la stazione che ha emesso l’UI dati non riceve l’UI di riscontro ACK Unità dati\ndisponibile", "disponibile\nRitardo islot\nliberiRitardo DIFSSì\nCalcolo  max\nritardo  (K- 1)τNoCanale\noccupato\nSì\nNoCanale\noccupato\nTrasmissione\nRTS\nSìCTS\nricevuto\nTrasmissione\nunità datiRitardo SIFS\nSì\nTrasmissione\ncompletaRitardo DIFS dopo\ncanale libero\nSì\nNoCanale\noccupato\nNo\nNoACK\nricevutoRitardo SIFS\nFigura 3.57 Protocollo di accesso CSMA/CA.\nPattavinaReti2021.indb   172PattavinaReti2021.indb   172 14/01/2022   16:08:5214/01/2022   16:08:523.6 Protocolli con rilevazione del canale  173", "dopo un tempo SIFS. Si noti ancora che la mancata ricezione di questa UI può essere dovuta \nsia a un errore che ha colpito l’UI dati, che viene quindi scartata dalla stazione ricevente, sia a \nuna collisione che ha interessato la stessa UI di riscontro. Per fare fronte a questi ultimi eventi, \nè previsto un meccanismo di numerazione dei diversi frammenti in cui può essere frazionata \nun’UI dati da trasmettere che consente di riconoscere eventuali duplicazioni di frammenti \nricevuti.", "ricevuti.\nCome già accennato, solo la trasmissione del primo frammento di un’UI dati richiede \nl’attesa di un tempo DIFS, mentre i successivi frammenti vengono inviati dopo un intervallo \ndi tempo di libero SIFS. Ciò fornisce priorità al completamento della trasmissione di tutti i \nframmenti di un’UI dati rispetto all’invio di nuove UI. \nPer valutare le prestazioni del protocollo CSMA/CA consideriamo un ciclo che inizia con", "un intervallo DIFS, seguito da una finestra di contesa di durata multipla dello slot base, t . La \nstazione che vince la contesa effettua la propria trasmissione di un’UI dati; nel caso di unità \ninformativa spezzata in più frammenti, ognuno dei frammenti successivi al primo viene invia -\nto nei cicli successivi senza più contesa del canale, dopo un intervallo SIFS. Assumiamo che \nsiano M i frammenti in cui è stata spezzata un’unità informativa, ognuno dei quali richiede", "un tempo di trasmissione T , e che non si verifichino errori di trasmissione. Ipotizzando che \nSIFS e DIFS abbiano durata minima e che le UI di controllo RTS, CTS e ACK siano trasmesse \nin un tempo Tc, allora il throughput massimo della rete si ottiene come quota parte di tempo \nimpiegato in trasmissione con successo di informazioni di utente, e cio è\n)3.49( ηMT", ")3.49( ηMT\n3ττP1max⁄ 2Tc2τ M1–()τMTτTc++( ) + + + + +------------------------------------------------------------------------------------------------------------------------------------ = .    \nInfatti il completamento della trasmissione con successo del primo degli M frammenti richie -\nde che la stazione attenda DIFS ( 3t) prima di iniziare la contesa, che si assume di durata mini -\nma t/P1max slot, avendo indicato con P1max la massima probabilità di successo nella cattura", "del canale. Quando ciò è avvenuto, la stazione invia l’UI RTS e attende la risposta CTS, cosa \nche richiede complessivamente un tempo 2 Tc e due intervalli SIFS. I frammenti successivi \nal primo richiedono solo l’attesa di un tempo SIFS. Ogni frammento viene riscontrato in \nun tempo Tc dopo un intervallo SIFS. Poiché l’accesso in ogni slot della finestra di contesa \navviene con procedura casuale, possiamo applicare i risultati ricavati per il protocollo slotted", "ALOHA , così che P1max è dato dall’Equazione (3.37). Nel caso di un numero molto grande di \nstazioni N → ∞, sono in media necessari non meno di 1/ P1max = e = 2,71 slot per vincere la \ncontesa sul canale.\nPattavinaReti2021.indb   173PattavinaReti2021.indb   173 14/01/2022   16:08:5214/01/2022   16:08:52174  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\n3C Protocolli di instradamento\nUn protocollo di instradamento viene usato nei nodi di una rete di comunicazione per", "determinare il nodo successivo ( next hop ) da attraversare per raggiungere una determinata \ndestinazione. L ’algoritmo di instradamento, che risponde a opportuni criteri di ottimalità, \nviene eseguito nelle reti a commutazione di pacchetto, sia di tipo a circuito virtuale, anche se \nlimitatamente alla fase di instaurazione, sia di tipo datagramma, nonché nelle reti a commu -\ntazione di circuito. Le connessioni tra sistemi terminali nelle reti a commutazione di circuito", "restano attive per intervalli di tempo molto lunghi, anche di giorni o mesi se il servizio è \nfornito su base contrattuale. In questo caso gli algoritmi di ottimizzazione dell’instradamento \nsono tipicamente statici e possono anche essere eseguiti “off-line”. Nelle reti a commutazione \ndi pacchetto, invece, i circuiti virtuali possono anche avere una vita di qualche secondo; nel \nservizio datagramma il percorso è addirittura determinato per ogni unità informativa (UI) tra -", "sferita. Gli algoritmi di instradamento devono quindi essere altamente dinamici in presenza di \nrepentini cambiamenti di condizioni di traffico offerto al nodo oppure di occorrenza di guasti \nnei collegamenti uscenti o nei nodi adiacenti. Perciò nel seguito faremo riferimento solo agli \nalgoritmi di instradamento specificamente adottati nelle reti a commutazione di pacchetto.\nÈ naturale affermare che un algoritmo di instradamento deve godere di un certo numero", "di proprietà, che lo rendano ottimale nell’ambito della rete dove viene utilizzato. Tra queste \nproprietà ricordiamo la semplicità, la robustezza, la stabilità, l’ottimalità. La semplicità  viene \nrichiesta per mantenere basso il carico di elaborazione richiesto per UI. La robustezza  fa rife -\nrimento all’abilità dell’algoritmo di tenere conto con prontezza di variazioni delle condizioni \ndi normale operatività della rete, per esempio l’indisponibilità di rami o di nodi causata da", "guasti o il sovraccarico di alcuni nodi della rete. Questa proprietà di reazione a situazioni non \ndesiderate può determinare il susseguirsi di cambiamenti negli algoritmi di instradamento che \npotrebbe risultare in condizioni di instabilità delle modalità operative della rete. Condizioni di \nstabilità  devono essere dunque garantite data la capacità della rete di operare dinamicamente \ncon riferimento alle operazioni di instradamento. Infine, pare superfluo affermare che un", "algoritmo di instradamento deve garantire un funzionamento ottimale della rete, intendendo \ncon questo che deve consentire di utilizzare con efficienza massima tutte le risorse di comu -\nnicazione disponibili.\nSi possono individuare diversi modi per classificare gli algoritmi di instradamento fino a \noggi maggiormente utilizzati. Una tassonomia essenziale è riportata nella Figura 3.58: gli \nalgoritmi senza tabella  si distinguono dagli algoritmi con tabella  in base all’esistenza o meno", "di tabelle di instradamento nei nodi. Una terza classe di algoritmi è quella che prende il nome \ndi algoritmi gerarchici , utilizzati generalmente per rendere semplice l’instradamento in pre -\nsenza di una grande quantità di nodi, dove si rende necessario partizionare la rete in sottoreti \ngerarchiche, in ognuna delle quali può essere utilizzato un diverso algoritmo di \ninstradamento.\nTra gli algoritmi di instradamento senza tabella i più diffusi sono quelli denominati ran -", "dom, flooding , source routing . Se invece vengono utilizzate tabelle di instradamento si distin -3.7 Instradamento senza tabella\n3.8 Instradamento con tabella\nPattavinaReti2021.indb   174PattavinaReti2021.indb   174 14/01/2022   16:08:5214/01/2022   16:08:52     175\nguono gli algoritmi con instradamento fisso  da quelli con instradamento dinamico . In \nquest’ultimo caso i più diffusi sono gli algoritmi a distanza minima di tipo distance vector  e \nlink state .", "link state . \nUn aspetto importante che caratterizza un algoritmo di instradamento è l’individuazione \ndel nodo di rete che opera la decisione. In base alla “localizzazione” della decisione, si distin -\nguono principalmente tre tipi di algoritmi:\n• centralizzati , utilizzati esclusivamente con tabelle di instradamento, in cui esiste un \ncentro di controllo che costruisce la tabella per ogni nodo e la comunica ai singoli nodi", "una volta per tutte (instradamento fisso) o periodicamente (instradamento \ndinamico);\n• distribuiti , anch’essi utilizzati esclusivamente con tabelle di instradamento, in cui \nnon esiste un centro di controllo; infatti tutti i nodi cooperano mutuamente per defi -\nnire ognuno una propria tabella di instradamento, che rappresenti una scelta ottimale \ndi utilizzazione delle risorse di rete nelle condizioni operative correnti della rete stes -", "sa; gli algoritmi distribuiti sono implicitamente di tipo dinamico;\n• isolati , utilizzati tipicamente senza tabelle di instradamento, in cui il singolo nodo \nseleziona l’intero percorso di rete per le unità informative al momento della loro tra-\nsmissione, eventualmente chiedendo informazioni ad altri nodi della rete; in questo \nmodo i nodi di transito attuano semplicemente un instradamento già deciso.Instradamento\ncon tabellaInstradamento\nsenza tabellaInstradamento\ngerarchicoAlgoritmi di", "senza tabellaInstradamento\ngerarchicoAlgoritmi di\ninstradamento\nSource\nroutingRandom Fisso Dinamico Flooding\nLink stateDistance\nvector\nFigura 3.58 Tassonomia degli algoritmi di instradamento.\nPattavinaReti2021.indb   175PattavinaReti2021.indb   175 14/01/2022   16:08:5214/01/2022   16:08:52176  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\n3.7 Instradamento senza tabella\n3.7.1 Instradamento random", "3.7.1 Instradamento random\nCon l’instradamento di tipo random , cioè casuale, il ramo di uscita dal nodo viene scelto \ncasualmente, a meno che la destinazione dell’UI non sia direttamente connessa al nodo in \nquestione. Ciò fa intuire che questo tipo di algoritmo non garantisce l’ottimalità dell’utilizza -\nzione delle risorse di rete, poiché privilegia la semplicità dell’algoritmo stesso. L ’algoritmo è", "sicuramente molto robusto, poiché eventi di guasto o sovraccarico non alterano la probabilità \nche l’UI giunga al nodo di destinazione. Naturalmente in questo caso non è possibile garantire \nun valore predeterminato del tempo di trasporto in rete dell’UI, la cui statistica sarà in parti -\ncolare caratterizzata da un’alta varianza. \nUn’equa ripartizione del traffico nella rete richiederebbe di tenere conto anche della capa -", "cità dei diversi collegamenti in uscita da ogni nodo. Ciò può essere realizzato adottando una \ndistribuzione del traffico casuale, ma non uniforme, sui collegamenti uscenti dal nodo. Se Ci \nindica la capacità del collegamento i uscente dal nodo sugli H disponibili, allora il collegamen -\nto i sarà selezionato per la generica UI con probabilità pi data da:\npiCi\nCj\nj1=H\n∑--------------- = .\nÈ possibile realizzare una variante di questo algoritmo che consiste nell’instradare in modo", "deterministico l’UI solo se la destinazione è un nodo adiacente. Ciò è possibile solo se ogni \nnodo dispone di una “tabella delle adiacenze”, cio è l’elenco dei nodi direttamente raggiungibi -\nli da uno dei collegamenti uscenti dal nodo stesso, realizzando così un instradamento selective \nrandom .\n3.7.2 Instradamento flooding\nCon la tecnica di tipo flooding  il nodo rilancia ogni UI ricevuta verso tutti i collegamenti", "uscenti ad eccezione di quello su cui è stata ricevuta l’UI, a meno che l’indirizzo di destina -\nzione non sia un host connesso direttamente al nodo stesso. Essa richiede necessariamente la \ncapacità di individuazione (e quindi di scarto) delle UI duplicate generate da questo tipo di \ninstradamento. Questa tecnica è sicuramente robustissima e viene quindi adottata in applica -\nzioni particolari (per esempio in reti militari). Essa implica tuttavia una moltiplicazione del", "traffico uscente dal nodo rispetto a quello entrante. \nSi considera la rete a sei nodi utilizzata nell’Esempio 2.8 e si vuole mostrare l’evoluzione \ndel processo di instradamento di tipo flooding  a seguito della generazione di un’UI nel nodo \nA indirizzata al nodo C. \nLa Figura 3.59 mostra come, a fronte di un’UI instradata in flooding  dal nodo A sui due \nrami uscenti, le UI divengano sei con la seconda trasmissione, dodici con la terza. Esempio 3.17", "PattavinaReti2021.indb   176PattavinaReti2021.indb   176 14/01/2022   16:08:5214/01/2022   16:08:523.7 Instradamento senza tabella  177\nIl controllo del traffico interno si può ottenere prevedendo che ogni nodo scarti un’UI che ha \ngià esaurito il massimo numero di “salti” (nodi attraversati) consentito dall’algoritmo, oppure \nche riconosca un’UI già transitata, così da poterla scartare. \nLa prima tecnica è la più semplice poiché è sufficiente dotare l’UI che viene immessa in", "rete di un contatore inizializzato al massimo numero consentito di salti, cio è di nodi da attra -\nversare. Il contatore viene decrementato di una unità per ogni nodo di transito attraversato e \nl’UI viene scartata quando il contatore indica l’esaurimento del numero di salti senza che sia \nstato raggiunto il nodo di destinazione. Se il numero di nodi da attraversare non è noto al nodo \nsorgente ci si pone nel caso peggiore, adottando come numero massimo di salti il “diametro”", "della rete, cio è la distanza tra i due nodi più distanti della rete secondo il percorso più breve \n(due nodi adiacenti hanno distanza unitaria).\nLa seconda tecnica è più complessa da attuare, poiché richiede al nodo di tenere traccia \ndelle UI già transitate. Ciò si può attuare dotando ogni UI immessa in rete di una coppia di \ninformazioni: nodo sorgente e numero progressivo di UI emesse da quel nodo (con opportuno", "modulo di numerazione, che garantisca assenza di ambiguità nelle normali condizioni di flus -\nso emesso da ogni nodo). Queste informazioni vengono memorizzate in tutti i nodi attraver -\nsati, così che questi siano in grado di individuare le UI già transitate, che dunque verranno \nscartate. Al fine di evitare una crescita a dismisura della memoria richiesta per mantenere \ntraccia delle UI già transitate, per ogni nodo sorgente sarebbe sufficiente registrare semplice -", "mente il numero dell’ultima UI già transitata. \nUn miglioramento dell’efficienza dell’algoritmo, denominato selective flooding , si ottiene \nadottando una tabella di instradamento che circoscrive la ritrasmissione dell’UI a un sottoin -\nsieme dei rami uscenti (quelli che raggiungono più facilmente il nodo di destinazione). \n3.7.3 Instradamento source routing\nCon l’instradamento source routing , il nodo sorgente determina per l’UI da immettere in rete", "l’intero percorso fino al nodo di destinazione. Questo percorso, che viene inserito nell’header \ndell’UI stessa, ha la forma del tipo Hs,N1,N2,…, NL,Hd, in cui il primo e l’ultimo campo sono \ngli indirizzi degli host sorgente e destinazione, mentre gli L campi intermedi sono gli indirizzi \ndei nodi che devono essere attraversati. Dunque, ogni nodo di transito che riceve un’UI attua \nl’instradamento rilanciando l’UI stessa verso il nodo a valle, come specificato dalla stringa", "degli indirizzi. AB C\nF EDHop1\nHop2\nHop3\nFigura 3.59 Instradamento di tipo flooding secondo l’Esempio 3.17.\nPattavinaReti2021.indb   177PattavinaReti2021.indb   177 14/01/2022   16:08:5214/01/2022   16:08:52178  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\nSi possono distinguere due modalità per rendere disponibile al singolo nodo l’identificazio -\nne del percorso per ogni destinazione:", "ne del percorso per ogni destinazione:\n• path server , in cui il percorso è fornito ai nodi da un unico server, realizzando così \nuna soluzione semplice, ma con bassa affidabilità a causa della vulnerabilità del path \nserver  stesso; questa soluzione può essere classificata di tipo centralizzato ;\n• path discovery , in cui il nodo sorgente invia in flooding  un pacchetto alla destinazio -\nne; in ognuna delle repliche ogni nodo di transito registra la propria identificazione,", "in modo che il nodo di destinazione possa selezionare tra le repliche giunte quella che \nrivela la via migliore (per esempio quella che ha attraversato meno nodi, oppure quella \ngiunta per prima); il nodo di destinazione comunica la propria scelta al nodo sorgente \nche inizia così a utilizzare la via prescelta; questa soluzione è classificabile come di \ntipo isolato .\nUn instradamento di tipo source routing  può essere implementato sia con modalità statica, sia", "con modalità dinamica. Nel primo caso l’instradamento viene mantenuto sempre inalterato, \nmentre nel secondo viene aggiornato, in ambedue i casi di path server e di path discovery , \ncon frequenza opportuna. La frequenza di aggiornamento rappresenta un parametro critico \ndel sistema. \n3.8 Instradamento con tabella\n3.8.1 Instradamento fisso\nCon un instradamento di tipo fisso i percorsi sorgente-destinazione vengono selezionati e", "mantenuti inalterati nonostante le variazioni delle condizioni di carico della rete. L ’instrada -\nmento fisso è sempre di tipo centralizzato, intendendo che l’intera tabella di instradamento \nviene elaborata in un centro di controllo, e a ogni nodo ne viene comunicata la parte a esso \nnecessaria. Al cambiare della topologia di rete, le tabelle di instradamento vengono aggiornate.\nPer quanto riguarda la determinazione del percorso per ogni coppia sorgente-destinazione,", "sembra naturale selezionare il percorso “a costo minimo” nella rete, cio è quello che impegna \nil minor numero di risorse. Questo percorso è anche detto “a distanza minima”, e come \n“distanza” occorre specificare la metrica che si vuole adottare17. Le metriche di costo che più \ncomunemente si possono utilizzare sono:\n• numero di salti, cio è il numero di nodi che si trovano lungo il percorso;\n• traffico smaltito lungo il percorso;\n• livello di riempimento dei buffer nei nodi attraversati;", "• ritardo totale di trasferimento sorgente-destinazione.\nNel caso della prima metrica, il costo di ogni ramo è naturalmente unitario, mentre per le \naltre tre metriche il costo di un collegamento varia in generale per le due direzioni. È possibile \n17  I termini “costo” e “distanza” vengono qui usati come sinonimi, intendendo sempre che occorre specificare la metrica \nche si adotta.", "che si adotta.\nPattavinaReti2021.indb   178PattavinaReti2021.indb   178 14/01/2022   16:08:5214/01/2022   16:08:523.8 Instradamento con tabella  179\ntuttavia semplificare l’algoritmo di instradamento, adottando come costo il valore medio nelle \ndue direzioni. Le ultime tre metriche, che sono utilizzate tipicamente in algoritmi dinamici \ndi instradamento, possono essere adottate anche nel caso di instradamento fisso purché siano", "trattate in termini di costi previsti, non certo sulla base di misure dinamiche delle grandezze \ncoinvolte. \nCon un instradamento di tipo fisso, il servizio datagramma degenera in un certo senso in \nquello circuito virtuale, in quanto gli eventi di fuori sequenza e duplicazione di pacchetti \nnormalmente non possono più verificarsi, mentre i pacchetti possono essere persi per effetto \ndella saturazione dei buffer. Un algoritmo di instradamento fisso è ovviamente semplicissimo", "da implementare e da gestire; tuttavia, esso si presenta totalmente privo di flessibilità, non \npotendo tenere conto delle mutevoli condizioni della rete in termini di traffico e di guasti. \n3.8.2 Instradamento dinamico a distanza minima\nGli instradamenti dinamici sono quelli più utilizzati nelle reti odierne, in quanto consentono \ndi ottimizzare con continuità l’utilizzazione delle risorse di rete al variare delle sue condizioni", "operative. I due fattori che principalmente danno luogo a cambiamenti nelle condizioni ope -\nrative sono la configurazione del traffico offerto alla rete (e quindi il flusso di quello effetti -\nvamente trasportato, o “smaltito”) e gli eventi di guasto. Per quanto riguarda il primo fattore, \noccorre considerare che si devono evitare condizioni di sovraccarico dei nodi della rete, che \nimplicherebbero grandi ritardi di attraversamento dei nodi dovuti agli alti livelli di riempimen -", "to dei buffer o, peggio, la perdita di unità informative, quando questi vanno in saturazione. \nCon il secondo fattore, invece, si consideri che i guasti intervengono a modificare la topologia \ndi rete che è stata configurata in modo ottimale in base a una data distribuzione del traffico.\nLa dinamicità dell’algoritmo consiste nell’aggiornare con adeguata periodicità i singoli \npercorsi sorgente-destinazione, e quindi le tabelle di instradamento che ogni nodo attua per", "ottimizzare il percorso delle UI tra nodo sorgente e nodo destinazione. Le metriche di costo \nche vengono tipicamente utilizzate sono il livello totale di riempimento di buffer lungo il per -\ncorso e il ritardo totale del pacchetto. Si descrivono ora i due algoritmi dinamici più diffusi \nnelle reti a commutazione di pacchetto a estensione geografica, denominati distance vector e \nlink state, senza specificare per ora la metrica di distanza utilizzata, volendo intendere che una", "qualunque tra quelle menzionate può essere adottata. \n3.8.3 Instradamento distance vector\nNell’instradamento di tipo distance vector  ogni nodo dispone di una tabella (tabella di instra -\ndamento), mantenuta continuamente aggiornata, che specifica per ogni destinazione la distan -\nza (corrente) stimata e la via di uscita dal nodo che realizza questa distanza. Ogni nodo comu -\nnica periodicamente il vettore delle distanze (distance vector, DV) di questa tabella a tutti i", "nodi adiacenti. Il nodo generico conosce, sulla base di proprie misure, la distanza che lo separa \nda ognuno dei nodi adiacenti, dai quali riceve il relativo vettore delle distanze. Sommando la \ndistanza dal nodo adiacente con le stime da questo ricevute, il nodo può aggiornare la propria \ntabella di instradamento; ciò consiste, per ogni destinazione di rete, nell’aggiornare la relativa \ndistanza se la nuova stima così calcolata risulta inferiore a quella corrente memorizzata nella", "tabella. Se la metrica di costo è il tempo di ritardo, il nodo generico calcola il nuovo tempo di \nPattavinaReti2021.indb   179PattavinaReti2021.indb   179 14/01/2022   16:08:5214/01/2022   16:08:52180  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\nritardo verso ognuno dei nodi adiacenti e questo viene sommato alle stime dei tempi richiesti \nper raggiungere da questi nodi ogni possibile destinazione.", "La nuova stima di distanza verso una destinazione sostituisce in ogni caso la distanza \npresente in tabella se il nodo da cui si riceve il vettore è quello utilizzato nell’instradamento \nverso quella destinazione, anche nel caso di stima peggiore di quella corrente precedentemente \nmemorizzata. Evidentemente in questo caso le condizioni di attraversamento della rete per \nraggiungere una destinazione attraverso il nodo in questione sono peggiorate. Nel caso di", "nuova stima di distanza verso una destinazione di costo uguale a quello presente in tabella, \nma lungo un nuovo percorso, il nodo sceglie arbitrariamente tra le due vie. Tuttavia, nel caso \ndi instradamento dinamico, tra i due percorsi a uguale distanza si preferisce la stima più recen -\nte rispetto a una precedente che può corrispondere a una distribuzione del traffico in rete non \npiù attuale. \nNella Figura 3.60 è riportato un esempio di topologia di rete con i costi associati ai singoli", "collegamenti internodo, che si assumono di tipo bidirezionale con uguale costo nelle due \ndirezioni e invariabili nel tempo. Per semplicità, si assume che le tabelle di instradamento \nsiano inizialmente vuote e che lo scambio dei vettori di distanze avvenga in modo “sincro -\nnizzato”; si intende così che la trasmissione del vettore delle distanze ai nodi vicini abbia \nluogo contemporaneamente da parte di tutti i nodi e con periodicità costante T , cioè una", "volta ogni T secondi. In questo modo, ogni nodo riceve nello stesso istante i vettori delle \ndistanze da tutti i nodi vicini, così che entro un tempo T la propria tabella di instradamento \nrisulta aggiornata in base ai valori ricevuti. Si assume inoltre che in un istante t1, tale che \nT < t1 < 2T, il collegamento D-E si guasti e che in un istante t2, tale che 2 T < t2 < 3T, il costo \ndel collegamento E-F aumenti, assumendo 3 come nuovo valore18. Si vuole determinare", "come evolve la tabella di instradamento del nodo A. \nIn assenza di variazioni dei valori di costo dei collegamenti, l’applicazione dell’algoritmo \ndistance vector porterebbe alla costruzione delle tabelle finali di instradamento a costo \nminimo al tempo t  = 4T, cioè dopo quattro aggiornamenti della tabella di instradamento. \nInfatti il cammino più lungo tra nodi che si costruisce sulla rete è di quattro collegamenti in", "18  Si assume che gli eventi di guasto e di variazione di costo di un collegamento vengano rilevati dai nodi alle estremità \ndel collegamento stesso alla fine del periodo in cui questi eventi occorrono e quindi comunicati ai nodi adiacenti.Esempio 3.18\n1\n3153\n2\n216\nF EA DB C\nFigura 3.60 Rete a sei nodi al tempo t = 0 secondo l’Esempio 3.18.\nPattavinaReti2021.indb   180PattavinaReti2021.indb   180 14/01/2022   16:08:5314/01/2022   16:08:533.8 Instradamento con tabella  181", "serie, o “salti” (si tratta della coppia di nodi A-D). Tuttavia l’interruzione di un collegamen -\nto, che corrisponde ad associare un costo infinito a quel ramo, e la variazione di costo di un \naltro collegamento richiedono un passo ulteriore dell’algoritmo per arrivare a determinare \nla tabella finale di instradamento del nodo A. La Figura 3.61 mostra lo stato della tabella di \ninstradamento per il nodo A alla fine di ognuno dei cinque aggiornamenti, mostrando per", "ogni destinazione ( D) il costo associato ( C) e il nodo successivo ( next hop , NH) che conduce \na quella destinazione secondo il costo stimato C . \nInizialmente ( t = T ) il nodo A vede solo i suoi vicini, e cio è B e F, raggiungibili con distanze \n1 e 3, rispettivamente. Ricevendo i vettori delle distanze dai nodi adiacenti B e F, come \nmostrato nella Figura 3.61, alla fine del secondo aggiornamento ( t = 2 T) il nodo A vede", "anche gli altri nodi. In particolare, C è raggiungibile attraverso B con distanza complessiva \n4, essendo 3 la distanza B-C, D è raggiungibile attraverso F con distanza complessiva 9, \nessendo 6 la distanza F-D, ed E è raggiungibile attraverso F con distanza complessiva 5, \nessendo 2 la distanza F-E. Si noti che alla fine del secondo passo anche la distanza da A a \nF cambia, poiché A ha saputo da B che F è raggiungibile con distanza 1 e quindi la distanza", "totale da A a F diventa 2, attraversando questa volta B. Alla fine del terzo passo ( t = 3T) \nvengono aggiornate nel nodo A le distanze verso D, ora raggiungibile a distanza 6 sempre \nattraverso F, che ha comunicato che la propria distanza verso D si è ridotta a 3, e verso E, \nora raggiungibile attraverso B, che ha comunicato una distanza 3 verso E, che determina \nDCNH\nA -\nB 1B\nF 3FA - Time TDC\nA1\nB -\nC 3\nE5\nF1B - Time T\nDC\nA 3\nB 1\nD 6\nE 2\nF -F - Time T\nDC\nA2\nB1\nC4\nD3\nE2\nF -F - Time 2TDCNH\nA -", "DC\nA2\nB1\nC4\nD3\nE2\nF -F - Time 2TDCNH\nA -\nB 1B\nC 4B\nD 9F\nE 5F\nF 2BA - Time 2T\nDCNH\nA -\nB 1B\nC 4B\nD 6F\nE 4B\nF 2BA - Time 3TDC\nA1\nB -\nC3\nD5\nE3\nF1B - Time 2T\nDC\nA2\nB1\nC4\nD6\nE3\nF -F - Time 3TDCNH\nA -\nB 1B\nC 4B\nD 5B\nE 4B\nF 2BA - Time 4TDC\nA1\nB -\nC3\nD4\nE3\nF1B - Time 3T\nDC\nA2\nB1\nC4\nD6\nE3\nF -F - Time 4TDCNH\nA -\nB 1B\nC 4B\nD 6B\nE 5B\nF 2BDC\nA1\nB -\nC3\nD5\nE4\nF1B - Time 4T\nA - Time 5T\nFigura 3.61 Tabella di instradamento nel nodo A secondo l’Esempio 3.18.", "PattavinaReti2021.indb   181PattavinaReti2021.indb   181 14/01/2022   16:08:5314/01/2022   16:08:53182  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\nuna distanza totale 4 da A a E. Con il quarto passo dell’algoritmo ( t = 4T), nel nodo A viene \naggiornata solo la distanza verso D, ora raggiungibile attraverso B, con distanza totale 5, \nessendo 4 la nuova distanza B-D. \nLa nuova topologia di rete conseguente al guasto all’istante t1 = T + e del collegamento D-E", "e al cambiamento di costo del collegamento E-F all’istante t2 = 2T + e è mostrata in Figura \n3.62. Il guasto del collegamento D-E viene rilevato dai nodi D e E all’istante t  = 2T e comu -\nnicato ai nodi adiacenti, così che il nodo F può comunicare all’istante t  = 3T la nuova stima \ndi distanza verso il nodo D, il cui valore è ora 6, utilizzando il collegamento diretto F-D. La \nstessa cosa si verifica nel nodo B che all’istante t  = 4T comunica la nuova stima di distanza", "verso il nodo D con nuovo valore 5, che corrisponde ora all’attraversamento del nodo C. Il \nnodo A sceglie dunque quest’ultima stima come la migliore per raggiungere D, la cui \ndistanza ora vale 6. Infine, la variazione di costo del collegamento E-F ha come conseguen -\nza che il nodo F comunica all’istante t  = 3T ai nodi A e B la nuova distanza verso il nodo \nE. Dopo un tempo T , B comunica ad A la nuova distanza con valore 4 verso il nodo E, con", "la conseguenza che il nodo A stima una nuova distanza uguale a 5 per raggiungere il nodo \nE. Quindi , nonostante il miglior percorso dal nodo A al nodo E non cambi, la nuova stima \ndi distanza con valore 5 verso il nodo E viene accettata dal nodo A e incorporata all’istante \nt = 5T nella propria tabella di instradamento. Si osservi che, anche se la colonna “next hop” \ndella tabella di instradamento nel nodo A non cambia all’ultimo passo dell’algoritmo distan -", "ce vector (tutti i percorsi attraversano il nodo B), il percorso più breve dal nodo A al nodo \nD attraversa il nodo F fino al quarto passo, mentre attraversa il nodo C quando il collega -\nmento D-E risulta guasto.\nAlgoritmo di Bellman-Ford\nL ’instradamento distribuito di tipo distance vector può essere considerato come un’implemen -\ntazione particolare dell’ algoritmo di Bellman-Ford  per la ricerca dell’albero dei cammini", "minimi ( shortest path tree , SPT). Con questo algoritmo si costruisce l’albero a partire da un \ngenerico nodo sorgente s definendo i seguenti parametri:\n• Djh: costo della via a costo minimo dal nodo sorgente s al nodo j con un numero mas -\nsimo h di salti; \n• dij: costo del collegamento diretto  tra i e j ; dij = ∞ se i due nodi non sono connessi \ndirettamente.\n1\n3153\n2\n36\nF EA DB C\nFigura 3.62 Rete a sei nodi al tempo t = 3T secondo l’Esempio 3.18.", "PattavinaReti2021.indb   182PattavinaReti2021.indb   182 14/01/2022   16:08:5414/01/2022   16:08:543.8 Instradamento con tabella  183\nL ’algoritmo di Bellman-Ford (Algoritmo 3.1) si compone dei seguenti passi: \n1. Nel passo di inizializzazione ( h = 1), la distanza iniziale dal nodo sorgente verso tutti \ngli altri nodi viene posta uguale a infinito, eccetto che nel caso di nodi collegati diret -\ntamente al nodo sorgente. In questo caso la distanza al nodo j è posta uguale al valore \ndsj.", "dsj. \n2. Al secondo passo, all’iterazione h -esima per ogni nodo si mantiene il percorso del \npasso precedente, a meno che non si renda disponibile un nuovo percorso lungo h rami \ncon costo inferiore rispetto a quello calcolato all’iterazione h – 1. Questo passo viene \nripetuto per valori crescenti di h, che rappresenta il numero massimo di rami che uni -\nsce il nodo s al nodo generico. \n3. L ’algoritmo ha termine al terzo passo, quando non si verificano più abbassamenti di", "costo e hmax denota allora il numero di rami del percorso più lungo tra due nodi \ngenerici. \nAlgoritmo 3.1 Algoritmo di Bellman-Ford.\n1 h 1=\nDjhdsj,js≠∀ =\n2 h h1+=\nDjhminiDih1–dij+ Djh1–{ , } =\n3ifDjhDjh1–= js≠∀\nthenhmaxh1–=\nelsegoto2\nstop\nSi vuole applicare l’algoritmo di Bellman-Ford alla rete di Figura 3.60 per il nodo A, rica -\nvando l’albero dei cammini minimi. \nDopo avere inizializzato al valore infinito tutte le distanze, al passo h = 1 vengono aggior -", "nate le distanze verso i nodi adiacenti di A, cio è B al valore 1 e F al valore 3 (Figura 3.63a). \nAl passo h = 2, si ottiene la raggiungibilità con h = 2 salti del nodo C attraverso B con costo \n4 e dei nodi D e E attraverso F con costo 9 e 5, rispettivamente. L ’algoritmo rivela anche \nche il nodo F può essere raggiunto a distanza minore del passo precedente, e cio è con un \npercorso di due collegamenti attraverso il nodo B, con un costo complessivo di 2 (Figura", "3.63b). Al passo h = 3, l’algoritmo determina che il nodo E è ora raggiungibile con costo \n4 attraverso B e che il nodo D ha ora distanza 6; ovviamente in entrambi questi casi i due \nnuovi percorsi si compongono di tre rami (Figura 3.63c). Infine, al passo h = 4, l’algoritmo \nindividua un nuovo percorso verso il nodo D lungo 4 rami attraverso il nodo B, con costo \nfinale 5 (Figura 3.63d). Nella Figura 3.64 viene rappresentata l’evoluzione della tabella di", "instradamento del nodo A all’aumentare dell’indice h .Esempio 3.19\nPattavinaReti2021.indb   183PattavinaReti2021.indb   183 14/01/2022   16:08:5414/01/2022   16:08:54184  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\nCount-to-infinity\nIn generale, l’algoritmo distance vector registra con efficienza l’inserimento di nuovi nodi \nnella topologia, mentre in alcuni casi la rimozione di nodi può dare luogo a problemi. Si", "consideri per esempio la topologia lineare iniziale (Init) a tre nodi (A, B, C) di Figura 3.65, \navendo ipotizzato che i collegamenti abbiano costo unitario e che lo scambio del vettore delle \ndistanze avvenga in modo sincronizzato, come già assunto in precedenza. Prima che scada \nil primo periodo di aggiornamento (passo 1-), il nuovo nodo D viene connesso al nodo C che \nregistra nella propria tabella di instradamento la presenza del nuovo nodo a distanza 1. Al 1\nDF=3AB C\nF ED\n(a)-h=1\nDB=1 DC=4", "DF=3AB C\nF ED\n(a)-h=1\nDB=1 DC=4\nDF=23\nDE=4DD=63 3\n33\nAB C\nF ED\n(c)-h=32DB=1 DC=4\nDF=22\nDE=5DD=92 2\n2AB C\nF ED\n(b)-h=2\nDB=1 DC=4\nDF=24\nDE=4DD=54 4\n44\nAB C\nF ED\n(d)-h=4DB=11\nFigura 3.63 Costruzione dell’albero dei cammini minimi secondo l’Esempio 3.19.\nDest .CostoNext\nhop\nA -\nB 1 B\nC∞\nD∞\nE∞\nF 3 FNodo  A\nh = 1Dest .CostoNext\nhop\nA -\nB 1 B\nC 4 B\nD 9 F\nE 5 F\nF 2 BNodo  A\nh= 2Dest .CostoNext\nhop\nA -\nB 1 B\nC 4 B\nD 6 F\nE 4 B\nF 2 BNodo  A\nh= 3Dest .CostoNext\nhop\nA -\nB 1 B\nC 4 B\nD 5 B\nE 4 B\nF 2 BNodo  A", "hop\nA -\nB 1 B\nC 4 B\nD 5 B\nE 4 B\nF 2 BNodo  A\nh= 4\nFigura 3.64 Tabella di instradamento del nodo A secondo l’Esempio 3.19.\nPattavinaReti2021.indb   184PattavinaReti2021.indb   184 14/01/2022   16:08:5414/01/2022   16:08:543.8 Instradamento con tabella  185\nprimo aggiornamento (passo 1), il nodo C comunica la nuova situazione al nodo B, che al \npasso successivo registra la presenza di D con distanza 2. Infine, anche A registra la presenza", "del nuovo nodo a distanza 3 al passo 3. Le tabelle di instradamento dei nodi B e A vengono \ncosì aggiornate. Quindi la velocità di aggiornamento della tabella è di un “salto” per passo di \naggiornamento.\nMentre le “notizie positive” si propagano velocemente, le “notizie negative” non fanno \naltrettanto. Si ipotizzi ora che il nodo D vada fuori servizio (o che equivalentemente il colle -\ngamento C-D si guasti) (Figura 3.66). Il nodo C si accorge della nuova situazione (passo 1-) e", "al momento del primo aggiornamento (passo 1) comunica questa irraggiungibilità al nodo B. \nNello stesso istante, questo nodo viene informato dal nodo A che D è raggiungibile con distan -\nza 3 e aggiorna quindi la propria tabella di instradamento, che ora ha distanza 4 da D, sce -\ngliendo A come nodo successivo. Ovviamente il nodo B non può sapere che la stima del nodo \nA per raggiungere D si basava proprio sull’attraversamento dello stesso nodo C. Al successivo", "aggiornamento (passo 2), il nodo B invia la propria stima di distanza verso D ai suoi vicini, A \ne C, i quali aggiornano la loro stima di distanza verso D al valore 5 scegliendo B come nodo \nsuccessivo verso D. Come è evidente, questa situazione prosegue fino a che la distanza rag -Nodo  A Nodo  B Nodo C Eventi\nPasso Dest .Costo Next hop Costo Next hop Costo Next hop\nInit\n1- D 1 D C-D = 1\n1 D 2 C 1 D C→ B\n2 D 3 B 2 C 1 D B→ A\n3 D 3 B 2 C 1 DA B C D", "2 D 3 B 2 C 1 D B→ A\n3 D 3 B 2 C 1 DA B C D\nFigura 3.65 Aggiornamento delle tabelle di instradamento per raggiungibilità del nodo D.\nNodo  A Nodo  B Nodo C Eventi\nPasso Dest .Costo Next hop Costo Next hop Costo Next hop\nInit D 3 B 2 C 1 D\n1- D 3 B 2 C ∞ C-D = ∞\n1 D 3 B 4 A ∞ C → B,A→ B\n2 D 5 B 4 A 5 B B→ A, B →C\n3 D 5 B 6 A 5 B A→ B\n4 D 7 B 6 A 7 B B→ A, B →C\n5 D 7 B 8 A 7 B A→ B\n6 D 9 B 8 A 9 B B→ A, B →C\n7 D 9 B 10 A 9 B A→ B\n... D ∞ ∞ ∞A B C D", "7 D 9 B 10 A 9 B A→ B\n... D ∞ ∞ ∞A B C D\nFigura 3.66 Aggiornamento del vettore delle distanze per irraggiungibilità di un nodo.\nPattavinaReti2021.indb   185PattavinaReti2021.indb   185 14/01/2022   16:08:5514/01/2022   16:08:55186  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\ngiunge un valore massimo, comunque esso sia stato determinato19. Questo fenomeno va sotto \nil nome di count-to-infinity , come risulta dal crescere progressivo delle distanze stimate dai", "nodi della rete verso il nodo non più raggiungibile. Occorre osservare che il verificarsi del \ncount-to-infinity  dipende dalla successione dei messaggi di aggiornamento che vengono via \nvia scambiati.\nLa tecnica che consente di fronteggiare l’evento di count-to-infinity  è denominata split \nhorizon  e consiste nel proibire che una stima di distanza verso un nodo di destinazione sia \ninviata sul collegamento utilizzato per realizzare quell’instradamento. Nell’esempio di rete", "lineare a quattro nodi, il nodo B non può aggiornare il nodo C sulla distanza verso D, poiché \nC svolge il ruolo di “next hop” da B verso D. La stessa cosa accade per il nodo A che non può \naggiornare il nodo B. Quindi, a seguito del guasto del nodo D, la distanza stimata verso D non \npuò ora aumentare come mostrato in Figura 3.67. \nUn’ulteriore variazione, denominata split horizon with poisoned reverse , consiste nel", "consentire l’aggiornamento senza vincoli a tutti i vicini. Tuttavia, il costo verso una destina -\nzione viene posto a infinito se il vicino cui si invia l’informazione è proprio il nodo successivo \nlungo il percorso a costo minimo per raggiungere la destinazione in questione. \nEntrambe le tecniche, cio è split horizon  e split horizon with poisoned reverse , portano allo \nstesso risultato: come nel caso delle buone notizie, la cattiva notizia si propaga alla velocità di", "un “salto” per aggiornamento. Si noti tuttavia che il meccanismo split horizon  potrebbe non \nfunzionare in topologie di rete diverse da quella lineare. \nL ’algoritmo distance vector è stato usato con periodi di aggiornamento dell’ordine delle \ncentinaia di millisecondi fino al 1979 nella gestione della rete Arpanet (brevemente descritta \nnel Paragrafo 1.4.1). La metrica di costo utilizzata era il livello di riempimento dei buffer, cosa", "che si rivelò non accurata poiché trascurava un parametro importante, cio è la capacità dei \ncollegamenti. A questo algoritmo, che rivelò anche una certa lentezza di convergenza nelle \nsituazioni dinamiche, è stato quindi successivamente preferito l’algoritmo link state. \n19  Il massimo valore della distanza potrebbe essere posto uguale al diametro della rete se la metrica fosse il numero di", "salti, oppure a un valore massimo prefissato se la metrica fosse il tempo di ritardo. Il valore binario corrispondente \na “-1” viene spesso utilizzato per indicare la massima distanza; questo si ottiene ponendo a 1 tutti i bit utilizzati per \ncodificare la distanza.Nodo  A Nodo  B Nodo C Eventi\nPasso Dest .Costo Next hop Costo Next hop Costo Next hop\nInit D 3 B 2 C 1 D\n1- D 3 B 2 C ∞ C-D =∞\n1 D 3 B ∞ ∞ C→ B\n2 D ∞ ∞ ∞ B→ AA B C D", "1 D 3 B ∞ ∞ C→ B\n2 D ∞ ∞ ∞ B→ AA B C D\nFigura 3.67 Aggiornamento del vettore delle distanze con tecnica split horizon.\nPattavinaReti2021.indb   186PattavinaReti2021.indb   186 14/01/2022   16:08:5514/01/2022   16:08:553.8 Instradamento con tabella  187\n3.8.4 Instradamento link state\nNell’instradamento di tipo link state  ogni nodo misura la distanza verso i propri vicini secon -\ndo una metrica opportuna, e comunica periodicamente queste misure a tutti gli altri nodi della", "rete con un’unità informativa denominata link state packet (LSP), adottando un instradamento \ndi tipo flooding . In questo modo il generico nodo sorgente s , che riceve le distanze stimate \nda tutti gli altri nodi, è in grado di individuare il percorso a minima distanza verso ogni \naltro nodo della rete. L ’algoritmo link state è utilizzato nell’attuale rete Internet, adottando \ncome metrica di costo il ritardo medio rilevato sul percorso con un periodo di aggiornamento", "dell’ordine di 10 secondi. \nL ’unità informativa LSP contiene tante voci quanti sono i nodi vicini e per ognuno di questi \nspecifica la distanza rilevata. Nel caso di metrica costituita dalla lunghezza della coda, è suf -\nficiente rilevare la lunghezza media della coda in uscita sul collegamento considerato. Se \ninvece la metrica è costituita dal tempo di ritardo, allora questo può essere misurato inviando", "sul collegamento un pacchetto di cui si chiede la restituzione al nodo vicino; la metà del tempo \ntrascorso viene assunta come stima del ritardo lungo il collegamento. Poiché i pacchetti LSP \nsono inviati in flooding , essi sono generalmente dotati, oltre all’identificazione del nodo sor -\ngente, anche di un numero di sequenza che consenta lo scarto degli LSP duplicati da parte dei \nsingoli nodi della rete.", "singoli nodi della rete. \nLa conoscenza della topologia di rete e del costo dei singoli collegamenti tra nodi consente \na ogni nodo, indipendentemente dagli altri nodi, di costruire l’albero dei cammini minimi \n(shortest path tree, SPT) verso tutti gli altri nodi della rete e di riempire così la propria tabel -\nla di instradamento. Ciò si realizza mediante l’applicazione dell’ algoritmo di Dijkstra , che", "costruisce l’albero a partire da un generico nodo sorgente s definendo i seguenti parametri: Si consideri una rete a sei nodi con lo stesso costo per entrambe le direzioni di ogni colle -\ngamento, in cui gli LSP emessi sono quelli rappresentati in Figura 3.68. Si vuole trovare la \ntopologia di rete ricavata nel nodo A, ipotizzando che questo nodo conosca la distanza dai \nsuoi vicini B ed F e riceva gli LSP nell’ordine dai nodi C, F, E, D, B.", "Come rappresentato in Figura 3.69, inizialmente il nodo A vede l’albero rappresentato dai \ncollegamenti ai suoi vicini B e F. La ricezione degli LSP dai nodi C, F e E consente al nodo \nA di completare la costruzione della topologia di rete. L ’informazione ulteriore trasportata \ndagli LSP dei nodi D e B costituisce informazione ridondante che conferma la topologia \ngià definita.Esempio 3.20\nB1\nF3NodoA\nA1\nC3\nE5\nF1NodoB\nB3\nD2NodoC\nA3\nB1\nD6\nE2NodoF\nB5\nD1\nF2NodoE NodoD\nC2\nE1\nF6", "A3\nB1\nD6\nE2NodoF\nB5\nD1\nF2NodoE NodoD\nC2\nE1\nF6\nFigura 3.68 LSP emessi secondo l’Esempio 3.20.\nPattavinaReti2021.indb   187PattavinaReti2021.indb   187 14/01/2022   16:08:5514/01/2022   16:08:55188  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\n• N: insieme dei nodi della rete; \n• dij: costo del collegamento diretto  tra i e j ; dij∞=  se i due nodi non sono connessi \ndirettamente; \n• Dj: costo del percorso a costo minimo dal nodo sorgente s al nodo j ;", "• M: insieme dei nodi dell’albero corrente;\n• V(M): insieme dei nodi “adiacenti” all’insieme M , raggiungibili cio è in un solo salto \nda un nodo qualunque dell’insieme M ;\n• Pj: nodo predecessore del nodo j nell’SPT.\nL ’algoritmo di Dijkstra (Algoritmo 3.2) si compone dei seguenti passi: \n1. Nel primo passo di inizializzazione si definisce l’albero corrente come composto dal \nsolo nodo sorgente s e si individua l’insieme V (s) dei suoi nodi adiacenti, cio è quelli", "caratterizzati da una distanza finita dsj. Il nodo sorgente s rappresenta per definizione \nil predecessore di ogni altro nodo nell’albero corrente dei cammini minimi.\n2. Al passo 2 l’insieme M dei nodi dell’albero corrente si arricchisce del nodo k che risul -\nta più vicino a s tra quelli adiacenti all’insieme M , che cio è si trovano a distanza di un \nsalto da almeno uno dei nodi di M . Viene aggiornata eventualmente la distanza dalla", "sorgente s al nodo j dell’insieme M se, attraversando il nodo k,  si percorre un tragitto \npiù breve rispetto a quello risultante al passo precedente. Il nuovo nodo k viene dichia -\nrato predecessore di ogni nodo j , per cui il percorso da s a j attraverso il nodo k ha un \ncosto minore di quello calcolato al passo precedente. Questo passo viene ripetuto fino \na che vi sono altri nodi da includere nell’inseme M .", "3. L ’algoritmo ha termine al terzo passo, quando tutti i nodi sono stati inclusi nell’insie -\nme M e quindi M  = N. 1\n3\nFAB\n1\n33\n2\nFA DB C\n1\n313\n2\n26\nF EA DB C\n1\n3153\n2\n216\nF EA DB C(a) iniziale (b) - Dopo ricezione LSP dal nodo C\n(c) - Dopo ricezione LSP dal nodo F (d) - Dopo ricezione LSP dal nodo E\nFigura 3.69 T opologia di rete nel nodo A in base agli LSP ricevuti secondo l’Esempio 3.20.", "PattavinaReti2021.indb   188PattavinaReti2021.indb   188 14/01/2022   16:08:5514/01/2022   16:08:553.8 Instradamento con tabella  189\n3.8.5  Prestazioni degli algoritmi di instradamento dinamici\nGli algoritmi di Bellman-Ford e di Dijkstra consentono di ricavare l’albero dei cammini mini -\nmi a partire dalla conoscenza della topologia di rete, che in generale contiene N nodi ed E \nrami. È possibile confrontare la complessità di questi algoritmi in termini di tempo impiegato", "nel trovare la soluzione. Nel caso dell’algoritmo di Bellman-Ford la massima complessità \ncomputazionale è (dell’ordine di) O( N·E), dato che nel caso peggiore l’algoritmo richiede N Si consideri la rete a sei nodi rappresentata in Figura 3.60. Si vuole applicare l’algoritmo di \nDijkstra per il nodo A ricavandone l’albero dei cammini minimi. \nPer fornire l’albero finale dei cammini minimi a partire dal nodo sorgente A, l’algoritmo", "di Dijkstra impiega sei passi, tanti quanti sono i nodi della rete. La Figura 3.70 mostra per \nognuno di questi l’albero costruito con i nodi dell’insieme corrente M . Per ogni passo si \nriportano con linee tratteggiate i rami che raggiungono i singoli nodi dell’insieme V (M). Al \nprimo passo si individuano i vicini del nodo A (Figura 3.70a) e si sceglie il nodo B che è a \ndistanza minima, cio è 1, da A, individuando i nuovi vicini di A e B, cio è C, E ed F (Figura", "3.70b). L ’ultimo di questi nodi, la cui distanza da A è 2 (più piccola delle altre), è aggiunto \nall’insieme M, che ora include A, B, F, così che i nuovi vicini sono C, D e E (Figura 3.70c). \nSi osservi che ora entrambi i nodi C ed E sono a uguale distanza 4 da A; si seleziona arbi -\ntrariamente il nodo E che viene quindi inserito nell’insieme M , che ora include A, B, E, \nF (Figura 3.70d). Tra i due vicini restanti viene scelto C in quanto a costo minimo da A", "(Figura 3.70e) e, infine, viene selezionato D, completando così l’albero (Figura 3.70f). Si \nosserva che l’albero dei cammini minimi così ottenuto con l’algoritmo di Dijkstra è lo stes -\nso generato utilizzando l’algoritmo di Bellman-Ford (Figura 3.63d). La Tabella 3.4 riporta \nl’evoluzione dell’algoritmo di Dijkstra con riferimento al nodo A, mentre i diversi nodi \nvengono via via aggiunti all’insieme M . L ’SPT si deriva facilmente dalla tabella a partire", "dalle foglie dell’albero, individuando ricorsivamente il predecessore Pk di ogni nodo, fino \na giungere alla radice. Esempio 3.211 M s{} =\nDjdsj,jN s{}–∈∀ =\nPjs jN s{}–∈∀,=\n2 SelectkVM()∈ DkminiVM()∈Di{} =\nM M k{}connect ktoPkin SPT ,∪ =\nDjminDjDkdkj+,{ },jVM()∈∀ =\nifDjDkdkjthenPj+> k jVM()∈∀,=\n3 ifM N= stop\nelsegoto2Algoritmo 3.2 Algoritmo di Dijkstra.\nPattavinaReti2021.indb   189PattavinaReti2021.indb   189 14/01/2022   16:08:5614/01/2022   16:08:56190  Capitolo 3 – Teoria dei protocolli", "3C Protocolli di instradamento\nDB=1\nDF=3B C\nEA D\nF\n(a)-M={A},V(M)={B,F}DB=1 DC=4\nDF=2 DE=6\n(b)-M={A,B},V(M)={C,E,F}B C\nEA D\nF\nDB=1 DC=4\nDF=2 DE=4DD=8\n(c)-M={A,B,F},V(M)={C,D,E}B C\nEA D\nFDB=1 DC=4\nDF=2 DE=4DD=5\n(d)-M={A,B,E,F},V(M)={C,D}B C\nEA D\nF\nDB=1 DC=4\nDF=2 DE=4DD=5\n(e)-M={A,B,C,E,F},V(M)={D}B C\nEA D\nFDB=1 DC=4\nDF=2 DE=4DD=5\n(f)-M={A,B,C,D,E,F}B C\nEA D\nF\nFigura 3.70 Costruzione dell’albero dei cammini minimi secondo l’Esempio 3.21.", "Tabella 3.4 Applicazione dell’algoritmo di Dijkstra secondo l’Esempio 3.21.\nB C D E F\nPasso M DBPBDCPCDDPDDEPEDFPF\n0 A 1 A 3 A\n1 A,B 4 B 6 B 2 B\n2 A,B,F 4 B 8 F 4 F\n3 A,B,E,F 4 B 5 E\n4 A,B,C,E,F 5 E\n5 A,B,C,D,E,F\nPattavinaReti2021.indb   190PattavinaReti2021.indb   190 14/01/2022   16:08:5714/01/2022   16:08:573.8 Instradamento con tabella  191\npassi per convergere, in ognuno dei quali tutti gli E rami vanno esaminati. Nell’algoritmo", "di Dijkstra, invece, la complessità computazionale è esprimibile come O( N2), in quanto la \ncostruzione di un albero di N nodi richiede N passi e a ogni passo i nodi residui da esaminare \ndecrescono di un’unità; al passo i (1 ≤ i ≤ N ) restano N –  i +1 nodi da esaminare, con l’albero \ncorrente che include i – 1 nodi. Si osservi che per reti con alto grado di magliatura l’algoritmo \ndi Bellman-Ford converge più lentamente di quello di Dijkstra; infatti in una rete a maglia", "completa E H N2 la complessità dell’algoritmo di Bellman-Ford diventa O( N3).\nCi riferiamo ora ai due algoritmi di instradamento utilizzati in Internet. I limiti e le carat -\nteristiche dell’algoritmo distance vector sono: esso converge lentamente nelle situazioni dina -\nmiche, è implicitamente di tipo distribuito, dato che ogni nodo svolge una parte dell’elabora -\nzione, e ogni nodo conosce solo ciò che vedono i suoi vicini. L ’algoritmo link state può essere", "invece implementato in forma sia centralizzata, sia distribuita, e in quest’ultimo caso ogni \nnodo deve conoscere la topologia dell’intera rete.\nÈ possibile mostrare come in condizioni statiche, quando cio è i costi dei rami sono fissi \n(qualunque sia la metrica relativa), gli algoritmi distance vector e link state convergono sempre \nalla stessa soluzione. In condizioni dinamiche il costo dei rami dipende dal traffico sui rami", "stessi; questo viene valutato per mezzo di misure basate su ritardi e livelli di riempimento dei \nbuffer. Variazioni di costo inducono cambiamenti nella distribuzione del traffico attraverso la \nrete, che induce ancora variazioni nei costi dei rami. Si ha dunque a che fare con un meccani -\nsmo di controllo ad anello chiuso che, per definizione, è soggetto a possibili condizioni di \ninstabilità.\n3.8.6 Instradamento gerarchico", "instabilità.\n3.8.6 Instradamento gerarchico\nLe tabelle di instradamento hanno una dimensione che dipende dal numero di nodi della rete. \nQuando questo è molto grande, la dimensione eccessiva delle tabelle di instradamento può \ncreare problemi di allocazione di memoria nei singoli nodi e, ancora più seriamente, può gene -\nrare un carico eccessivo in rete per la distribuzione delle tabelle con instradamenti dinamici.", "La definizione di una gerarchia di rete costituisce una soluzione al problema, poiché divide \ni nodi della rete in regioni, così che ogni nodo conosce la topologia della propria regione, ma \nignora quella delle altre regioni. Se i nodi della rete sono N e sono organizzati, per esempio, \nin M regioni con K nodi ognuna ( N = MK ), allora ogni nodo deve disporre di una tabella di \ninstradamento con VhierKM1– + =  voci20, invece di V = MK  voci in assenza di gerarchia.", "Le tabelle di instradamento ne risultano così notevolmente ridotte.\n20 Nella tabella di instradamento del nodo si assume anche la presenza di una voce corrispondente al nodo stesso.Si consideri la Figura 3.71, che mostra una rete con 17 nodi suddivisi in tre regioni: A e C \ncon 6 nodi l’una, e B con 5 nodi. Si chiede di determinare la tabella di instradamento del \nnodo A.4, nei due casi di rete non gerarchica e di rete gerarchica, ipotizzando che il costo \ndei collegamenti sia unitario.", "dei collegamenti sia unitario. \nSi osserva prima di tutto che in assenza di regioni ogni nodo avrebbe una tabella di instra -\ndamento con 17 voci, tante quanti sono i nodi della rete, come mostrato nella Figura 3.72 per Esempio 3.22\nPattavinaReti2021.indb   191PattavinaReti2021.indb   191 14/01/2022   16:08:5714/01/2022   16:08:57192  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\nIl processo di strutturazione gerarchica di una rete può essere esteso definendo più livelli", "gerarchici,  tanti quanti sono necessari per una gestione ottimale delle tabelle di instradamen -\nto, dividendo cio è le regioni in territori, i territori in zone, ecc. Nel caso di una rete a due livelli \ngerarchici, ogni nodo deve poter indirizzare tutti i nodi del proprio territorio e conoscere un \npunto di ingresso a ogni altro territorio della propria regione e a ogni altra regione. \nA.1A.6A.5\nA.2A.3\nA.4B.1B.5B.4\nB.2B.3C.1C.6C.5\nC.2C.3C.4\nC\nAB", "A.4B.1B.5B.4\nB.2B.3C.1C.6C.5\nC.2C.3C.4\nC\nAB\nFigura 3.71 Rete gerarchica secondo l’Esempio 3.22.\nDest . Next hop Dest . Next hop Dest . Next hop\nCompleto Gerarchico Completo Gerarchico Completo Gerarchico\nA.1 A.2 A.2 B.1 B.1\nB.1C.1 A.5\nA.5A.2 A.2 A.2 B.2 B.1 C.2 A.5\nA.3 A.3 A.3 B.3 B.1 C.3 B.1\nA.4 - - B.4 B.1 C.4 B.1\nA.5 A.5 A.5 B.5 B.1 C.5 A.5\nA.6 A.3 A.3 C.6 A.5", "A.5 A.5 A.5 B.5 B.1 C.5 A.5\nA.6 A.3 A.3 C.6 A.5\nFigura 3.72 Tabella di instradamento del nodo A.4 secondo l’Esempio 3.22.il nodo A.4, adottando la metrica del numero minimo di salti (una di queste voci è sempre \nvuota, riferendosi al nodo stesso). Nella struttura di rete con tre regioni, i nodi della regione \nA hanno una tabella di instradamento composta da solo otto voci, cio è il numero dei nodi \ndella regione, aumentato del numero di regioni da raggiungere. Infatti l’instradamento", "verso una regione esterna (B o C) è sempre lo stesso indipendentemente dallo specifico \nnodo indirizzato in quella regione. Tuttavia, è interessante osservare come questa topologia \ndi rete possa dare luogo a instradamenti non ottimali in una configurazione di rete gerar -\nchica. Infatti, nel nostro esempio l’instradamento a minima distanza dal nodo A.4 verso i \nnodi della regione C varia a seconda del nodo di destinazione nella regione in assenza di", "gerarchia di rete. Per esempio, un instradamento a minima distanza dal nodo A.4 verso i \nnodi C.1 e C.3 richiederebbe come next hop  la selezione dei nodi A.5 e B.1, rispettivamente.\nPattavinaReti2021.indb   192PattavinaReti2021.indb   192 14/01/2022   16:08:5714/01/2022   16:08:573.8 Instradamento con tabella  193\nSi consideri la rete con due livelli gerarchici di Figura 3.73 costituita da tre regioni, A, B,", "C, di cui la regione A è strutturata in tre territori, A.1, A.2, A.3, ognuno con 6 nodi, mentre \nle regioni B e C, che non sono suddivise in territori, includono 5 e 6 nodi, rispettivamente. \nSi vuole determinare la dimensione delle tabelle di instradamento per i nodi del territorio \nA.1.\nOgni nodo del territorio A.1 deve poter indirizzare tutti i nodi del proprio territorio, in \naggiunta a un nodo per ognuno dei territori A.2 e A.3 della stessa regione, oltre a un nodo", "per ognuna della altre regioni B e C. Quindi la tabella di instradamento di ogni nodo del \nterritorio A.1 include 10 voci21, mentre senza gerarchia di rete ogni tabella include 29 voci, \ntante quanti sono tutti i nodi della rete. Anche in questo caso la gerarchia dei nodi della rete \ncon adozione di tabelle di instradamento semplificate può comportare una gestione non \nottimale dell’instradamento delle UI tra territori o regioni diverse. Per esempio, si ipotizzi", "che nella rete di Figura 3.73 l’area A.1 preveda di instradare le UI dirette alla regione C \nutilizzando il nodo A.1.c, attraversando il territorio A.3. Se l’UI è originata nel nodo A.1.c \ncon destinazione nel nodo C.3, l’instradamento che ne risulterebbe in termini di numero di \nsalti sarebbe non ottimale, poiché un eventuale attraversamento della regione B consenti -\nrebbe di limitare il percorso a 4 salti, invece dei 5 salti secondo l’instradamento con rete \ngerarchica.", "gerarchica.\nNel caso generale di una rete gerarchica con L livelli, indichiamo con Mi il numero di aree \ndefinite al livello i -esimo ( M1 regioni, M2 territori, M3 zone, ecc.). Se l’area di livello più basso \n(L-esimo) contiene K nodi, allora il numero V di voci nella tabella di instradamento di ogni \nnodo in una rete gerarchica è dato da:\n21  Coerentemente con la descrizione degli algoritmi di instradamento, si considera sempre presente anche la voce rela -\ntiva al nodo stesso.Esempio 3.23", "tiva al nodo stesso.Esempio 3.23\nA.1.aA.1.b A.1.c\nA.1.eA.1.dA.1.f\nB.1B.5\nB.4\nB.2B.3A.2.aA.2.b\nA.2.c\nA.2.eA.2.d\nA.2.fA.3.aA.3.b A.3.c\nA.3.f\nA.3.d\nA.3.eC.1C.6C.5\nC.2C.3C.4\nA.1A.2\nAA.3C\nB\nFigura 3.73 Rete con due livelli di gerarchia secondo l’Esempio 3.23.\nPattavinaReti2021.indb   193PattavinaReti2021.indb   193 14/01/2022   16:08:5814/01/2022   16:08:58194  Capitolo 3 – Teoria dei protocolli\n 3C Protocolli di instradamento\nVhierK Mi1–()\niL=1\n∑+ = .", "VhierK Mi1–()\niL=1\n∑+ = .\nPer esempio, nel caso di L = 3 livelli, ogni nodo deve poter indirizzare tutti i nodi nella propria \nzona, tutti gli altri territori della propria regione e tutte le altre regioni. \nInvece, in assenza di gerarchia il numero di voci in ogni tabella di instradamento è dato \ndal numero totale di nodi nella rete, cio è\nV KMLML1–…M2M1 ⋅⋅⋅⋅⋅ =\nassumendo sempre che tutte le aree di livello L -esimo contengano K nodi.", "Una rete gerarchica a tre livelli di grandi dimensioni è costituita da 5 regioni, ognuna delle \nquali include 20 territori, con 100 zone in ogni territorio. Se i nodi presenti in ogni zona \nsono 30, si vuole valutare la riduzione del numero di voci in ogni tabella di instradamento \nrispetto al caso di rete non gerarchica.\nNella rete gerarchica il numero di voci presenti nella tabella di instradamento di ogni nodo", "è dato da Vhier = 30 + 99 + 19 + 4 = 152, mentre in assenza di gerarchia questo numero \ndiventa V = 30·100·20·5 = 300.000. Si è quindi conseguita una riduzione di più di 1000 volte \nnel numero di voci di ogni tabella di instradamento.Esempio 3.24\nPattavinaReti2021.indb   194PattavinaReti2021.indb   194 14/01/2022   16:08:5814/01/2022   16:08:58     195\n3D Controllo degli errori\nLe strategie che si possono adottare in linea di principio per il controllo degli errori  sono \nsostanzialmente due:", "sostanzialmente due:\n• correzione degli errori in avanti, o forward error correction  (FEC),\n• richiesta di ripetizione automatica, o automatic repeat request  (ARQ).\nNella strategia FEC , all’unità informativa da trasmettere viene associato un campo addizio -\nnale, generalmente a lunghezza variabile, che rappresenta un codice a correzione di errore . Il \nnome stesso della procedura indica che l’informazione di controllo di errore viaggia “in avan -", "ti”, cio è nella stessa direzione dei dati dell’utente. L ’apparecchiatura ricevente utilizza questa \ninformazione aggiuntiva per correggere eventuali errori che possono avere colpito uno o più bit \ndell’UI. In questo caso non è previsto alcun riscontro di corretta ricezione, con la conseguenza \nche per una comunicazione unidirezionale è sufficiente un canale trasmissivo di tipo unidire -\nzionale e che le UI trasmesse vengono immediatamente cancellate dal buffer che le conteneva.", "La trasmissione del codice di controllo utilizzerà necessariamente una percentuale aggiun -\ntiva della capacità del canale trasmissivo rispetto ai dati dell’utente (in genere dell’ordine di \nqualche unità percentuale). Si deve osservare che più i codici sono complessi, maggiore è questa \npercentuale aggiuntiva e maggiore è quindi la quantità di elaborazione richiesta per attuare la \nprocedura di controllo e di correzione degli errori su ogni UI. Si noti che, adottando questo", "meccanismo, la quantità di informazione che viene trasferita globalmente sul collegamento dati \nè indipendente dal tasso d’errore.\nNella strategia ARQ  ai dati di utente si aggiunge in trasmissione un insieme di bit che \ncostituiscono un codice a rivelazione di errore , capace cio è di rivelare la presenza di errori, \nma non di correggerli. Una volta rivelato l’errore, l’apparecchiatura ricevente deve comuni -", "carlo all’apparecchiatura trasmittente, che dovrà provvedere alla ritrasmissione delle unità \ninformative per le quali l’errore è stato rivelato. Per questo motivo, con la tecnica ARQ anche \nper comunicazioni unidirezionali si richiede sempre la disponibilità di un canale di ritorno dal \nricevitore al trasmettitore. \nIl codice a rivelazione di errore ha in generale una lunghezza predeterminata, indipendente", "dalla sequenza dei bit di informazione da proteggere. Il trasferimento senza successo di un’u -\nnità informativa dal trasmettitore al ricevitore implica che la stessa venga ritrasmessa una o \npiù volte in presenza di errori. Ne consegue che, se si utilizzano tecniche ARQ, la quantità di \ninformazione trasmessa non è più indipendente dal tasso di errore. Si può ancora osservare che \nle strategie ARQ richiedono la disponibilità di unità di memoria dal lato trasmissione, dove", "vengono immagazzinate temporaneamente le UI trasmesse in attesa di riceverne il relativo \nriscontro. Questa unità viene denominata memoria di ritrasmissione  e può anche fisicamente \ncoincidere con lo stesso buffer di trasmissione. I protocolli che implementano la strategia ARQ \nsono descritti nel Paragrafo 3.2.\nLe procedure di controllo degli errori che vengono qui descritte sono basate sulla gene -", "razione di bit o stringhe di bit che vengono aggiunti alla sequenza di bit di informazione da 3.9 Bit di parità\n3.10 Checksum 3.11 Codice a ridondanza ciclica \nPattavinaReti2021.indb   195PattavinaReti2021.indb   195 14/01/2022   16:08:5814/01/2022   16:08:58196  Capitolo 3 – Teoria dei protocolli\n 3D Controllo degli errori\ninviare, così che il ricevitore possa svolgere una procedura di controllo sulla correttezza della", "sequenza informativa ricevuta. Si farà riferimento alle tre principali procedure utilizzate \nnell’ambito della rete Internet per svolgere questa funzione: (i) bit di parità; (ii) checksum; (iii) \ncodice a ridondanza ciclica. Nel primo caso, nella sequenza trasmessa vengono inseriti singoli \nbit intercalati con i bit di informazione, mentre negli altri due casi viene generato un codice di \ncontrollo generalmente trasmesso dopo la stringa informativa.\n3.9 Bit di parità", "3.9 Bit di parità\nIl metodo più semplice per la rivelazione di errori in una sequenza di bit trasmessa consiste \nnell’inserire nella sequenza stessa un bit di parità  ogni k bit di informazione, in modo tale che \nla stringa di k + 1 bit contenga sempre un numero pari22 di bit “1”. Un esempio è riportato in \nFigura 3.74a in cui n = 36 bit di informazione sono stati protetti con un bit di parità ogni k = 6 \nbit. La Figura 3.74b mostra l’intera sequenza trasmessa che include i bit di parità.", "Naturalmente la capacità di rivelazione degli errori di questa tecnica è molto limitata, \ndato che sono rilevabili solo errori che colpiscano un numero dispari di bit di ogni stringa di \nk + 1 bit, sostituendo il bit “0” con il bit “1” e viceversa. Una maggiore capacità di rivelazione \ndi errori viene ottenuta con un codice di parità bidimensionale  (2-d), in cui ogni blocco di \nm stringhe di k + 1 bit, ognuna protetta da un bit di parità “orizzontale”, viene protetto con", "un’ulteriore stringa di k + 1 bit di parità “verticale”. Il primo bit di questa nuova stringa indica \nla parità del primo bit delle m stringhe, il secondo bit la parità del secondo bit, e così via fino \nall’ultimo bit, che indica la parità verticale degli m bit di parità orizzontale. È interessante \nosservare allora come quest’ultimo bit di parità verticale rappresenti anche la parità orizzon -\ntale dei primi k bit di parità verticale.", "tale dei primi k bit di parità verticale. \nLa Figura 3.75a mostra un esempio di controllo di parità bidimensionale con k = 6 e m = 6. \nViene prima aggiunto il bit di parità orizzontale di ognuna delle k stringhe, così che ognuna di \nesse è ora composta da k + 1 bit. Vengono quindi aggiunti altri k + 1 bit di parità “verticale”, \nognuno dei quali indica la parità di uno specifico bit di tutte le m stringhe di k + 1 bit. La \nsequenza complessiva trasmessa è mostrata in Figura 3.75b.", "La rivelazione di errore basata sui bit di parità è particolarmente semplice e si presta molto \nbene a essere utilizzata con implementazioni di tipo hardware, cosi da consentire controlli di \nerrore su flussi trasmessi ad altissima velocità, anche dell’ordine di decine di Gbit/s. Per que -\nsto motivo la loro applicazione nella rete Internet avviene prevalentemente nell’ambito dello \nstrato fisico.", "strato fisico.\n22  In questo testo si farà riferimento esclusivamente al controllo di parità “pari”, in cui cio è la stringa di k + 1 bit \ncontiene sempre un numero pari di bit “1”. Un controllo di parità “dispari” richiede invece di determinare il bit \ndi parità in modo che la stringa di k + 1 bit contenga sempre un numero dispari di bit “1”.Figura 3.74 Controllo di parità: bit di parità (a) e sequenza trasmessa (b).010011 1\n1101 100\n001000 1\n111111 0\n001100 0\n000000 0", "1101 100\n001000 1\n111111 0\n001100 0\n000000 0\n010011111011000010001111111000110000000000(a)\n(b)\nPattavinaReti2021.indb   196PattavinaReti2021.indb   196 14/01/2022   16:08:5814/01/2022   16:08:583.10 Checksum  197\n3.10 Checksum\nIl metodo checksum  di rivelazione di errori si basa sul principio di generare una stringa di \ncontrollo di k bit per verificare l’integrità di una serie di stringhe binarie di uguale dimensione, \ncioè di k bit ognuna.", "cioè di k bit ognuna. \nSeguendo l’approccio riportato in [Leon-Garcia] si assume che la sequenza di bit di infor -\nmazione contenga n ·k bit. Si suddivide allora la sequenza in n stringhe di k bit, delle quali \nl’i-esima (0 ≤ i ≤ n _ 1) viene qui indicata come vettore bi. Si effettua quindi la somma modu -\nlo-(2k _ 1) di tutte le stringhe per ottenere la somma \nLa stringa di checksum bn si ottiene come l’intero negativo di s in modulo-(2k _ 1), cio è bn = -s.", "Ipotizzando che la stringa di checksum venga inviata dopo la sequenza da proteggere, allora \nl’intera sequenza inviata sarà b0b1... bn–1bn. In assenza di errori il ricevitore potrà ovviamente \nverificare la condiziones = (b0 + b1 + ... + bn–1)mod(2k– 1). )3.50( Figura 3.75 Controllo di parità bidimensionale: bit di parità (a) e sequenza trasmessa (b).010011 1\n110110 0\n001000 1\n111111 0\n001100 0\n000000 0\n011110 0\n0100111110110000100011111 110001100000000000111100(a)\n(b)", "(b)\nFigura 3.76 Parità 2-d: bit di parità (a) e stringa trasmessa (b) secondo l’Esempio 3.25.10100101\n11011110\n11101011\n11101000\n11010010\n11011101\n1100111152\n6F\n75\n74\n69\n6E\n67R\no\nu\nt\ni\nn\ng\n10111000\n101001011101111011101011111010 00110100101101 11011100111110111000(a)\n(b)Si vuole determinare il codice di parità bidimensionale per la stringa di sette lettere “Rou -\nting” adottando una codifica ASCII a 7 bit.", "ting” adottando una codifica ASCII a 7 bit.\nLa Figura 3.76a mostra la codifica relativa ai singoli caratteri in formato esadecimale, i sette \nbit di parità orizzontale associati ai singoli caratteri, nonché i bit di parità verticale relativi \nai bit di uguale posizione nei sette caratteri. La sequenza complessiva trasmessa è riportata \nin Figura 3.76b.Esempio 3.25", "in Figura 3.76b.Esempio 3.25\nPattavinaReti2021.indb   197PattavinaReti2021.indb   197 14/01/2022   16:08:5914/01/2022   16:08:59198  Capitolo 3 – Teoria dei protocolli\n 3D Controllo degli errori\n(b0 + b1 + ... + bn–1 + bn)mod(2k \n– 1) = 0\nA titolo di esempio assumiamo k = 4, così le somme saranno effettuate modulo-15. Se n = 2 e le \ndue sequenze sono 1011 e 0111, la loro somma modulo-15 sarà 0011 (infatti 11 + 7 = 18mod- 15 = 3).", "L ’inversione modulo-15 di 0011 genera 1100, cio è 12. In assenza di errori, la sequenza che si \nriceve è 101101111100 e la somma in aritmetica in complemento a 1 delle tre sequenze 1011, \n0111, 1100 fornisce 1111, che modulo-15 corrisponde23 a 0.\nNella rete Internet la rivelazione di errore con checksum è adottata nello strato di trasporto \nutilizzando sequenze di k  = 16 bit (vedi Paragrafo 5.3.2) e la sua implementazione si basa", "sull’aritmetica in complemento a 1 . In questo caso la somma descritta dall’Equazione (3.50) \nconsiste nel sommare tutte le sequenze binarie di 16 bit e gli eventuali bit di riporto vengono \nsommati ai bit meno significativi della somma. Ciò corrisponde a effettuare l’operazione di \nsomma modulo-(216 – 1). Il complemento a 1 del risultato ottenuto, sostituendo cio è il bit 0 \ncon il bit 1 e viceversa, fornisce la stringa di checksum.", "La sequenza di n ·k bit di informazione viene quindi trasmessa seguita dai k  =  16 bit della \nchecksum. Data la procedura seguita per il calcolo della stringa di checksum, risulta evidente \nche la somma in complemento a 1 dell’intera sequenza ricevuta genera in assenza di errori la \nstringa 0xFFFF e quindi il suo complemento a 1 sarà 0x0000. \n23  È importante osservare che nell’aritmetica in complemento a 1 modulo-15 entrambe le stringhe 0000 e 1111", "corrispondono al valore decimale 0.Per la stringa esadecimale 0xC5CB0C0783AFC90E4F4B si chiede di determinare la strin -\nga di checksum sapendo che questa è costituita da k = 16 bit.\nCome mostrato in Figura 3.77, si suddivide la sequenza assegnata in stringhe di 16 bit ognu -\nna che vengono quindi sommate ( sum). Secondo l’aritmetica in complemento a 1, i due bit \n10 del riporto ( carries ) vanno sommati ai bit meno significativi della somma, ottenendo una", "nuova stringa di 16 bit ( sum with carries, SwC). Infine, la stringa di checksum si ottiene \ncome complemento a 1 della sequenza SwC.Esempio 3.26\nSi vuole mostrare come si effettua l’operazione di verifica sulla eventuale presenza di \nerrori nella ricezione della sequenza di 80 bit definita nell’Esempio 3.26 che viene seguita \ndall’invio della checksum.\nLa sequenza ricevuta in assenza di errore è 0xC5CB0C0783AFC90E4F4B9223. Vengono", "ripetute le stesse operazioni svolte per il calcolo della checksum, considerando questa volta \nanche la stessa sequenza di 16 bit della checksum, come mostrato in Figura 3.78a. Come \natteso, la verifica genera una stringa finale 0x0000 indicando assenza di errori. Se invece \nnella sequenza trasmessa si verificano errori, che consistono in due bit “1” trasmessi ma \nricevuti come bit “0”, la verifica genera una stringa finale diversa da 0x0000, come ripor -\ntato in Figura 3.78b.Esempio 3.27", "tato in Figura 3.78b.Esempio 3.27\nPattavinaReti2021.indb   198PattavinaReti2021.indb   198 14/01/2022   16:08:5914/01/2022   16:08:593.11 Codice a ridondanza ciclica  199\n3.11 Codice a ridondanza ciclica\nLa procedura che genera il codice di rivelazione degli errori a ridondanza ciclica si basa sull’u -\nso dei codici polinomiali per generare un codice di controllo denominato cyclic redundancy \ncheck  (CRC). Si consideri una generica stringa di n bit da cui possiamo ricavare il polinomio", "P(x) di grado n – 1 nella variabile ausiliaria x dove i coefficienti sono dati dagli n bit della \nstringa. Se per ipotesi avessimo la stringa di 10 bit 1001000111, il polinomio P (x) corrispon -\ndente sarebbe P (x) = x9 + x6 + x2 + x + 1. Il codice di rivelazione di errore viene generato aven -\ndo prima definito un polinomio generatore  G(x) di grado k le cui caratteristiche determinano \nle proprietà di rivelazione degli errori del codice CRC. Questo codice sarà costituito da una", "sequenza di k bit. \nI k bit del codice CRC vengono ricavati da un’operazione di divisione tra polinomi in arit -\nmetica24 modulo-2 , in cui il polinomio dividendo è dato da P (x) moltiplicato per xk e il polino -\nmio divisore è dato dal polinomio generatore  G(x) di grado k . Questa divisione darà luogo a \nun quoziente Q (x) e a un resto R (x), che soddisfa la seguente espressione\n)3.51(Px()xk⋅\nGx()--------------------- Qx()Rx()\nGx()------------ + = .", "Gx()------------ + = .         \n24 Si ricorda che in aritmetica modulo-2, addizioni e sottrazioni non danno luogo a riporti n é a prestiti.1100010111001011\n0000110000000111\n1000001110101111\n1100100100001110\n0100111101001011\n100110110111011010\n10\n0110110111011100\n1001001000100011C5CB\n0C07\n83AF\nC90E\n4F4B\nSum\nCarries\nSwC\nChecksum\nFigura 3.77 Calcolo della checksum secondo l’Esempio 3.26.\nFigura 3.78 Verifica della checksum senza (a) e con (b) errori secondo l’Esempio 3.27.1100010111001011", "0000110000000111\n1000001110101111\n1100100100001110\n0100111101001011\n1001001000100011\n101111111111111101\n10\n1111111111111111\n0000000000000000C5CB\n0C07\n83AF\nC90E\n4F4B\n9223\nSum\nCarries\nSwC\nCheck1100010111001011\n0000110000000111\n1000001110101111\n1100100100001110\n0100001101001011\n1001001000100011\n101111001111111101\n10\n1111001111111111\n0000110000000000C5CB\n0C07\n83AF\nC90E\n434B\n9223\nSum\nCarries\nSwC\nCheck\n(a) (b)", "83AF\nC90E\n434B\n9223\nSum\nCarries\nSwC\nCheck\n(a) (b)\nPattavinaReti2021.indb   199PattavinaReti2021.indb   199 14/01/2022   16:09:0014/01/2022   16:09:00200  Capitolo 3 – Teoria dei protocolli\n 3D Controllo degli errori\nIl polinomio R (x) ha grado massimo k – 1, poiché la divisione è stata effettuata in aritmetica \nmodulo 2, e quindi R(x) esprime k coefficienti, ognuno dei quali assume il valore binario 0 o \n1, e questi bit costituiscono il codice di controllo CRC .", "Gli n + k  bit che vengono inviati, dei quali i primi n sono i bit di informazione e gli ultimi \nk sono i bit di controllo di errore, possono essere considerati i coefficienti di un nuovo polino -\nmio P'(x) dato da \n)3.52( P′x() Px()xk⋅ Rx() + = .         \nLa procedura di rivelazione di errore in ricezione è particolarmente semplice: se la divisione \ndel polinomio P'(x), derivato dalla sequenza di bit ricevuta, per lo stesso polinomio generatore", "G(x) genera resto nullo, allora si assume che la sequenza ricevuta non sia errata, compatibil -\nmente con le capacità di rivelare errori del meccanismo adottato. Infatti, utilizzando le Equa -Per la stringa di 10 bit 1001000101 si vuole determinare il codice CRC per la rivelazione di \nerrore, sapendo che il polinomio generatore è G (x) = x4 + x3 + 1.\nAlla stringa assegnata corrisponde il polinomio P (x) = x9 + x6 + x2 + 1. Considerando che", "il polinomio generatore assegnato implica k = 4, si ottiene P' (x) = P(x)·x4 = x13 + x10 + x6 \n+ x4. La divisione di quest’ultimo polinomio con G(x)  è mostrata in Figura 3.79; si ricorda \nche in aritmetica modulo-2 la somma di due polinomi fornisce lo stesso risultato della loro \ndifferenza. In conclusione, si ottiene Q (x) = x9 + x8 + x7 +x5 + x3 + x, R(x) = x3 + x e quindi \nla stringa di controllo di errore è CRC = 1010. Esempio 3.28\nx13+x10+x6+x4\nx13+x12+x9\nx12+x10+x9+x6+x4\nx12+x11+x8", "x13+x12+x9\nx12+x10+x9+x6+x4\nx12+x11+x8\nx11+x10+x9+x8+x6+x4\nx11+x10+x7\nx9+x8+x7+x6+x4\nx9+x8+x5\nx7+x6+x5+x4\nx7+x6+x3\nx5+x4+x3\nx5+x4+x\nx3+xx4+x3+1\nx9+x8+x7+x5+x3+x\nFigura 3.79 Generazione del codice CRC secondo l’Esempio 3.28.\nPattavinaReti2021.indb   200PattavinaReti2021.indb   200 14/01/2022   16:09:0014/01/2022   16:09:003.11 Codice a ridondanza ciclica  201\nzioni (3.52) e (3.51) e considerando che in aritmetica modulo-2 moltiplicare un numero per 2", "fornisce 0 come risultato, si può verificare che\n)3.53(P′x()\nGx()-------------Px()xk⋅\nGx()--------------------Rx()\nGx()------------ + Qx()2Rx()\nGx()------------⋅+ Qx() = = = .     \nUn resto R (x) diverso da zero indica dunque la presenza di errori. \nL ’Equazione (3.53), riscritta come\nP′x() Qx()Gx() = .\nindica che, in assenza di errori, il polinomio P' (x) che rappresenta la sequenza di bit trasmessa", "è un multiplo del polinomio generatore G (x). L ’occorrenza di errori sulla sequenza trasmessa \nsi manifesta attraverso l’inversione di uno o più bit rispetto al valore originario, cio è bit 1 \nvengono ricevuti come bit 0 e viceversa. In questo caso il polinomio P'' (x) che rappresenta la \nsequenza errata ricevuta può essere rappresentato come\nP″x() P′x()Ex() + Qx()Gx()Ex() + = = .\nQuindi, se il polinomio di errore E(x) che rappresenta con i suoi termini i bit errati è divisibile", "per il polinomio generatore G (x), gli errori verificatisi non sono rilevabili. Si vuole verificare se la stringa di 14 bit 10001010010010, comprensiva di CRC negli ultimi \nbit, rivela la presenza di errori, sapendo che il polinomio generatore è G (x) = x5 + x3 + x2 + 1.\nLa divisione del polinomio P' (x) = x13 + x9 + x7 + x4 + x ricavato dalla stringa ricevuta per \nil polinomio G (x) fornisce un resto R (x) = x4 + x3 + x, come mostrato in Figura 3.80, con -", "sentendoci di affermare la presenza di errori.Esempio 3.29\nx13+x9+x7+x4+x\nx13+x11+x10+x8\nx11+x10+x9+x8+x7+x4+x\nx11+x9+x8+x6\nx10+x7+x6+x4+x\nx10+x8+x7+x5\nx8+x6+x5+x4+x\nx8+x6+x5+x3\nx4+x3+xx5+x3+x2+1\nx8+x6+x5+x3\nFigura 3.80 Verifica dell’occorrenza di errori secondo l’Esempio 3.29.\nPattavinaReti2021.indb   201PattavinaReti2021.indb   201 14/01/2022   16:09:0114/01/2022   16:09:01202  Capitolo 3 – Teoria dei protocolli\n 3D Controllo degli errori", "3D Controllo degli errori\n \nSi può dimostrare che, scegliendo opportunamente il polinomio generatore G(x),  i seguenti \neventi di errore sono sempre rilevabili:\n• errori su un singolo bit, se G (x) ha almeno due termini;\n• errori su due bit, se xm + 1 non è divisibile per G (x) per ogni valore di m minore della \nlunghezza della sequenza trasmessa 1mnk+<≤( );\n• errori su un numero dispari di bit, se G (x) è esprimibile come fattore di x + 1;", "• errori a “burst” (cio è consecutivi), in cui la lunghezza del burst sia inferiore o uguale \na quella del codice CRC, cio è a k bit.\nx13+x10+x7+x4+x\nx13+x12+x9\nx12+x10+x9+x7+x4+x\nx12+x11+x8\nx11+x10+x9+x8+x7+x4+x\nx11+x10+x7\nx9+x8+x4+x\nx9+x8+x5\nx5+x4+x\nx5+x4+x\n----x4+x3+1\nx9+x8+x7+x5+x3+x\nFigura 3.81 Verifica dell’occorrenza di errori secondo l’Esempio 3.30.Per la stringa di 10 bit 1001000101 il codice CRC = 1010 per la rivelazione di errore è stato", "derivato nell’Esempio 3.28 in base al polinomio generatore G (x) = x4 + x3 + 1. La sequenza \ndi 14  bit costituita dai 10 bit di informazione e dai 4 bit di controllo inviata lungo un col -\nlegamento punto-punto viene ricevuta affetta da errori rappresentabili tramite il polinomio \nE(x) = x7 + x6 + x3. Si vuole verificare la capacità del codice di rivelare errori.\nLa sequenza di bit inviata è espressa come P' (x) = P(x)·x4 = x13 + x10 + x6 + x4 + x3 + x,", "mentre quella ricevuta è rappresentata come P\" (x) = P'(x) + E (x) =  x13 + x10 + x7 + x4 + x. \nLa divisione del polinomio P\"(x) per il polinomio generatore G(x), riportata in Figura 3.81, \ngenera un resto nullo, contraddicendo apparentemente l’occorrenza di errori sulla sequenza \ndi bit durante il loro trasferimento. Tuttavia, ciò può essere spiegato considerando che il \npolinomio di errore E (x) è un multiplo del polinomio generatore e quindi, come tale, deter -", "mina errori non rilevabili dal codice adottato.Esempio 3.30\nPattavinaReti2021.indb   202PattavinaReti2021.indb   202 14/01/2022   16:09:0114/01/2022   16:09:013.11 Codice a ridondanza ciclica  203\nPer quanto riguarda gli errori singoli, il polinomio di errore sarà del tipo  \nEx() xj0jnk+<≤( ) ,= . Se il polinomio generatore G (x) ha almeno due termini, ne con -\nsegue che la divisione di E (x) per G(x)  non può dare resto nullo, consentendo quindi sempre", "la rivelazione dell’errore occorso. Dimostrazioni analoghe possono essere sviluppate per gli \naltri tipi di errore rilevabili sopra elencati. \nI protocolli della rete Internet che adottano i codici a ridondanza ciclica per la rivelazione \ndi errore si trovano tipicamente nello strato di collegamento dati. \nLa Tabella 3.5 mostra i polinomi generatori adottati in alcuni dei protocolli descritti in", "questo testo. Il codice a 8 bit CRC-8 è stato adottato per la rivelazione degli errori sull’header \nnel campo HEC della cella ATM (vedi Paragrafo 6.9.2). I due codici a 16 bit CRC-16 USA e \nCRC-16 ITU-T sono stati utilizzati nei protocolli di linea Bisync e HDLC (vedi Paragrafo \n7.3.3), rispettivamente. Il codice a 32 bit CRC-32 è stato adottato nelle reti Ethernet (vedi \nParagrafo 9.1.3). \nTabella 3.5 Polinomi generatori adottati in diversi ambienti di rete.\nNome Protocollo Polinomio G(x)", "Nome Protocollo Polinomio G(x)\nCRC-8 ITU-T ATM x8 + x2 + x + 1\nCRC-16 USA Bisync x16 + x15 + x2 + 1\nCRC-16 ITU-T HDLC x16 + x12 + x5 + 1\nCRC-32 IEEE 802.3 x32 + x26 + x23 + x22 + x16 + x12 + x11 + x10 + x8 + x7 + x5 + x4 + x2 + x + 1\nPattavinaReti2021.indb   203PattavinaReti2021.indb   203 14/01/2022   16:09:0114/01/2022   16:09:01204  Capitolo 3 – Teoria dei protocolli\n 3E Controllo del flusso e della congestione\n3E Controllo del flusso e della congestione", "3E Controllo del flusso e della congestione\nIn una rete ideale, il traffico smaltito dalla rete, o throughput, uguaglia il traffico offerto a \ncondizione che quest’ultimo non ecceda la capacità della rete. La Figura 3.82 mostra con un \ngrafico questo comportamento ideale, avendo indicato con Asmax la capacità (o throughput) \ndella rete, che uguaglia la massima intensità del traffico offerto, indicato con Aomax. Nella", "realtà, quando il livello del traffico offerto aumenta, avvicinandosi alla capacità di rete, il \ntraffico smaltito aumenta in misura inferiore al traffico offerto, fino a che il throughput \naddirittura decresce all’aumentare ulteriore del traffico offerto. Ciò è dovuto ai fenomeni di \ncongestione, che interessano progressivamente le diverse aree della rete, fino al punto in cui \ni conflitti nell’assegnazione delle risorse possono far degradare, anche considerevolmente, le", "prestazioni della rete. \nUn risultato migliore può essere ottenuto se si adottano opportune procedure di controllo \ndel flusso e della congestione, che consentano di mantenere costantemente sotto controllo le \noperazioni della rete. Questi meccanismi, generalmente, implicano un’efficienza inferiore al \ncaso di rete non controllata, ma consentono di evitare il degrado significativo di prestazioni \nche una rete non controllata manifesta per elevati volumi di traffico offerto. La Figura 3.82", "mostra tre curve, a, b e c , che rappresentano tre diversi andamenti qualitativi del throughput \nin una rete controllata, con prestazioni che peggiorano passando dalla curva a a quella c . \nNon è facile trovare una tassonomia unica che classifichi i metodi di controllo del flusso e \ndella congestione maggiormente utilizzati. Consideriamo separatamente tre aspetti che sono \nfondamentali per comprendere e distinguere i vari metodi; essi sono la portata , la tipologia  e", "la tecnica  di controllo utilizzato. \nPer quanto riguarda la portata del controllo,  intendendo con questo l’estensione geografi -\nca dei dispositivi coinvolti nell’operazione di controllo, si possono distinguere le tre seguenti \nsoluzioni: 3.12 Controllo del flusso a credito\n3.13 Controllo del flusso a frequenza\nTrafficooffertoIdeale\nIncontrollatoControllatoa\nbc\nAomaxAsmax\nFigura 3.82 Troughput di rete in funzione del traffico offerto.", "PattavinaReti2021.indb   204PattavinaReti2021.indb   204 14/01/2022   16:09:0214/01/2022   16:09:02     205\n• controllo dell’accesso , che consiste nel verificare che il traffico in ingresso alla rete \nsia conforme a requisiti predefiniti, per esempio la frequenza media, la frequenza di \npicco, il massimo numero di UI consecutive, ecc.; \n• controllo internodo , che serve a realizzare un trasferimento di unità informative tra", "nodi, in modo che le rispettive risorse siano utilizzate al meglio, evitando fenomeni \ndi perdita di UI; a seconda dell’adiacenza o meno dei nodi interessati si distinguono \ndue casi:\n ‒controllo nodo per nodo (hop-by-hop) , in cui i due nodi coinvolti sono adiacenti,\n ‒controllo da estremo a estremo (edge-to-edge) , in cui i due nodi coinvolti sono \ncollocati alle estremità della rete e quindi essi interfacciano i sistemi terminali;", "• controllo da terminale a terminale (end-to-end) , che serve a realizzare un trasferi -\nmento di unità informative tra sistemi terminali, avendo cura di rispettare le relative \ncapacità di accettare unità informative inviate dal sistema remoto.\nCon riferimento alla tipologia di controllo , si possono identificare due classi di approcci:\n• metodi reattivi , in cui le azioni di controllo vengono operate esclusivamente in seguito", "alla rivelazione di eventi di congestione e, a seconda del tipo di controllo, la reazione \na questi eventi è generalmente operante su diverse scale temporali; questi metodi ope -\nrano tipicamente come schemi di controllo “ ad anello chiuso”;\n• metodi preventivi , in cui le azioni di controllo vengono svolte con continuità, allo \nscopo di prevenire possibili situazioni di congestione; questi metodi operano come \nschemi di controllo “ ad anello aperto”.", "schemi di controllo “ ad anello aperto”.\nInfine possiamo distinguere due principali tecniche di controllo  dei flussi di unità informative:\n• a credito , in cui l’autorizzazione a trasmettere UI da parte di un nodo è regolata da un \nmeccanismo di crediti che il nodo riceve esplicitamente dal nodo di destinazione, o \nimplicitamente sulla base dell’applicazione di un opportuno algoritmo;\n• a frequenza , in cui l’autorizzazione a trasmettere UI da parte di un nodo è regolata da", "un meccanismo di tipo continuo, basato sul controllo della frequenza media con cui \nil nodo può trasmettere UI.\nAllo scopo di rendere più agevole la comprensione delle diverse tecniche per il controllo del \nflusso, si vuole qui descrivere, con scopo puramente didattico, una tecnica molto semplice \nche regola l’accesso alla rete delle unità informative sulla base di espliciti permessi. Questa \ntecnica, denominata isaritmica,  può essere utilizzata solo in accesso alla rete, essendo basata", "sul presupposto che all’interno della rete debba circolare un numero massimo di unità infor -\nmative. Per garantire ciò, nei nodi di accesso sono disponibili dei permessi, il cui numero \ntotale iniziale deve essere accuratamente determinato sulla base del traffico offerto previsto \ne delle risorse di rete disponibili. Un’UI ricevuta in un nodo di accesso entra in rete se nel \nnodo è disponibile un permesso, che viene quindi “consumato”. Allo stesso modo, un’UI che", "esce dalla rete genera un permesso nel nodo di uscita, che quindi può essere riutilizzato per \nl’ingresso in rete di una nuova UI attraverso quest’ultimo nodo.\nPattavinaReti2021.indb   205PattavinaReti2021.indb   205 14/01/2022   16:09:0214/01/2022   16:09:02206  Capitolo 3 – Teoria dei protocolli\n 3E Controllo del flusso e della congestione\nAB C\nF ED1\n3\n4 2\n4324\n2 3", "AB C\nF ED1\n3\n4 2\n4324\n2 3\nFigura 3.83 T opologia di rete secondo l’Esempio 3.31.Si consideri la rete di Figura 3.83, con lunghezze dei collegamenti (tutti in fibra ottica) \nriportate in km, che opera un controllo del flusso di tipo isaritmico. Si ipotizza che siano \npresenti solo i due circuiti virtuali A-B e A-C, lungo i quali vengono trasferiti N1 = 5 pac -\nchetti dati sul primo e N2 = 3 pacchetti dati sul secondo, utilizzando un protocollo di tipo", "ARQ senza occorrenza di errori, nonché un instradamento a minima distanza. La sequenza \ndelle destinazioni dei pacchetti è : B, B, C, C, C, B, B, B. Sulla base delle seguenti ipotesi:\n• capacità dei collegamenti internodo, C = 40 Mbit/s,\n• lunghezza dei pacchetti dati, Lp = 50 byte,\n• lunghezza dei pacchetti di riscontro, La = 25 byte,\nsi vuole calcolare il tempo totale Ttot richiesto per il completo trasferimento dei pacchetti,", "avendo a disposizione P = 4 permessi nel nodo A (un nuovo permesso viene rigenerato nel \nnodo che riceve un riscontro positivo). Si trascurano i tempi di elaborazione nei nodi. \nUn instradamento a minima distanza richiede di instradare il circuito virtuale A-B sul \ncollegamento diretto tra i due nodi e il circuito virtuale A-C lungo il percorso A-B-C, a \ncosto minore rispetto al collegamento diretto A-C. I tempi di ritardo vengono facilmente \ncalcolati come:\n• Tp = Lp/C = 10 ms,", "calcolati come:\n• Tp = Lp/C = 10 ms,\n• Ta = La/C = 5 ms,\n•  τA = dA-B/n = 10 ms,\n•  τB = dB-C/n = 5 ms.\nIl profilo del traffico smaltito dalla rete è mostrato in Figura 3.84, avendo rappresentato più \nchiari i pacchetti e i riscontri del circuito virtuale A-C. Si osserva che la trasmissione del \nnodo A non si interrompe dopo il quarto pacchetto trasmesso, perché nel frattempo è stato \ngià ricevuto un riscontro nel nodo, che ha rigenerato un nuovo permesso, e lo stesso accade", "per il pacchetto successivo. Tuttavia, alla fine della trasmissione del sesto pacchetto, nuovi \ninvii non sono più possibili a causa del consumo di tutti i permessi disponibili. La trasmis -\nsione riprende al ricevimento del primo riscontro sul circuito virtuale A-C e prosegue così, \nsenza interruzione, fino alla fine. Il tempo totale richiesto per completare il trasferimento \ndei pacchetti e dei riscontri è dato da: \nTtot6Tp3Ta4τA2τB+ + + 125µs = = ms. Esempio 3.31", "Ttot6Tp3Ta4τA2τB+ + + 125µs = = ms. Esempio 3.31\nPattavinaReti2021.indb   206PattavinaReti2021.indb   206 14/01/2022   16:09:0214/01/2022   16:09:023.12 Controllo del flusso a credito  207\nÈ evidente che la distribuzione iniziale dei permessi tra i singoli nodi e la redistribuzione degli \nstessi, quando vengono rigenerati, rappresenta un aspetto molto critico di dimensionamento \ndell’intero sistema, in special modo se i nodi di accesso non sono decine, bensì migliaia o", "decine di migliaia. Nel seguito vengono descritte le tecniche di controllo del flusso che meglio \nsi adattano alle esigenze di reti molto grandi, che devono comunque garantire la necessaria \nflessibilità di accesso a flussi di traffico, in configurazioni anche molto diverse da quella \ninizialmente prevista.\nLe tecniche di controllo del flusso descritte nei prossimi paragrafi hanno lo scopo princi -\npale di regolare i flussi di traffico scambiati tra nodi, adiacenti o meno, e quindi, come tali,", "contribuiscono a prevenire eventuali fenomeni di congestione nella rete. \n3.12 Controllo del flusso a credito\nI meccanismi di controllo del flusso a credito  si fondano sul principio secondo il quale un tra -\nsferimento di unità informative da una sorgente a una destinazione deve essere esplicitamente \nautorizzato, in special modo nella quantità di informazione che il destinatario può ricevere. \nCiò riesce a garantire che ogni UI trasferita trovi posto nel buffer di ricezione a destinazione,", "evitando quindi l’occorrenza di perdita di UI per saturazione delle memorie. Naturalmente , \nquesti meccanismi richiedono implicitamente che sia stabilita una connessione tra sorgente e \ndestinazione preliminarmente al trasferimento dei dati. Durante questa fase è possibile nego -\nziare tra le due parti il valore da assegnare ai parametri che definiscono lo scambio di unità \ninformative.\n3.12.1 Controllo del flusso a credito esplicito", "3.12.1 Controllo del flusso a credito esplicito\nIl meccanismo a finestra che regola lo scambio di unità informative tra due nodi rappresenta \nla tecnica tipica di controllo del flusso di tipo a credito ad anello chiuso . Con questa tecnica, \ndescritta nel Paragrafo 3.2 con il nome di “sliding window” in riferimento a un protocollo di \nlivello 2, è la destinazione a inviare esplicitamente alla sorgente l’autorizzazione a trasmettere", "unità informative, mediante scorrimento della finestra, in modo da operare il controllo del \nflusso sul collegamento  e quindi sul livello di riempimento del buffer in ricezione. Questo \nstesso meccanismo può essere adottato anche a livello 3 per controllare singolarmente il flusso \ndi pacchetti che viaggiano su uno specifico circuito virtuale  tra nodi adiacenti. Si noti che un \ncontrollo del flusso a livello 2 agisce, invece, sull’aggregato delle unità informative (trame)", "inviate a livello 2. 50 0t[μs]A-B\nC-B\n100 150 25 75 125B-CA\nB\nCB-A\nFigura 3.84 Controllo del flusso con tecnica isaritmica secondo l’Esempio 3.31.\nPattavinaReti2021.indb   207PattavinaReti2021.indb   207 14/01/2022   16:09:0214/01/2022   16:09:02208  Capitolo 3 – Teoria dei protocolli\n 3E Controllo del flusso e della congestione\nAnche a livello 4, cio è nello strato di trasporto, si ritrova in alcuni protocolli l’adozione", "dello stesso meccanismo a finestra, che assume il nome di controllo del flusso a credito espli -\ncito. In questo caso la destinazione autorizza esplicitamente la sorgente remota a inviare una \nben definita quantità di informazione, normalmente misurata in byte anziché in UI, per un \ncontrollo del flusso più fine in presenza di UI a lunghezza variabile. Comunicare alla sorgente \nremota un credito per una certa quantità di byte richiede anche alla destinazione di specificare", "l’ultimo byte ricevuto correttamente. Si noti che, essendo la destinazione non adiacente alla \nsorgente, è possibile che i messaggi di credito non giungano con regolarità alla sorgente, per \neffetto di fenomeni di congestione di rete, determinando così una trasmissione di tipo inter -\nmittente ( bursty ) delle unità informative. Questo tipo di controllo del flusso viene adottato nel \nprotocollo TCP, descritto nel Paragrafo 5.4.", "protocollo TCP, descritto nel Paragrafo 5.4. \nSi vuole ora illustrare il funzionamento di un meccanismo di controllo del flusso a credito \nesplicito  operante tra due generici sistemi terminali A e B che si scambiano unità informative \nattraverso una rete a commutazione di pacchetto. La Figura 3.85 mostra l’evoluzione dello \nstato del buffer di trasmissione della stazione A (TxA) e del buffer di ricezione della stazione", "B (RxB) durante il trasferimento di UI da A a B. All’istante t1, la stazione B comunica alla sta -\nzione A che la sua “finestra di ricezione” ha apertura W byte a partire dal byte L1. Nello stesso \nistante il buffer RxB contiene k2 byte, ricevuti in precedenza, che sono in attesa di consegna \nal livello superiore (client). Dato che le due stazioni sono separate da una rete che implica un \nL0\nL1+WWL1L0+WW\nL2L2+W WL1+W W L1\nL2+W W L2TxA\nRxB\nTxA\nRxB\nTxA\nRxBL1\nL3+WWL3k2\nk5k4t1\nt2\nt3k6k3k1\nk5", "TxA\nRxB\nTxA\nRxBL1\nL3+WWL3k2\nk5k4t1\nt2\nt3k6k3k1\nk5\nk6k7Bytedatrasmettere\nByteinattesadiconsegnaBytetrasmessiinattesa\ndiriscontro\nk4k2\nk3k3\nk5k7\nFigura 3.85 Controllo del flusso a credito end-to-end.\nPattavinaReti2021.indb   208PattavinaReti2021.indb   208 14/01/2022   16:09:0214/01/2022   16:09:023.12 Controllo del flusso a credito  209\ntempo di ritardo (variabile) per il trasferimento di UI da una stazione all’altra, la “finestra", "di trasmissione” della stazione A non coincide con la finestra di ricezione della stazione B. \nInfatti, all’istante t1 la stazione A ha una finestra di trasmissione di W byte a partire da L0 \n(L0 < L1), che riflette una precedente autorizzazione a trasmettere da parte di B. Nell’esempio \nsi ipotizza che,  della finestra “autorizzata” di W byte, k1 + k2 + k3 byte sono stati trasmessi \ndalla stazione A; di questi, k1 sono stati ricevuti da B e consegnati al livello superiore, k2 byte", "sono quelli ancora in attesa di consegna al livello superiore nella stazione B, e k3 byte devono \nancora essere ricevuti dalla stazione B. Il buffer TxA contiene altri byte in attesa di trasmis -\nsione, anche in eccesso rispetto alla finestra di trasmissione consentita.  \nAll’istante t2, la stazione A riceve l’indicazione sulla finestra di ricezione di B inviata \nall’istante t1, che viene quindi registrata nello stato del buffer di trasmissione della stazione", "stessa. In questo istante si rileva che il buffer TxA contiene k3 + k4 + k5 byte inviati in attesa \ndi riscontro, dei quali i primi k3 + k4 sono stati ricevuti da B e sono in attesa di consegna al \nlivello superiore, mentre gli altri k5 byte devono essere ancora ricevuti in B. Altri byte sono in \nattesa di trasmissione entro l’apertura corrente della finestra. Nella stazione B, la ricezione dei \nk3 + k4 byte consente di fare avanzare la finestra25 con inizio ora nel byte L2 e apertura sem -", "pre di W byte. Questa informazione viene inviata alla stazione A sempre nello stesso istante \nt2. Solo una parte dei k2 byte già ricevuti nella stazione B e immagazzinati nel buffer RxB è \nstata consegnata al livello superiore. I restanti byte di k2 e i byte k3 + k4 devono ancora essere \nconsegnati al livello superiore.\nNell’istante t3 la nuova finestra con estremo inferiore L2 viene recepita nel buffer TxA, che", "ora contiene, in aggiunta a nuovi byte da trasmettere, anche k5 + k6 + k7 byte trasmessi e in \nattesa di riscontro. Di questi, i byte k5 e k7 sono stati già ricevuti nella stazione B, mentre i \nbyte k6 non sono ancora arrivati. La stazione B ha consegnato al livello superiore tutti i byte \nconsecutivi nel buffer fino al blocco k4 compreso e riscontra alla stazione A i byte k5, assu -\nmendo quindi L3 come nuovo estremo inferiore della finestra.", "Occorre osservare che l’ampiezza W della finestra, costante nell’esempio di Figura 3.85, \npotrebbe essere ridotta o ampliata dalla stazione ricevente, in funzione della velocità con cui \nessa riesce a consegnare i byte ricevuti al livello superiore.\n25  Si noti che l’avanzamento della finestra non richiede che i byte ricevuti siano prima consegnati al livello \nsuperiore. Si vuole qui fornire un esempio di applicazione di un meccanismo di controllo del flusso", "a credito esplicito end-to-end applicato a due sistemi terminali A e B che si scambiano UI \nsecondo queste specifiche: \n• A invia a B due blocchi di dati, il primo da 2000 byte e il secondo da 2700 byte, \nricevuti dal livello superiore rispettivamente negli istanti t0 e t1;\n• B invia ad A un blocco di dati di 500 byte ricevuto dal livello superiore nell’istante \nt2;\n• ogni UI può contenere al massimo 1000 byte, trascurando ogni tipo di overhead;", "• ogni UI trasmessa reca il numero di sequenza del primo byte che la stazione deve \ntrasmettere e il numero del primo byte che la stazione si aspetta di ricevere;Esempio 3.32\nPattavinaReti2021.indb   209PattavinaReti2021.indb   209 14/01/2022   16:09:0214/01/2022   16:09:02210  Capitolo 3 – Teoria dei protocolli\n 3E Controllo del flusso e della congestione\n• la finestra di ricezione RxB nella stazione B ha apertura Wr = 3000 byte ;", "• all’inizio della trasmissione (istante t0), la stazione A deve trasmettere il primo \nbyte di numero SA = 1000, mentre la stazione B deve trasmettere il primo byte di \nnumero SB = 450; questi due valori coincidono con i limiti inferiori delle rispettive \nfinestre di trasmissione.\nSi ipotizza che la rete che connette le due stazioni sia di tipo datagramma, che quindi non \nsia in grado di garantire la consegna in sequenza delle UI da una stazione ad un’altra.", "L ’evoluzione temporale dello scambio bidirezionale di UI è riportata in Figura 3.86, che \nmostra lo stato del buffer in trasmissione della stazione A, TxA, e del buffer in ricezione \ndella stazione B, RxB. Si assume che il parametro Ax inviato come riscontro dalla stazione x \n(x = A, B) indica la corretta ricezione fino al byte Ax _ 1. La stazione A inizia la trasmissione \nall’istante t0 delle prime due UI e, dopo un intervallo di pausa dovuta al buffer TxA vuoto,", "inizia a trasmettere il secondo blocco ricevuto dal livello superiore all’istante t1. Si noti \nche la finestra di TxA può avanzare per registrare il nuovo estremo inferiore della finestra \nLA = 2000 solo alla ricezione del primo riscontro dalla stazione B ( SB = 450, AB = 2000). \nLa trasmissione della terza UI da parte di A è resa possibile dalla parte residua di apertura \ndella finestra, non ancora utilizzata, per un ammontare di 1000 byte. La seconda UI di A", "non viene immediatamente riscontrata, perché B è impegnata dall’istante t2 nella trasmis -\nsione della propria UI con SB = 450 e AB = 2000. Terminata questa trasmissione, B invia il \nriscontro ( SB = 950, AB = 3000), la cui ricezione in A provoca l’avanzamento della finestra \ndi 1000 byte al nuovo valore LA = 3000. La ricezione in B di ognuna delle tre UI di A pro -\nvoca l’avanzamento della finestra di ricezione di 1000 byte per volta, anche se i byte rice -\nSA=1000\nAA=450\nSB=450", "SA=1000\nAA=450\nSB=450\nAB=2000SA=2000\nAA=450\nSB=450\nAB=20001000 9000\nBytedatrasmettere\nBytetrasmessiinattesadiriscontro\nPosizionivuote1000 9000\nIstantediarrivodidati\nnelbufferditrasmissioneBufferditrasmissione\nBufferdiricezione\nByteinattesadiconsegnaSA=3000\nAA=450\nSA=4000\nAA=450\nSA=5000\nAA=950SB=950\nAB=3000\nSB=950\nAB=4000\nSB=950\nAB=5700SB=950\nAB=4000t0\nt2B A\nt1\nFigura 3.86 Controllo del flusso a credito end-to-end secondo l’Esempio 3.32.", "PattavinaReti2021.indb   210PattavinaReti2021.indb   210 14/01/2022   16:09:0314/01/2022   16:09:033.12 Controllo del flusso a credito  211\n3.12.2 Altri controlli del flusso\nIn un controllo del flusso a credito non deve essere necessariamente la destinazione ad auto -\nrizzare le trasmissioni (con riscontri o crediti espliciti). Infatti, un meccanismo di controllo \ndel flusso a finestra può operare anche con metodo preventivo, ad anello aperto, dove cio è la", "sorgente stessa regola lo scorrimento della finestra. In un meccanismo di controllo del flusso \na finestra ad anello aperto con apertura massima di W unità informative, a ogni UI trasmessa \ncorrisponde la diminuzione di un’unità dell’apertura corrente, mentre ogni r secondi l’apertura \nviene riportata al suo valore massimo W . Naturalmente quando l’apertura corrente della fine -\nstra si annulla, la trasmissione è inibita anche se nel buffer di trasmissione Tx sono presenti UI", "in attesa di trasmissione. Facendo riferimento all’esempio di Figura 3.87, si vede come l’aper -\ntura W = 2 della finestra richiede di inibire la trasmissione dopo l’invio della seconda UI, fino \nalla successiva riapertura della finestra dopo r secondi. Questo controllo del flusso ad anello \naperto limita il traffico emesso dalla sorgente a un valore massimo di W /r UI per secondo. \nUn meccanismo a finestra applicato a livello 3 può realizzare anche il controllo della", "congestione  in rete. Per fare ciò il nodo sorgente può regolare dinamicamente l’apertura cor -\nrente della finestra non più sulla base di espliciti riscontri di unità informative, bensì sulla \nbase di segnalazioni sullo stato di congestione della rete ricevute da altri nodi sia vicini, sia \nlontani, oppure mediante rilevazioni locali. Si tratta quindi in questo caso di meccanismi di vuti non vengono immediatamente consegnati al livello superiore; l’estremo inferiore della", "finestra di ricezione assume così il valore LB = 4000. Si osserva che, in questo esempio, la \nrete consegna fuori sequenza la quarta UI ( SA = 4000, AA = 450) e la quinta UI ( SA = 5000, \nAA = 950) inviate da A a B. Ciò ha come conseguenza che RxB accetta quest’ultima perché  \nrientra nella propria finestra di ricezione, senza però poterla consegnare al livello superiore \nprima di ricevere l’UI che l’ha preceduta in trasmissione da parte di A. Infatti, quando l’ul -", "tima UI inviata da A viene ricevuta in B, la sua finestra di ricezione avanza di 1700 byte al \nnuovo valore LB = 5700, e tutti questi byte possono essere ora consegnati al livello superiore. \nr\nrB A\nFigura 3.87 Controllo del flusso a finestra ad anello aperto.\nPattavinaReti2021.indb   211PattavinaReti2021.indb   211 14/01/2022   16:09:0314/01/2022   16:09:03212  Capitolo 3 – Teoria dei protocolli\n 3E Controllo del flusso e della congestione", "3E Controllo del flusso e della congestione\ntipo reattivo, ad anello chiuso , con tempo di reazione più o meno lungo. Avendo indicato con \nW la massima apertura consentita della finestra, i meccanismi tipici di aggiornamento della \nfinestra sono due:\n• additivo , in cui l’apertura e la chiusura della finestra sono attuate in base alle condi -\nzioni Wnew = min{ Wold + K, W} e Wnew = max{ Wold – K, 0}, rispettivamente, in cui la \ncostante K deve essere scelta accuratamente26;", "costante K deve essere scelta accuratamente26;\n• moltiplicativo , in cui l’applicazione della condizione27 Wnew = αWold realizza l’apertura \ndella finestra con α > 1 e la chiusura della finestra con α < 1. \nQuesti due meccanismi di aggiornamento possono anche essere combinati, come normalmente \nsi fa, adottando tipicamente un incremento additivo e un decremento moltiplicativo. Ciò corri -\nsponde a ridurre la frequenza di emissione in proporzione a quella corrente, in presenza di un", "segnale di intervenuta congestione, e ad aumentare la frequenza di emissione di una quantità \nfissa, che non dipende da quella precedente, alla rilevazione di assenza di congestione. \n3.13 Controllo del flusso a frequenza\nI meccanismi di controllo del flusso a frequenza  sono basati su un controllo esplicito dei flussi \ndi traffico, sulla base di opportuni descrittori statistici; il parametro principale che viene con -", "trollato è la frequenza media A di trasmissione. Vengono descritte di seguito due tecniche di \ncontrollo del flusso di tipo a frequenza, basate sull’utilizzazione di due dispositivi denominati \nleaky bucket  e token bucket.  Rientrano nella classe delle tecniche di controllo ad anello aperto, \nin quanto non prevedono l’utilizzazione di alcun tipo di informazione relativa allo stato della \nrete cui offrono traffico.\n3.13.1 Leaky bucket", "rete cui offrono traffico.\n3.13.1 Leaky bucket\nLa tecnica leaky bucket  è utilizzata sia in accesso alla rete, sia su collegamenti interni; l’esem -\npio nella Figura 3.88 rappresenta il caso di controllo del flusso di accesso, ma nulla cambia se \nal posto del terminale si trova un altro nodo di rete. Secondo questa tecnica, il flusso è rego -\n26  Le condizioni citate garantiscono che l’apertura della finestra non ecceda il valore massimo W e la chiusura", "della finestra non risulti in un’apertura negativa.\n27 Si opererà l’approssimazione al più vicino intero della nuova apertura in caso di risultato non intero.\nPermessiUI\nWu1PsPb\nν\nFigura 3.88 Controllo del flusso a frequenza di tipo leaky bucket.\nPattavinaReti2021.indb   212PattavinaReti2021.indb   212 14/01/2022   16:09:0314/01/2022   16:09:033.13 Controllo del flusso a frequenza  213\nlato per mezzo di un cosiddetto “secchio bucato” (realizzato da una memoria), interposto tra", "sorgente e collegamento trasmissivo in uscita, la cui capacità è limitata. Il secchio (di capacità \nWu unità informative) riceve le UI dalla sorgente a frequenza di cifra Ps (bit/s), sulla base del \nfattore di burstiness di questa, e li accetta a condizione che possano trovare posto nel secchio \n(essere memorizzati), altrimenti li rifiuta. Il secchio si svuota grazie al “buco”, che nel siste -\nma reale significa che la memoria viene svuotata trasmettendo le UI alla frequenza costante", "n con cui arrivano i permessi, cio è uno ogni 1/ n secondi, sul collegamento uscente che opera \na frequenza di cifra Pb (bit/s); naturalmente la trasmissione cessa quando il buffer è vuoto28. \nQuesto meccanismo opera correttamente se le UI sono di lunghezza costante. Nel caso \ndi UI a lunghezza variabile è meglio operare con un conteggio dei byte, invece che delle UI. \nAllora un’UI è accettata nella memoria se il numero di byte liberi è sufficiente a contenerla", "e la trasmissione di una o più UI ha inizio ogni r secondi, per un numero massimo di byte \npredefinito, per esempio K . Poiché ogni UI deve essere trasmessa per intero, generalmente la \ntrasmissione riguarda un numero di byte inferiore a K , poiché la somma dei byte delle prime \nUI in attesa difficilmente è esattamente uguale a K byte. \nIl dispositivo leaky bucket controlla il flusso del traffico che lo attraversa in modo che, se", "Lp indica la lunghezza in bit di un’UI, la frequenza media di uscita (misurata in bit/s) non può \nsuperare il valore:\n)3.54( AbmaxLpν⋅ = .           \nNaturalmente questa frequenza non può mai eccedere la frequenza di trasmissione sulla linea \ndi uscita, cio è Abmax ≤ Pb. \n28  Si faccia attenzione a non confondere la frequenza media As di emissione delle UI da parte della sorgente con", "la frequenza di trasmissione Ps sulla linea, che è generalmente molto più grande. Per esempio, se la frequen -\nza media di emissione delle UI, assunte di lunghezza fissa 100 byte, è n = 10 (s–1) e la frequenza in linea è \nPs = 64.000 bit/s, allora si determina un flusso medio in ingresso al leaky bucket (e anche in uscita, in assenza \ndi perdita) di 8000 bit/s.Si consideri una sorgente VBR di tipo ON-OFF periodica, la cui attività per un periodo di", "3 s sia quella riportata nella Figura 3.89 e sia così caratterizzata:\n• frequenza di picco, Ps = 1 Mbit/s;\n• periodi di attività e di inattività di durata costante, TON = 0,8 s e TOFF = 1 s;\n• UI emesse a lunghezza fissa, Lp = 25.000 byte. \nSi chiede di ricavare l’andamento del flusso in uscita da un leaky bucket, con secchio di \ncapacità Wu = 10 UI, per i due casi:\n• frequenza in uscita Pb = 4 Mbit/s con tempo di interarrivo dei permessi 1/ n = 400 ms,", "• frequenza in uscita Pb = 1 Mbit/s con tempo di interarrivo dei permessi 1/ n = 300 ms,\navendo assunto t0 = 100 ms come l’istante di primo arrivo dei permessi. \nUtilizzando l’Equazione 2.2, si ricavano il fattore di burstiness della sorgente, B  @ 0,444, \ne la sua frequenza media, As @ 444 kbit/s. Inoltre, dato che le UI sono di lunghezza fissa \nLp = 25.000 byte, a ogni burst corrisponde l’arrivo di 4 UI. La Figura 3.90a mostra l’attività Esempio 3.33", "PattavinaReti2021.indb   213PattavinaReti2021.indb   213 14/01/2022   16:09:0314/01/2022   16:09:03214  Capitolo 3 – Teoria dei protocolli\n 3E Controllo del flusso e della congestione\n3.13.2 Token bucket\nLa tecnica leaky bucket controlla rigidamente la frequenza in uscita dal secchio, indipenden -\ntemente dal fattore di burstiness B della sorgente. Una tecnica più adatta a sorgenti bursty è \nquella realizzata dal token bucket , rappresentato nella Figura 3.91, anch’esso utilizzato sia in", "accesso alla rete, sia su collegamenti internodo. In questo caso il flusso è regolato per mezzo \ndi un secchio di capacità finita, che ora raccoglie “permessi”. Il secchio (realizzato da una sulla linea uscente dal dispositivo di controllo del flusso con frequenza Pb = 4 Mbit/s. Si \nnoti che, utilizzando l’Equazione (3.54), i parametri assegnati configurano una capacità \nmassima di accesso alla rete allocata alla sorgente Abmax = 500 kbit/s; inoltre, data la carat -", "terizzazione della sorgente, la capacità del secchio è tale che non si verifica mai la sua \nsaturazione e quindi la perdita di dati. Il profilo di traffico in uscita dal leaky bucket mostra \nquindi la regolarità imposta dalla frequenza di arrivo dei permessi. Nel caso di frequenza \ndi uscita Pb = 1 Mbit/s con interarrivo dei permessi ogni 300 ms, la capacità massima di \naccesso alla rete diventa Abmax @ 666 kbit/s. Il relativo profilo di traffico in uscita, mostrato", "in Figura 3.90b, presenta la stessa regolarità del caso precedente  con intervalli tra UI più \nbrevi dato la minore capacità sulla linea uscente dal leaky bucket.1,0\n0,8\n0,6\n0,4\n0,2\n0,0t[s]\n0,5 1,0 1,5 2,0 2,5 3,0Ps[Mbit/s]\n1,2\n0,0\nFigura 3.89 Profilo di attività per la sorgente VBR secondo l’Esempio 3.33.\nPb[Mbit/s]\n5\n4\n3\n2\n1\n0t[s]\n0,5 1,0 1,5 2,0 2,5 3,06\n0,0\nt[s]\n0,5 1,0 1,5 2,0 2,5 3,0Pb[Mbit/s]\n0,01,0\n0,8\n0,6\n0,4\n0,2\n0,01,2(a)\n(b)", "0,01,0\n0,8\n0,6\n0,4\n0,2\n0,01,2(a)\n(b)\nFigura 3.90 Flusso dal leaky bucket secondo l’Esempio 3.33: Pb = 4 Mbit/s (a), 1 Mbit/s (b).\nPattavinaReti2021.indb   214PattavinaReti2021.indb   214 14/01/2022   16:09:0514/01/2022   16:09:053.13 Controllo del flusso a frequenza  215\nmemoria di capacità Wp permessi), riceve permessi a frequenza costante  n, cioè uno ogni 1/ n \nsecondi; i permessi ricevuti quando il buffer dei permessi è pieno vengono scartati. Le UI", "generate dalla sorgente vengono immagazzinate in una memoria separata, arbitrariamente \ngrande, e possono essere trasmesse solo consumando un permesso dal secchio; quindi, il \ndispositivo consente anche la trasmissione di Wp UI consecutive (burst) alla frequenza Pb bit/s, \ngarantendo tuttavia che la frequenza media di trasmissione non ecceda n UI al secondo. Anche \ncon il token bucket è possibile gestire più flessibilmente UI a lunghezza variabile, trasforman -", "do il permesso per un’UI nel permesso per K byte. La trasmissione di un’UI può avvenire se il \nsecchio contiene permessi in numero di byte almeno uguale alla sua lunghezza.  \nSi osservi che il token bucket consente di memorizzare le UI entro la capacità della relativa \nmemoria (in questo caso vengono scartati solo permessi), mentre il leaky bucket forza lo scar -\nto delle UI quando il buffer è pieno (infatti la dimensione Wu del buffer è uno dei parametri", "che agisce sul flusso in ingresso al dispositivo). \nAnche per il token bucket vale l’Equazione (3.54) che definisce il valore massimo della \nfrequenza media in uscita. Tuttavia, mentre nel leaky bucket la frequenza istantanea di tra -\nsmissione delle UI coincide con quella n di arrivo dei permessi se il buffer non è mai vuoto, \nnel token bucket essa può mantenersi uguale alla frequenza Pb/Lp per un tempo massimo \nuguale a quello richiesto per lo svuotamento del buffer dei permessi.", "Si ripete ora l’Esempio 3.33 per il dispositivo token bucket, assumendo una capacità Wp = 10 \npermessi per il dispositivo.\nOccorre osservare che, mentre con il leaky bucket l’emissione di un’UI avviene a seguito \ndella ricezione di un permesso, con il token bucket la trasmissione avviene non appena \nil dispositivo ha collezionato il numero di byte che compongono un’UI e nel buffer dei \npermessi è presente almeno un permesso. Quindi, come mostrato in Figura 3.92a nel caso", "di frequenza di uscita Pb = 4 Mbit/s, il token bucket produce un’uscita meno regolare del \nleaky bucket a causa della memorizzazione dei permessi. Quando la frequenza di uscita è \nPb = 1 Mbit/s e i permessi sono ricevuti ogni 0,3 s, il token bucket trasmette con continuità \nle UI generate da ogni burst in ingresso (Figura 3.92b), in quanto i permessi immagazzinati \nconsentono di trasmettere il burst ricevuto senza interruzioni.Esempio 3.34\nPermessiUI\nWp1PsPb\nν", "PermessiUI\nWp1PsPb\nν\nFigura 3.91 Controllo del flusso a frequenza di tipo token bucket.\nPattavinaReti2021.indb   215PattavinaReti2021.indb   215 14/01/2022   16:09:0514/01/2022   16:09:05216  Capitolo 3 – Teoria dei protocolli\n 3E Controllo del flusso e della congestione\n3.13.3 Esempi applicativi\nUn primo esempio applicativo dei dispositivi per il controllo del flusso consiste nel considera -\nre la modalità di commutazione a pacchetto cut-through  (CT), in alternativa alla più classica", "modalità store and forward  (S&F) considerata finora. Nelle operazioni S&F la trasmissione \ndell’UI in uscita dal bucket non può avere inizio prima che tutti i suoi bit siano stati ricevuti; \ninvece, nella modalità CT la trasmissione dei bit ricevuti richiede solo la memorizzazione \ndell’header la cui elaborazione consente l’inoltro dell’UI. Evidentemente, in quest’ultimo caso, \ncome già specificato nel Paragrafo 2.3.4, la frequenza in uscita non può essere superiore a", "quella di ingresso, cio è Pb ≤ Ps.5\n4\n3\n2\n1\n0\n0,5 1,0 1,5 2,0 2,5 3,0Pb[Mbit/s]\n6\n0,0t[s]\n0,5 1,0 1,5 2,0 2,5 3,0Pb[Mbit/s]\n0,0t[s]1,0\n0,8\n0,6\n0,4\n0,2\n0,01,2(a)\n(b)\nFigura 3.92 Flusso dal token bucket secondo l’Esempio 3.34: Pb = 4 Mbit/s (a), 1 Mbit/s (b).\nSi ripetono ora l’Esempio 3.33 e l’Esempio 3.34 nell’ipotesi che il dispositivo di controllo \ndel flusso operi l’inoltro secondo la modalità cut-through, assumendo che l’header delle UI \ngenerate abbia lunghezza nulla.", "generate abbia lunghezza nulla.\nLa modalità cut-through è compatibile solamente con il secondo caso considerato negli \nesempi citati, in quanto considera la frequenza in uscita Pb = 1 Mbit/s che non supera quella \ndi ingresso. Come mostrato in Figura 3.93, il flusso uscente dal leaky bucket è uguale a \nquello del caso di inoltro S&F riportato in Figura 3.90, in quanto l’arrivo del primo per -\nmesso a partire dall’inizio della ricezione del burst coincide con l’istante in cui i bit della", "prima UI sono stati completamente ricevuti. Nel token bucket, invece, osserviamo che il \nprimo burst viene trasmesso con interruzioni. Ciò è dovuto al fatto che l’inoltro in uscita \ndel primo burst inizia con l’istante di inizio ricezione del burst, grazie al primo permesso \nimmagazzinato, ma la frequenza massima consentita dal bucket è inferiore a quella di rice -\nzione del burst ( Abmax @ 666 kbit/s, Ps = 1 Mbit/s). La trasmissione diventa continua con il", "secondo burst nel token bucket, poiché i permessi immagazzinati compensano la differenza \ntra le due frequenze durante l’intervallo di ricezione del secondo burst. Esempio 3.35\nPattavinaReti2021.indb   216PattavinaReti2021.indb   216 14/01/2022   16:09:0514/01/2022   16:09:053.13 Controllo del flusso a frequenza  217\nPer descrivere un secondo esempio applicativo dei dispositivi per il controllo del flusso, con -", "sideriamo ora una sorgente di traffico di tipo più generale rispetto a una sorgente VBR di \ntipo ON-OFF. Si assume qui che questa sorgente sia di tipo non periodico con frequenza di \nemissione Ps che varia nel tempo. \nNaturalmente, per valutare l’efficacia del dispositivo nel regolare il traffico offerto dalla \nsorgente, considereremo un contesto applicativo in cui la frequenza media della sorgente nel", "periodo di osservazione As non eccede il valore massimo della frequenza in uscita Abmax, così \nda garantire condizioni di stabilità al sistema. Inoltre, la valutazione dell’efficacia del dispo -\nsitivo richiede che, almeno in alcuni intervalli di tempo, la frequenza di picco della sorgente, \nPs, ecceda la frequenza media in uscita dal bucket, così che il buffer delle UI possa entrare \nin funzione.t[s]\n0,5 1,0 1,5 2,0 2,5 3,0Pb[Mbit/s]\n0,01,0\n0,8\n0,6\n0,4\n0,2\n0,01,2", "0,01,0\n0,8\n0,6\n0,4\n0,2\n0,01,2\n0,5 1,0 1,5 2,0 2,5 3,0Pb[Mbit/s]\n0,0t[s]1,0\n0,8\n0,6\n0,4\n0,2\n0,01,2(a)\n(b)\nFigura 3.93 Flusso dal leaky bucket (a) e dal token bucket (b) secondo l’Esempio 3.35.\nSi considera una sorgente di traffico, con frequenza di emissione delle UI Ps riportata nella \nFigura 3.94, che alimenta un leaky bucket così caratterizzato:\n• tempo di interarrivo dei permessi, 1/ n = 5 ms;\n• dimensione della memoria (buffer) delle UI, Wu = 600 UI.", "Si vuole ricavare il diagramma temporale che rappresenta la frequenza in uscita fout dal \ndispositivo, il livello di riempimento della memoria Lb, nonché il numero di UI perse, Np. \nAlla frequenza di arrivo dei permessi corrisponde una frequenza massima in uscita n = 200 \nUI/s. Come mostrato in Figura 3.95, il buffer comincia a riempirsi quando la frequenza in \ningresso Ps supera quella consentita dal flusso dei permessi, mentre si svuota quando avvie -", "ne il contrario. Nel primo caso il livello del buffer Lb è dato dall’area sottesa tra la curva Ps \ne il livello 200 UI/s. Nel secondo caso il livello scende alla velocità data dalla frequenza di \narrivo dei permessi. Nel nostro esempio il buffer è saturo all’istante T  = 6 s; vengono quindi \npersi Np = 300 UI nell’intervallo di tempo in cui la frequenza di ingresso resta maggiore Esempio 3.36", "PattavinaReti2021.indb   217PattavinaReti2021.indb   217 14/01/2022   16:09:0614/01/2022   16:09:06218  Capitolo 3 – Teoria dei protocolli\n 3E Controllo del flusso e della congestione\n500\n400\n300\n200\n100\n0t[s]\n5 10 15 20 25Ps[UI/s]\n600\n0\nFigura 3.94 Frequenza di emissione della sorgente secondo l’Esempio 3.36.\nLb[UI]\n500\n400\n300\n200\n100\n0\n5 10 15 20 25600\n0t[s]\nFigura 3.95 Livello di riempimento della memoria secondo l’Esempio 3.36.\nfout[UI/s]\n500\n400\n300\n200\n100\n0t[s]\n5 10 15 20 25600\n0", "500\n400\n300\n200\n100\n0t[s]\n5 10 15 20 25600\n0\nFigura 3.96 Frequenza di uscita dal leaky bucket secondo l’Esempio 3.36.di quella dei permessi. Si ricava allora facilmente il diagramma temporale della frequenza \nin uscita fout dal dispositivo, riportato in Figura 3.96, osservando che essa uguaglia quella \ndi ingresso se il buffer è vuoto e la frequenza di arrivo delle UI è inferiore a quella n dei \npermessi; altrimenti essa coincide con la frequenza di arrivo dei permessi, n = 200 (s-1),", "fino a che il buffer non si svuota. \nPattavinaReti2021.indb   218PattavinaReti2021.indb   218 14/01/2022   16:09:0614/01/2022   16:09:0610CAPITOLOLa rete \ninternetIIPARTE\nCapitolo 4 Strato di applicazione\nCapitolo 5 Strato di trasporto\nCapitolo 6 Strato di rete\nPattavinaReti2021.indb   219PattavinaReti2021.indb   219 14/01/2022   16:09:0614/01/2022   16:09:06PattavinaReti2021.indb   220PattavinaReti2021.indb   220 14/01/2022   16:09:0614/01/2022   16:09:064CAPITOLO Strato di applicazione", "4CAPITOLO\nCon questo capitolo ha inizio la descrizione dell’architettura \nInternet a partire dallo strato che si trova più in alto, e cio è \nquello di applicazione. Vengono introdotti i due paradigmi \n“client-server” e “peer-to-peer”, che caratterizzano l’inte -\nrazione tra processi applicativi, e le modalità secondo cui \nlo strato applicativo interagisce con il sottostante strato di \ntrasporto. Nell’ambito del primo paradigma sono descritte", "quattro applicazioni che rivestono una grande importanza \nnel mondo di Internet, e cio è la gerarchia dei nomi di domi -\nnio (DNS), la posta elettronica (SMTP), il trasferimento di \nfile (FTP) e il “world wide web” (WWW). Infine, si accen -\nna al problema della scalabilità di una rete associata ai due \ndiversi paradigmi dei processi applicativi e alle principali \napplicazioni che hanno avuto successo nell’ambito del para -\ndigma peer-to-peer .\n4.1 Introduzione", "digma peer-to-peer .\n4.1 Introduzione\nLo strato di applicazione rappresenta il livello più alto \ndell’architettura a strati introdotta nel Paragrafo 1.3.1. Ven -\ngono qui definiti i programmi o processi applicativi utiliz -\nzati per fornire servizi, qualunque siano le localizzazioni \ndel fornitore e dell’utilizzatore del servizio. Naturalmente, \na meno che fornitore e utilizzatore non siano residenti nello \nstesso sistema, si richiede la disponibilità di risorse di rete", "per consentire la comunicazione. La rete Internet, per defi -\nnizione, rende disponibili le risorse di comunicazione e le \nprocedure da attuare per mettere in comunicazione fornitore \ne utilizzatore del servizio. \nFacciamo riferimento alla Figura 4.1, che rappresenta \nl’interazione tra un terminale mobile (che riceve connetti -\nvità in una rete radiomobile) e un server posizionato in una Argomenti\n4.1 Introduzione\n4.2 Applicazioni e servizi\n4.3 Nomi di dominio - DNS\n4.4 Posta elettronica - SMTP", "4.4 Posta elettronica - SMTP\n4.5 Trasferimento di file - FTP\n4.6 World wide web - HTTP\n4.7 Architetture peer-to-peer\nPattavinaReti2021.indb   221PattavinaReti2021.indb   221 14/01/2022   16:09:0714/01/2022   16:09:07222  Capitolo 4 – Strato di applicazione\ncontent delivery network1 (CDN). Nella figura si è ipotizzato che un terminale mobile acceda \nalla rete Internet attraverso un Internet service provider  (ISP) locale e che la CDN sia con -", "nessa direttamente a un ISP di livello più alto (Tier 1 ISP). Anche se la comunicazione tra i \ndue sistemi terminali avviene attraverso un ISP regionale, in aggiunta agli ISP di accesso e \ndi primo livello, l’interazione tra sistemi terminali è esclusivamente di tipo logico tra istanze \ndi programmi applicativi eseguite localmente. Naturalmente, lo scambio di unità informative \ntra terminale mobile e server richiede l’esecuzione di protocolli di comunicazione in tutti gli", "strati sottostanti lo strato di applicazione, fino a giungere allo strato fisico. \n4.2 Applicazioni e servizi\nPrima di descrivere le principali applicazioni che rendono ormai Internet uno degli strumenti \npiù importanti per il progresso di una società globale senza frontiere, si introducono i principi \nalla base dell’interazione tra entità nell’ambito di un’applicazione. Naturalmente, la descri -\nzione dei meccanismi di funzionamento di un’applicazione con riferimento all’architettura a", "strati richiede la conoscenza dei servizi resi disponibili dallo strato di trasporto sottostante.\n1  Una CDN è una rete dedicata al trasferimento di file di grandi dimensioni, tipicamente video, dal fornitore di \nservizi direttamente agli utilizzatori finali.\nRegion alISPCDN\nMobi lenetworkTier1ISP\nAccess ISP\nTrasporto\nRete\nFisicoCollegament oApplicazioneTrasporto\nRete\nCollegamento\nFisicoApplic azione\nFigura 4.1 Connessione logica end-to-end tra applicazioni.", "PattavinaReti2021.indb   222PattavinaReti2021.indb   222 14/01/2022   16:09:0714/01/2022   16:09:074.2 Applicazioni e servizi  223\n4.2.1 Architetture di applicazione\nLe applicazioni residenti nei sistemi terminali, che vengono rese disponibili tramite esecuzio -\nne di processi applicativi, si scambiano informazioni mediante messaggi . I protocolli appli -\ncativi definiscono le regole e le modalità secondo cui i messaggi vengono scambiati. Queste", "regole includono la definizione dei formati dei messaggi e le modalità di interpretazione delle \ninformazioni ivi contenute. Il trasferimento di messaggi tra applicazioni remote richiede l’im -\npiego di risorse di comunicazione in quantità e caratteristiche che dipendono dalla distanza \ntra sistemi terminali e dai requisiti di trasferimento richiesti dalle applicazioni stesse, come \nper esempio il tempo di ritardo, il throughput, l’integrità delle informazioni trasportate, ecc.", "Tradizionalmente l’interazione tra due applicazioni avviene secondo il paradigma \nclient-server  (C-S), secondo cui uno dei due processi svolge solo la funzione di server  e for -\nnisce servizi all’altro processo, che svolge solo la funzione di client . Un processo client genera \nquindi richieste  indirizzate al processo server, che le interpreta e fornisce risposte ; richieste \ne risposte sono definite nel protocollo applicativo che regola l’interazione tra client e server.", "Affinché ciò possa avvenire, da una parte il processo server deve essere inizializzato e rima -\nnere sempre attivo in attesa di richieste da parte dei client; questa procedura prende il nome di \npassive open . Dall’altra parte, il processo client che desideri ricevere un servizio viene attivato \nemettendo una richiesta indirizzata al server; questa procedura prende il nome di active open . \nNaturalmente, la richiesta emessa dal client deve specificare tramite un “indirizzo” dove si", "trova il processo server. \nIl paradigma client-server, nella sua semplicità di divisione dei due ruoli, manifesta tutta -\nvia un importante limite, detto di “scalabilità”, nel momento in cui il numero di client cresce a \ndismisura e il server deve far fronte alle richieste di tutti i client. Ciò accade quando il servizio \nfornito è particolarmente importante, o comunque utile, per i potenziali utilizzatori che quindi", "potrebbero saturare la capacità del server di fornire risposte a tutte le richieste ricevute. Una \nsoluzione naturale a questo problema consiste nel replicare i server in modo che ognuno di \nquesti possa far fronte a un numero limitato di richieste, così da rendere possibile la fornitura \ndel servizio richiesto a tutti i client. \nUn approccio alternativo alla soluzione del problema della scalabilità nel paradigma", "client-server risiede nel prevedere che tutti i processi coinvolti nell’interazione, chiamati peer , \nsvolgano lo stesso ruolo che può essere alternativamente, o contemporaneamente, di client \noppure di server. Con questo nuovo approccio, denominato paradigma peer-to-peer  (P2P), \nla funzione di fornitore di servizio viene distribuita tra tutti i processi, così che il problema \ndella scalabilità viene implicitamente risolto. Naturalmente occorre coordinare la funzione di", "server svolta dai singoli peer, affinché la distribuzione delle richieste e delle risposte utilizzi \nin modo ottimale le risorse di elaborazione e di comunicazione disponibili. \nUn esempio di interazione tra applicazioni secondo il paradigma client-server è rappresen -\ntato in Figura 4.2a, dove sono mostrate tre reti locali (LAN) che connettono host, una delle \nquali dispone di due server. Si osserva come il server S1 interagisca con client nella rete LAN", "1, mentre il server S2 è in comunicazione con client delle reti LAN 2 e LAN 3. Nel caso del \nparadigma peer-to-peer , mostrato in Figura 4.2b, gli stessi host sono mutuamente connessi, \nsenza avere necessità di interagire con server. \nPattavinaReti2021.indb   223PattavinaReti2021.indb   223 14/01/2022   16:09:0714/01/2022   16:09:07224  Capitolo 4 – Strato di applicazione\n4.2.2 Servizi di trasporto", "4.2.2 Servizi di trasporto\nLe applicazioni, o processi applicativi, che rispondono ai principi delle architetture client-ser -\nver o peer-to-peer, ricevono un servizio di trasferimento delle informazioni dal livello di tra -\nsporto sottostante attraverso uno specifico protocollo, le cui caratteristiche variano a seconda \ndelle prestazioni di trasferimento delle informazioni che vengono richieste. Come già accen -", "nato nel Paragrafo 2.1.3, i requisiti delle applicazioni in termini di ritardo di trasferimento \ndelle unità informative, capacità minima del flusso informativo, grado di integrità del flusso \ninformativo ricevuto a destinazione, possono variare significativamente in base alla tipologia \ndi applicazione. Per esempio, i servizi in tempo reale audio/video richiedono tempi di ritardo \nmolto ridotti con piccola variabilità, mentre possono accettare limitate perdite di informazio -", "ni. I servizi dati possono accettare tempi di ritardo più alti, ma sono particolarmente sensibili \nall’integrità del flusso ricevuto. I servizi video di realtà virtuale o realtà aumentata richiedono \nil trasporto di flussi di notevole entità.\nI protocolli di trasporto inizialmente definiti dalla pila protocollare TCP/IP sono due: \ntransmission control protocol  (TCP) e user datagram protocol  (UDP), le cui caratteristiche", "sono molto diverse e si adattano meglio agli specifici requisiti delle varie applicazioni. Suc -\ncessivamente sono stati definiti altri protocolli di trasporto, che rispondono a requisiti diversi \nsulle modalità di interazione tra applicazioni che non vengono soddisfatti dai due protocolli \nTCP e UDP.\nL ’interazione tra applicazioni residenti in sistemi terminali remoti che comunicano attra -\nverso una o più reti richiede la definizione di un meccanismo di indirizzamento che consenta", "a ognuno dei processi applicativi in gioco di comunicare con un determinato processo applica -\ntivo remoto. Ciò viene reso possibile dalla definizione di socket , che indica in modo univoco \nun processo applicativo in un sistema terminale (host/server), raggiungibile attraverso Internet Figura 4.2 Esempio di interazione client-server (a) e peer-to-peer (b) tra applicazioni. LAN1\nLAN2LAN3InternetS1\nS2\nLAN1\nLAN2LAN3InternetS1\nS2(a)\n(b)", "S2\nLAN1\nLAN2LAN3InternetS1\nS2(a)\n(b)\nPattavinaReti2021.indb   224PattavinaReti2021.indb   224 14/01/2022   16:09:0814/01/2022   16:09:084.2 Applicazioni e servizi  225\npresso un determinato indirizzo di rete. La socket rappresenta l’interfaccia tra il protocollo \napplicativo e il protocollo di trasporto, cio è il luogo dove avviene lo scambio di informazione \ntra i due protocolli e quindi, come tale, possiamo dire che rappresenta il punto di accesso al", "servizio (T-SAP) reso disponibile dal protocollo di trasporto (vedi Paragrafo 1.3.1). La Figura \n4.3 mostra un esempio di tre protocolli applicativi, SMTP, HTTP, DNS, che si interfacciano, \nognuno con la propria socket, al relativo protocollo di trasporto, cio è TCP o UDP. \nUna socket in un sistema terminale è definita come una coppia di indirizzi < NA, PN> in \ncui: \n• NA è l’indirizzo di rete dell’host dove viene eseguito il processo,", "• PN è il numero di porta associato al processo nell’host/server. \nSi osservi che questa struttura dati consente di indirizzare una specifica applicazione tra le \nmolte che vengono eseguite in parallelo in ogni host. A ogni socket sono associati due buffer, \nuno di trasmissione e uno di ricezione. Il primo riceve i dati generati dall’applicazione locale \nche devono essere trasferiti dal protocollo di trasporto all’applicazione remota. Il secondo,", "attraverso il protocollo di trasporto, riceve dall’applicazione remota i dati in attesa di essere \nletti dall’applicazione locale. \nLe socket consentono ai protocolli di trasporto TCP e UDP di svolgere la funzione di mul -\ntiplazione/demultiplazione , cioè il trasporto di più messaggi di diverse applicazioni tra due \nsistemi terminali. I diversi messaggi generati in un sistema terminale vengono multiplati dal", "protocollo di trasporto su un unico flusso informativo che viene poi demultiplato nel sistema \nterminale di destinazione consegnando i singoli messaggi nelle socket indirizzate. \nProtocollo TCP\nIl protocollo TCP rende disponibile un servizio di trasporto end-to-end di flussi informativi \nbasati sul conteggio di byte anziché sul trasferimento di unità informative, ognuna dotata di \napposita numerazione. Questo servizio viene fornito in modalità connection-oriented , preve -", "dendo cio è una fase preliminare di instaurazione della connessione virtuale tra le due stazioni \nremote che precede la vera e propria fase di trasferimento del flusso informativo. Una con -\nnessione TCP viene identificata univocamente per mezzo di due socket e quindi per mezzo \ndi una quadrupla: indirizzo di rete locale, numero di porta locale, indirizzo di rete remoto, \nnumero di porta remoto.\nLa fase di negoziazione iniziale tra le stazioni consente di garantire un insieme di funzioni", "che caratterizzano la qualità del servizio fornito dal protocollo TCP ai processi applicativi \nsovrastanti. Queste proprietà consistono in:\nSMTP HTTP DNS\nSocket\nTCP UDPT-SAPApplicazione\nTraspor to\nFigura 4.3 Esempio di socket associate a protocolli applicativi. \nPattavinaReti2021.indb   225PattavinaReti2021.indb   225 14/01/2022   16:09:0814/01/2022   16:09:08226  Capitolo 4 – Strato di applicazione\n• trasferimento affidabile  delle unità informative, grazie al meccanismo di conteggio", "del flusso di byte che consente al ricevitore di recuperare eventuali segmenti informa -\ntivi andati persi durante il trasferimento tra le due stazioni remote;\n• controllo del flusso  tra le due stazioni terminali, regolato da una procedura di auto -\nrizzazione a trasmettere da parte della stazione ricevente a quella trasmittente che \npreviene fenomeni di perdita di informazione per saturazione del buffer in ricezione;", "• controllo della congestione  della rete, attuato mediate procedure di regolazione del \nflusso immesso in rete, che dipendono dalla qualità del servizio di trasferimento \nrilevato;\n• controllo degli errori  sulle unità informative trasportate.\nOccorre osservare che tutto ciò non è comunque sufficiente a garantire un determinato grado \ndi servizio sui tempi di trasferimento delle informazioni, dato che nella commutazione di", "pacchetto fornita dal servizio di rete sottostante non è possibile garantire con certezza la \ndisponibilità continua della capacità richiesta dalle stazioni terminali.\nProtocollo UDP\nIl servizio di trasporto reso disponibile dal protocollo UDP viene fornito in modalità con -\nnectionless , consentendo quindi il trasferimento di informazioni tra due socket senza alcuna \npreventiva instaurazione di connessione tra le relative stazioni terminali. Ne consegue che", "il servizio reso ai processi applicativi non può fornire le stesse garanzie di prestazioni del \nprotocollo TCP.\nIl trasferimento di informazioni avviene sulla base di unità informative che non prevedo -\nno alcun tipo di numerazione. Non è quindi possibile garantire un trasferimento affidabile \ndell’informazione, non essendo disponibili meccanismi di rilevazione della perdita di unità \ninformative. Inoltre, l’assenza di una fase preliminare di negoziazione tra le stazioni terminali", "rende impossibile attuare procedure di controllo di flusso e di congestione. Viene comunque \nresa disponibile la funzionalità di controllo degli errori del segmento informativo trasportato. \nNonostante queste limitazioni del servizio fornito dal protocollo UDP, sono molte le appli -\ncazioni che meglio si adattano a fruire di un servizio di trasporto caratterizzato da una tale \nsemplicità.\nAltri protocolli", "semplicità.\nAltri protocolli\nIn linea di principio, non sarebbe strettamente necessario adottare uno dei due protocolli pre -\ncedentemente descritti, cio è TCP e UDP, come protocollo di trasporto end-to-end a supporto \ndi qualsivoglia applicazione. Come dato di fatto, questi due protocolli sono adottati quasi \novunque, perché sono gli unici due protocolli di trasporto definiti sin dall’inizio nella pila \nprotocollare TCP/IP.", "protocollare TCP/IP. \nOccorre tuttavia osservare che i requisiti di alcune delle più recenti applicazioni che sono \nstate sviluppate e si sono diffuse nella rete difficilmente possono essere soddisfatti da questi \ndue protocolli. Basti pensare alle applicazioni che forniscono servizi in tempo reale, come \nper esempio lo streaming live multimediale. In casi come questi, l’applicazione richiede la \ndisponibilità di una capacità minima a supporto del servizio, la garanzia di un tempo di ritar -", "do particolarmente piccolo e la capacità di sincronizzazione alla ricezione dei flussi audio e \nPattavinaReti2021.indb   226PattavinaReti2021.indb   226 14/01/2022   16:09:0814/01/2022   16:09:084.2 Applicazioni e servizi  227\nvideo che compongono il flusso informativo complessivo. Nessuno dei due protocolli TCP e \nUDP è stato definito per tenere conto di questi vincoli, quindi devono essere disponibili altri \nprotocolli di trasporto che siano in grado di soddisfare queste esigenze.", "Nel corso degli anni sono stati proposti numerosi nuovi protocolli di trasporto, anche in \nambito IETF, che potessero rispondere ai nuovi requisiti di trasporto in rete delle più recenti \napplicazioni. Alcuni di questi sono diventati standard e sono ampiamente adottati ove richie -\nsto dalle applicazioni che ne chiedono la disponibilità, altri rimangono invece allo stato di \nproposta, o bozza, di standard perché non è stato raggiunto il consenso necessario per una \ngenerale accettazione.", "generale accettazione.\nTra gli altri protocolli di trasporto standard citiamo SIP e RTP. Il protocollo session initia -\ntion protocol  (SIP) [RFC3261] svolge funzioni di segnalazione per instaurare e rilasciare con -\nnessioni attraverso Internet per il supporto di servizi in tempo reale, come quelli di tipo audio \no video. I messaggi del protocollo SIP sono tipicamente trasferiti attraverso la rete incapsulati", "in segmenti UDP. Per le applicazioni multimediali, il protocollo real time protocol  (RTP) \n[RFC3550] realizza la multiplazione dei diversi flussi che compongono il segnale complessivo, \nper esempio audio e video, provvedendo alla loro riproduzione sincronizzata a destinazione. \nDato che anche RTP trasferisce dati attraverso segmenti del protocollo UDP, nasce il dubbio \nse SIP e RTP siano protocolli di livello applicativo oppure protocolli di trasporto. Anche in", "questo caso, come in altri già citati in precedenza (vedi Paragrafo 1.3.3), la risposta non è uni -\nvoca e ciò è dovuto a una limitazione del modello a strati nel definire sempre con chiarezza il \nlivello di appartenenza di uno specifico protocollo. \nLa Tabella 4.1 mostra il protocollo di trasporto utilizzato per alcune applicazioni, riportan -\ndo anche l’organizzazione di origine, e cio è standard IETF, oppure una specifica proprietaria.", "In quest’ultima categoria rientrano molti dei protocolli per servizi in tempo reale sviluppati \nnegli ultimi anni e oggi ampiamente diffusi, come quelli per telefonia in tempo reale (per \nesempio Skype), per streaming live oppure on-demand. Si può osservare che il protocollo TCP, \nTabella 4.1 Applicazioni che forniscono servizio attraverso Internet.\nApplicazione Protocollo  \napplicativoStandard Protocollo di trasporto\nPosta elettronica SMTP RFC 5321 TCP\nWorld wide web HTTP RFC 2616 TCP", "World wide web HTTP RFC 2616 TCP\nTrasferimento di file FTP RFC 959 TCP\nTraduzione dei nomi di dominio DNS RFC 1034-1035 UDP\nAssegnazione degli indirizzi IP DHCP RFC 2131 UDP\nProtocollo di instradamento \ninter-dominioBGP RFC 4271 TCP\nProtocollo di instradamento \nintra-dominioRIP RFC 2453 UDP\nTelefonia  \naudio/videoSIP\nRTPRFC 3261 \nRFC 3550 Tipicamente UDP\nSkype Proprietario TCP e UDP\nStreaming on-demand Proprietario Tipicamente TCP\nStreaming live Proprietario Tipicamente UDP", "Streaming live Proprietario Tipicamente UDP\nPattavinaReti2021.indb   227PattavinaReti2021.indb   227 14/01/2022   16:09:0814/01/2022   16:09:08228  Capitolo 4 – Strato di applicazione\nche offre diverse garanzie di qualità di trasporto, viene utilizzato per tutte le applicazioni dove \nnon si richiede un tempo di risposta molto stringente, come il trasferimento di file, il web \nbrowsing, la posta elettronica. Invece il protocollo UDP, che offre pochissime garanzie sui", "flussi trasportati, ma al contempo richiede lo svolgimento di funzionalità minime, viene pre -\nferito per i servizi in tempo reale dove un degrado limitato dell’integrità del flusso trasportato \ngeneralmente non pregiudica la fruibilità del servizio. \n4.2.3 Primitive per i servizi di trasporto\nSi vuole ora descrivere la procedura che porta all’interazione tra due processi applicativi nel \nparadigma client-server  tramite i due protocolli di trasporto standard TCP e UDP, ricordando", "che ognuno di questi due protocolli fornisce un servizio di trasferimento dati tra i due siste -\nmi remoti, anche se con caratteristiche molto diverse. Si vuole quindi descrivere la modalità \nsecondo cui un processo applicativo interagisce con l’istanza locale del protocollo di trasporto, \nrimandando al Capitolo 5 la descrizione più dettagliata di come il protocollo di trasporto for -\nnisca il servizio di trasferimento di segmenti informativi tra stazioni remote.", "La Tabella 4.2 riporta le primitive, definite dalla release 4.2BSD del software Unix Berke -\nley nel 1983, utilizzate da un processo applicativo per interagire con le socket nel protocollo \nTCP. Si tratta di otto primitive, delle quali alcune sono utilizzate solo dal server in fase di \ninstaurazione della connessione, una solo dal client, altre da entrambi. \nCome già accennato, l’instaurazione della connessione richiede che il server preliminarmente", "sia predisposto ad accettare richieste di connessione dai client. Come mostrato in Figura 4.4, \nciò viene attuato nel server eseguendo inizialmente una primitiva SOCKET( ),  che genera la \nstruttura dati socket, la quale definisce il tipo di servizio di trasporto richiesto, il protocollo, \nil formato degli indirizzi e lo spazio di memoria da utilizzare. Solo l’esecuzione della suc -\ncessiva primitiva BIND( )  associa alla socket generata, detta “socket di benvenuto”, la coppia", "<indirizzo di rete, numero di porta> ( indirizzi locali ) che definisce univocamente il punto di \ningresso al server. Una volta completata la costruzione della socket, nel server viene eseguita \nla primitiva LISTEN( ) , che chiede al TCP locale di creare una lista per accodare le richieste \ndi connessione dei client che saranno ricevute dal server. Successivamente, l’esecuzione della Tabella 4.2 Primitive delle socket per il protocollo TCP.\nPrimitiva Server/\nClientFunzione", "Primitiva Server/\nClientFunzione\nSOCKET( ) Entrambi Genera una nuova socket\nBIND( ) Server Genera un indirizzo locale che viene associato a una socket\nLISTEN( ) Server Predispone la ricezione di richieste di connessione dal client\nCONNECT( ) Client Richiede l’instaurazione di una connessione con un server\nACCEPT( ) Server Blocca il server fino all’arrivo di una richiesta di connessione\nSEND( ) Entrambi Invia dati\nRECEIVE( ) Entrambi Blocca il processo in attesa di ricevere dati", "CLOSE( ) Entrambi Termina la comunicazione\nPattavinaReti2021.indb   228PattavinaReti2021.indb   228 14/01/2022   16:09:0814/01/2022   16:09:084.2 Applicazioni e servizi  229\nprimitiva ACCEPT( )  pone il server in attesa di eseguire l’accettazione delle richieste di con -\nnessione che saranno ricevute. L ’esecuzione di queste quattro primitive completa la fase di \npassive open  nel server. \nIl client che desideri ricevere servizio da un server esegue una primitiva SOCKET( )  che,", "analogamente a quanto accade nel server, genera la struttura dati socket. In questo caso, è lo \nstesso sistema operativo che genera gli indirizzi locali da associare alla socket. Quindi, il client \nemette una primitiva CONNECT( )  che indica, oltre ai parametri della socket locale, anche i \nparametri di indirizzo della socket remota del server ( indirizzi remoti ), e cio è l’indirizzo di \nrete del server e il numero di porta associato al processo applicativo richiesto. L ’esecuzione", "di quest’ultima primitiva pone il client in blocco in attesa di risposta dal server, completando \ncosì la fase di active open . \nLa ricezione di una richiesta di connessione nel server attraverso il servizio di trasporto \nfornito dal protocollo TCP fa sì che il processo applicativo indirizzato si sblocchi per accettare \nla richiesta e generare una nuova socket nel server da associare in permanenza alla connessio -", "ne appena accettata. Questa contiene le due coppie di indirizzi ( indirizzi locali  e remoti ) e altri \nparametri che caratterizzano la connessione TCP (vedi Paragrafo 5.4). Viene anche generata \nuna nuova istanza del processo applicativo al servizio della nuova connessione e il processo \noriginario con la primitiva ACCEPT( )  si pone in attesa di una nuova richiesta di connessione \nche, se già ricevuta, viene immediatamente servita utilizzando la “socket di benvenuto”.", "Completata l’instaurazione della connessione, client e server possono scambiarsi dati uti -\nlizzando le primitive SEND( )  e RECEIVE( )  che operano sui buffer di trasmissione e ricezione \ndefiniti nelle socket del client e del server.SOCKET ()\nBIND ()\nLISTEN()\nACCEPT ()\nSOCKET()\nCONNECT()\nRECEIVE()\nSEND()SEND()\nRECEIVE()\nCLOSE() CLOSE()Chiusu raconnession e\nIndirizzilocali\nIndirizziremotiT-SAPTraspor to\nT-SA P\nAperturaconnessioneClient Server\nACCEPT ()Passive\nopen\nActive\nopen", "ACCEPT ()Passive\nopen\nActive\nopen\nFigura 4.4 Primitive eseguite in associazione al protocollo TCP. \nPattavinaReti2021.indb   229PattavinaReti2021.indb   229 14/01/2022   16:09:0914/01/2022   16:09:09230  Capitolo 4 – Strato di applicazione\nL ’interazione client-server termina quando il client esegue una primitiva CLOSE(  ),  che \nrichiede al protocollo di trasporto la chiusura della connessione e rilascia la socket locale.", "Il server, alla ricezione della richiesta di chiusura, esegue a sua volta la primitiva CLOSE( )  \nliberando a sua volta la propria socket. \nLe primitive utilizzate dai processi applicativi nel client e nel server per interagire con il \nprotocollo UDP sono riportate nella Tabella 4.3. Rispetto al protocollo TCP, mancano, natu -\nralmente, le primitive utilizzate per instaurare una connessione logica tra sistemi terminali,", "data la natura “connectionless” del protocollo UDP. La conseguenza di ciò è che le primitive \nutilizzate per richiedere l’invio e la ricezione di segmenti UDP, e cio è SENDTO( )  e RECVFROM( ) , \nspecificano rispettivamente la socket di destinazione e la socket del mittente del segmento dati \ntrasferito attraverso il T-SAP. \nCome mostrato in Figura 4.5, per poter fornire un servizio il server esegue una primitiva", "SOCKET(  )  che crea una struttura dati socket locale in cui gli indirizzi locali  vengono resi Tabella 4.3 Primitive delle socket per il protocollo UDP.\nPrimitiva Server/\nClientFunzione\nSOCKET( ) Entrambi Genera una nuova socket\nBIND( ) Server Genera un indirizzo locale che viene associato a una socket\nSENDTO( ) Entrambi Invia dati a una specifica socket remota\nRECVFROM( ) EntrambiBlocca il processo in attesa di ricevere dati da una specifica \nsocket remota", "socket remota\nCLOSE( ) Entrambi Termina la comunicazione\nT-SAPTraspor to\nT-SAPClient Server\nSENDTO()SOCKET ()SOCKET()\nBIND()\nRECVFROM()\nRECVFROM()\nSENDTO() RECV FROM()\nCLOSE( )C LOSE()\nIndirizzilocali\nIndirizziremoti\nFigura 4.5 Primitive eseguite in associazione al protocollo UDP. \nPattavinaReti2021.indb   230PattavinaReti2021.indb   230 14/01/2022   16:09:0914/01/2022   16:09:094.3 Nomi di dominio - DNS  231", "disponibili dall’esecuzione della primitiva BIND( ) . Il server si pone quindi in attesa di richieste \ndi servizio, eseguendo la primitiva RECVFROM( ) . \nIl client che voglia ricevere servizio si attiva eseguendo la primitiva SOCKET( ) , che genera \ngli indirizzi locali , seguita dalla primitiva SENDTO( ) , che richiede all’istanza locale del pro -\ntocollo UDP di inviare un segmento dati a una socket remota, della quale vengono specificati", "l’indirizzo di rete e il numero di porta ( indirizzi remoti ). Il client si pone quindi in attesa \ndi ricevere risposta da quella socket, eseguendo una primitiva RECVFROM( ) . Il server, che \nriceve la richiesta all’interfaccia T-SAP eseguendo la primitiva RECVFROM(  ) , registra gli \nindirizzi della socket remota ed elabora la risposta di cui si chiede l’inoltro eseguendo la pri -\nmitiva SENDTO( )  a quest’ultima socket. Il processo ha quindi termine eseguendo la primitiva \nCLOSE( ) .", "CLOSE( ) . \nIl client, eseguendo la primitiva RECVFROM( ) , recepisce la risposta alla propria richiesta \ne chiude l’interazione con il server eseguendo a sua volta la primitiva CLOSE( ) . \nSi osservi che una seconda richiesta di servizio dallo stesso client allo stesso server viene \ntrattata come una richiesta di servizio proveniente da un altro generico client, non essendo \nprevista alcuna modalità di concatenazione tra messaggi sequenziali scambiati in una speci -\nfica coppia client-server.", "fica coppia client-server. \n4.3 Nomi di dominio - DNS\nLa procedura di indirizzamento in Internet, che rappresenta la chiave principale per realizzare \nla connettività planetaria della rete, si basa su indirizzi numerici, definiti dal protocollo IP \n(vedi Paragrafo 6.4), di ardua memorizzazione. Per questo motivo è stato definito un mecca -\nnismo di identificazione alfabetico dei sistemi terminali (host/server), che va sotto il nome di", "domain name system  (DNS) [RFC1034, RFC1035]. Esso definisce una struttura gerarchica di \nnomi di più facile gestione per l’uomo, in quanto fanno spesso riferimento alla finalità e alla \nlocalizzazione dei sistemi terminali. Per esempio, gli host all’interno di una università avranno \ndei nomi, tutti diversi, ma con un identificativo dell’università e/o del dipartimento per cui \nforniscono servizio.\nIl DNS è definito nell’ambito di un’architettura client-server che utilizza dal lato server il", "protocollo di trasporto UDP sulla porta 53, come rappresentato in Figura 1.14 e in Tabella 1.1. \nLa gerarchia di nomi del DNS viene implementata come un database distribuito su un gran -\ndissimo numero di server e un protocollo di livello applicativo definisce le regole per accedere \nal database da parte degli host.\nIl servizio più importante svolto dal DNS è la cosiddetta risoluzione dei nomi , che consiste", "nell’associare un’identificazione numerica (indirizzo IP) a un nome di dominio. Oltre a questo, \nil DNS fornisce anche i servizi di: (i) host aliasing  che definisce l’associazione tra il vero nome \ndi un host ( nome canonico ) e i suoi nomi alternativi (“alias”), spesso di più facile memoriz -\nzazione per l’uomo; (ii) ripartizione del carico , che distribuisce le richieste di associazione \nnome-indirizzo tra numerosi server, con lo stesso nome ma diversi indirizzi IP, che possono", "essere dislocati in diverse zone geografiche. Questa seconda funzione risulta particolarmente \nimportante, al di là del conseguire l’obiettivo di richiedere a ogni server un carico di lavoro \ncompatibile con le sue potenzialità di elaborazione. Infatti, la distribuzione della stessa fun -\nzione su più server riduce notevolmente il rischio di indisponibilità del servizio DNS a causa", "PattavinaReti2021.indb   231PattavinaReti2021.indb   231 14/01/2022   16:09:0914/01/2022   16:09:09232  Capitolo 4 – Strato di applicazione\ndi guasti nella rete. Inoltre, la dislocazione geografica distribuita, che permette di interrogare \nun server in prossimità del client richiedente, consente di contenere il tempo di ritardo richie -\nsto per svolgere la risoluzione di un nome. \n4.3.1 Gerarchia dei nomi", "4.3.1 Gerarchia dei nomi\nLa struttura degli indirizzi definiti dal DNS è strettamente gerarchica e si rappresenta come \nuna struttura ad albero di nodi, a ognuno dei quali è associata un’ etichetta . Al livello più \nalto della gerarchia si trova la radice dell’albero, denominata root , cui non è associata alcuna \netichetta. Il primo livello dell’albero al di sotto della radice comprende nodi indicati come", "top level domain  (TLD), in quanto ognuno di questi identifica un dominio di primo livello in \nInternet. La Figura 4.6 mostra un esempio della gerarchia dei nomi definita dal DNS. \nAgli albori di Internet, negli anni ’80, sono stati definiti i primi nomi TLD e in particolare \nsette domini, identificati dalle etichette com , edu, gov, int, mil, net , org, indicati come domini \ndi tipo generico ( generic TLD , gTLD). L ’obiettivo era quello di poter definire nomi di dominio", "che fossero legati allo scopo dell’organizzazione utilizzatrice del nome, come indicato in \nTabella 4.4. \nUnitamente ai domini gTLD sono stati definiti anche domini TLD di tipo geografico \n(country code TLD , ccTLD), identificati da due lettere, ognuno associato a una diversa nazio -\nne, come per esempio it  per l’Italia, jp  per il Giappone, cn  per la Cina, nz  per la Nuova Zelanda. \nAnche se il dominio us , che indica gli Stati Uniti d’America, rientra tra quelli definiti nell’am -", "bito dei ccTLD, a quasi tutte le organizzazioni degli Stati Uniti è associato un nome che fa \ncapo a un TLD di tipo generico.\nLa rapida espansione di Internet, che richiede oggi la raggiungibilità di centinaia di milioni \ndi host, ha evidenziato la necessità di un allargamento dei domini TLD, per poter mantenere \nuna struttura di nomi con sottoalberi dei nodi TLD di dimensione ragionevole. La ICANN", "(Internet corporation for assigned names and numbers ) è l’organizzazione che gestisce l’asse -\ngnazione e l’uso dei nomi TLD. Il primo allargamento dei domini TLD è avvenuto nel 2000 \ncon l’approvazione dei domini TLD aero , biz, coop , info, museum , name , pro. La Tabella 4.4 \nriporta il tipo di uso previsto per ognuno di questi nomi. In opposizione ai domini generici \ngTLD  pensati come di interesse di tutta la comunità di Internet, è stato anche introdotto il", "concetto di dominio TLD sponsored , per indicare un dominio di interesse di una comunità più \npiccola, che può indicare delle regole per potersi associare ai nomi di questo dominio. Alcuni Tabella 4.4 Domini di primo livello autorizzati fino al 2005.\nDominio Uso previsto Approvazione Tipo\ncom Organizzazioni commerciali 1985 Generic\nedu Istituzioni di istruzione e ricerca 1985 Sponsored\ngov Enti governativi 1985 Sponsored\nint Organizzazioni internazionali 1985 Sponsored", "int Organizzazioni internazionali 1985 Sponsored\nmil Organizzazioni militari 1985 Sponsored\nnet Organizzazioni di supporto alla rete 1985 Generic\norg Organizzazioni senza scopo di lucro 1985 Generic\naero Trasporto aereo 2000 Sponsored\nbiz Commercio 2000 Generic\ncoop Cooperative 2000 Sponsored\ninfo Informazioni 2000 Generic\nmuseum Musei 2000 Sponsored\nname Persone 2000 Generic\npro Professionisti 2000 Generic\nasia Continente asiatico 2005 Sponsored\ncat Regione catalana 2005 Sponsored", "cat Regione catalana 2005 Sponsored\neu Unione europea 2005 Country-code\njobs Occupazione 2005 Sponsored\nmobi Dispositivi mobili 2005 Sponsored\ntel Punto di contatto 2005 Sponsored\ntravel Settore viaggi 2005 Sponsored.... .. TLDroot\nFigura 4.6 Gerarchia dei nomi di dominio DNS.\nPattavinaReti2021.indb   232PattavinaReti2021.indb   232 14/01/2022   16:09:0914/01/2022   16:09:094.3 Nomi di dominio - DNS  233", "di guasti nella rete. Inoltre, la dislocazione geografica distribuita, che permette di interrogare \nun server in prossimità del client richiedente, consente di contenere il tempo di ritardo richie -\nsto per svolgere la risoluzione di un nome. \n4.3.1 Gerarchia dei nomi\nLa struttura degli indirizzi definiti dal DNS è strettamente gerarchica e si rappresenta come \nuna struttura ad albero di nodi, a ognuno dei quali è associata un’ etichetta . Al livello più", "alto della gerarchia si trova la radice dell’albero, denominata root , cui non è associata alcuna \netichetta. Il primo livello dell’albero al di sotto della radice comprende nodi indicati come \ntop level domain  (TLD), in quanto ognuno di questi identifica un dominio di primo livello in \nInternet. La Figura 4.6 mostra un esempio della gerarchia dei nomi definita dal DNS. \nAgli albori di Internet, negli anni ’80, sono stati definiti i primi nomi TLD e in particolare", "sette domini, identificati dalle etichette com , edu, gov, int, mil, net , org, indicati come domini \ndi tipo generico ( generic TLD , gTLD). L ’obiettivo era quello di poter definire nomi di dominio \nche fossero legati allo scopo dell’organizzazione utilizzatrice del nome, come indicato in \nTabella 4.4. \nUnitamente ai domini gTLD sono stati definiti anche domini TLD di tipo geografico \n(country code TLD , ccTLD), identificati da due lettere, ognuno associato a una diversa nazio -", "ne, come per esempio it  per l’Italia, jp  per il Giappone, cn  per la Cina, nz  per la Nuova Zelanda. \nAnche se il dominio us , che indica gli Stati Uniti d’America, rientra tra quelli definiti nell’am -\nbito dei ccTLD, a quasi tutte le organizzazioni degli Stati Uniti è associato un nome che fa \ncapo a un TLD di tipo generico.\nLa rapida espansione di Internet, che richiede oggi la raggiungibilità di centinaia di milioni", "di host, ha evidenziato la necessità di un allargamento dei domini TLD, per poter mantenere \nuna struttura di nomi con sottoalberi dei nodi TLD di dimensione ragionevole. La ICANN \n(Internet corporation for assigned names and numbers ) è l’organizzazione che gestisce l’asse -\ngnazione e l’uso dei nomi TLD. Il primo allargamento dei domini TLD è avvenuto nel 2000 \ncon l’approvazione dei domini TLD aero , biz, coop , info, museum , name , pro. La Tabella 4.4", "riporta il tipo di uso previsto per ognuno di questi nomi. In opposizione ai domini generici \ngTLD  pensati come di interesse di tutta la comunità di Internet, è stato anche introdotto il \nconcetto di dominio TLD sponsored , per indicare un dominio di interesse di una comunità più \npiccola, che può indicare delle regole per potersi associare ai nomi di questo dominio. Alcuni Tabella 4.4 Domini di primo livello autorizzati fino al 2005.\nDominio Uso previsto Approvazione Tipo", "Dominio Uso previsto Approvazione Tipo\ncom Organizzazioni commerciali 1985 Generic\nedu Istituzioni di istruzione e ricerca 1985 Sponsored\ngov Enti governativi 1985 Sponsored\nint Organizzazioni internazionali 1985 Sponsored\nmil Organizzazioni militari 1985 Sponsored\nnet Organizzazioni di supporto alla rete 1985 Generic\norg Organizzazioni senza scopo di lucro 1985 Generic\naero Trasporto aereo 2000 Sponsored\nbiz Commercio 2000 Generic\ncoop Cooperative 2000 Sponsored\ninfo Informazioni 2000 Generic", "info Informazioni 2000 Generic\nmuseum Musei 2000 Sponsored\nname Persone 2000 Generic\npro Professionisti 2000 Generic\nasia Continente asiatico 2005 Sponsored\ncat Regione catalana 2005 Sponsored\neu Unione europea 2005 Country-code\njobs Occupazione 2005 Sponsored\nmobi Dispositivi mobili 2005 Sponsored\ntel Punto di contatto 2005 Sponsored\ntravel Settore viaggi 2005 Sponsoreddi questi nuovi domini ( aero, coop , museum ) rientrano tra quelli di tipo sponsored, così come", "sponsored sono stati riconsiderati quattro dei sette domini originari, cio è edu , gov, int, mil. \nUn ulteriore allargamento dei domini TLD è intervenuto nel 2003 con l’introduzione dei \nTLD asia, cat, eu, jobs , mobi , tel, travel , la cui utilizzazione prevista è sempre indicata nella \nTabella 4.4. Alcuni anni dopo questo allargamento, la ICANN ha preso la decisione di aprire \nlo spazio dei TLD all’intera comunità mondiale di Internet, rendendo quindi possibile la regi -", "strazione di nuovi domini TLD di ogni tipo, così che oggi i domini TLD sono molte centinaia. \nTra questi sono stati anche introdotti domini TLD associati a case automobilistiche (come \naudi, fiat , ford) , ad aziende (come apple , cisco , google ), a città (come berlin , wien , istanbul ). \nOccorre anche osservare che i nomi di dominio TLD possono anche essere eliminati, se ciò \nè richiesto da cambiamenti intervenuti dopo la loro registrazione. Si consideri il caso della", "Cecoslovacchia, cui era associato il dominio TLD cs. Dopo lo smembramento della nazione \nin due nuovi stati, Repubblica Ceca e Repubblica Slovacca, il dominio cs è stato rimosso, in \nquanto sostituito dai due nuovi domini cz  e sk. \nL ’autorità cui viene assegnata la gestione di un dominio di primo livello decide autonoma -\nmente come organizzare il secondo livello, adottando quindi un criterio per organizzazione,", "oppure geografico. Per esempio, il secondo livello del dominio us  (cioè Stati Uniti) è stato \nPattavinaReti2021.indb   233PattavinaReti2021.indb   233 14/01/2022   16:09:0914/01/2022   16:09:09234  Capitolo 4 – Strato di applicazione\ninizialmente definito su base geografica, coincidendo con l’insieme degli stati; recentemente, \ntuttavia, vi vengono registrati anche nomi di organizzazioni come domini di secondo livello.", "La maggioranza dei domini geografici di tipo ccTLD, compreso it , definisce il secondo livel -\nlo per organizzazione, altri invece replicano la struttura dei domini iniziali di primo livello, \ncome domini di secondo livello, come nel caso dei domini jp e nz . Per esempio il dominio \nac.nz  in Nuova Zelanda è equivalente al dominio edu  utilizzato negli Stati Uniti.\nOgni nodo TLD di primo livello rappresenta esso stesso la radice di un (sotto)albero di nodi", "di livello inferiore. A ogni nodo è associato un nome di dominio , costituito dalla sequenza di \netichette, separate dal carattere “.”, che si incontrano percorrendo l’albero dal nodo stesso fino \nalla radice. Le foglie dell’albero costituiscono domini, naturalmente privi di sottodomini, cui \nfanno capo gli host. La Figura 4.7 rappresenta la gerarchia DNS con alcuni esempi di domini \ndi vario livello. Si può osservare che i nomi di dominio utilizzati da dipartimenti universitari", "sono tipicamente di terzo livello, come per esempio in Italia o negli Stati Uniti ( deib.polimi.\nit, math.ucla.edu ), ma possono anche essere di quarto livello, come per esempio in Nuova \nZelanda ( physics.auckland.ac.nz ). \n4.3.2 Name server\nCome già accennato, la gerarchia dei nomi definita dal DNS richiede la disponibilità di mec -\ncanismi che consentano di convertire un nome di host/server in un indirizzo IP. Solo quest’ul -", "timo consente al protocollo di rete IP di instradare i messaggi verso il dominio di destinazione. \nLa gerarchia DNS comprende un enorme insieme di record la cui gestione pratica non può \nche basarsi sull’implementazione distribuita della funzione di associazione nome-indirizzo.\nSparsi per la rete Internet sono disponibili server specializzati per associare indirizzi IP a \nnomi di dominio, denominati name server  (NS). La funzione che questi svolgono, che viene", "denominata risoluzione dei nomi  (name resolution ), consiste nel rispondere a interrogazioni \n(queries) da parte di host/server, che chiedono l’indirizzo IP associato a un determinato nome. \ncome du gov intm il\npolimineto rgaerotravelau cn it jp\nunibous nz\nac\nmathphysicsgoogle energyitu ietf sita ucla\nhistor ym usic math deib mate fisidarpaverizon canada ny\nnyc auckla ndgTLD ccTLD\nFigura 4.7 Esempio di nomi di dominio.", "Figura 4.7 Esempio di nomi di dominio.\nPattavinaReti2021.indb   234PattavinaReti2021.indb   234 14/01/2022   16:09:1014/01/2022   16:09:104.3 Nomi di dominio - DNS  235\nLa Figura 4.8 mostra come nei primi livelli della gerarchia DNS a ogni nodo corrisponda \ntipicamente un name server. \nNella rete Internet reale al nodo root e a ognuno dei nodi di primo livello (domini TLD) è \nassociata una pluralità di server NS, con il compito di suddividere il carico. Questo, infatti, a", "seconda del tipo di meccanismo di risoluzione dei nomi, può essere molto elevato nei più alti \nlivelli della gerarchia. Si consideri che, anche se i nomi dei root name server sono solo 13 (da \na.root-servers.net  a m.root-servers.net ), nella realtà i root name server sono molte centinaia, \nin quanto ognuno dei 13 nomi è replicato decine e in qualche caso anche centinaia di volte in \ndiversi siti geografici. Analogamente, per molti domini TLD i name server sono decine, in", "particolare per quelli più popolari come com , net, org.\nNaturalmente non è possibile che ogni NS conosca l’associazione nomi-indirizzi per l’inte -\nra gerarchia DNS, quindi la funzione svolta da un NS sarà limitata a una piccola porzione della \ngerarchia. Una zona  è definita come un sottoalbero della gerarchia DNS con un NS responsa -\nbile della risoluzione dei nomi di dominio corrispondenti ai nodi del sottoalbero.", "Consideriamo l’esempio di gerarchia dei nomi riportato in Figura 4.9a che riporta la gerar -\nchia relativa al dominio B con i sottodomini B1.B  e s.B1.B . Una possibile suddivisione del \nroot\nNS\nedu\nNSorg\nNSaero\nNSit\nNSnz\nNScom\nNS\nunib o\nNSpolimi\nNSgoogle\nNSac\nNSietf\nNS\nFigura 4.8 Distribuzione dei name server.\nAB C\nB1\nst\ns1 s3 s2A1 A2 C1AB C\nB1\nst\ns1 s3 s2A1 A2 C1\n(a) (b)\nFigura 4.9 DNS: esempio di domini (a) e di zone (b).", "PattavinaReti2021.indb   235PattavinaReti2021.indb   235 14/01/2022   16:09:1114/01/2022   16:09:11236  Capitolo 4 – Strato di applicazione\ndominio B in zone è rappresentata in Figura 4.9b che mostra come siano presenti tre zone nel \ndominio B e quindi tre NS, ognuno localizzato nella propria zona. Una zona comprende il solo \nnodo TLD B, una seconda zona comprende i nodi B1 di secondo livello e t di terzo livello,", "una terza zona comprende tutti i nodi del dominio s.B1.B , coincidendo quindi con il dominio \nstesso. Una suddivisione in zone di questo tipo, che colloca nodi di uno stesso livello in zone \ndiverse, è spesso dovuta alle scelte degli amministratori dei domini. In questo caso la funzione \ndi risoluzione dei nomi del dominio t.B1.B  viene affidata al NS del dominio B1.B , mentre la \nstessa funzione viene svolta localmente nel dominio s.B1.B .", "In ogni zona è presente un NS primario  e uno o più NS secondari . Un NS primario è  \nresponsabile per la gestione dei nomi di dominio all’interno della sua zona. Un NS secondario \nriceve tutte le informazioni sui nomi di dominio coperti (alias, indirizzi IP, ecc.) da un NS \nprimario, oppure da un altro NS secondario. La duplicazione consente non solo di ripartire il \ncarico di lavoro su più server, ma fornisce anche una ridondanza nel caso si verificassero mal -", "funzionamenti in qualcuno dei server. I NS di una zona sono detti autorevoli  (authoritative ), \nessendo essi la fonte primaria, e soprattutto aggiornata, di tutte le informazioni sugli indirizzi \ne sui nomi relativi alla zona servita.\n4.3.3 Formato dei messaggi\nIl DNS costituisce un database distribuito che contiene le informazioni relative all’associa -\nzione di nomi di host di un dominio a indirizzi IP, all’associazione di più nomi (alias) a uno", "stesso host, ecc. Tutte queste informazioni sono strutturate in “record informativi” ( resource \nrecord , RR). I name server comunicano per mezzo di messaggi di richiesta e di risposta per \nscambiarsi i record RR. \nIl formato del messaggio che viene utilizzato dai NS è mostrato in Figura 4.10. L ’header \ncomprende 12 byte che svolgono le seguenti funzioni:\n• identifier  (16 bit): codice che consente a un NS di associare univocamente un messaggio", "di risposta verso un NS a uno specifico messaggio di domanda inviato dallo stesso \nNS;\n31 16 24 8 0\n1\n2\n3ANcoun t QDcountIdentifi er\nARcoun t\nQuestionBit\nQ\nROpcodeA\nAT\nCR\nDR\nAResRcod e\nNScoun t\nAnswer\nAuthority\nAddition al\nFigura 4.10 Formato dei messaggi nel protocollo DNS. \nPattavinaReti2021.indb   236PattavinaReti2021.indb   236 14/01/2022   16:09:1214/01/2022   16:09:124.3 Nomi di dominio - DNS  237\n• QR (1 bit): distingue un messaggio di richiesta ( QR = 0) da un messaggio di risposta", "(QR = 1);\n• opcode  (4 bit): campo che distingue i differenti tipi di richiesta che viene poi copiato \nnel messaggio di risposta;\n• AA, authoritative answer  (1 bit): indica se la risposta alla richiesta è fornita da un NS \nautorevole;\n• TC, truncation  (1 bit): indica se il messaggio è stato troncato a causa di una limitazione \nnel payload di uno dei protocolli utilizzati in rete;\n• RD, recursion desired  (1 bit): indica, se RD = 1, che viene richiesta una risoluzione dei", "nomi di tipo ricorsivo (vedi Paragrafo 4.3.4) da parte del NS ricevente che, se non \ndispone del record richiesto, deve prendersi in carico il compito di inoltrare ulteriori \nmessaggi ad altri NS per la risoluzione dei nomi;\n• RA, recursion available (1 bit): indica in una risposta se la risoluzione dei nomi è dispo -\nnibile da parte del NS che origina il messaggio;\n• Res (3 bit): campo riservato per usi futuri;", "• Res (3 bit): campo riservato per usi futuri;\n• Rcode  (4 bit): in un messaggio di risposta indica la motivazione della mancata risposta \na una richiesta ricevuta;\n• QDcount  (16 bit): indica il numero di record RR richiesti nel successivo campo Question ;\n• ANcount  (16 bit): indica il numero di record RR forniti nel successivo campo Answer ;\n• NScount  (16 bit): indica il numero di record RR forniti da altri NS autorevoli presenti \nnel successivo campo Authority ;", "nel successivo campo Authority ;\n• ARcount  (16 bit): indica il numero di record RR presenti nel successivo campo Additional  \nrelativi alla richiesta, ma non strettamente necessari per fornire la risposta alla richie -\nsta ricevuta.\n4.3.4 Risoluzione dei nomi\nSi vuole descrivere ora la procedura di risoluzione dei nomi, cio è le azioni da svolgere per \nassociare un indirizzo IP sconosciuto a un nome di dominio noto. Si consideri che ogni host", "connesso a Internet dispone dell’indirizzo IP del name server locale ( default name server ), \ntipicamente ricevuto dall’ISP che fornisce la connettività.\nIpotizziamo che l’host A desideri inviare un messaggio all’host remoto B, di nome hostB.\ndom3.dom2.dom1 , e debba quindi recuperare l’indirizzo IP di quest’ultimo. La risoluzione del \nnome si articola nei seguenti passi:\n1. l’host A, che agisce da client, invia un’interrogazione ( query ) al NS locale, il quale", "fornisce l’indirizzo IP richiesto se ne è a conoscenza, altrimenti richiede informazioni \nal root name server;\n2. il root name server che riceve la query, presumibilmente, non è a conoscenza diretta \ndell’informazione richiesta e quindi individua un NS di primo livello del dominio \ndom1  cui rivolgere nuovamente la richiesta;\n3. il NS di primo livello, se non a conoscenza della risposta, individua un NS di secondo \nlivello del dominio dom2.dom1  cui rivolgere nuovamente l’interrogazione;", "PattavinaReti2021.indb   237PattavinaReti2021.indb   237 14/01/2022   16:09:1214/01/2022   16:09:12238  Capitolo 4 – Strato di applicazione\n4. e così via fino a che un NS interrogato non dispone dell’indirizzo IP richiesto, che \nviene trasferito al NS locale che lo inoltra al client richiedente.\nA seconda del tipo di procedura adottata per lo scambio di messaggi tra NS, si possono iden -\ntificare due tipi di risoluzione dei nomi: risoluzione  iterativa  e risoluzione  ricorsiva . Nella", "procedura iterativa è il NS locale che genera tutte le query interrogando i NS di tutti i livelli \nnecessari, a partire dal root name server. Con la procedura ricorsiva, invece, il root name \nserver interroga un NS TLD, questo interroga un NS di secondo livello, ecc., fino a che l’in -\nformazione richiesta è trovata e disponibile per essere trasferita a ritroso al root name server, \nda questi al NS locale e infine all’host.", "da questi al NS locale e infine all’host. \nSi vuole individuare la successione delle query scambiate in conseguenza della richiesta \ndell’indirizzo IP dell’host flower.deib.polimi.it  da parte di un’applicazione dell’host wonder.\nmath.auckland.ac.nz . Si ipotizza che la risoluzione sia ricorsiva, che l’indirizzo IP richiesto \nsia noto solo all’interno del dominio polimi.it  e che i domini polimi.it  e deib.polimi.it  siano \nnella stessa zona .", "nella stessa zona .\nCome mostrato nella Figura 4.12, l’host wonder.math.auckland.ac.nz  interroga (passo 1) il \nNS locale ns.math.auckland.ac.nz , il quale, non disponendo della risposta, si rivolge (passo \n2) al root name server. Neanche questo sa rispondere, per cui esso stesso invia una query \n(passo 3) a un NS del dominio it , individuato casualmente tra quelli disponibili e noti al root \nname server. Anche questo NS deve rivolgersi a un successivo NS nella gerarchia inviando", "(passo 4) una query a un NS del dominio polimi.it . Questo, trovandosi nella stessa zona del \n(sotto)dominio deib.polimi.it  fornisce l’indirizzo IP richiesto, che viene trasferito a ritroso \n(passi 5, 6, 7) fino a raggiungere il NS locale. L ’indirizzo IP viene quindi trasferito (passo \n8) al client richiedente. Esempio 4.2Si vuole individuare la successione delle query scambiate in conseguenza della richiesta", "dell’indirizzo IP dell’host flower.deib.polimi.it  da parte di un’applicazione dell’host wonder.\nmath.auckland.ac.nz  . Si ipotizza che la risoluzione sia iterativa e che l’informazione richie -\nsta sia disponibile solamente presso il NS del dominio deib.polimi.it .\nCome mostrato nella Figura 4.11, l’host wonder.math.auckland.ac.nz  interroga (passo 1) \nil name server locale ns.math.auckland.ac.nz , il quale, non avendo la risposta, si rivolge", "(passo 2) al root name server. Questo risponde (passo 3) fornendo una lista di nomi e indi -\nrizzi IP di NS del dominio it . Il NS locale interroga (passo 4) uno dei name server di primo \nlivello indicati, il quale fornisce (passo 5) uno o più nomi e indirizzi IP di NS del dominio \npolimi.it . Il NS locale interroga allora (passo 6) uno dei NS indicati, il quale risponde (passo \n7) con il nome ( ns.deib.polimi.it ) e indirizzo IP del NS autorevole. Infine, il NS interrogato", "(passo 8) fornisce (passo 9) l’indirizzo IP richiesto, che viene quindi trasferito (passo 10) \nall’host richiedente. Esempio 4.1\nPattavinaReti2021.indb   238PattavinaReti2021.indb   238 14/01/2022   16:09:1214/01/2022   16:09:124.3 Nomi di dominio - DNS  239\nAppare evidente che la risoluzione ricorsiva, demandando la ricerca ad altri name server, \ndetermina un carico di lavoro maggiore per il root name server e per i NS dei livelli più in", "alto della gerarchia, a differenza di quanto accade nella risoluzione iterativa. Si consideri \ntuttavia che l’adozione di una procedura di memorizzazione nelle cache  dei NS locali delle \nassociazioni nome-indirizzo ricevute consente di limitare il carico delle queries per i livelli \nsuperiori della gerarchia. Ciò riduce anche il tempo necessario per risolvere il nome, in quan -\nto l’informazione richiesta è ora disponibile in prossimità del client richiedente. Si noti che 5\n6", "6\nns.deib.polimi.itns.polimi.itns.itroot nam e\nserver\n4\n73\n8\n92\n101\nns.math.auckl and.ac .nz\nFigura 4.11 Risoluzione iterativa del nomi secondo l’Esempio 4.1.\nns.p olimi.itns.itrootnam e\nserver\n4\n53\n6\n81\nns.math.auckl and. ac.n z2\n7\nFigura 4.12 Risoluzione ricorsiva del nomi secondo l’Esempio 4.2.\nPattavinaReti2021.indb   239PattavinaReti2021.indb   239 14/01/2022   16:09:1314/01/2022   16:09:13240  Capitolo 4 – Strato di applicazione", "una risoluzione iterativa rende disponibile nelle cache locali un maggior numero di record \nnome-indirizzo rispetto a una risoluzione ricorsiva.\nL ’informazione contenuta nelle cache locali dei NS costituisce un’informazione “non auto -\nrevole”: potrebbe infatti essere resa obsoleta da una variazione degli indirizzi IP degli host \navvenuta nel frattempo. Per questo motivo a ogni record RR è associato un parametro ( time to", "live, TTL) che definisce l’intervallo temporale di permanenza del record nella cache, alla cui \nscadenza il record viene cancellato. Una nuova query per un nome cancellato dalla cache deve \nallora ricevere risposta da un server autorevole.\n4.4 Posta elettronica - SMTP\nLa posta elettronica rappresenta uno dei primi servizi resi disponibili su Internet, inizialmente \nconcepito per inviare brevi messaggi di testo a distanza, anche in assenza del destinatario.", "Questi, infatti, rimaneva libero di accedere ai messaggi di posta elettronica ( e-mail ) indi -\nrizzatigli, senza alcun vincolo temporale. Il servizio, definito dal simple mail transfer pro -\ntocol  (SMTP), prevedeva inizialmente l’utilizzo esclusivo di caratteri di testo ASCII a 7 bit \n[RFC821]. Nella sua ultima revisione [RFC5321] il protocollo SMTP rimuove la limitazione \nsull’utilizzazione esclusiva di caratteri ASCII a 7 bit, per prevedere l’invio di caratteri codifi -", "cati a 8 bit, di caratteri in alfabeti non latini, come per esempio il cirillico, il cinese, l’ebraico, \nnonché di contenuti multimediali.\n4.4.1 Architettura\nIl servizio di posta elettronica si basa sulla disponibilità nella rete Internet di computer (o \ndi altre risorse di calcolo) dedicati a questo scopo, denominati mail server . Questi ospitano \nle caselle di posta ( mailbox ) degli utilizzatori del servizio e hanno il compito di scambiarsi", "e-mail secondo il protocollo SMTP. Una mailbox è identificata dall’indirizzo del tipo nome@\ndominio , dove nome  indica in modo univoco il proprietario della maibox e dominio  indica il \nnome dell’host che ospita il mail server. Il protocollo SMTP è stato specificato nell’ambito \ndel paradigma client-server che utilizza il protocollo di trasporto TCP con numero di porta \nPN = 25 sul server, come rappresentato in Figura 1.14 e in Tabella 1.1. Viene dunque fornito", "un servizio di trasferimento dati affidabile con controllo degli errori. SMTP definisce due \nelementi fondamentali:\n• user agent , UA: questo è un programma (detto anche “client di posta”) utilizzato per \ncomporre messaggi di posta elettronica sotto il controllo dell’utilizzatore finale, non -\nché per gestirne la trasmissione e la ricezione attraverso la rete; UA molto popolari \nsono Mozilla Thunderbird, Google Gmail, Microsoft Outlook, in aggiunta a quelli più", "tradizionali resi disponibili dai protocolli POP3 e IMAP;\n• message transfer agent , MTA: è un processo eseguito su computer, denominati mail \nserver , che ha il compito di trasmettere e ricevere messaggi di posta elettronica secon -\ndo le specifiche del protocollo SMTP; a seconda delle situazioni, un MTA può svolgere \nsia la funzione di client che quella di server durante il trasferimento di un messaggio.", "PattavinaReti2021.indb   240PattavinaReti2021.indb   240 14/01/2022   16:09:1314/01/2022   16:09:134.4 Posta elettronica - SMTP  241\nIpotizziamo un servizio di posta elettronica tra due sistemi terminali A e B, che ricevono il \nservizio di posta da due distinti mail server, SA e SB, connessi attraverso la rete Internet2. \nInoltre, si assume che la connessione di ogni sistema terminale al proprio mail server non sia", "diretta, avvenga cio è attraverso un collegamento in rete. Il protocollo SMTP prevede che il \ntrasferimento di e-mail da A a B avvenga direttamente  da SA e SB, senza attraversare alcun \naltro mail server. La Figura 4.13 rappresenta gli elementi di rete coinvolti nello scambio di \nposta, nonché gli elementi funzionali del protocollo SMTP coinvolti. Il trasferimento di una \ne-mail da A (sorgente) a B (destinazione) richiede l’esecuzione dei seguenti passi:", "1. per mezzo dello user agent locale, nella stazione A viene composto un messaggio di \nposta elettronica, del quale viene necessariamente specificato il destinatario B, e di \ncui viene richiesto l’invio;\n2. lo UA della stazione A, nel ruolo di client , richiede accesso al processo MTA del pro -\nprio mail server che svolge il ruolo di server ; viene aperta una connessione TCP da A \na SA sulla porta 25 del server lungo la quale il messaggio viene trasferito utilizzando", "il protocollo SMTP; il messaggio ricevuto viene posto in coda di trasmissione verso \nil mail server SB;\n3. il processo MTA di SA, che svolge ora il ruolo di client , utilizza di nuovo il protocollo \nSMTP per trasferire l’e-mail al processo MTA di SB, che agisce da server , attraverso \nInternet lungo una nuova connessione TCP SA-SB;\n4. il messaggio di posta elettronica ricevuto in SB viene immagazzinato nella mailbox di \nB in attesa che questi ne solleciti la consegna;", "B in attesa che questi ne solleciti la consegna;\n5. il destinatario B, per mezzo del proprio UA e utilizzando un opportuno protocollo, \nmail access protocol , richiede al processo MTA di SB, che agisce ora da server , la \nconsegna dell’e-mail, che quindi viene ricevuta nel client di posta locale. \nRisulta particolarmente interessante osservare che il protocollo SMTP viene utilizzato per il \ntrasferimento del messaggio dalla sorgente al mail server locale e poi tra mail server, lasciando", "2  Nel caso A e B avessero le loro caselle di posta elettronica nello stesso mail server cui sono connessi direttamen -\nte, non sarebbe necessario utilizzare il protocollo SMTP in quanto il trasferimento dei messaggi da una casella \nall’altra sarebbe sotto il controllo del sistema operativo del server.InternetMail\nserver\nMTA\nclient\nMTA\nserverMTA\nserver\nMTA\nserverSMTPSMTP\nUAA\nSAB\nSBMail\nserver\ne-mailaccess\nprotocolUA\nFigura 4.13 Schema di funzionamento del servizio di posta elettronica.", "PattavinaReti2021.indb   241PattavinaReti2021.indb   241 14/01/2022   16:09:1314/01/2022   16:09:13242  Capitolo 4 – Strato di applicazione\npoi ad altri protocolli il compito finale della consegna al destinatario. Ciò si spiega conside -\nrando che il protocollo SMTP è di tipo push, in cui è sempre il client che “spinge” i messaggi \nverso il server. Adottare quindi SMTP anche nella consegna finale implicherebbe che il desti -", "natario B svolga il ruolo di server  e quindi come tale sia sempre attivo e disponibile a ricevere \nmessaggi in qualunque momento. Evidentemente un client generico del servizio e-mail non \nè sempre attivo e quindi non gli si addice il ruolo di server . Ne consegue che il protocollo di \naccesso alla mailbox di destinazione deve essere di tipo pull , in cui cio è è il client a “tirare” \nfuori dalla mailbox i messaggi.\n4.4.2 Formato dei messaggi", "4.4.2 Formato dei messaggi\nIl formato dei messaggi di posta elettronica, originariamente definito in una raccomandazione \ndel 1982 [RFC822], assume la specifica prodotta dalla più recente raccomandazione del 2008 \n[RFC5322]. Un generico messaggio è costituito da una busta (envelope ), seguita dall’ intesta -\nzione  (header ) e dal corpo  (body ) del messaggio; questi due ultimi elementi sono separati da", "una riga vuota, cio è priva di ogni carattere. Il contenuto del messaggio viene trasferito dal \nprotocollo SMTP sotto forma di caratteri ASCII a 7 bit. \nLa busta reca tutte le informazioni relative alla generazione, al transito e alla consegna del \nmessaggio. La Tabella 4.5 riporta i principali campi presenti nella busta, ognuno dei quali reca \nun’intestazione di poche lettere seguita dal carattere “:”. I campi From  e Sender  forniscono", "l’indirizzo e-mail dell’autore del messaggio e di chi lo ha inviato, mentre il campo To  indica il \ndestinatario. I campi Cc  (carbon copy ) e Bcc  (blind carbon copy ) recano rispettivamente l’in -\ndirizzo e-mail degli altri destinatari in chiaro e di quelli nascosti. Il campo Date  indica data e \nora in cui il messaggio creato dal mittente era pronto per l’invio. Il campo Subject  contiene \nl’argomento del messaggio. I campi Message-Id  e Reply-To  forniscono rispettivamente l’iden -", "tificatore univoco del messaggio e di quello cui si sta rispondendo. Nel campo Received , ogni \nUA/MTA che ha trattato il messaggio aggiunge una riga con il proprio identificatore, data e \nora di elaborazione e altre informazioni. Infine, il campo Return-Path  reca un’indicazione di \nindirizzo per inviare un nuovo messaggio al mittente. \nTabella 4.5 Campi dell’header nel protocollo SMTP.\nCampo Significato\nFrom: Indirizzo e-mail dell’autore del messaggio", "From: Indirizzo e-mail dell’autore del messaggio\nTo: Indirizzo e-mail del destinatario del messaggio\nCc: Indirizzi e-mail di altri destinatari in copia del messaggio\nBcc: Indirizzi e-mail di altri destinatari del messaggio nascosti ai precedenti destinatari\nDate: Data e ora di generazione del messaggio pronto per l’invio\nSender: Indirizzo e-mail di origine del messaggio\nSubject: Identificazione dell’argomento del messaggio\nMessage-Id: Identificatore univoco del messaggio", "Message-Id: Identificatore univoco del messaggio\nReply-To: Identificatore del destinatario del messaggio cui si risponde\nReceived: Identificatore del MTA lungo il percorso e data/ora di attraversamento\nReturn-Path: Indicatore di un percorso di ritorno verso il mittente\nPattavinaReti2021.indb   242PattavinaReti2021.indb   242 14/01/2022   16:09:1314/01/2022   16:09:134.4 Posta elettronica - SMTP  243\nLa limitazione ai caratteri ASCII a 7 bit per la composizione di un messaggio di posta elettro -", "nica inizialmente prevista [RFC822] è stata superata con l’introduzione del protocollo multi -\npurpose Internet mail extension ( MIME). Questo infatti consente non solo di inviare caratteri \nnon previsti nell’alfabeto originale a 7 bit, quali le lettere accentate usate in varie lingue \neuropee, ma anche di utilizzare alfabeti non latini (greco, arabo, ebraico, ecc.), oppure basati \nsu ideogrammi (cinese, giapponese, ecc.). Inoltre il protocollo MIME consente anche l’invio", "di messaggi che contengono, in aggiunta al testo, anche immagini, file audio e video, ecc.\nIl protocollo MIME [RFC2045, RFC2046, RFC2047, RFC2049, RFC4289, RFC6838] viene \nutilizzato per codificare il messaggio, di natura arbitraria, creato dallo user agent per gene -\nrarne uno nuovo basato sull’alfabeto ASCII a 7 bit. Lo schema di funzionamento, mostrato in \nFigura 4.14, prevede che la transcodifica da codice arbitrario a codice a 7 bit sia effettuata a", "valle dello user agent sorgente, così da generare un flusso di dati compatibile con il protocollo \nSMTP. Naturalmente, l’operazione inversa sarà effettuata presso lo user agent di destinazione \nprima di presentare il messaggio al destinatario. \n4.4.3 Trasferimento dei messaggi\nLo scambio di messaggi da UA a MTA e tra MTA ha luogo come specificato dal protocollo \nSMTP. Prima che avvenga il trasferimento del messaggio, è necessario aprire una connessione", "TCP tra client e server attraverso la quale fluiscono comandi e risposte del protocollo SMTP. \nI comandi sono inviati dal client (UA oppure MTA) al server (MTA), mentre le risposte viag -\ngiano in direzione opposta.\nUn comando  è costituito da un’abbreviazione che indica la funzione svolta, seguita even -\ntualmente da un parametro. La Tabella 4.6 riporta i principali comandi emessi dal client \nSMTP esprimendone anche il significato. Tutti i comandi e le risposte terminano sempre", "con la coppia di caratteri “CR” “LF”. Il comando HELO, che reca il nome dell’host client, è \nutilizzato per richiedere servizio al server, mentre i comandi MAIL FROM e RCPT TO indi -\ncano al server gli indirizzi del mittente e del destinatario. Il comando DATA viene emesso \ndal client per ricevere l’autorizzazione all’invio del messaggio al server, mentre il comando \nQUIT conclude la fase di trasferimento. Infine, i comandi RSET e VRFY sono utilizzati per", "interrompere il trasferimento del messaggio e per verificare la validità di un indirizzo. \nUna risposta  è costituita da un codice numerico, eventualmente seguito da un parametro. \nLa Tabella 4.7 riporta le risposte più frequenti utilizzate dal protocollo SMTP. Le risposte 220 \ne 221 sono utilizzate per dichiarare l’apertura e la chiusura del servizio reso dal mail server, \ndi cui si specifica il nome del dominio, il codice 250 conferma l’esecuzione di un comando", "ricevuto e il codice 251 indica che il destinatario di un messaggio indirizzato al server è sco -\nnosciuto al server stesso. Il codice 354 autorizza il client a inviare il messaggio specificando \nche deve terminare con l’invio di una riga contenente il solo carattere “.” (punto). I codici della \nUA UA MIMECodice\narbitrarioCodice\narbitrarioCodice\nASCII\na 7 bitCodice\nASCII\na 7 bit\nMIME MTATrasporo SMTP\nMTA\nFigura 4.14 Codifica MIME dei messaggi di posta elettronica.", "PattavinaReti2021.indb   243PattavinaReti2021.indb   243 14/01/2022   16:09:1414/01/2022   16:09:14244  Capitolo 4 – Strato di applicazione\nserie 400 e 500 indicano al client l’insorgere di un problema che non consente di proseguire \nnel trasferimento del messaggio come richiesto.  \nTabella 4.6 Comandi nel protocollo SMTP.\nComando Parametro Significato\nHELO Dominio clientRichiesta di apertura della connessione con identificazione \ndel client SMTP verso il server SMTP", "del client SMTP verso il server SMTP\nMAIL FROM Indirizzo mittente Identificazione del mittente del messaggio\nRCPT TO Indirizzo destinatario Identificazione del destinatario del messaggio\nDATA Richiesta di autorizzazione a inviare il messaggio \nQUIT Richiesta di chiusura della connessione\nRSET Segnalazione di interruzione della transazione in atto\nVRFY Stringa Richiesta di verifica di identificazione di utente o di mailbox\nTabella 4.7 Risposte nel protocollo SMTP.\nCodice Parametro Significato", "Codice Parametro Significato\n220 Dominio server Servizio pronto\n221 Dominio server Servizio in fase di chiusura del canale di trasmissione\n250 Comando richiesto completato\n251 Utente non locale; messaggio da inoltrare \n354 Autorizzazione a invio mail che termina con <CRLF>.<CRLF>\n421 Dominio server Servizio non disponibile, canale in fase di chiusura\n450Comando richiesto ignorato: mailbox non disponibile (occupata o \nbloccata temporaneamente)\n451 Comando interrotto: errore locale", "451 Comando interrotto: errore locale\n452 Comando richiesto ignorato: memoria insufficiente\n455 Server non disponibile ad accettare i parametri\n500 Errore di sintassi, comando non riconosciuto\n501 Errore di sintassi nei parametri o negli argomenti\n502 Comando non implementato\n503 Sequenza di comandi errata\n504 Parametro del comando non implementato\n550 Comando richiesto ignorato: mailbox indisponibile \n551 Utente non locale\n552 Comando ignorato: memoria allocata insufficiente", "553 Comando ignorato: nome della mailbox non corretto\n554 Transazione fallita\n555Parametri dei comandi MAIL FROM/RCPT TO non riconosciuti o \nnon implementati\nPattavinaReti2021.indb   244PattavinaReti2021.indb   244 14/01/2022   16:09:1414/01/2022   16:09:144.4 Posta elettronica - SMTP  245\nSi vuole rappresentare graficamente lo scambio di messaggi tra due MTA, secondo il pro -\ntocollo SMTP, che ha luogo per trasferire dal client greenstar.com  al server sunshine.com", "un’e-mail con mittente “Daylight” all’indirizzo light@greenstar.com , destinatari “Night -\nshadow” e “Bluedark” ai rispettivi indirizzi shadow@bluestar.com  e dark@greenstar.com . \nIl messaggio ha come soggetto “invitation” e contiene le righe di testo “Waiting for you \ntonight”, “at 8:00 PM”, “sharp!”, “Bye”. Si ipotizza che Bluedark sia sconosciuto al server \nricevente. \nLa Figura 4.15 mostra la successione dei comandi del client e delle risposte del server. Non", "appena la connessione TCP client-server è disponibile, viene stabilita la comunicazione \ntra client e server a livello applicativo. Ciò avviene mediante dichiarazione di servizio \ndisponibile dal parte del server, seguita dalla richiesta di accesso del client, accettata dal \nserver. Segue il trasferimento del messaggio che inizia con l’invio della busta, che specifica \ngli indirizzi del mittente e dei destinatari, dei quali il primo viene riscontrato, mentre il Esempio 4.3\nHELO greenstar.co m", "HELO greenstar.co m\n250sunshine.co mgreetsgreenstar.com\nMAIL FROM:<light@ greenstar.com >\n250OK\nRCPT TO<shado w@bluestar.c om>\n250OK\nRCPT TO<dark@ greenstar.co m>\n550Nosuchuserhere\nDATA\n354Startmail input;endwith<CRLF>.<CRLF >\n250OK\nQUIT\n221sunshi ne.com servic eclosing transm issionchan nel220sunshine.co mserviceready\nWaitingforyoutonight\nsharp!at8:00 PM\nBye\n.Client Server\nFrom :Daylight\nTo:Nightshadow ,Bluedark\nSubject:invitation\n(emptyline)Open\ncommunication\nTransfer\nmessag e\nClose", "communication\nTransfer\nmessag e\nClose\ncommunicationEnvelope\nBodyHeader\nFigura 4.15 Comandi e risposte scambiati nel protocollo SMTP secondo l’Esempio 4.3. \nPattavinaReti2021.indb   245PattavinaReti2021.indb   245 14/01/2022   16:09:1414/01/2022   16:09:14246  Capitolo 4 – Strato di applicazione\n4.4.4 Protocolli di accesso\nSi è già accennato alla necessaria caratterizzazione pull  del protocollo da utilizzare per acce -", "dere alla mailbox da parte del destinatario che non sia connesso direttamente al mail server. \nInfatti, l’utilizzazione del protocollo SMTP anche per la consegna finale richiederebbe al \nprocesso UA di destinazione di essere sempre attivo, dovendo svolgere il ruolo di server, \ncosa ovviamente non praticabile. I principali protocolli oggi utilizzati per accedere alla mail -\nbox sono post office protocol version 3 (POP3), Internet message access protocol  (IMAP) e \nWebmail.", "Webmail.\nNel protocollo POP3 [RFC1939] il client di posta sarà eseguito nella stazione terminale, \ndovunque essa si trovi, mentre il processo server viene eseguito nel mail server. POP3 utilizza \nil protocollo di trasporto TCP sulla porta 110 del server. I comandi sono parole chiave di 3/4 \ncaratteri, eventualmente seguite da parametri, ognuno di 40 byte al massimo (vedi Tabella \n4.8). Le risposte possono essere anche inviate su più righe, senza tuttavia eccedere 512 byte.", "Vi sono due parole speciali di risposta, e cio è +OK e –ERR , utilizzate per indicare una risposta \npositiva  e una negativa . Comandi e risposte terminano sempre con la coppia di caratteri “CR” \n“LF”.\nUna volta che il servizio di accesso alla posta viene dichiarato disponibile sulla porta 110, \nil client instaura una connessione TCP con il server attivo e quindi si autentica. Viene prima \ninviato il comando USER  con argomento il nome della mailbox, che, se accettato positivamen -", "te, è seguito dal comando PASS , che specifica la password relativa. Una risposta positiva +OK \nindica l’autorizzazione ad accedere alla mailbox indicata, mentre una negativa –ERR  richiede \nche il comando PASS  venga ripetuto, oppure che venga emesso il comando di chiusura QUIT . \nTabella 4.8 Comandi nel protocollo POP3.\nComando Parametro Significato\nUSER Nome Richiesta di accesso alla mailbox\nPASS Stringa Invio della password associata al “nome” precedente", "STAT Interrogazione sul numero di messaggi e occupazione nella mailbox\nLIST[Numero \nmessaggio]Interrogazione sui messaggi presenti nella mailbox\nRETRNumero \nmessaggioRichiesta di recupero di un messaggio dalla mailbox\nDELENumero \nmessaggioRichiesta di cancellazione di un messaggio dalla mailbox\nRSETRichiesta di annullamento di precedenti ordini di cancellazione nella \nmailbox\nNOOP Nessuna operazione", "mailbox\nNOOP Nessuna operazione\nQUIT Richiesta di chiusura della comunicazionesecondo viene dichiarato sconosciuto. Vengono quindi trasferiti intestazione e corpo del \nmessaggio, separati da una riga vuota. Infine il comando di termine della comunicazione da \nparte del client e la relativa accettazione da parte del server determinano anche la chiusura \ndella connessione TCP utilizzata.", "della connessione TCP utilizzata.\nPattavinaReti2021.indb   246PattavinaReti2021.indb   246 14/01/2022   16:09:1414/01/2022   16:09:144.4 Posta elettronica - SMTP  247\nIl comando STAT  richiede al server informazioni sullo stato della mailbox. La risposta positiva \ndel server riporta il numero dei messaggi presenti e la dimensione totale in byte. Il comando \nLIST, privo di argomento, richiede al server la lista dei messaggi. In presenza di messaggi, il", "server invia una risposta positiva e un elenco dei messaggi ordinati dal numero 1 fino all’ul -\ntimo e, per ognuno, viene fornita la dimensione in byte. L ’argomento numerico n, se presente \nnel comando, determina una risposta positiva con la dimensione del messaggio numero n , se \npresente, altrimenti una risposta negativa. Il comando RETR  n richiede al server di trasferire \nil messaggio numero n , chiudendo la risposta con una riga contenente il solo carattere “.”. Il", "comando DELE  n richiede al server di eliminare dalla mailbox il messaggio numero n ; il server \nmarca come cancellati i messaggi indicati, che saranno eliminati solo alla chiusura della \ncomunicazione client-server. Il comando RSET , invece, annulla ogni precedente ordine di \neliminazione di messaggi dalla mailbox. Il comando NOOP  non richiede alcuna operazione, \nal di fuori di una risposta positiva. Alla ricezione del comando QUIT , i messaggi marcati come", "cancellati sono eliminati e la comunicazione client-server termina, rilasciando così anche la \nconnessione TCP utilizzata. \nIl protocollo POP3 presenta diverse limitazioni nel suo uso. Infatti, esso non consente di creare \ngerarchie di cartelle dove conservare le e-mail per successiva consultazione, se non nel com -\nputer locale. Ciò richiede al client di operare in una modalità di accesso al server che recupera", "le e-mail arrivate, cancellandole dal server. In queste condizioni, tuttavia, l’accesso alle mail \npuò avvenire solo sul computer locale, costringendo l’utilizzatore ad accedervi ogni volta che \nsi renda necessario. La modalità alternativa di accesso alla mailbox con il protocollo POP3 \nprevede di lasciare le e-mail sul server di posta, rendendone così facile l’accesso da un client \novunque posizionato. In ogni caso, il protocollo POP3 non consente di definire una gerarchia", "di cartelle sul server.\nIl protocollo IMAP, la cui ultima versione è la v4 [RFC3501], supera queste limitazioni \npoiché le e-mail possono restare nel mail server, nel quale è possibile definire una gerarchia \ndi cartelle a discrezione dell’utilizzatore. In queste condizioni l’accesso alla mailbox risulta Si vuole rappresentare graficamente l’accesso del client “shadow” con password “secret” \nalla propria mailbox con il protocollo POP3, assumendo che la mailbox contenga tre e-mail", "di dimensione 160 byte, 320 byte e 100 byte. Il client, dopo l’autenticazione, chiede la lista \ndelle e-mail presenti, richiede informazioni sul messaggio numero 4, chiede l’invio del \nmessaggio numero 2 e quindi chiude la comunicazione con il server.\nI comandi e le risposte scambiate sono mostrate nella Figura 4.16. Dopo la dichiarazione \ndi disponibilità del servizio, il server riceve una richiesta di autenticazione su una nuova", "connessione TCP e questa va a buon fine. Il comando LIST del client genera l’elenco dei \nmessaggi con relativa dimensione, mentre al successivo comando LIST 4 viene risposto \nnegativamente, in quanto tale e-mail non esiste. Il client richiede l’invio della e-mail nume -\nro 2, che il server invia terminando la trasmissione con il carattere “.”. Infine il client chiude \nla comunicazione, con riscontro positivo da parte del server, che rilascia la connessione \nTCP utilizzata. Esempio 4.4", "TCP utilizzata. Esempio 4.4\nPattavinaReti2021.indb   247PattavinaReti2021.indb   247 14/01/2022   16:09:1414/01/2022   16:09:14248  Capitolo 4 – Strato di applicazione\naltamente flessibile, dato che basta utilizzare un client di posta eseguito su un computer \nqualunque. Sull’insieme delle cartelle è possibile fare ricerche di contenuti e anche prelevare \nparti di un messaggio, senza doverlo ricevere tutto. A differenza di POP3, IMAP mantiene lo", "stato della mailbox da un accesso al successivo. Anche il protocollo IMAP riceve servizio dal \nprotocollo TCP con ascolto sul server alla porta 143.\nUno dei modi più popolari oggigiorno per accedere alla propria mailbox si basa sull’utiliz -\nzazione di un servizio Webmail. Sono molti i siti web che offrono questo servizio, a comin -\nciare dai giganti del web, come per esempio Google Gmail, Yahoo Mail, Microsoft Outlook,", "Hotmail, ecc, utilizzati da molte aziende e università. In questo caso lo user agent è sempli -\ncemente un browser e l’accesso alla mailbox nel mail server Web è realizzato per mezzo del \nprotocollo HTTP (vedi Paragrafo 4.6). \n4.5 Trasferimento di file - FTP\nIl servizio di trasferimento di file tra host attraverso la rete Internet si basa sul file transfer \nprotocol  (FTP) [RFC959]. Questo protocollo regola la comunicazione tra i due sistemi termi -", "nali coinvolti, dei quali uno agisce da client e l’altro da server, al fine di recuperare un file dal \nserver oppure depositare un file nel server. +OK\n+OK\n+OK3580\n1160\n.\n+OKPOP3s erversigning off-ERR\n+OK320\n.2320\n3100+OKPOP3s erverready\n<messag e2s entbyPOP3s erverhere>PASS secret\nLIST\nLIST 4USER shad ow\nRETR 2\nQUITClient\n Server\nFigura 4.16 Comandi e risposte scambiate nel protocollo POP3 secondo l’Esempio 4.4.", "PattavinaReti2021.indb   248PattavinaReti2021.indb   248 14/01/2022   16:09:1414/01/2022   16:09:144.5 Trasferimento di file - FTP  249\nIl protocollo FTP si basa sul servizio di trasporto affidabile reso dal protocollo TCP (vedi \nFigura 1.14) come nel protocollo SMTP, ma, a differenza di questo, il trasferimento dei file \nsi basa sull’utilizzazione di due connessioni TCP. La connessione di controllo è dedicata al", "trasferimento dei comandi e delle risposte tra client e server, mentre la connessione dati  è \ndedicata esclusivamente al trasferimento dei file. Le porte utilizzate dal server nel protocollo \nFTP sono la numero 21 per la connessione di controllo e la numero 20 per la connessione \ndati. Il servizio fornito dal protocollo si basa sulla memorizzazione dello stato della sessione \ncorrente, consentendo per esempio la visita e l’interrogazione del contenuto nelle differenti", "directory del server in momenti diversi della sessione.\nLa Figura 4.17 mostra lo schema generale di trasferimento di file secondo il protocollo \nFTP. Il client che desidera ricevere o trasmettere un file in comunicazione con un server \ninstaura una connessione TCP verso la porta 21 del server. Quando la connessione di controllo \nviene instaurata, il client può visitare l’albero delle directory del server. Il trasferimento di file", "avviene, su richiesta del client, sulla connessione dati che, a differenza della connessione di \ncontrollo, viene attivata dal server. Ciò è possibile poiché il client ha comunicato al server il \nnumero di porta su cui il client stesso resterà in ascolto. Quindi il server, utilizzando il pro -\ntocollo TCP, instaura la connessione dati dalla propria porta 20 alla porta del client appena \nconosciuta. \nLe modalità di trasferimento del file tra client e server, che includono anche l’eventuale", "conversione del formato dovuto alla diversa modalità di rappresentazione dei dati nel client \ne nel server, vengono concordate sulla connessione di controllo. Una volta che il file è stato \ntrasferito, la connessione dati viene rilasciata, mentre la connessione di controllo continua a \nrimanere attiva, per effettuare eventualmente un altro trasferimento di file. In questo caso \nverrà instaurata una nuova connessione dati con le stesse modalità della precedente.\n4.5.1 Comandi", "4.5.1 Comandi\nI principali comandi utilizzati dal client sono riportati nella Tabella 4.9. I comandi USER  e \nPASS  servono per aprire la connessione e autenticare il client, mentre il comando QUIT  chiude \nla connessione stessa. Il comando PORT  comunica al server il numero della porta del client da \nutilizzare per la connessione dati. I comandi RETR  e STOR  richiedono al server rispettivamen -\nte il recupero e la memorizzazione di un file. La sequenza dei comandi RNFR  e RNTO  richiede", "la sostituzione del nome di un file, mentre il comando DELE  ne chiede la cancellazione. I \nFTP\nclient\nFTP\nserverFTP\nserver\nFTP\nclientInternetClient\nConnession edicontrolloServer\nConnessionedati\nFigura 4.17 Schema di funzionamento del servizio di trasferimento di file.\nPattavinaReti2021.indb   249PattavinaReti2021.indb   249 14/01/2022   16:09:1514/01/2022   16:09:15250  Capitolo 4 – Strato di applicazione\ncomandi MKD  e RMD  chiedono la creazione e la cancellazione di una directory. I comandi", "PWD  e CWD  chiedono il nome della directory corrente e il cambio di directory. Il comando \nLIST richiede la lista dei file nella directory corrente. Tutti i comandi terminano con la coppia \ndi caratteri “CR” “LF”. \n4.5.2 Risposte\nLe risposte inviate dal server possono essere raggruppate in cinque blocchi, come mostrato in \nTabella 4.10.\n• I codici da 100 a 199 indicano che la risposta ha un contenuto informativo di tipo", "preliminare; per esempio, il codice 125 segnala che la connessione dati è già aperta e \nil codice 150 che il file dati è a posto e la connessione dati sta per essere aperta. \n• I codici da 200 a 299 indicano che la richiesta del client è stata ricevuta, compresa \ne accettata. Per esempio: (i) il codice 200 indica che la richiesta è stata soddisfatta; \n(ii) il codice 220 indica che il servizio è disponibile; (iii) i codici 221 e 226 indicano", "rispettivamente la chiusura della connessione di controllo e di quella dati; (iv) il codice \n225 indica che la connessione dati è aperta e non vi sono trasferimenti in corso; (v) il \ncodice 230 segnala che l’utente è autenticato; (vi) il codice 250 segnala che l’azione \nrichiesta su un file è stata completata. \n• I codici da 300 a 399 indicano una risposta positiva, ma non definitiva, al comando \nricevuto; per esempio il codice 331 indica che il server è in attesa della password.", "• I codici da 400 a 499 indicano una risposta negativa non definitiva al comando rice -\nvuto. Per esempio: (i) il codice 425 segnala l’impossibilità di aprire una connessione \ndati; (ii) il codice 426 indica che la connessione dati è stata chiusa e il trasferimento \ndati interrotto; (iii) il codice 450 segnala che l’azione richiesta sul file non è stata Tabella 4.9 Comandi nel protocollo FTP.\nComando Parametro Significato\nUSER Identificativo Identificazione del client presso il server", "PASS Password Invio chiave di sicurezza per accedere al servizio\nQUIT Richiesta di chiusura della connessione di controllo\nPORT Numero porta Indicazione del numero di porta per la connessione dati\nRETR Percorso Richiesta di recupero di un file dal server\nSTOR Percorso Richiesta di memorizzazione di un file nel server\nRNFR Percorso Richiesta di sostituire il percorso di un file\nRNTO Percorso Richiesta di utilizzare il nuovo percorso per un file\nDELE Percorso Richiesta di rimuovere un file", "DELE Percorso Richiesta di rimuovere un file\nMKD Nome directory Richiesta di creazione di una directory\nRMD Nome directory Richiesta di rimozione di una directory\nPWD Richiesta del nome della directory corrente\nCWD Nome directory Richiesta di cambio directory\nLIST Nome directory Richiesta dell’elenco di file in una directoryTabella 4.10 Gruppi di codici di risposta nel protocollo FTP. \nCodice Significato Esempio\n1xxRisposta positiva", "Codice Significato Esempio\n1xxRisposta positiva \npreliminare125 Data connection already open; transfer starting\n150 File status OK; about to open data connection\n2xxRichiesta del client \naccettata200 Command OK\n220 Service ready\n221 Service closing control connection\n225 Data connection open; no transfer in progress\n226 Closing data connection; requested file action successful\n230 User logged in, proceed\n250 Requested file action completed\n3xxRisposta positiva", "3xxRisposta positiva \nintermedia331 User name OK, need password\n4xxRisposta negativa \ntemporanea425 Cannot open data connection\n426 Data connection closed; transfer aborted\n450 Requested file action not taken; file unavailable\n452 Requested action not taken; insufficient storage space\n5xxRisposta negativa \ndefinitiva500 Syntax error; command unrecognized\n530 Not logged in\n550 Requested action not taken; file unavailable", "550 Requested action not taken; file unavailable\nPattavinaReti2021.indb   250PattavinaReti2021.indb   250 14/01/2022   16:09:1514/01/2022   16:09:154.5 Trasferimento di file - FTP  251\ncomandi MKD  e RMD  chiedono la creazione e la cancellazione di una directory. I comandi \nPWD  e CWD  chiedono il nome della directory corrente e il cambio di directory. Il comando \nLIST richiede la lista dei file nella directory corrente. Tutti i comandi terminano con la coppia \ndi caratteri “CR” “LF”.", "di caratteri “CR” “LF”. \n4.5.2 Risposte\nLe risposte inviate dal server possono essere raggruppate in cinque blocchi, come mostrato in \nTabella 4.10.\n• I codici da 100 a 199 indicano che la risposta ha un contenuto informativo di tipo \npreliminare; per esempio, il codice 125 segnala che la connessione dati è già aperta e \nil codice 150 che il file dati è a posto e la connessione dati sta per essere aperta.", "• I codici da 200 a 299 indicano che la richiesta del client è stata ricevuta, compresa \ne accettata. Per esempio: (i) il codice 200 indica che la richiesta è stata soddisfatta; \n(ii) il codice 220 indica che il servizio è disponibile; (iii) i codici 221 e 226 indicano \nrispettivamente la chiusura della connessione di controllo e di quella dati; (iv) il codice \n225 indica che la connessione dati è aperta e non vi sono trasferimenti in corso; (v) il", "codice 230 segnala che l’utente è autenticato; (vi) il codice 250 segnala che l’azione \nrichiesta su un file è stata completata. \n• I codici da 300 a 399 indicano una risposta positiva, ma non definitiva, al comando \nricevuto; per esempio il codice 331 indica che il server è in attesa della password. \n• I codici da 400 a 499 indicano una risposta negativa non definitiva al comando rice -\nvuto. Per esempio: (i) il codice 425 segnala l’impossibilità di aprire una connessione", "dati; (ii) il codice 426 indica che la connessione dati è stata chiusa e il trasferimento \ndati interrotto; (iii) il codice 450 segnala che l’azione richiesta sul file non è stata Tabella 4.9 Comandi nel protocollo FTP.\nComando Parametro Significato\nUSER Identificativo Identificazione del client presso il server\nPASS Password Invio chiave di sicurezza per accedere al servizio\nQUIT Richiesta di chiusura della connessione di controllo", "PORT Numero porta Indicazione del numero di porta per la connessione dati\nRETR Percorso Richiesta di recupero di un file dal server\nSTOR Percorso Richiesta di memorizzazione di un file nel server\nRNFR Percorso Richiesta di sostituire il percorso di un file\nRNTO Percorso Richiesta di utilizzare il nuovo percorso per un file\nDELE Percorso Richiesta di rimuovere un file\nMKD Nome directory Richiesta di creazione di una directory\nRMD Nome directory Richiesta di rimozione di una directory", "PWD Richiesta del nome della directory corrente\nCWD Nome directory Richiesta di cambio directory\nLIST Nome directory Richiesta dell’elenco di file in una directoryTabella 4.10 Gruppi di codici di risposta nel protocollo FTP. \nCodice Significato Esempio\n1xxRisposta positiva \npreliminare125 Data connection already open; transfer starting\n150 File status OK; about to open data connection\n2xxRichiesta del client \naccettata200 Command OK\n220 Service ready\n221 Service closing control connection", "221 Service closing control connection\n225 Data connection open; no transfer in progress\n226 Closing data connection; requested file action successful\n230 User logged in, proceed\n250 Requested file action completed\n3xxRisposta positiva \nintermedia331 User name OK, need password\n4xxRisposta negativa \ntemporanea425 Cannot open data connection\n426 Data connection closed; transfer aborted\n450 Requested file action not taken; file unavailable", "452 Requested action not taken; insufficient storage space\n5xxRisposta negativa \ndefinitiva500 Syntax error; command unrecognized\n530 Not logged in\n550 Requested action not taken; file unavailableattuata, per esempio perché il file indicato risulta occupato; (iv) il codice 452 segnala \nche l’azione richiesta non ha avuto luogo a causa di memoria insufficiente. \n• I codici da 500 a 599 indicano una risposta negativa definitiva. Per esempio: (i) il codi -", "ce 500 indica un errore di sintassi che impedisce di interpretare il comando ricevuto; \n(ii) il codice 530 indica che l’utente non è stato autenticato; (iii) il codice 550 indica \nche il comando richiesto non è stato attuato, per esempio nel caso di una richiesta di \nfile, perché il file indicato non è stato trovato. \nSi vuole rappresentare graficamente l’accesso del client “Mary” con password “flower” a", "un server per recuperare con il protocollo FTP il file landscape-photo  memorizzato nella \ndirectory /home/pictures . \nLa Figura 4.18 mostra la successione dei messaggi scambiati sulla connessione di controllo. \nDopo l’autenticazione realizzata inviando i comandi USER  e PASS , il client invia il numero \ndi porta locale (4477) della connessione dati da aprire con il comando PORT . Il comando \nCWD  del client posiziona il server sulla directory /home/pictures  e il successivo comando", "RETR  chiede l’invio del file landscape-photo . Il server apre la connessione dati dalla porta \nlocale 20 alla porta remota 4477, invia il file e chiude la connessione dati. Il client termina \nquindi la sessione con il comando QUIT . Esempio 4.5\nPattavinaReti2021.indb   251PattavinaReti2021.indb   251 14/01/2022   16:09:1514/01/2022   16:09:15252  Capitolo 4 – Strato di applicazione\n4.6 World wide web - HTTP", "4.6 World wide web - HTTP\nIl world wide web , denominato per brevità WWW, oppure web,  è costituito da un enorme \nnumero di documenti , chiamati pagine web , mutuamente correlati per mezzo di “collegamenti \nipertestuali” detti hyperlink . Una pagina web è  immagazzinata in un server web, contiene \nuna collezione di “oggetti” indirizzabili tramite collegamenti ed è raggiungibile con il proprio \nidentificatore. Esempi di oggetti sono: file di testo, immagini, applet, video, ecc. Tipicamente", "una pagina web è costituita da un file, che utilizza il linguaggio di programmazione HTML, e \ncollegamenti a tutti gli oggetti ivi specificati, che possono essere localizzati nello stesso com -\nputer oppure in altri computer dislocati ovunque. Un sito web è un insieme di pagine web con \nmutui collegamenti interni immagazzinate in uno o più server web, cui si accede normalmente \ncon una pagina di benvenuto.", "con una pagina di benvenuto.\nLa modalità di accesso a un elemento del web (pagina web, file, applet, ecc.) viene speci -\nficata mediante un’espressione denominata uniform resource locator  (URL), che contiene tre \nelementi:\n• protocollo: identificatore del protocollo utilizzato per accedere alla pagina web;\n• host: sistema terminale dove la pagina web è immagazzinata, espresso attraverso il \nnome del dominio nella gerarchia DNS, oppure come indirizzo IP numerico (vedi \nParagrafo 6.4);USER Mary", "Paragrafo 6.4);USER Mary\n331Usern ameO K,needpasswor d\nPASSflower\n230Userloggedin,procee d\nCWD/home/picture s\n250OK\nRETR landscap e-photo\n150Filestatus OK;abouttoopendataconnect ion\nServeropensdataconnecti on\nFiletransfer\nServercloses data connectio n\n221Serviceclosingcontrolconnect ion220service readyClientServer\n226Closing data connection; filetrans fersuccess ful\nQUITPORT4477\n250OK\nFigura 4.18 Trasferimento di file secondo l’Esempio 4.5.", "PattavinaReti2021.indb   252PattavinaReti2021.indb   252 14/01/2022   16:09:1514/01/2022   16:09:154.6 World wide web - HTTP  253\n• percorso : identificatore della locazione nell’host dove la pagina web può essere \nrecuperata.\nPer esempio, un URL http://www.deib.polimi.it/home/index.html  indica la pagina di benvenuto \nal sito web del dipartimento DEIB del Politecnico di Milano. HTTP  indica il protocollo, deib.", "polimi.it è il nome del dominio dove è raggiungibile il relativo server web www  e index.html  \nè il nome del file che identifica la pagina di ingresso al sito. \nIl web è sviluppato secondo il paradigma client-server. Il client del servizio web è costituito \nda un browser  che è in grado di accedere alle pagine web e a interpretarle. Esempi di browser \nsono Mozilla Firefox, Google Chrome, Microsoft Edge. Un server web è realizzato da un com -", "puter dedicato tipicamente dotato di una grande quantità di memoria, necessaria per contenere \ntutte le pagine web, e da una notevole capacità di elaborazione. \nHypertext transfer protocol  (HTTP) [RFC2616] è il protocollo di livello applicativo che \ndefinisce le modalità di interazione tra client e server e il formato dei messaggi che questi si \nscambiano. Il servizio web utilizza il protocollo di trasporto TCP sulla porta 80 dal lato server,", "usufruendo dunque di un servizio di trasferimento dati affidabile con controllo degli errori. \nQuesto protocollo consente al client di chiedere al server il trasferimento di pagine web di cui \nviene specificato l’URL. Il server invia le pagine richieste e non mantiene alcuna traccia delle \noperazioni svolte, così che il protocollo HTTP è detto stateless , ossia privo di memoria delle \ntransazioni effettuate. Quindi, per esempio, accessi ripetuti da parte di un client alle stesse", "pagine richiedono lo svolgimento delle medesime operazioni, senza poter trarre vantaggio \ndalle precedenti elaborazioni. \nSi possono identificare due tipi di pagine web: pagine statiche e pagine dinamiche. Una \npagina statica  è un documento che rimane sempre uguale e ogni richiesta da parte del client \npresenta sempre la stessa pagina sul browser, così come è stata definita al momento della \nsua creazione. Una pagina dinamica , invece, viene presentata in modo diverso a seconda", "delle condizioni in cui viene richiesta. Ciò si realizza mediante esecuzione nel server di un \nprogramma che genera pagine con contenuti diversi, in dipendenza degli elementi variabili in \nessi contenuti. Un caso tipico è quello in cui il server presenta la prima pagina di un quotidia-\nno che, ovviamente, viene aggiornata con una frequenza che dipende dall’importanza delle \nnotizie che si desidera riportare.", "notizie che si desidera riportare. \nSi vogliono descrivere le operazioni che si susseguono in Internet una volta che in un client \nviene attivato il collegamento ipertestuale all’URL http://www.deib.polimi.it/home/index.\nhtml.\nLe operazioni che hanno luogo all’attivazione del collegamento sono:\n1. il browser interroga il default name server locale per ottenere dal DNS l’indirizzo \nIP associato al server web www.deib.polimi.it ;\n2. il NS restituisce l’indirizzo IP 131.175.31.8;", "2. il NS restituisce l’indirizzo IP 131.175.31.8;\n3. il browser apre una connessione TCP con il server www.deib.polimi.it  alla porta 80;\n4. il browser invia una richiesta di accesso alla pagina index.html ;\n5. il server risponde inviando la pagina index.html  richiesta;Esempio 4.6\nPattavinaReti2021.indb   253PattavinaReti2021.indb   253 14/01/2022   16:09:1514/01/2022   16:09:15254  Capitolo 4 – Strato di applicazione\n4.6.1 Formato dei messaggi", "4.6.1 Formato dei messaggi\nIl protocollo HTTP regola le modalità di interazione tra il client (browser) e il server web. In \naccordo al paradigma client-server, il server è in ascolto per ricevere richieste dai client. Un \nclient che vuole avere accesso a un sito invia un messaggio di richiesta al server, il quale, dopo \naverlo elaborato, restituisce una risposta al client. \nMessaggi di richiesta\nIl formato dei messaggi di richiesta  del protocollo HTTP inviati dal client è mostrato in Figu -", "ra 4.19 e si articola in una prima riga di richiesta , seguita da un numero arbitrario di righe \ndi intestazione , cui segue il corpo  del messaggio preceduto da una riga vuota. Nella riga di \nrichiesta viene specificato il tipo di operazione che si desidera svolgere, denominato metodo , \nseguito da un URL  che specifica indirizzo e nome della pagina cui si fa riferimento, e dalla \nversione del protocollo HTTP utilizzato; questi campi sono separati dal carattere “space”.", "Tutte le righe terminano con la coppia di caratteri “CR” “LF”. \nI metodi definiti dal protocollo HTTP sono otto e sono riportati in Tabella 4.11: GET, \nHEAD , POST , PUT, DELETE , TRACE , CONNECT  e OPTIONS . Il metodo GET è utilizzato per \nrichiedere una pagina web al server; esso lascia vuoto il corpo del messaggio. Il metodo HEAD  \nrichiede solamente l’intestazione della pagina web e non la pagina vera e propria. Viene uti -", "lizzato, per esempio, per verificare l’ultima data di aggiornamento della pagina indicata. Il \nmetodo PUT serve a inviare al server un documento da memorizzare nella locazione indicata \nnel campo URL. Il metodo POST  è utilizzato per inviare informazioni aggiuntive relative a \nuna pagina specificata nel campo URL; viene spesso utilizzato per riempire campi di form \ndisponibili in un sito web. La differenza sostanziale tra i metodi POST  e PUT è che il primo", "indica nell’URL la risorsa che gestirà i dati presenti nel messaggio, mentre il secondo indica \nesplicitamente l’URL dove depositare la pagina. Il metodo DELETE  chiede al server di rimuo -\nMetodo “sp” URL “sp” Versione “CR”“LF”\nNome intestazi one “:”“sp” Valore “CR”“LF”\nNome intestazione “:”“sp” Valore “CR”“LF”...\n“CR”“LF”Riga dirichiest a\nRighediintestazion e\nRigavuota\nCorpo", "Righediintestazion e\nRigavuota\nCorpo\nFigura 4.19 Formato dei messaggi di richiesta nel protocollo HTTP.6. se la pagina index.html  contiene altri oggetti che si trovano nello stesso computer, \nvengono recuperati e inviati al browser, altrimenti il server ripete i passi 1-5 per \nrecuperare e inviare al browser tutti i documenti indicizzati nella pagina web;\n7. il browser visualizza la pagina index.html , che ora include tutti gli oggetti collegati;\n8. il browser chiude la connessione TCP.", "8. il browser chiude la connessione TCP.\nPattavinaReti2021.indb   254PattavinaReti2021.indb   254 14/01/2022   16:09:1614/01/2022   16:09:164.6 World wide web - HTTP  255\nvere dal web la pagina indicata nell’URL associato, naturalmente a condizione che il client \nabbia le autorizzazioni necessarie. Il metodo TRACE  serve a richiedere l’eco (loopback) del \nmessaggio inviato, così da poter svolgere operazioni di debug sul software utilizzato dal client.", "Il metodo CONNECT  richiede la connessione al server attraverso un proxy. Il metodo OPTIONS  \nserve a richiedere al server informazioni sulle opzioni di comunicazione disponibili per la \npagina web indicata dal campo URL. \nUna o più righe di intestazione possono seguire la riga di richiesta, ognuna delle quali speci -\nfica con maggior precisione la richiesta che viene inoltrata al server. Ogni riga di intestazione", "è costituita dal nome dell’intestazione seguita dal campo che specifica il valore assunto dalla \nspecifica intestazione, separati dai caratteri “:” e “space”. Esempi di intestazione sono: indica -\nzione delle credenziali del client, data e ora del messaggio, linguaggio del client, dimensione \nin byte del corpo del messaggio, ecc. \nAlcuni messaggi di richiesta possono definire un metodo condizionato  all’occorrenza di", "un determinato evento, in cui la condizione è specificata in uno dei campi di intestazione. Per \nesempio, il metodo GET può definire una richiesta di documento condizionata all’assenza o \nalla presenza di modifiche successive a una certa data. \nMessaggi di risposta\nIl formato di un generico messaggio di risposta , inviato dal server dopo aver ricevuto un mes -\nsaggio di richiesta, è mostrato in Figura 4.20. Esso si differenzia dal messaggio di richiesta", "esclusivamente nella prima riga, che ora rappresenta una riga di stato . Questa riga contiene tre \ncampi separati dal carattere “space”: il campo versione , il campo codice di stato  e infine una \nfrase . Il codice è rappresentato da un numero a tre cifre, delle quali la prima indica la classe \ndella risposta. La frase sintetizza in breve forma testuale il significato della risposta. \nLe risposte nel protocollo HTTP, riportate nella Tabella 4.12, sono raggruppate in cinque \nblocchi.", "blocchi. \n• I codici da 100 a 199 indicano che la risposta ha un contenuto informativo di tipo \nprovvisorio. Per esempio, con il codice 100 il server sollecita il client a continuare con \nla sua richiesta. Tabella 4.11 Metodi del protocollo HTTP.\nMetodo Significato\nGET Richiesta di una pagina web al server\nHEAD Richiesta di informazioni relative a una pagina web\nPUT Richiesta di memorizzazione di una pagina web\nPOST Invio di informazioni relative a una pagina web", "DELETE Richiesta di cancellazione di una pagina web\nTRACE Richiesta di ricevere l’eco del messaggio inviato\nCONNECT Richiesta di connessione attraverso un proxy\nOPTIONS Richiesta di informazioni sulle opzioni disponibili per una pagina web\nPattavinaReti2021.indb   255PattavinaReti2021.indb   255 14/01/2022   16:09:1614/01/2022   16:09:16256  Capitolo 4 – Strato di applicazione\n• I codici da 200 a 299 indicano che la richiesta del client è stata ricevuta, compresa e", "accettata. Per esempio: (i) il codice 200 indica che la richiesta è stata soddisfatta; (ii) \nil codice 202 indica che, anche se la richiesta è stata accettata, la sua elaborazione non \nè stata completata. \n• I codici da 300 a 399 indicano che viene richiesta un’ulteriore azione da parte del \nclient per soddisfare la richiesta inoltrata. Per esempio: (i) il codice 301 indica che la \npagina richiesta è stata spostata a un nuovo URL incluso nel messaggio di risposta; (ii)", "il codice 304 indica, in risposta a una richiesta condizionata, che la pagina richiesta \nnon è stata modificata; (iii) il codice 305 indica che la pagina richiesta deve essere \nrecuperata attraverso un proxy di cui si fornisce l’indirizzo. \n• I codici da 400 a 499 indicano un errore nella richiesta da parte del client. Per esempio: \n(i) il codice 401 indica che è richiesta un’autorizzazione per accedere alla pagina web", "richiesta; (ii) il codice 404 indica che il server non ha trovato nulla in corrispondenza \ndell’URL comunicato. \n• I codici da 500 a 599 indicano un errore nel server che è incapace di soddisfare la \nrichiesta ricevuta. Per esempio, il codice 503 indica che il server è indisponibile a \ncausa di un sovraccarico o di un intervento di manutenzione nel server. \nTabella 4.12 Gruppi di codici di risposta nel protocollo HTTP.\nCodice Significato Esempio\n1xx Messaggio informativo 100 Continue", "1xx Messaggio informativo 100 Continue\n2xx Richiesta del client accettata200 OK\n202 Accepted\n3xx Reindirizzamento301 Moved permanently\n304 Not modified\n305 Use proxy\n4xx Errore del client401 Unauthorized\n404 Not found\n5xx Errore del server 503 Service unavailableVersione “sp” Codi cestato“sp” Frase “CR”“LF”\nNome intestazione “:”“sp” Valore “CR”“LF”\nNomeintestazione “:”“sp” Valore “CR”“LF”...\n“CR”“LF”Rigadistato\nRighediintestazion e\nRigavuota\nCorpo", "Righediintestazion e\nRigavuota\nCorpo\nFigura 4.20 Formato dei messaggi di risposta nel protocollo HTTP. \nPattavinaReti2021.indb   256PattavinaReti2021.indb   256 14/01/2022   16:09:1614/01/2022   16:09:164.6 World wide web - HTTP  257\nIntestazioni\nMessaggi di richiesta e di risposta HTTP assumono diversi significati in funzione delle inte -\nstazioni incluse nel messaggio e dei parametri che queste specificano. La Tabella 4.13 mostra \nalcune delle intestazioni più frequentemente utilizzate.", "L ’intestazione User-Agent  identifica il client, l’intestazione Host , sempre presente nel mes -\nsaggio di richiesta, indica il nome del dominio e il numero di porta dove l’azione richiesta deve \nessere attuata, l’intestazione Server  indica il tipo di software che nel server di origine ( origin \nserver ) ha prodotto l’oggetto trasportato. \nLe intestazioni di tipo Accept  nei messaggi di richiesta indicano al server l’accettabilità dei", "contenuti nella risposta con riferimento al tipo di oggetti ( Accept ), per esempio file audio, al \nTabella 4.13 Intestazioni nei messaggi HTTP.\nNome Richiesta/\nRispostaSignificato\nUser-Agent Richiesta Identificazione del browser del client\nHost Richiesta Nome dell’host e numero di porta dell’oggetto richiesto\nServer RispostaSoftware del server di origine che ha generato l’oggetto \nrichiesto\nAccept Richiesta Tipi di oggetto accettabili nella risposta", "Acccept-Charset Richiesta Tipi di carattere accettabili nella risposta\nAccept -Encoding Richiesta Tipi di codifica accettabili nella risposta\nAccept-Language Richiesta Tipi di linguaggio accettabili nella risposta\nContent-Encoding Entrambe Tipo di codifica applicato all’oggetto trasferito\nContent-Language Entrambe Tipo di linguaggio dell’oggetto trasferito\nContent-Length Entrambe Lunghezza in byte dell’oggetto trasferito\nContent-Type Entrambe Tipo di contenuto dell’oggetto trasferito", "Date Entrambe Data e ora di generazione del messaggio\nIf-Unmodified-Since RichiestaRichiesta condizionata all’assenza di modifiche dopo una \ncerta data\nIf-Modified-Since RichiestaRichiesta condizionata alla presenza di modifiche dopo \nuna certa data\nLast-Modified Risposta Data e ora dell’ultima modifica dell’oggetto\nExpires Risposta Data e ora dopo la quale la risposta non è più valida\nCookie Richiesta Identificazione del client presso il server", "Set-Cookie Risposta Assegnazione di identificativo del client presso il server\nProxy-Authorization RichiestaSpecificazione del tipo di credenziali richieste per accede-\nre al servizio di proxy server\nProxy-Authenticate RispostaInvio delle credenziali di accesso a un proxy server che \nrichiede autenticazione\nCache-Control Entrambe Direttive per il controllo delle cache", "PattavinaReti2021.indb   257PattavinaReti2021.indb   257 14/01/2022   16:09:1614/01/2022   16:09:16258  Capitolo 4 – Strato di applicazione\ntipo di caratteri ( Accept-Charset ), per esempio “ASCII”, al tipo di codifica ( Accept-Encoding ), \nper esempio “gzip”, al tipo di linguaggio ( Accept-Language ), per esempio “British English”. \nLe intestazioni che si riferiscono al corpo dell’oggetto trasferito specificano il tipo di", "codifica ( Content-Encoding ), per esempio “gzip”, il linguaggio utilizzato ( Content-Langua -\nge), per esempio Maori, la lunghezza in byte dell’oggetto ( Content-Length ), il tipo di oggetto \n(Content-Type ), per esempio un file di testo.\nL ’intestazione Date  specifica quando il messaggio è stato generato, le intestazioni If-Un -\nmodified-Since  e If-Modified-Since  condizionano il metodo del messaggio di richiesta all’oc -", "correnza o meno di modifiche dopo una certa data. Nel messaggio di risposta, l’intestazione \nLast-Modified  indica la data di ultima modifica dell’oggetto e l’intestazione Expires  specifica \nla data oltre la quale l’oggetto non è più valido. \nLe intestazioni Cookie  e Set-Cookie  sono utilizzate per realizzare una memoria delle tran -\nsazioni effettuate tra un client e un server (vedi Paragrafo 4.6.4). Le intestazioni Proxy-Au -", "thorization  e Proxy-Authenticate  sono utilizzate per specificare al client il tipo di credenziali \nnecessarie per accedere a un servizio e per inviare al server le credenziali. Le intestazioni \ndi tipo Cache-Control  servono a gestire un servizio di web caching attraverso il protocollo \nHTTP (vedi Paragrafo 4.6.5). \n4.6.2 Connessioni HTTP\nIl protocollo HTTP esegue il trasferimento di file tra client e server utilizzando il servizio di", "trasporto del protocollo TCP, come rappresentato in Figura 1.14. Le modalità di concatenazio -\nne delle richieste da un client a un server sono due, in funzione del tipo di connessioni, che \npossono essere non persistenti o persistenti . \nLe connessioni HTTP di tipo non persistente , definite nella prima versione del protocollo \nHTTP ( HTTP/1.0), consentono il trasferimento di un solo messaggio di richiesta e di un solo", "messaggio di risposta. In questo caso, il browser inizializza una connessione TCP con il server \nweb specificandone l’indirizzo. Una volta che la connessione TCP è stata instaurata, il client \ninvia un messaggio di richiesta, specificando l’URL della pagina richiesta. Il server recupera \nla pagina e la trasferisce al client, che quindi rilascia la connessione TCP. Se il client vuole \naccedere a oggetti contenuti nella pagina ricevuta che risiedono nello stesso server, deve ria -", "prire e chiudere tante connessioni TCP quanti sono gli oggetti che devono essere recuperati \nin quel server. \nLe connessioni non persistenti diventano molto inefficienti nel momento in cui una pagina \nindica una moltitudine di oggetti presenti nello stesso sito della pagina, situazione ormai consi -\nderata normale. Per questo motivo, nella successiva versione del protocollo HTTP ( HTTP/1.1) \nè stata prevista la modalità di connessione persistente  che, una volta instaurata la connessione", "TCP, permette al client di decidere se rilasciarla o meno. Nel caso di più oggetti nella stessa \npagina, residenti nella maggior parte dei casi nello stesso server, il client mantiene la connes -\nsione TCP aperta fino a che non ha ricevuto tutti gli oggetti della pagina. Ulteriori pagine \nresidenti nello stesso server possono essere poi recuperate prima del rilascio della connessio -\nne. Ciò avviene per iniziativa del client, oppure per iniziativa del server alla scadenza di un", "timeout che misura l’inattività della connessione. \nPossiamo valutare la differenza nei ritardi di trasferimento richiesto dalle due modalità di \ngestione della connessione TCP, ipotizzando che una generica pagina web contenga n oggetti \nPattavinaReti2021.indb   258PattavinaReti2021.indb   258 14/01/2022   16:09:1614/01/2022   16:09:164.6 World wide web - HTTP  259\ntutti di uguale dimensione; il tempo richiesto per trasferire la pagine web viene indicato con", "TH, mentre TO indica il tempo richiesto per il trasferimento di ognuno degli n oggetti. Si assu -\nme che l’instaurazione di una connessione TCP richieda un intervallo di tempo3 Topen = RTT, \nround trip time , che indica il tempo totale di attraversamento della rete dall’invio di una \nrichiesta da parte del client fino alla ricezione della relativa risposta. Inoltre il tempo di pro -\npagazione richiesto per recuperare una pagina o un oggetto nel server da parte del client è", "dato Tget = RTT, dato che ciò richiede il trasferimento di un messaggio di richiesta e di un \nmessaggio di risposta. Trascurando il tempo necessario per rilasciare una connessione TCP, \nsi vuole esprimere il tempo totale T richiesto per trasferire la pagina web con tutti gli oggetti, \ncioè dall’apertura della connessione TCP per il recupero della pagina fino al completo trasfe -\nrimento dell’ultimo oggetto. Questo tempo, nel caso di connessioni non persistenti, è dato da", ")4.1( TnpTopenTgetTHnTopenTgetTO+ + ( ) + + + 2n1+()RTTTHnTO+ + = = , \nmentre nel caso di connessioni persistenti si riduce a\n)4.2( TpTopenTgetTHnTgetTO+( ) + + + n2+()RTTTHnTO+ + = = .   \nOccorre osservare che il recupero di una pagina con tutti gli oggetti indicati può essere reso \npiù efficiente consentendo che le richieste degli oggetti il cui URL è contenuto nella pagina \n3 Anche se l’instaurazione di una connessione TCP richiede lo scambio di tre segmenti in sequenza (vedi Paragra -", "fo 5.4.2), è ragionevole assumere che il primo messaggio del client venga trasferito unitamente al terzo segmento \nche completa l’instaurazione della connessione. Quindi la connessione si considera disponibile con lo scambio \ndei primi due segmenti, cosa che richiede appunto un tempo RTT.Esempio 4.7\nSi vuole rappresentare graficamente lo scambio di messaggi tra client e server HTTP che ha \nluogo per recuperare da parte del client una pagina web presente nel server che contiene due", "immagini e un file audio, confrontando il caso di connessione non persistente con quello di \nconnessione persistente. Si assume che il tempo di trasmissione di ogni oggetto sia la metà \ndell’intervallo di tempo RTT. \nLa Figura 4.21a mostra la successione temporale degli eventi nel caso di connessione non \npersistente. L ’instaurazione della connessione TCP richiede un tempo RTT, cui segue l’in -\nvio della richiesta del client. Il primo bit della risposta è ricevuto dopo un tempo RTT e", "occorre un tempo TH per ricevere la pagina richiesta. La connessione TCP viene quindi \nrilasciata. Il trasferimento di ognuno dei tre oggetti nella pagina richiede un tempo TO in \naggiunta al tempo di apertura della connessione e di richiesta dell’oggetto. Con una con -\nnessione TCP persistente non vi è necessità di rilasciare la connessione alla ricezione della \npagina web, quindi la richiesta di ognuno dei tre oggetti può essere inviata appena ricevuto", "l’oggetto precedente. La Figura 4.21b, che mostra la successione temporale degli eventi con \nconnessione persistente, evidenzia che il tempo totale richiesto per il trasferimento si è  \nridotto rispetto al caso non persistente grazie alla connessione TCP che rimane aperta per \ntutti i trasferimenti. \nPattavinaReti2021.indb   259PattavinaReti2021.indb   259 14/01/2022   16:09:1614/01/2022   16:09:16260  Capitolo 4 – Strato di applicazione", "vengano inoltrate una dopo l’altra senza attendere che l’oggetto delle richieste precedenti sia \nricevuto. Quindi nel caso di connessioni non persistenti, ciò consiste nell’aprire n connessioni \nin parallelo su ognuna delle quali si invia un messaggio di richiesta. Assumendo che la rete \ngarantisca lo stesso tempo di trasferimento TO ad ogni oggetto, e che quindi la capacità della \nconnessione TCP resa disponibile sia ora n volte più grande, il tempo totale di trasferimento", "richiesto per la pagina web completa di oggetti è ancora dato dalle Equazioni (4.1) e (4.2) con \nn = 1 per connessioni non-persistenti e persistenti, rispettivamente.\n4.6.3 Versioni di HTTP\nSono trascorsi molti anni prima che la nuova versione del protocollo HTTP, cio è la versione \nHTTP/2 [RFC7540], fosse definita allo scopo di consentire di superare le problematiche emer -\nse con la precedente versione HTTP/1.1. Il nuovo protocollo non ha apportato alcuna modifica", "alle regole di interazione tra client e server lasciando inalterata la definizione dei metodi, \ndelle intestazioni, dell’indirizzamento basato su URL. I cambiamenti hanno interessato esclu -\nsivamente la modalità di trasporto dei dati tra client e server con l’obiettivo di migliorare le \nprestazioni di ritardo nel recupero di documenti dai server web, riducendo anche l’overhead \ndi trasporto dovuto agli header dei messaggi HTTP. L ’introduzione di meccanismi di priorità", "ha consentito anche di differenziare il servizio di trasferimento tra le diverse tipologie di \nmessaggi.\nIl protocollo HTTP/2 consente la multiplazione sulla stessa connessione TCP di una plurali -\ntà di sessioni TCP, se le applicazioni coinvolte sono eseguite nelle stesse stazioni terminali. Ciò \nevita di creare tante socket quante sono le sessioni aperte multiplate sulla connessione TCP.\nUno dei problemi manifestati dal protocollo HTTP/1.1 riguarda il ritardo che, in alcune", "situazioni, caratterizza il recupero dai server di documenti contenenti molti oggetti di dimen -Topen\nTget\nTopenTH\nTOTgetTopen\nTget\nTH\nTget\nTO\n(a) (b)\nFigura 4.21 Connessioni HTTP secondo l’Esempio 4.7: non persistenti (a) e persistenti (b).\nPattavinaReti2021.indb   260PattavinaReti2021.indb   260 14/01/2022   16:09:1614/01/2022   16:09:164.6 World wide web - HTTP  261\nsioni diverse. Se in una pagina esistono oggetti molto grandi, ed essi vengono richiesti per", "primi dal client, gli eventuali oggetti più piccoli subiscono un notevole ritardo di trasferimento \nnonostante la loro dimensione ridotta richieda un tempo di trasmissione molto breve. Questo \nfenomeno è noto come head-of-line  (HOL) blocking  [Pattavina], dato che un’unità informativa \ndi grandi dimensioni all’inizio della lista delle unità da inviare fa tardare la trasmissione delle \neventuali unità più piccole successive nella lista.", "Un cambiamento molto importante introdotto nel protocollo HTTP/2 per superare il pro -\nblema dell’HOL blocking è stato la definizione di un meccanismo di “ framing” secondo il \nquale ogni messaggio HTTP viene spezzato in una sequenza di frame , che vengono trasferiti \nattraverso la connessione TCP intercalati con i frame di altri messaggi. Ciò vale sia per i mes -\nsaggi di richiesta inviati dal client, sia per i messaggi di risposta generati dal server. Natural -", "mente ogni frame reca un identificatore univoco che consente la ricostruzione del messaggio \ncompleto a destinazione. Per esempio, ipotizziamo che venga richiesto il trasferimento di un \nfile video che richiede 500 frame e di tre immagini composte da cinque frame ognuna. Il tra-\nsferimento verrebbe completato dopo la trasmissione di 515 frame, ma gli oggetti più piccoli \nsarebbero disponibili per la loro presentazione nel browser del client dopo il ventesimo frame \ntrasferito.", "trasferito. \nNel protocollo HTTP/2 viene anche adottato un meccanismo di priorità: il client può attri -\nbuire alle richieste un livello di priorità (da 1 a 256), e il server genererà il flusso di frame \nnell’ordine comunicato dal client. Quindi il client ha la possibilità di richiedere con priorità al \nserver gli oggetti che devono essere riprodotti nel browser del client prima di altri per miglio -\nrare la fruibilità del servizio.", "rare la fruibilità del servizio.\nUn ulteriore miglioramento delle prestazioni di ritardo fornite dal protocollo HTTP/2 risie -\nde nella modalità server push  con cui il server gestisce le richieste ricevute. Con questo \napproccio, un server che riceve la richiesta di un documento decide autonomamente di inviare \nal client anche gli oggetti indicati nel documento senza dover attendere per essi una esplicita", "richiesta. Ciò naturalmente consente di ridurre il tempo di trasferimento complessivo dell’in -\ntero documento e della sua presentazione nel browser del client.\nIl protocollo HTTP/2 consente anche una migliore utilizzazione della capacità trasmissiva \nmessa a disposizione dalla sottostante connessione TCP mediante tecniche di codifica. Ciò \ntrova giustificazione nel fatto che l’overhead associato a ogni messaggio può essere di grande", "entità, specialmente se il payload trasportato è piccolo. Si consideri che le sole intestazioni, \nspesso molto ripetitive per richieste e risposte generate nell’ambito di una stessa sessione \nclient-server, possono richiedere la trasmissione di centinaia di byte. Un trasferimento più \nefficiente delle intestazioni nel protocollo HTTP/2 viene ottenuto mediante uso combinato \ndi una codifica di Huffman delle stringhe trasferite unitamente a una codifica statica delle", "intestazioni più comuni e a una codifica dinamica delle intestazioni già utilizzate da client e \nserver nella stessa sessione. \nLa successiva versione del protocollo HTTP, denominata HTTP/3, si trova ora nella fase di \nstandardizzazione finale dopo un percorso dei gruppi di lavoro dedicati durato più di 5 anni. \nIl cambiamento più significativo introdotto da questa nuova versione è il tipo di servizio di", "trasporto richiesto alla rete, che ora viene fornito dal protocollo UDP e non più dal protocollo \nTCP. Per raggiungere lo scopo di ridurre i tempi di trasferimento in rete dei documenti web \ne mantenere un grado di servizio paragonabile a quello fornito dal protocollo TCP, HTTP/3 \nutilizza il nuovo protocollo QUIC [RFC9000] che si interpone tra gli strati di applicazione e di", "PattavinaReti2021.indb   261PattavinaReti2021.indb   261 14/01/2022   16:09:1614/01/2022   16:09:16262  Capitolo 4 – Strato di applicazione\ntrasporto. QUIC infatti riceve il servizio connectionless UDP dal livello inferiore e aggiunge \ndiverse funzionalità al servizio di trasporto che viene ricevuto dal protocollo applicativo, quali \nun servizio connection-oriented, la multiplazione di diverse sessioni client-server tra le stesse", "stazioni terminali, un controllo di flusso per sessione, l’eliminazione dell’HOL blocking tra \nflussi diversi presente nel protocollo HTTP/2, ecc (vedi Paragrafo 5.4.6).\n4.6.4 I cookie\nIl web e il protocollo HTTP sono stati sviluppati inizialmente per fornire servizi “stateless”, \ncome già precedentemente accennato. Tuttavia il trascorrere del tempo e la crescita e l’arric -\nchimento dei servizi disponibili sul web, dal commercio elettronico, alla necessità di auten -", "ticazione dei client, alla diffusione di pubblicità via Internet, ha reso evidente la necessità \ndi riuscire a memorizzare lo stato delle connessioni attive per un uso successivo. I cookie  \n[RFC6265] svolgono dunque il compito di rendere stateful  il servizio web fornito dal proto -\ncollo HTTP, pur restando il protocollo HTTP strettamente stateless .\nL ’idea di base dei cookie è quella di fare in modo che ogni accesso a un sito che fornisce", "servizi web lasci una traccia delle operazioni svolte, così che un nuovo accesso agli stessi ser -\nvizi possa utilizzare queste informazioni a livello applicativo per arricchire il servizio fornito. \nI componenti chiave di tutto questo sono:\n• un database  presso il sito web, dove il fornitore del servizio registra le operazioni \nsvolte dal client e le associa a un codice identificativo numerico del client stesso;", "• un file denominato cookie , depositato presso il client, che serve a identificare il client \npresso il sito web che fornisce servizio;\n• la possibilità di trasferire il codice identificativo dal server al client e viceversa in \ncorrispondenza dell’esecuzione del protocollo HTTP. \nAlla prima richiesta di accesso a un servizio web da parte di un client con protocollo HTTP, \nil sito registra l’identità del client e inserisce nel campo intestazione della risposta il codice", "che associa il client al fornitore di servizi. Il codice identificativo ricevuto dal browser del \nclient viene memorizzato nell’host del client in un file denominato cookie  per un uso futuro. \nLa volta successiva che lo stesso client accederà allo stesso sito, il browser inserirà il codice \nidentificativo del client nel campo intestazione del messaggio di richiesta. Con la nuova richie -\nsta ricevuta, il server potrà aggiornare le informazioni nel database relative a quel client. In", "questo modo il server è sempre in grado di personalizzare i messaggi di risposta conoscendo \nla storia passata dello specifico client.\nOccorre osservare che i cookie sono file di testo non eseguibili e non rappresentano quindi \nuna minaccia per l’utente, anche se molti dubbi vengono sollevati da questo tipo di tracciamen -\nto con riguardo agli aspetti di privacy. Inoltre, è solo il browser che gestisce i cookie nell’host \ndel client.", "del client.\nPattavinaReti2021.indb   262PattavinaReti2021.indb   262 14/01/2022   16:09:1614/01/2022   16:09:164.6 World wide web - HTTP  263\nSi vuole rappresentare un esempio di generazione e utilizzazione dei cookie nell’ambito di \nun servizio di vendita di libri online da parte del sito web Bookstore.com , assumendo che \nil client sia alla sua prima visita. \nIl flusso dei messaggi HTTP è rappresentato nella Figura 4.22. Il client invia una richiesta", "di accesso al sito web e ciò comporta la creazione di un record nel database del sito, asso -\nciato al cliente con identificativo “4017” (azione 1). Questo codice viene incluso (azione 2) \nnel messaggio di risposta dal sito web con accettazione della connessione. Alla ricezione \ndi questo messaggio il browser genera un cookie con identificativo “4017” associato al sito \nBookstore.com  (azione 3). La successiva richiesta del client di accesso ai libri del genere", "thriller reca il codice del client “4017” (azione 4). Il server del sito fornisce in risposta \nimmagini dei libri richiesti, registrando la nuova richiesta nel record del client nel proprio \ndatabase. In un momento successivo, non importa se dopo pochi minuti o settimane, lo \nstesso client, in connessione con il sito Bookstore.com , richiede l’accesso ai dizionari in \nvendita. Anche questa richiesta reca (azione 6) lo stesso codice “4017”. L ’accesso al data -", "base del sito con questo codice determina la scelta di proporre al client in risposta non solo \nimmagini dei dizionari richiesti, ma anche immagini di libri thriller richiesti nella prece -\ndente visita al sito web (azione 7). Esempio 4.8\n.Server\nClient\nGET“thrillerbook ”HTTP/1.1\nCookie:4017HTTP/1.1200OK\nSetcookie :4017GETBookstore.comHTTP /1.1\nHTTP/1.1200OK\ndictionary&thrillerbookimagesGET“dictionar y”HTTP /1.1\nCookie:4017HTTP/1.1200OK\nthrillerbook image sData\nbaseCookie\n1\n2\n6543\n7", "thrillerbook image sData\nbaseCookie\n1\n2\n6543\n7\nFigura 4.22 Scambio di messaggi con utilizzazione di cookie secondo l‘Esempio 4.8.\nPattavinaReti2021.indb   263PattavinaReti2021.indb   263 14/01/2022   16:09:1714/01/2022   16:09:17264  Capitolo 4 – Strato di applicazione\n4.6.5 Web caching\nIl traffico in Internet è in costante aumento per l’uso sempre più capillare che ne viene fatto \ne per il continuo sviluppo di nuove applicazioni che ne rendono attraente l’uso. Tra queste, le", "applicazioni di tipo video giocano un ruolo molto importante per determinare la necessità di \nrisorse di comunicazione a disposizione, in relazione ai tempi di risposta che queste posso -\nno garantire. Infatti, la richiesta di banda necessaria al trasferimento di un’enorme quantità \ndi file di grandi dimensioni, come quelli video, può compromettere le prestazioni di rete in \ntermini di throughput sostenibile per applicazione e di tempo di ritardo per il trasferimento \ndelle immagini.", "delle immagini.\nUna soluzione che consente di alleviare questo problema consiste nell’utilizzazione di ser -\nver in grado di replicare copie di contenuti in aggiunta alla copia originale depositata nel ser -\nver di origine ( origin server ). Questi server sono denominati proxy server  in quanto svolgono \nla loro funzione in prossimità degli utilizzatori finali dei contenuti e sono dotati di una grande \nquantità di memoria, detta cache . Un proxy server può rendere disponibile direttamente un", "contenuto ai client nel suo raggio di azione senza dover accedere all’origin server, che magari \ndista anche decine o centinaia di chilometri. Naturalmente, il browser del client deve essere \nconfigurato per inviare i propri messaggi HTTP al proxy server e non agli origin server. \nUna generica procedura di utilizzazione del proxy server per un suo client che richiede il \ndownload di un film dal sito Bestmovies.com  è la seguente:", "1. il browser del client effettua una connessione TCP con il proxy server attraverso la \nquale viene inviato il messaggio di richiesta del film il cui origin server è Bestmovies.\ncom; \n2. il proxy server che riceve la richiesta verifica se il file richiesto è nella sua cache; in \ncaso positivo il file richiesto viene inviato al client in un messaggio di risposta HTTP, \nin caso negativo il proxy server apre una nuova connessione TCP con il sito web Best -", "movies.com  a cui invia una richiesta del file in questione;\n3. l’origin server invia il documento richiesto al proxy server, il quale, una volta ricevuto \nil file, lo memorizza nella cache; \n4. il proxy server trasferisce il documento richiesto al client in un messaggio di risposta.\nRisulta di notevole interesse osservare come da questo procedura emerga che il proxy server \npuò agire sia da client che da server. Infatti nell’interazione con il client il proxy server agisce", "da server, mentre nell’interazione con l’origin server agisce da client.\nÈ evidente che quanto più il proxy server è vicino al client, tanto minore sarà il ritardo di \ntrasferimento del file al browser con conseguente riduzione delle risorse di rete impiegate nel \ntrasferimento, la cui entità dipende dalla posizione dell’origin server rispetto al proxy server. \nRisulta ormai pratica comune per un gran numero di realtà aziendali e accademiche disporre", "proxy server all’interno delle loro reti private con l’effetto di ridurre il traffico di accesso a \nInternet. Ciò risulta di grande utilità, considerando che la banda disponibile nei collegamenti \ndi accesso a Internet rappresenta spesso il collo di bottiglia per collegamenti a lunga distan -\nza, considerando le grandi capacità tipicamente disponibili nelle aree locali o nelle reti di \ntrasporto.\nConsiderando che anche gli ISP traggono vantaggio dalla presenza di cache a disposizione", "di tutti i loro utenti nell’area, la Figura 4.23 mostra un esempio di configurazione di rete dove \nPattavinaReti2021.indb   264PattavinaReti2021.indb   264 14/01/2022   16:09:1714/01/2022   16:09:174.7 Architetture peer-to-peer  265\nsono disponibili due proxy server, e cio è uno nella rete privata e uno configurato nella strut -\ntura di accesso dell’ISP.\nA seconda del tipo di informazioni che contengono, i documenti che sono memorizzati", "nella cache di un server potrebbero divenire obsoleti con il passare del tempo. Le pagine dei \nquotidiani diventano obsolete molto rapidamente, anche più volte all’ora, mentre documenti \nregistrati come video o audio di concerti non sono soggetti a obsolescenza. Per risolvere il \nproblema dell’obsolescenza dei documenti è possibile adottare diverse tecniche. Per esempio, \nsi possono considerare scaduti i documenti presenti nel proxy server da un certo intervallo di", "tempo. L ’intestazione “Expires” della risposta HTTP fornisce l’informazione necessaria per \nsvolgere questo compito. Per i documenti privi di scadenza, il proxy server potrebbe adottare \nla tecnica di verificare a intervalli periodici presso l’origin server se il documento nella cache \nè ancora attuale. Ciò si realizza da parte del proxy server inviando una richiesta “GET” con -\ndizionata alla presenza di modifiche dopo una certa data, utilizzando l’intestazione “If-Modi -", "fied-Since”. Il risultato di ciò è il download del documento dall’origin server solo se questo ha \nsubito modifiche dopo l’ultima data di memorizzazione nel proxy server.\nUno dei punti chiave per ottenere la massima efficienza nell’utilizzazione della cache \nconsiste nel fare in modo che i documenti memorizzati nel proxy server siano oggetto di un \ngrande numero di richieste. Considerando poi che la quantità di memoria della cache, anche se", "molto grande, è pur sempre limitata rispetto a un uso massiccio che se ne vorrebbe fare, sorge \nla necessità di selezionare i documenti da immagazzinare nella cache. Una delle tecniche più \ndiffuse per prendere questa decisione si basa sulla valutazione della “popolarità” di un docu -\nmento, rilevabile osservandone la frequenza di richieste. Si conserveranno dunque nella cache \ni documenti che mantengono nel tempo un alto indice di popolarità.\n4.7 Architetture peer-to-peer", "4.7 Architetture peer-to-peer\nL ’architettura peer-to-peer  (P2P) si basa su un concetto totalmente diverso per l’interazione \ntra computer rispetto all’architettura client-server, non essendovi alcuna distinzione di fun -\nzioni tra tutti i client, chiamati peer , che si scambiano direttamente informazioni. I file che \nvengono scambiati in una rete P2P sono suddivisi in piccole parti che vengono trasferite da \nProx y\nserverAcce ssISPProxy\nserver\nLANOrigin\nserverOrigin\nserverOrigin\nserver\nOrigin", "LANOrigin\nserverOrigin\nserverOrigin\nserver\nOrigin\nserverOrigin\nserverInternet\nFigura 4.23 Posizionamento dei proxy server.\nPattavinaReti2021.indb   265PattavinaReti2021.indb   265 14/01/2022   16:09:1814/01/2022   16:09:18266  Capitolo 4 – Strato di applicazione\nun peer all’altro, così che ogni peer svolge sia il ruolo di client, ricevendo parti da altri peer, \nsia il ruolo di server, inviando parti ad altri peer. Quindi, in linea di principio la capacità di", "download nelle reti peer-to-peer è data dalla capacità complessiva di upload di tutti i peer. \nIl meccanismo alla base delle reti P2P è la disponibilità per un peer di condividere file \ncon altri peer in una rete di peer. Quindi, anche se un file è inizialmente disponibile presso \nun solo peer, il trasferimento di una copia del file a un secondo peer, poi da questo ad altri \ndue peer, ecc, rende possibile la disponibilità diffusa del file, a condizione che vi sia interesse", "ad ottenerlo. Naturalmente, condizione necessaria è che un peer, una volta ricevuto il file, \nrimanga nella rete di peer e renda disponibile il file per la copia presso altri peer. Ovviamente \nè necessario che in qualche punto di questa rete di peer sia disponibile l’informazione sulla \nlocalizzazione dei file. \n4.7.1 Scalabilità dell’architettura\nUtilizzando un modello di rete molto semplificato, è possibile ottenere una valutazione qua -", "litativa dei vantaggi che si possono conseguire in termini di prestazioni di ritardo in una rete \nP2P rispetto a una client-server. In entrambi i casi si assume che la rete abbia una capacità \nmolto grande e non rappresenti in nessuna condizione il collo di bottiglia per l’upload dei file \ne per il loro trasferimento verso le destinazioni. \nIpotizziamo che si voglia distribuire un file di D bit a N client. Nell’architettura client-ser -", "ver il file è distribuito da un server centrale, mentre nell’architettura P2P il file si considera \ndisponibile in uno degli N peer, che chiameremo per comodità peer centrale . Si assume che la \ncapacità di download dei client Cd (bit/s) sia molto grande, mentre quella di upload Cu (bit/s) \nrappresenta il vero collo di bottiglia per la distribuzione nella rete P2P. Il server centrale nella \nrete client-server può effettuare l’upload alla capacità di Cs (bit/s) e, come si verifica nella real -", "tà, Cs >> Cd. Si trascurano in questa valutazione i tempi di ritardo di ogni genere attribuibili \nall’attraversamento della rete.\nNella rete di tipo client-server il tempo richiesto per effettuare il trasferimento del file agli \nN client è espresso da\n)4.3( TC-SND\nCd------⋅ = ,           \ndato che devono essere trasferite N copie del file in sequenza e la capacità di download Cd \nrappresenta il collo di bottiglia.", "rappresenta il collo di bottiglia. \nNel caso della rete P2P il peer centrale invia il file a un altro peer con capacità di upload Cu. \nOgnuno di questi due peer, completata la trasmissione/ricezione del file, inizia a sua volta la \nritrasmissione del file ad un altro peer, sempre con capacità di upload Cu. Tutti i peer vengono \nraggiunti dopo N2log  passi. Quindi il tempo necessario per distribuire il file tra gli N peer \nper un valore arbitrario di N è dato da \nTP2PN2logD\nCu------⋅ = .", "TP2PN2logD\nCu------⋅ = .\nIn questo modo non si è tuttavia sfruttata a pieno la potenzialità di tutti i peer, in quanto non \npiù di N /2 peer possono trasmettere contemporaneamente. Un maggior grado di parallelismo \nnella trasmissione si ottiene suddividendo il file in frammenti, così che peer di diversi livelli \npossano trasmettere, contemporaneamente, frammenti diversi.", "PattavinaReti2021.indb   266PattavinaReti2021.indb   266 14/01/2022   16:09:1814/01/2022   16:09:184.7 Architetture peer-to-peer  267\nSi possono quindi considerare i peer organizzati secondo un albero binario con il peer cen -\ntrale che rappresenta la radice dell’albero. Dividiamo allora il file in k frammenti ( k ≥ 2) che il \npeer centrale invia in sequenza ad altri due peer del livello inferiore, utilizzando per ognuno di", "questi la metà della capacità di upload disponibile Cu. Ognuno di questi due peer, completata \nla ricezione del primo frammento, inizia a sua volta la ritrasmissione di questo frammento ad \naltri due peer, sempre con capacità di upload Cu/2. Tutti i peer vengono raggiunti dal primo \nframmento dopo N2log  passi, a meno che il numero di peer N sia una potenza di 2. In \nquest’ultimo caso risulta necessario che uno qualunque degli N peer raggiunti per ultimo dal", "primo frammento esegua l’upload verso l’ultimo peer che deve essere raggiunto. In questo \nmodo sono necessari N2log 1+ passi per completare la distribuzione del primo frammento. \nCon la divisione del file in k frammenti di uguale lunghezza, ogni peer esegue dunque l’up -\nload in sequenza di tutti i k –  1 frammenti che vengono via via ricevuti dopo il primo. Quindi, \nin base alle proprietà dell’albero binario in cui si considerano organizzati i peer, il tempo totale", "richiesto per il trasferimento del file nella rete P2P diventa \n)4.4( TP2PnLDk⁄\nCu2⁄-------------⋅ k1–()Dk⁄\nCu2⁄-------------⋅ + =         \nin cui il numero nL di livelli dell’albero è dato da\nnLN2log 1+seNè potenza di 2\nN2log altrimenti\n\n= .\nIn conclusione, a differenza delle reti client-server nelle quali il tempo di ritardo cresce line -\narmente con N (Equazione (4.3)), nelle reti peer-to-peer la dipendenza (solo logaritmica) del", "tempo di ritardo dal numero di peer N (Equazione (4.4)) diminuisce sempre di più al crescere \ndel numero k di frammenti del file. \nSi vuole mostrare l’andamento del tempo di trasferimento di un file di D = 2 Mbyte nel caso \ndi capacità di download Cd = 100 Mbit/s in una rete client-server e di capacità di upload \nCu = 10 Mbit/s in una rete peer-to-peer. \nLa Figura 4.24 mostra il tempo di trasferimento del file per un numero variabile N di client/", "peer nei due paradigmi client-server (C-S) e peer-to-peer (P2P); in quest’ultimo caso si è \nconsiderato sia il file non frammentato ( k = 1), sia le due situazioni di k = 10, 100 frammen -\nti. Una distribuzione del file client-server è più efficace per un ridotto numero N di client/\npeer, grazie alla maggiore capacità di download ipotizzata disponibile per i client. Tuttavia, \nuna rete P2P offre una prestazione di ritardo migliore per un numero di peer N > 60 per", "k = 1, mentre sono sufficienti più di 30 peer nei due casi di file frammentato per avere un \nrisultato analogo. All’aumentare del numero N di client il peggioramento della prestazione \nin una rete C-S è chiaramente dovuto alla dipendenza lineare dal parametro N , cosa che \novviamente non si verifica in una rete P2P.  Esempio 4.9\nPattavinaReti2021.indb   267PattavinaReti2021.indb   267 14/01/2022   16:09:1814/01/2022   16:09:18268  Capitolo 4 – Strato di applicazione", "Prestazioni di trasferimento migliori in reti di tipo client-server potrebbero essere ottenute nei \ncasi in cui, come di solito accade, la capacità Cs del server è molto più grande della capacità \ndi download dei client. Infatti, in questi casi il server potrebbe trasferire in parallelo il file a \ntutti gli N client con capacità Cd fintanto che Cd ≤ Cs / N con tempo di trasferimento costante. \nQuando il numero di client aumenta rendendo quest’ultima relazione non soddisfatta, allora il", "ritardo aumenta linearmente con il numero N di client, dato che la capacità di upload per ogni \nclient è ora Cs / N < Cd . Quindi, il tempo totale di trasferimento del file agli N client è dato da\nTC-SD\nminCdCsN⁄,( )-------------------------------------- = .\nNaturalmente queste migliori prestazioni sono ottenute a spese di un più complesso mecca -\nnismo di trasferimento del file in più sessioni parallele, adottando per esempio tecniche di", "multiplazione a divisione di tempo per l’utilizzazione della capacità di upload del server (vedi \nParagrafo 2.4). \nA margine del confronto numerico del tempo richiesto per trasferire un file nei due tipi \ndi rete di distribuzione, è bene ricordare che in una rete client-server il server centrale è un \ncomputer, tipicamente di grandi capacità, dedicato solo a questo scopo. Invece, nelle reti P2P \nla capacità di distribuzione dei file è messa a disposizione liberamente da tutti i peer, in quanto", "ognuno di essi ha usufruito dello stesso servizio reso disponibile da altri peer.\n4.7.2 Reti peer-to-peer\nLa prima applicazione di rete P2P è stata Napster che, negli anni ’90, consentiva di scambiare \nfile musicali tra peer. L ’architettura di Napster era di tipo centralizzato , in quanto un server \ncentrale, replicato molte volte per distribuire il carico, raccoglieva le informazioni sugli host", "che disponevano di un determinato contenuto. L ’interrogazione al server da parte di un peer 10-1100101102103104\n11 01 00 1.0001 0.000D = 2 Mbyte, C\nd = 100 Mbit/s, C\nu = 10 Mbit/sTempo di trasferimento, T (s)\nNumero  di stazioni, NC-S\nP2P - k = 1\nP2P - k = 10\nP2P - k = 100\nFigura 4.24 T empo di trasferimento con architetture C-S e P2P secondo l’Esempio 4.9.", "04-PattavinaWin2021_WIDE_10,5.indd   26804-PattavinaWin2021_WIDE_10,5.indd   268 18/01/2022   17:53:0818/01/2022   17:53:084.7 Architetture peer-to-peer  269\nche si registrava consentiva di conoscere la localizzazione di un determinato file e, quindi, il \npeer poteva chiederne direttamente il download a uno dei peer detentori. Al di là del problema \ndella violazione del copyright, che ha causato la chiusura forzata di Napster, questa soluzione", "mostrava un evidente collo di bottiglia nel server che, anche se replicato, doveva gestire l’in -\ntero database dei file e dei loro detentori. \nUna soluzione più efficace si ottiene quando l’informazione sulla disponibilità delle parti \ndi un file viene distribuita nella rete evitando così l’accesso a un unico server. Questa architet -\ntura distribuita  è stata adottata in due delle reti P2P più conosciute, cio è BitTorrent e Skype.", "Il protocollo Bit-Torrent nella sua versione originale si basa sulla disponibilità di un piccolo \nfile, chiamato torrent , associato a ognuno dei contenuti che si vogliono distribuire nella rete \nP2P. Un torrent contiene: (i) l’elenco e l’identificazione dei frammenti di uguale dimensione, \ndetti chunk , in cui è suddiviso un file in distribuzione nella rete P2P; (ii) l’identificazione del \nserver, detto tracker,  che registra la lista dei peer che in un dato momento sono attivi nello", "scambio di frammenti di un dato file. La dimensione tipica di un chunk è di 256 kbyte. \nUn peer che voglia effettuare il download di un file cerca dapprima in Internet il torrent \nper il file di suo interesse. Acquisito il torrent, il peer si registra presso il tracker identificato \ne questo fornisce l’elenco e l’indirizzo di un sottoinsieme dei peer che sono registrati e attivi \nnello scambio di chunk del file, dato che i peer che partecipano a un torrent possono anche", "essere migliaia. Il peer quindi, usufruendo del servizio di trasporto TCP, entra in contatto con \nquesti peer, chiamati neighbor  (vicini ), per chiedere loro la lista dei chunk disponibili, così \nda poter effettuare il download di quelli mancanti su una connessione TCP. Naturalmente, \nman mano che il nuovo peer riceve chunk, può inviarli a suoi vicini ed essere contattato da \naltri peer dello stesso torrent che chiedono chunk a loro mancanti. Una volta che il peer ha", "recuperato tutti i chunk di un file, potendolo ricostruire in modo completo, assume il ruolo di \nseeder  nel torrent e potrebbe abbandonare il torrent. Tuttavia la filosofia della partecipazione \ncondivisa richiede che il peer non abbandoni il torrent per essere in grado di fornire a sua volta \nframmenti mancanti agli altri peer, chiamati leecher . \nLa tecnica per scegliere l’insieme dei neighbor attivi ha come obiettivo quello di scegliere i", "peer vicini che trasferiscono chunk alla velocità più alta. Per fare ciò il peer campiona periodi -\ncamente la velocità con cui riceve chunk dai vicini correnti e aggiorna la lista di quelli attivi, \ndetti unchoked , per massimizzare l’efficienza del download. I vicini che invece vengono esclu -\nsi dalla lista, perché trasferiscono chunk con velocità troppo bassa oppure perché non sono più \nattivi, sono chiamati choked . Per garantire equità, ogni peer non può avere più di quattro vicini", "unchoked. Un peer comunica periodicamente con il tracker per segnalare la propria attività nel \ntorrent e per avere l’elenco aggiornato dei peer che possono diventare suoi vicini. Una ricerca \ncasuale di nuovi vicini da includere nella lista di quelli unchoked viene svolta periodicamente, \npermettendo così anche ai nuovi peer di acquisire chunk e partecipare attivamente al torrent. \nIl risultato di questo approccio è che si vengono a creare gruppi di vicini con velocità di tra -", "sferimento simili nelle due direzioni. \nUn aspetto importante della distribuzione dei frammenti di un file riguarda l’ordine con \ncui questi vengono richiesti e quindi trasferiti. Se l’ordine di trasferimento fosse prestabilito, \nper esempio dal primo all’ultimo, potrebbe crearsi un sovraccarico di richieste sui peer che \ndispongono dei primi frammenti nella lista. Viene invece adottata una tecnica chiamata rarest", "first che, sulla base della lista dei chunk in possesso dei peer e comunicata periodicamente ai \nPattavinaReti2021.indb   269PattavinaReti2021.indb   269 14/01/2022   16:09:1814/01/2022   16:09:18270  Capitolo 4 – Strato di applicazione\nvicini, privilegia la richiesta dei chunk con un minor numero di copie disponibili tra i vicini. \nCiò tende a rendere omogeneo il numero di copie di ogni chunk presente nel torrent.", "Skype è stato il primo protocollo P2P sviluppato per fornire un servizio di voice-over-IP  \n(VoIP), cio è il servizio di telefonia fornito dalla rete a pacchetto IP, invece che dalla tradizio -\nnale rete di fonia. Nel corso degli anni Skype si è evoluto per rendere possibile la fornitura di \nulteriori servizi, quali le videochiamate, le conferenze, il trasferimento di file.\nLa caratteristica saliente di questo protocollo è la sua natura proprietaria , che sta a indi -", "care come i meccanismi e le tecniche utilizzate per fornire il servizio non siano note, a diffe -\nrenza di quanto accade per tutti i protocolli di tipo aperto , che sono cio è descritti nei minimi \nparticolari da una specifica tecnica e funzionale o da una raccomandazione, come nel caso \ndei protocolli di Internet.\nI componenti principali del protocollo Skype nella sua versione originaria sono: i nodi", "(peer), i super-nodi  (super-peer) e i server di login . Un peer che vuole usufruire del servizio \ndeve autenticarsi presso un server di login. Una volta autenticato, il peer si collega con una \nconnessione TCP a un super-nodo che svolge un ruolo chiave nell’ambito di Skype. Infatti, \nnella maggior parte dei casi i peer non sono in grado di accettare chiamate in ingresso, a causa \ndi varie problematiche legate all’uso di firewall che filtrano il traffico entrante per motivi di", "sicurezza, e di dispositivi NAT (vedi Paragrafo 6.4.6), che mascherano gli indirizzi IP dei \npeer. Il super-nodo agisce da relay per una chiamata tra due peer che, connessi alla rete Skype, \nnon possono essere destinatari di una chiamata. Esso infatti agisce come destinatario di due \ndiverse chiamate dai due peer e, ricevendo il flusso vocale digitale da entrambi, è in grado di \nagire come punto di scambio per i flussi trasmessi e ricevuti nelle due direzioni.", "Risulta particolarmente interessante osservare che al momento del login, il server rice -\nve dal peer informazioni riguardo la natura del collegamento instaurato, e, in particolare, \nriguardo la presenza di firewalll e/o di NAT. Un peer che risulta essere privo di limitazioni \nnell’accesso dall’esterno e dotato di una buona potenzialità di elaborazione può essere “elet -\nto” super-peer. Viene quindi a svolgere un ruolo attivo nei servizi resi da Skype, ma l’utente", "non ne ha alcuna consapevolezza. Questo è uno dei motivi che hanno spinto Microsoft, ora \nproprietaria di Skype, a fare evolvere l’architettura di rete da una struttura peer-to-peer a \nun’architettura di rete dove i super-nodi risiedono nel cloud sotto il controllo diretto dell’ente \nproprietario.\nPattavinaReti2021.indb   270PattavinaReti2021.indb   270 14/01/2022   16:09:1814/01/2022   16:09:185CAPITOLO Strato di trasporto\n5CAPITOLO", "5CAPITOLO\nIn questo capitolo vengono esaminati i due principali proto -\ncolli del livello di trasporto definiti nell’architettura di rete \nInternet, cio è TCP e UDP. Inizialmente viene introdotto il \nconcetto di multiplazione, che consente di trasportare una \npluralità di flussi di unità informative come un unico flusso \naggregato, grazie a un meccanismo di numerazione delle \nrispettive destinazioni. Viene quindi presentato il protocollo", "UDP, evidenziandone la procedura di rivelazione di errore. \nPer il protocollo TCP viene invece fornita una panoramica \nche, partendo dalle procedure di gestione della connessione, \ndescrive gli algoritmi adottati per recuperare la perdita di \nunità informative, per controllare il flusso e per prevenire \nfenomeni di congestione. In quest’ultimo caso sono spiegate \nle diverse soluzioni adottate, che tengono anche conto delle \nprestazioni delle reti attraversate, in particolare del tasso di", "unità informative perse. La teoria relativa ai protocolli di \ncollegamento punto-punto, alla rivelazione degli errori, al \ncontrollo del flusso e della congestione discussi in questo \ncapitolo è presentata, rispettivamente, nelle Sezioni A, D ed \nE del Capitolo 3. \n5.1 Introduzione\nLo strato di trasporto fornisce servizio allo strato applica-\ntivo (sovrastante) e riceve a sua volta servizio dallo strato \ndi rete (sottostante). Analogamente allo strato applicativo,", "le funzioni di questo livello sono svolte esclusivamente nei \nsistemi terminali che si scambiano unità informative (UI), \ndenominate segmenti,  per mezzo dell’esecuzione di proto -\ncolli di trasporto . Questi protocolli si interfacciano con le \napplicazioni che generano e ricevono messaggi trasportati in \nsegmenti che, a loro volta, sono consegnati ai protocolli di \nrete per il loro trasferimento fisico da un sistema terminale", "all’altro. Questo è il primo strato dove ha luogo la frammen -Argomenti\n5.1 Introduzione\n5.2  Trasferimento dati a livello \ndi trasporto\n5.3 Protocollo UDP\n5.4 Protocollo TCP\nPattavinaReti2021.indb   271PattavinaReti2021.indb   271 14/01/2022   16:09:1814/01/2022   16:09:18272  Capitolo 5 – Strato di trasporto\ntazione delle unità informative, nel senso che il messaggio scambiato tra applicazioni viene \nframmentato in più segmenti, se il messaggio eccede la dimensione massima del payload di", "un segmento.\nVogliamo riprendere l’esempio introdotto nel Paragrafo 4.1 per rappresentare l’interazione \ntra un terminale mobile, che riceve connettività in una rete radiomobile, e un server posi -\nzionato in una content delivery network  (CDN). Come mostrato in Figura 5.1, dal punto di \nvista dell’interazione tra sistemi terminali, si può individuare esclusivamente una connessione \nlogica tra i due terminali (host) che avviene nello strato di trasporto. Ciò ha luogo senza che", "questi host abbiano alcuna cognizione di ciò che si interpone tra di essi per rendere possibile la \ncomunicazione, quindi senza avere consapevolezza di quante e quali reti vengono attraversate \nper trasportare le unità informative da un sistema all’altro. \n5.2 Trasferimento dati a livello di trasporto\nI protocolli di trasporto svolgono la funzione di trasferire unità informative tra processi appli -\ncativi attraverso una rete di comunicazione. Ciò richiede la definizione di un meccanismo", "di indirizzamento che metta in relazione le applicazioni che cooperano. Il tipo di trasporto \nrealizzato dipende naturalmente anche dalle caratteristiche del servizio reso disponibile dal \nsottostante strato di rete.\nRegion alISP\nCDN\nMobi lenetworkTier1ISP\nAccess ISP\nTrasporto\nRete\nFisicoApplicazione\nCollegament oTrasporto\nRete\nCollegamento\nFisicoApplic azione\nFigura 5.1 Connessione logica end-to-end a livello di trasporto.", "PattavinaReti2021.indb   272PattavinaReti2021.indb   272 14/01/2022   16:09:1914/01/2022   16:09:195.2 Trasferimento dati a livello di trasporto  273\n5.2.1 Socket e multiplazione\nIl concetto di “numero di porta”, definito nel Paragrafo 4.2.2 come uno dei due parametri che \nspecifica una socket, è stato introdotto per consentire ai protocolli TCP e UDP di indirizzare \nuna specifica applicazione, o istanza di processo applicativo, nell’ambito di un sistema termi -", "nale. Naturalmente, anche l’insieme dei numeri di porta deve essere definito in modo univoco \nper evitare conflitti di assegnazione per l’identificazione di uno stesso processo. \nI numeri di porta, che sono rappresentati con 16 bit (come specificato nei formati dei \nmessaggi UDP e TCP descritti nei Paragrafi 5.3.1 e 5.4.1), sono anch’essi oggetto di standard \n[RFC1700, RFC3232]. Sono stati definiti tre intervalli numerici, rappresentati in Figura 5.2, \nche identificano tre tipologie di porte:", "che identificano tre tipologie di porte: \n• well-known : porte con numerazione nell’intervallo 0-1023, riservate ad applicazioni \nspecifiche e assegnate su base universale; sono valide per entrambi i protocolli TCP \ne UDP;\n• registered : porte con numerazione nell’intervallo 1024-49.151, il cui uso può essere \nregistrato dallo IANA, ma che comunque possono essere utilizzate senza vincoli dai \nprotocolli di trasporto per indirizzare applicazioni;", "• dynamic : porte con numerazione nell’intervallo 49.152-65.535 di uso totalmente libero \ne assegnabili dinamicamente dalle applicazioni.\nUna lista limitata di numeri di porta assegnati dalla IANA per alcune applicazioni largamente \nutilizzate è riportata nella Tabella 5.1.\n1023 0\n49.151 102449.152 65.535Well-known Registered Dynami c\nFigura 5.2 Numeri di porta nei protocolli TCP e UDP.Tabella 5.1 Porte well-known.\nApplicazione Protocollo applicativo Numero di porta", "Trasferimento di file FTP 20/21\nSecure shell SSH 22\nAccesso da remoto a server Telnet 23\nPosta elettronica SMTP 25\nHost name server Host NS 42\nDomain name system DNS 53\nAssegnazione di indirizzi di rete DHCP 67/68\nWorld wide web HTTP 80\nGestione della rete SNMP 161\nAccesso a mail server POP3 110\nAccesso a mail server IMAP4 143\nPattavinaReti2021.indb   273PattavinaReti2021.indb   273 14/01/2022   16:09:1914/01/2022   16:09:19274  Capitolo 5 – Strato di trasporto", "I protocolli di trasporto svolgono la funzione di multiplazione/demultiplazione per i processi \napplicativi, cio è il trasporto di una molteplicità di flussi tra processi applicativi utilizzando le \nsocket come strumento di indirizzamento. Ogni flusso è identificato per mezzo di due socket, \ncioè una socket sorgente SS e una socket di destinazione SD. La prima, SS = <NAS,PNS>, spe -\ncifica l’indirizzo di rete NAS del sistema terminale sorgente e il numero di porta PNS associato", "all’applicazione che nel sistema origina il messaggio. La seconda socket, SD = <NAD,PND>, \nspecifica invece l’indirizzo di rete NAD del sistema terminale di destinazione e il numero di \nporta PND associato all’applicazione nel sistema di destinazione. \nIl protocollo TCP fornisce un servizio connection-oriented in cui, come già descritto nel \nParagrafo 2.3.4, lo scambio di unità informative tra applicazioni richiede la preventiva instau -", "razione di una connessione TCP. Durante questa fase, alla connessione TCP viene associata \nuna coppia di socket che definiscono gli utilizzatori del servizio. Ne consegue che alla con -\nnessione è associata la quadrupla < NAS,PNS, NAD,PND>. \nNel protocollo UDP ogni unità informativa trasportata dal protocollo è indipendente dalle \naltre, quindi non è necessario memorizzare un’associazione tra socket sorgente e socket di", "destinazione. Gli indirizzi delle due socket < NAS,PNS> e < NAD,PND> saranno comunque \ndisponibili per ogni segmento UDP inviato da un client (i numeri di porta PN  nel segmento \nUDP e gli indirizzi di rete NA  nel datagramma che trasporta il segmento). In questo modo il \nserver ricevente con indirizzo di rete NAD potrà indirizzare il messaggio ricevuto all’appli -\ncazione con numero di porta PND e rispondere alla richiesta con un segmento indirizzato al", "client PNS residente nell’host con indirizzo di rete NAS. La Figura 5.3 mostra un esempio di funzionalità di multiplazione/demultiplazione realiz -\nzata dal protocollo TCP che mette in comunicazione applicazioni residenti in un server S1 \ncon client residenti negli host H1 e H2. In particolare, due client del primo host accedono \nal servizio di browsing WWW con il protocollo HTTP, utilizzando i due numeri di porta", "2002 e 4004, mentre i due client del secondo host accedono al servizio di browsing WWW \ne di posta SMTP rispettivamente con i due numeri di porta 4004 e 3003. Poiché a questi \ndue servizi sono stati assegnati rispettivamente i numeri di porta 80 e 25, alle 4 connessioni \nsono assegnate le quadruple:\n –<H1,2002,S1,80>\n –<H1,4004,S1,80>\n –<H2,4004,S1,80>\n –<H2,3003,S1,25>\nOccorre osservare che non sussiste alcun pericolo di ambiguità in fase di demultiplazio -", "ne dei flussi ricevuti nel server in quanto le quadruple associate alle diverse connessioni \ndifferiscono almeno in un campo. Per le connessioni originate nello stesso host, alle due \nistanze del client WWW sono stati associati diversi numeri di porta. Nel caso di connessio -\nni originate da host diversi, la diversità dei rispettivi indirizzi di rete NA  (H1, H2) garantisce \nunivocità anche in presenza degli stessi numeri di porta PN . Esempio 5.1", "PattavinaReti2021.indb   274PattavinaReti2021.indb   274 14/01/2022   16:09:1914/01/2022   16:09:195.2 Trasferimento dati a livello di trasporto  275\n5.2.2 Servizi di rete\nI protocolli di trasporto forniscono servizio ai processi applicativi e, a loro volta, ricevono ser -\nvizio dallo strato di rete. In conformità al modello a strati qui adottato, descritto nel Paragrafo \n1.3.1, si assume che il servizio di rete sia fornito attraverso il protocollo IP, il cui compito è", "trasferire tra router adiacenti unità informative (UI) denominate pacchetti , che recano nel loro \npayload i segmenti dei protocolli TCP e UDP. \nPossiamo riassumere le caratteristiche del protocollo IP dicendo che si tratta di un proto -\ncollo connectionless in cui le unità informative non sono numerate e quindi è possibile che, a \ncausa di cambiamenti delle procedure di instradamento nei nodi attraversati, il flusso di pac -", "chetti generati in un sistema terminale venga consegnato al sistema terminale di destinazione TCPHTTP HTTP SMTP HTTP\nHTTP SMTPHTTP HTTP\nTCP\nS1\nH2H1\nH2,4004H 2,3003\nTCPH1,2002H 1,4004 S1,80S 1,80 S1,25S 1,80\nFigura 5.3 Multiplazione nel protocollo TCP secondo l’Esempio 5.1. \nNella Figura 5.4 è rappresentato un esempio di interazione tra due host, H1 e H2, e un server \nS1 che, attraverso il protocollo UDP, fornisce servizi di risoluzione dei nomi di dominio", "(DNS), di protocolli di instradamento (RIP) e di protocolli di gestione (SNMP). I client \ndell’host H1 selezionano i numeri di porta locali 4400 e 8800 per accedere rispettivamente \nai servizi DNS e RIP, mentre il client residente nell’host H2 seleziona il numero di porta \n8800. I numeri di porta associati ai server sono tutti nell’intervallo delle porte well-known, \ne precisamente sono 53, 520, 161 rispettivamente per i servizi DNS, RIP, SNMP. Ognuno", "dei segmenti UDP emessi dai client recherà dunque gli identificatori delle due socket coin -\nvolte e cio è:\n –<H1,4400>, <S1,53>\n –<H1,8800>, <S1,520>\n –<H2,8800>, <S1,161>\nSi osserva che anche in questo caso non esiste alcun problema di ambiguità in fase di \ndemultiplazione dei segmenti ricevuti nel server, anche in presenza di uno stesso numero \ndi porta sorgente selezionato da due host diversi. Infatti, la porta di destinazione PND iden -", "tifica il processo ricevente e la coppia NAS,PNS sarà utilizzata dal server per indirizzare \ncorrettamente il segmento di risposta a ogni richiesta ricevuta dai cl ient. Esempio 5.2\nPattavinaReti2021.indb   275PattavinaReti2021.indb   275 14/01/2022   16:09:1914/01/2022   16:09:19276  Capitolo 5 – Strato di trasporto\nin ordine diverso da quello di ingresso in rete. Come vedremo, nello strato di trasporto vengo -", "no elaborati anche gli indirizzi IP (cio è gli indirizzi dello strato di rete) dei sistemi terminali \nche si scambiano dati con i protocolli TCP e UDP. Rimandando comunque al Paragrafo 6.4 la \ntrattazione degli indirizzi nel protocollo IP, si anticipa qui che un indirizzo IP è costituito da \nuna stringa di 32 bit e rappresentato come una sequenza x.y.z.w , in cui xyzw,,, 0255,[]∈ . \nFunzioni di controllo del flusso e della congestione non sono disponibili nel protocollo di", "rete IP, anche se nel corso degli anni si è cercato di modificare il formato dell’unità infor -\nmativa del protocollo IP per inserire la segnalazione del rilevamento di una situazione di \ncongestione, ad esempio, nei buffer del router che invia l’UI (vedi Paragrafo 6.3.1). Tuttavia, \nè possibile arricchire i servizi forniti da IP adottando altri protocolli che rendano possibile \napplicare meccanismi di controllo del flusso nella rete. A titolo di esempio vogliamo citare il", "protocollo multiprotocol label switching  (MPLS) (vedi Paragrafo 6.8), spesso adottato in asso -\nciazione al protocollo IP, che fornisce le funzionalità di una rete connection-oriented in grado \ndi controllare i flussi che la attraversano e prevenire così fenomeni di congestione.\n5.3 Protocollo UDP\nUser datagram protocol  (UDP) [RFC768] è il più semplice dei protocolli dello strato di tra -\nsporto. Infatti le funzioni svolte sono veramente ridotte, essendo limitate alla multiplazione", "di più flussi applicativi in un singolo flusso UDP e al controllo degli errori sulle unità dati \ntrasferite da un sistema terminale a un altro. \nIl protocollo UDP è di tipo connectionless e i segmenti UDP non sono numerati, con la \nconseguenza che non è possibile svolgere alcun controllo sull’eventuale perdita di segmenti \nUDP attraverso la rete. Data la natura connectionless del sottostante protocollo di rete IP, può", "anche verificarsi la consegna fuori sequenza alle applicazioni dei segmenti UDP trasportati \ntra due socket. \n5.3.1 Formato del segmento UDP\nL ’header dell’unità informativa UDP, riportato nella Figura 5.5, comprende i seguenti campi:DNS RIP SNMP\nSNMPDNS RIP\nUDPS1,53S 1,520S 1,161 H1,8800 H1,4400\nH2,8800\nUDPUDP\nS1\nH2H1\nFigura 5.4 Multiplazione nel protocollo UDP secondo l’Esempio 5.2.", "PattavinaReti2021.indb   276PattavinaReti2021.indb   276 14/01/2022   16:09:2014/01/2022   16:09:205.3 Protocollo UDP  277\n• source port  (16 bit): numero di porta cui è associata l’applicazione che emette l’unità \ninformativa;\n• destination port  (16 bit): numero di porta cui è associata l’applicazione destinataria \ndell’unità informativa;\n• UDP length  (16 bit): lunghezza in byte dell’intera unità informativa;", "• checksum  (16 bit): codice di controllo per rivelare errori sull’unità informativa. \nEssendo il servizio di trasporto reso dal protocollo UDP di tipo connectionless, non si richie -\nde alcuna preventiva instaurazione di connessione. La funzione di multiplazione è realizzata \nutilizzando i campi source port  e destination port  per specificare, rispettivamente, i processi \nsorgente e destinazione di ogni segmento UDP. Allo scopo di semplificare al massimo il pro -", "tocollo UDP, il controllo degli errori realizzato dal campo checksum  è definito come opzio -\nnale, cio è può anche non essere svolto, come per esempio accade quando si utilizza una rete \nparticolarmente affidabile. \n5.3.2 Controllo degli errori\nLa funzione di controllo degli errori è stata concepita per proteggere non solo l’intero messag -\ngio UDP, ma anche una parte dell’header del datagramma IP che trasporta il segmento UDP,", "detto pseudoheader , il cui formato è mostrato in Figura 5.6. Questo comprende gli indirizzi \nIP dell’host sorgente ( source IP address ) e dell’host di destinazione ( destination IP address ) del \ndatagramma IP che contiene il segmento, la lunghezza del segmento UDP ( UDP length ) e un \nidentificatore di protocollo ( protocol ), che vale 17 nel caso del protocollo UDP. Si osserva che \nl’utilizzazione nello strato di trasporto di informazioni relative allo strato di rete, come gli", "indirizzi IP, viola il principio della gerarchia dei protocolli, in quanto il protocollo di trasporto \ndovrebbe essere all’oscuro delle operazioni svolte dal sottostante protocollo di rete.  \nIl contenuto del campo checksum  viene calcolato come complemento a 1 della somma in \naritmetica in complemento a 1 del segmento UDP e dello pseudoheader associato, allineati a \n16 bit (vedi la teoria relativa nel Paragrafo 3.10). Poiché il payload del segmento UDP contiene", "un numero arbitrario di byte, se la lunghezza del segmento UDP, espressa in numero di byte, \nè dispari, allora viene aggiunto al payload un byte posto a 0. A destinazione vengono effettuate \nBit\n31 16 0\n1\n2Destinat ionport Source port\nUDP length Checksum\nFigura 5.5 Formato dell’header del segmento UDP.\n31 16 0\n1\n2\n0SourceIPaddress\nUDPlengthDestin ationIPaddress\nProtocol 3Bit\n8\nFigura 5.6 Formato dello pseudoheader.", "8\nFigura 5.6 Formato dello pseudoheader.\nPattavinaReti2021.indb   277PattavinaReti2021.indb   277 14/01/2022   16:09:2014/01/2022   16:09:20278  Capitolo 5 – Strato di trasporto\nle stesse operazioni sul segmento ricevuto, questa volta comprensivo di checksum e pseudohe -\nader associato, determinando assenza di errori se il risultato è zero. Nel caso non si utilizzi la \nfunzione di controllo degli errori, il campo checksum  viene posto a zero.", "Si vuole calcolare il valore decimale del campo checksum  di un segmento UDP con socket \ndi sorgente <131.175.201.14,2048>, socket di destinazione <197.203.12.7,161>, e payload \nrappresentato dalle tre lettere “SOS” (vedi Figura 5.7). \nCome mostrato in Figura 5.8, il segmento UDP dotato di pseudoheader viene allineato a 16 \nbit (si noti che in questo caso, ai fini del calcolo della checksum, è necessario aggiungere", "un byte posto a 0 in coda al messaggio), così da calcolare la somma ( sum) in aritmetica in \ncomplemento a 1 che richiede di sommare eventuali riporti ai bit meno significativi ( sum \nwith carries , SwC) e quindi il suo complemento a 1 finale ( checksum ). Il contenuto del \ncampo checksum  in formato decimale da inserire nel segmento UDP sarà allora 12.887.  Esempio 5.3\n197.203.12.7131.175.201.14\n17 0 11\nSO S0 112048 161\nFigura 5.7 Segmento UDP e pseudoheader associato secondo l’Esempio 5.3.", "1000001110101111\n1100100100001110\n1100010111001011\n0000110000000111\n0000000000010001\n0000000000001011\n0000100000000000\n0000000010100001\n0000000000001011\n0000000000000000\n0101001101001111\n0101001100000000\n101100110110100110\n10\n1100110110101000\n0011001001010111131\n201\n197\n12\n0\nS\nS175\n14\n203\n7\n17\n11\n2048\n161\n11\n0\nO\n0\nSum\nCarries\nSwC\nChecksum\nFigura 5.8 Calcolo della checksum secondo l’Esempio 5.3.", "PattavinaReti2021.indb   278PattavinaReti2021.indb   278 14/01/2022   16:09:2114/01/2022   16:09:215.4 Protocollo TCP  279\n5.4 Protocollo TCP\nIl protocollo transmission control protocol  (TCP) [RFC793] definisce una modalità di trasferi -\nmento di tipo “affidabile” tra applicazioni residenti nei sistemi terminali. Nonostante il servi -\nzio reso dallo strato di rete sottostante sia di tipo connectionless, è compito del protocollo TCP,", "connection-oriented, colmare tutte le deficienze del servizio di rete, in modo che le applicazio -\nni dell’utente ricevano un servizio di tipo connection-oriented. Quindi, se si verificano feno -\nmeni di perdita, duplicazioni o consegna fuori sequenza delle unità informative di un flusso al \nsistema TCP di destinazione, questo svolge tutte le funzioni necessarie a ricostruire il flusso \noriginariamente emesso, basandosi su un’opportuna numerazione delle UI trasportate. Come", "in UDP, il protocollo TCP effettua la multiplazione di più flussi informativi dell’utente su un \nunico flusso, sul quale (diversamente da UDP) attua un meccanismo di controllo di flusso che \npreviene ogni fenomeno di perdita di informazioni per saturazione della memoria in ricezione. \nL ’affidabilità del trasporto di informazioni si basa sulla numerazione byte per byte dei \ndati trasferiti nelle due direzioni della connessione instaurata tra sistemi terminali1. I riscon -", "tri sono naturalmente inviati in base ai byte ricevuti da ognuno di essi.  Questa procedura di \nnumerazione e di riscontro consente anche a ognuna delle due stazioni alle estremità della \nconnessione di autorizzare esplicitamente l’invio di una determinata quantità di byte, così \nda attuare un meccanismo di controllo del flusso a finestra di tipo a credito esplicito  (vedi \nParagrafo 3.12.1). \nLa realizzazione del controllo del flusso si basa sulla disponibilità di due buffer in ognuno", "dei sistemi terminali: uno di trasmissione (Tx) e uno di ricezione (Rx), come mostrato in Figu -\nra 5.9. Il buffer Tx immagazzina i byte ricevuti dal processo applicativo attraverso la socket \nrelativa, in attesa di essere trasmessi sulla connessione TCP sotto forma di segmenti. Il buffer \nRx serve invece a memorizzare i segmenti ricevuti lungo la connessione in attesa della conse -\ngna dei byte informativi al processo applicativo di destinazione attraverso la relativa socket.", "Il protocollo TCP appartiene alla classe dei protocolli per trasferimento punto-punto con \nsoli riscontri positivi, descritta nel Paragrafo 3.2.3, in cui ora tra le due stazioni comunicanti \n1 Il meccanismo di numerazione dei dati trasferiti descritto nel Paragrafo 3.2 era invece basato sulla numerazione \ndelle UI, indipendentemente dal numero di byte trasportati in ognuna.SocketApplication\nTranspo rtSocketApplication\nTranspor tTx\nRxTx\nRx", "Transpo rtSocketApplication\nTranspor tTx\nRxTx\nRx\nFigura 5.9 Buffer nello strato di trasporto dei sistemi terminali.\nPattavinaReti2021.indb   279PattavinaReti2021.indb   279 14/01/2022   16:09:2114/01/2022   16:09:21280  Capitolo 5 – Strato di trasporto\nsi trova una rete, non un collegamento diretto. Infatti, il servizio di rete ricevuto dal protocollo \nIP non garantisce la consegna in sequenza delle UI di un flusso informativo per ogni coppia", "sorgente-destinazione. Quindi la rilevazione di anomalie nella sequenza di numerazione delle \nUI ricevute non è necessariamente indice di perdita di UI, perciò l’eventuale uso di riscontri \nnegativi fornirebbe un’informazione ambigua.\n5.4.1 Formato del segmento TCP\nL ’header dell’unità informativa TCP, riportato nella Figura 5.10, comprende i seguenti campi \n(il campo reserved  non è specificato): \n• source port  (16 bit): numero di porta cui è associata l’applicazione che emette l’unità", "informativa;\n• destination port  (16 bit): numero di porta cui è associata l’applicazione cui è destinata \nl’unità informativa;\n• sequence number, SN  (32 bit): numero d’ordine del primo byte dati nel payload dell’u -\nnità informativa all’interno del flusso inviato dalla sorgente; dato il numero di bit che \ncompongono il campo, la numerazione dei byte è modulo 232;\n• acknowledgment number, AN (32 bit): numero d’ordine del prossimo byte che il sistema", "terminale si aspetta di ricevere con il prossimo segmento2; quindi, se AN =  x, allora il \nsistema terminale sta riscontrando tutti i byte ricevuti fino a x – 1; \n• HLEN  (4 bit): lunghezza dell’header in unità di 4 byte; questo campo è necessario in \nquanto l’header del segmento TCP ha lunghezza variabile con un minimo di 20 byte e \nun massimo di 60 byte; il campo HLEN  assume quindi valori tra 5 e 15;\n• code bits  (8 bit)3: ognuno dei bit di questo campo svolge una specifica funzione:", "–CWR  (congestion window reduced ): indica ( CWR  = 1) al TCP remoto che il TCP \nlocale ha ridotto la “congestion window” (definita nel Paragrafo 5.4.5), rallentan -\ndo così il flusso di dati inviato sulla connessione TCP,\n –ECE (ECN-echo ): segnala ( ECE = 1) al TCP remoto che il TCP locale ha ricevuto \nindicazione di congestione dalla rete ( ECN, explicit congestion notification4) e \nrichiede quindi di rallentare il flusso di dati inviati sulla connessione; l’invio di", "questa indicazione può essere sospeso con la conferma dal TCP remoto ( CWR  = 1) \ndi avvenuta riduzione del flusso inviato,\n –URG ( urgent ): indica ( URG  = 1) la presenza nel segmento TCP di dati da conse -\ngnare con urgenza alla destinazione, la cui posizione è indicata dal campo urgent \npointer ,\n –ACK (acknowledgment ): indica se il numero di riscontro è valido ( ACK = 1), oppure \nse il riscontro deve essere ignorato dal terminale ricevente ( ACK = 0),", "2 Si osservi il diverso significato che qui assume il riscontro rispetto a quanto descritto nel Paragrafo 3.2.3. Nella \nprecedente trattazione generale il riscontro indicava l’ultimo dato ricevuto correttamente, mentre ora esso indica \nil prossimo dato che ci si aspetta di ricevere.\n3 Mentre gli ultimi 6 bit sono stati definiti nella prima specifica del protocollo TCP nel 1981 [RFC793], i primi \ndue bit CWR  e ECE sono stati introdotti successivamente nel 2001 [RFC3168].", "4 Vedi Paragrafo 6.3.1.\nPattavinaReti2021.indb   280PattavinaReti2021.indb   280 14/01/2022   16:09:2114/01/2022   16:09:215.4 Protocollo TCP  281\n –PSH (push): richiede ( PSH = 1) al terminale ricevente di consegnare all’applica -\nzione di destinazione il payload del segmento, indipendentemente dal contenuto \ndel buffer in ricezione,\n –RST (reset ): segnala ( RST = 1) il rilascio della connessione, il rifiuto di una richie -\nsta di connessione, oppure il rifiuto di un segmento,", "–SYN (synchronize ): usato ( SYN = 1) per instaurare una connessione TCP; a seconda \ndello stato del bit ACK, distingue tra richiesta di connessione ( ACK = 0) e accetta -\nzione della connessione ( ACK = 1),\n –FIN5 (finalize ): usato ( FIN = 1) per richiedere il rilascio della connessione TCP; \n• window  (16 bit): apertura della finestra di ricezione , cioè il numero di byte che la \nsorgente del segmento TCP è disposta a ricevere dal TCP remoto, così da realizzare", "un meccanismo di controllo del flusso end-to-end a credito esplicito ; una finestra di \nvalore y indica che si autorizza la destinazione all’altra estremità della connessione a \nemettere un numero y di byte a partire dal byte AN =  x indicato nello stesso segmento, \ne quindi fino al byte numero x + y – 1;\n• checksum  (16 bit): codice di controllo per la rivelazione di errori sul segmento TCP \ncalcolato con la stessa procedura descritta per il protocollo UDP; a questo fine all’u -", "nità informativa TCP viene aggiunto uno “pseudoheader” che contiene gli indirizzi IP \ndi sorgente e di destinazione, il numero di protocollo TCP (di valore numerico 6) e il \nnumero di byte del segmento TCP;\n• urgent pointer, UP  (16 bit): indica dove i dati urgenti sono posizionati nel segmento; in \nparticolare indica l’offset in numero di byte rispetto al sequence number  SN =  z del \nmessaggio dove terminano i dati urgenti; un valore UP =  w indica che i dati urgenti", "sono i byte da z a z +  w _ 1; \n• options : campo di lunghezza variabile, ma comunque multipla di 32 bit utilizzando il \ncampo di riempimento padding , che consente lo scambio di informazioni aggiuntive \ntra le estremità della connessione per lo svolgimento di funzioni particolari, quali la \n5 I bit SYN e FIN, se posti a 1 in un segmento ricevuto, fanno sì che il segmento TCP sia considerato come un byte \ndi dati ricevuto al fine di determinare il contenuto del campo AN.Bit\n31 16 0\n1\n2\n3\n4", "31 16 0\n1\n2\n3\n4\n5Sequence numberDestin ationport Sourceport\nAckn owledgmentnumber\nCodebits Window\nChecksum Urgentpointer\nOptions+paddingvar48\nRese rv. HLEN\nFigura 5.10 Formato dell’header del segmento TCP.\nPattavinaReti2021.indb   281PattavinaReti2021.indb   281 14/01/2022   16:09:2114/01/2022   16:09:21282  Capitolo 5 – Strato di trasporto\ndefinizione della massima lunghezza del segmento TCP, la specifica delle opzioni di", "scala della finestra, il calcolo del tempo di trasferimento dei segmenti TCP.\nIl formato generico del campo options , riportato in Figura 5.11, comprende tre voci:\n• kind (8 bit): tipo di opzione (attualmente sono in uso una decina di opzioni);\n• length  (8 bit): lunghezza complessiva in byte dell’opzione;\n• option data  (variabile): contenuto dell’opzione. \nDato il vincolo rappresentato dalla lunghezza complessiva del campo  options , che è un multi -", "plo di 4 byte, il tipo di opzione kind = 1 viene riservato con il significato di padding ( riempi -\nmento). Di seguito vengono specificate le caratteristiche di tre di queste opzioni di particolare \nimportanza per il protocollo TCP, il cui formato è riportato in Figura 5.12. \nL ’opzione kind = 2 [RFC793] può essere utilizzata da entrambe le stazioni per specificare \nla dimensione massima ( maximum segment size , MSS) in byte del payload dei segmenti TCP", "che l’host è disposto a ricevere. Questa opzione può essere esercitata solo al momento dell’in -\nstaurazione della connessione, specificandola all’interno del primo segmento di richiesta di \nconnessione e nel corrispondente segmento di risposta (definiti nel Paragrafo 5.4.2). Dato che \nil campo dati dell’opzione è di 2 byte, il massimo valore previsto è MSS  = 65.535 byte. \nSe l’opzione kind = 2 non è utilizzata, è previsto il valore di default MSS  = 536. Questo", "parametro deriva dalla specificazione della massima lunghezza del payload di un’UI trasferita \nnello strato di collegamento di una rete, denominata maximum transmission unit (MTU), defi -\nnita nel valore di default MTU  = 576 [RFC791]. Considerando che il segmento TCP costituisce \nil payload del datagramma IP, che è a sua volta il payload di un’UI dello strato di collegamen -\nto, e che i protocolli TCP e IP hanno entrambi un header di lunghezza minima di 20 byte, ciò", "determina il valore di default per il parametro MSS. Si noti che questo valore è molto piccolo \ne la sua definizione trova giustificazione solo nella garanzia che ogni host possa accettare \nsempre datagrammi IP di dimensione massima predefinita. Naturalmente l’opzione kind = 2 \nconsente di concordare valori diversi per il parametro MSS. \nkind length option data\n11 var. Byte\nFigura 5.11 Formato generico del campo options del segmento TCP.\nkind=8 length=10\n11 4TSvalue TSecho", "kind=8 length=10\n11 4TSvalue TSecho\n4 Bytekind=2 length=4 MSS\n11 2 Byte\nkind=3 length=3\n11 1Windowscale\nByte\nFigura 5.12 Formato del campo options per i casi kind = 2, 3, 8. \nPattavinaReti2021.indb   282PattavinaReti2021.indb   282 14/01/2022   16:09:2214/01/2022   16:09:225.4 Protocollo TCP  283\nIl campo window , che specifica la dimensione della finestra di ricezione per la stazione che \ninvia il segmento TCP con questo campo, viene specificato con 16 bit e quindi il suo valore", "massimo è Wmax = 65.535 byte. Mentre questo valore è sembrato ragionevole al tempo in cui il \nprotocollo TCP è stato definito, oggigiorno non lo è più nel caso di collegamenti caratterizzati \nda un grande “ prodotto banda-ritardo”. \nBasti infatti pensare a un collegamento intercontinentale o continentale a lunga distanza \ndi d = 4000 km tra due host che si scambiano dati con un throughput di C bit/s in entrambe le", "direzioni. In questo caso il ritardo di propagazione per un collegamento in cavo è t =  d/v = 20 \nms e quindi occorrono 2 t = 40 ms prima che un host riceva il riscontro per un segmento invia -\nto. Ne consegue che, se la capacità sul collegamento supera il valore Cmax = Wmax/2t = 13,1 \nMbit/s, il riscontro del primo segmento di un flusso di Wmax byte sarà ricevuto dopo l’invio \ndell’ultimo byte del flusso stesso. Solo la ricezione del primo riscontro consentirà di “riaprire”", "la finestra di ricezione e quindi di far ripartire il flusso informativo. Quindi il flusso sulla con -\nnessione TCP diventa discontinuo, con conseguente perdita di efficienza, per capacità delle \nconnessioni superiori a Cmax, valore oggi comunemente superato considerando la disponibilità \ndi collegamenti trasmissivi che operano a 10 Gbit/s e oltre.\nPer evitare la discontinuità dei flussi informativi su connessioni TCP con grande prodotto", "banda-ritardo occorre aumentare l’ampiezza della finestra di ricezione oltre il valore massi -\nmo consentito dai 16 bit del campo window . È possibile grazie all’opzione kind = 3, chiama -\nta window scale option  [RFC7323], inserita nei primi due segmenti di instaurazione della \nconnessione TCP, che specifica nel campo dati con il fattore f la potenza di 2 secondo cui il \nvalore window  dichiarato per la finestra di ricezione deve essere “scalato” per tutta la durata", "della connessione. Poiché l’intervallo dei valori consentiti per il fattore di scala è 0 ≤ f ≤ 14, ne \nconsegue che al valore f = 0 corrisponde la finestra standard di 65.535 byte, la cui ampiezza \npuò aumentare fino al valore di 230 ≅ 1 Gbyte per f = 14. Ognuna delle due stazioni determina \nSegment o#1 Segmento#2S egmento#3S egment o#4", "Segment o#1 Segmento#2S egmento#3S egment o#4\nFigura 5.13 Frammentazione di un messaggio in segmenti secondo l’Esempio 5.4.Un messaggio di 2000 byte deve essere trasferito tra due applicazioni attraverso una con -\nnessione TCP nella direzione dalla stazione A alla stazione B. Ipotizzando che l’ultimo \nbyte emesso dalla stazione A sia il numero 6220, si vuole determinare la dimensione e la \nnumerazione dei segmenti TCP che vengono utilizzati assumendo il valore di default per il", "massimo payload del segmento.\nDato che MSS  = 536, il messaggio viene distribuito su 4 segmenti dei quali i primi 3 hanno \nun payload di 536 byte e l’ultimo un payload di 392 byte, come rappresentato in Figura 5.13. \nQuindi i 4 segmenti TCP saranno numerati con SN = 6221, 6757, 7293, 7829 e, assumendo \nche l’header abbia dimensione minima, i primi tre avranno dimensione 556 byte e l’ultimo \n412 byte.  Esempio 5.4", "412 byte.  Esempio 5.4\nPattavinaReti2021.indb   283PattavinaReti2021.indb   283 14/01/2022   16:09:2214/01/2022   16:09:22284  Capitolo 5 – Strato di trasporto\nil fattore di scala della propria finestra di ricezione in base alla memoria che è stata allocata \nlocalmente alla connessione. \nL ’opzione kind = 8, chiamata timestamp option  [RFC7323], può essere utilizzata quando \nsorge la necessità di stimare con accuratezza il tempo di attraversamento della rete (denomi -", "nato round trip time e definito nel Paragrafo 5.4.4). Il meccanismo prevede che ognuna delle \ndue stazioni utilizzi un timer di 32 bit incrementato a passi fissi, il cui valore corrente possa \nessere inserito in uno dei campi TS ( timestamp ) dell’opzione. Se l’host A invia un segmento \ncon l’opzione kind = 8 presente, questa conterrà nel campo TS value  il valore corrente del timer \nlocale. L ’host B ricevente avrà allora l’obbligo di riempire il secondo campo TS echo  con il", "valore del proprio timer. La stima del tempo di attraversamento della rete nell’host A risulterà \nallora dalla differenza tra i due valori TS presenti nel segmento ricevuto per la direzione A-B \ne dalla differenza tra il timer corrente e il valore di TS echo  ricevuto per la direzione B-A. \nCome per le precedenti opzioni, anche in questo caso l’opzione kind deve essere inserita nel \nprimo segmento della richiesta di instaurazione della connessione e accettata nel successivo", "segmento di risposta. \n5.4.2 Gestione della connessione\nUna connessione TCP viene instaurata e rilasciata su richiesta dei processi applicativi che \ndesiderano comunicare. Le relative procedure utilizzano a questo scopo specifici campi pre -\nvisti nell’header del segmento TCP.\nL ’instaurazione di una connessione TCP avviene mediante scambio di segmenti con la pro -\ncedura detta “ three way handshake” che consente alla stazione locale di dichiarare il proprio", "identificatore del primo byte inviato ( initial sequence number , ISN ) e altresì di riscontrare \nquello che la stazione remota ha selezionato. La procedura consiste in una prima fase in cui la \nstazione sorgente A inoltra un segmento di richiesta di connessione ( connection request , CR) \nverso la stazione remota B, specificando anche il numero iniziale di conteggio dei byte ISNA \nche la stazione sceglie per il flusso in uscita. Nella seconda fase la stazione remota B, che ipo -", "tizziamo accettare la connessione, risponde con un segmento di riscontro ( acknowledgment , \nACK) che specifica a sua volta il numero ISNB che la stazione B sceglie per il flusso di dati \nche emette. Infine, nella terza fase la stazione A invia l’ultimo messaggio finale di riscontro. \nLa Figura 5.14 mostra6 i segmenti TCP scambiati tra due host A e B per l’instaurazione di \nuna connessione TCP in cui si assume che il tempo di ritardo nell’attraversamento della rete", "vari da segmento a segmento. La connessione è richiesta dalla stazione A con un segmento CR \navente SYN = 1, ACK = 0, SN = x; la stazione B accetta la connessione inviando un segmento \nACK con SYN = 1, ACK = 1, SN = y, AN = x + 1. A sua volta la stazione A risponde con un \nsegmento ACK che reca SYN = 0, ACK = 1, SN = x + 1, AN = y + 1. Si noti come i segmenti \nCR e ACK con bit SYN = 1 senza dati dell’utente consumino convenzionalmente un byte di", "numerazione. Ciò, grazie alla numerazione dei riscontri, rende esplicita l’accettazione dei \nprimi due messaggi della procedura three-way handshake . \nDi particolare rilevanza risulta la selezione del numero iniziale di sequenza ISN . Poiché \nin generale la rete IP sottostante non garantisce la consegna in sequenza dei segmenti TCP \n6 In questa figura e nelle seguenti relative all’uso dei bit SYN e ACK, si assume convenzionalmente che l’acronimo", "venga rappresentato associato a un segmento inviato se il suo valore è 1. \nPattavinaReti2021.indb   284PattavinaReti2021.indb   284 14/01/2022   16:09:2214/01/2022   16:09:225.4 Protocollo TCP  285\nscambiati tra due host, è opportuno che i numeri di sequenza adottati dalle diverse connes -\nsioni identifichino intervalli di numerazione non sovrapposti. Infatti potrebbe verificarsi il \ncaso in cui un segmento TCP inviato su una connessione TCP che nel frattempo è stata chiusa", "venga ricevuto quando è stata attivata una nuova connessione TCP tra le stesse socket. Questo \nsegmento TCP potrebbe allora interferire con il flusso di segmenti della nuova connessione \nse il suo numero di sequenza SN rientra tra quelli “ammissibili” nell’ambito della nuova con -\nnessione TCP.\nLa procedura di selezione dell’ ISN è di tipo pseudocasuale e si basa su un contatore interno \na ogni host che conta ciclicamente tra 0 e 232 – 1 (che corrisponde a circa 4 × 109) con passi", "di avanzamento di 4 m s. Al momento dell’apertura di una connessione, la stazione sceglierà \ncome ISN il valore corrente di questo contatore. L ’idea alla base di questa procedura è che la \ncasualità dell’istante di inizio di una connessione possa consentire di assegnare valori iniziali \nISN che non diano luogo ai problemi di interferenza appena accennati. \nOccorre anche osservare che la modalità di trasporto connectionless della rete IP sottostante", "richiede che non sorgano ambiguità durante l’elaborazione dei numeri di sequenza di segmenti \nricevuti a destinazione. Ciò potrebbe accadere quando due segmenti TCP di una connessione \ntrasportano almeno un byte che reca lo stesso numero, cosa che richiede necessariamente che \nsiano stati emessi 232 byte lungo la connessione. Per evitare che una stazione terminale possa \nricevere due byte con stesso numero di sequenza si prevede che ogni segmento TCP possa", "permanere nella rete per un tempo massimo MSL  (maximum segment lifetime ), il cui valore \nconsigliato è MSL  = 2 min. \nSi noti che il tempo impiegato per emettere tutti i byte di un ciclo di numerazione a 32 bit \ndipende naturalmente dalla capacità B della connessione espressa in bit/s. Infatti, connessioni \ndi maggiore capacità impiegheranno meno tempo per esaurire il ciclo di numerazione. Ne Si vuole determinare il tempo minimo che intercorre tra gli istanti di generazione di due", "ISN uguali da parte dello stesso host. \nPoiché il contatore avanza di 4 m s per passo e sono previsti 232 passi, due numeri ISN  uguali \nvengono generati con intervallo temporale minimo di 232·4 × 10-6 ≅ 4,77 ore. Esempio 5.5SYN\nSN=xB A\nSYN,ACK\nSN=y\nAN=x+1\nACK\nSN=x+1\nAN=y+1\nFigura 5.14 Instaurazione di una connessione TCP.\nPattavinaReti2021.indb   285PattavinaReti2021.indb   285 14/01/2022   16:09:2214/01/2022   16:09:22286  Capitolo 5 – Strato di trasporto", "consegue che, per evitare che due byte di una connessione TCP con lo stesso numero siano \ncontemporaneamente presenti in rete, si richiede di soddisfare la seguente relazione \n)5.1( MSL2328⋅\nC---------------< .           \nConnessioni di capacità C  = 10 Mbit/s richiedono poco meno di 1 ora per “consumare” l’intero \nciclo di numerazione, quindi un valore MSL  = 2 min risulta adeguato in questo caso. Tuttavia,", "in presenza di una connessione a grande capacità, per esempio C  = 1 Gbit/s, è possibile che \nbyte con stessa numerazione siano presenti contemporaneamente in rete, anche se “separati” \nlungo la connessione logica TCP da più di 109 altri byte. Inoltre, a causa della natura con -\nnectionless del protocollo IP, questi byte potrebbero essere consegnati al protocollo TCP di \ndestinazione in segmenti adiacenti, oppure addirittura in ordine inverso rispetto all’emissione.", "Il meccanismo previsto per risolvere questo problema, denominato PAWS ( protect against \nwrapped sequence ) [RFC1323], prevede che venga utilizzata l’opzione timestamp  del segmen -\nto TCP. Questa opzione, se richiesta durante l’instaurazione della connessione, richiede che i \nsegmenti TCP rechino l’informazione sull’istante in cui se ne inizia la trasmissione. In questo \nmodo il protocollo TCP ricevente ha la possibilità di scartare i segmenti che, anche se rispon -", "dono al criterio di sequenzialità sul flusso ricevuto, recano un timestamp più vecchio di quello \nche ci si attende in base agli ultimi segmenti ricevuti sulla connessione. \nPoiché la connessione è di tipo full-duplex, può accadere che entrambe le stazioni termi -\nnali A e B inviino una all’altra un messaggio di richiesta di connessione, determinando una \nsituazione di collisione. In questo caso, se le socket delle due richieste sono le stesse, se cio è", "la porta di destinazione di una richiesta coincide con la porta sorgente dell’altra e viceversa, \nviene instaurata un’unica connessione; ciò richiede che ognuna delle due stazioni riscontri il \nnumero di sequenza ricevuto, come mostrato in Figura 5.15. Nel caso contrario le connessioni, \nuna volta accettate, sono due distinte.\nIl rilascio della connessione bidirezionale richiede che vengano rilasciate entrambe le", "connessioni unidirezionali che la compongono. La procedura viene iniziata da una delle due \nstazioni, per esempio A, che invia su indicazione della propria applicazione un segmento TCP \ndi richiesta di disconnessione ( disconnection request , DR) con FIN = 1, dopo aver svuotato \nil proprio buffer di trasmissione e averne ricevuto i relativi riscontri (vedi Figura 5.16). La \nstazione B invia immediatamente un segmento ACK di riscontro recante ACK = 1, informan -", "do l’applicazione della richiesta di chiusura. Quando quest’ultima conferma la chiusura, la \nSYN\nSN=x\nSYN\nSN=y\nSYN,ACK\nSN=x\nAN=y+1SYN,ACK\nSN=y\nAN=x+1B A\nFigura 5.15 Instaurazione di una connessione TCP con collisione.\nPattavinaReti2021.indb   286PattavinaReti2021.indb   286 14/01/2022   16:09:2314/01/2022   16:09:235.4 Protocollo TCP  287\nstazione B completa l’invio dei segmenti dati nel proprio buffer, aspettandone i riscontri, e", "quindi emette a sua volta un segmento DR con FIN = 1. Questo viene riscontrato dalla stazione \nA con un segmento ACK recante ACK = 1. I segmenti DR che non contengono dati di utente \nconsumano convenzionalmente un byte di numerazione.  \nIn alternativa al rilascio delle due connessioni unidirezionali, la connessione può essere \nanche rilasciata in modo analogo a quanto avviene nella procedura di apertura, cio è con lo", "scambio di tre segmenti: il primo segmento DR, emesso dal client oppure dal server, reca \nFIN = 1, cui segue la risposta con il secondo segmento ACK che reca FIN = 1 e ACK = 1, che \nviene anch’esso riscontrato con il terzo segmento ACK che reca ACK = 1. \nSi vuole rappresentare graficamente l’interazione tra due host attraverso il protocollo TCP \nper effettuare lo scambio di brevi messaggi. Il client invia la stringa informativa “Hello”", "al server, il quale risponde con il messaggio “OK”. Quindi il client decide di interrompere \nl’interazione salutando il server con il messaggio “Bye”. Si ipotizza che il parametro ISN \nselezionato per questa interazione sia ISN  = 500 per il client e ISN  = 3000 per il server. \nLa Figura 5.17 mostra7 la successione delle operazioni che hanno luogo tra applicazioni \nclient/server e il protocollo di trasporto TCP, nonché i segmenti TCP che vengono scambiati", "tra i due host, ipotizzando che il ritardo di trasferimento di UI tra client e server sia costante. \nDopo che il server ha svolto la procedura di passive open , il client TCP esegue la procedura \ndi active open  (vedi Paragrafo 4.2.3), identificando così gli indirizzi locali delle due socket. \nViene così inizializzata la procedura di three-way handshake con l’invio di un segmento \ncon bit SYN = 1 e SN = 500. Il server accetta la richiesta di connessione e risponde con un", "segmento con SYN = 1, ACK = 1 che riscontra la richiesta ( AN = 501) e specifica il proprio \nnumero iniziale ( SN = 3000). Infine, il client conclude la procedura di instaurazione della \n7 I due quadratini rappresentati sulla verticale della scritta T-SAP del client e del server indicano, se presente la \ncampitura, la disponibilità degli indirizzi (indirizzo di rete, numero di porta) associati alla connessione TCP;", "il quadratino superiore della coppia lato client (server) si riferisce agli indirizzi locali, cio è del client (server), \nmentre quello inferiore si riferisce agli indirizzi remoti, cio è del server (client). Esempio 5.6FIN\nSN=x\nAN=y\nACK\nSN=y\nAN=x+1\nACK\nSN=x+1\nAN=y+1FIN\nSN=y\nAN=x+1B A\nFigura 5.16 Rilascio di una connessione TCP.\nPattavinaReti2021.indb   287PattavinaReti2021.indb   287 14/01/2022   16:09:2314/01/2022   16:09:23288  Capitolo 5 – Strato di trasporto", "connessione TCP inviando un segmento con ACK = 1 e numerazione sequenziale ( SN = 501) \nche riscontra il segmento ricevuto ( AN = 3001). A questo punto le due socket sono state com -\npletate con gli indirizzi remoti e possono fluire i messaggi dati tra client e server. \nL ’applicazione client chiede di inviare la stringa di cinque lettere “Hello” che viaggia in un \nsegmento con numerazione SN = 501 e AN = 3001. Il protocollo TCP del server, una volta", "ricevuto il segmento, trasferisce l’informazione all’applicazione che risponde con la stringa \n“OK”, trasferita nella rete con un segmento che riscontra la stringa ricevuta ( AN = 506) e \ncontiene la risposta “OK” ( SN = 3001). Il TCP del client, ricevendo il segmento, trasferisce \nl’informazione all’applicazione. T-SAPTrasport o\nT-SAPClient\nActiveopenPassive open\nSYN\nSN=500\nSYN,ACK\nSN=3000\nAN=501\nACK\nSN=501\nAN=3001\nSend“Hello ”\nSN=501\nAN=3001\nRece ive“Hello”\nSend“OK”\nSN=3001\nAN=506Receiv e“OK”", "Send“OK”\nSN=3001\nAN=506Receiv e“OK”\nSend“Bye”&Close\nReceive“Bye”\n&CloseFIN\nSN=506\nAN=3003\nACK\nSN=3003\nAN=509\nFIN\nSN=3003\nAN=509\nACK\nSN=509\nAN=3004CloseServer\nIndirizz ilocali\nIndirizz iremoti\nFigura 5.17 Evoluzione di una connessione TCP secondo l’Esempio 5.6.\nPattavinaReti2021.indb   288PattavinaReti2021.indb   288 14/01/2022   16:09:2314/01/2022   16:09:235.4 Protocollo TCP  289\nLa connessione TCP viene quindi rilasciata dal client, che contestualmente saluta il server", "con la stringa “Bye”. Il segmento di richiesta di disconnessione reca FIN = 1, ha numera -\nzione in avanti SN = 506 e di riscontro AN = 3003 (sono riscontrati i due byte ricevuti). Il \nprotocollo TCP del server, ricevendo il segmento, consegna la stringa all’applicazione e \ninvia un segmento di conferma con ACK = 1, numerazione in avanti SN = 3003 e AN = 509, \nper riscontrare la stringa ricevuta. Il server completa quindi il rilascio della connessione", "nella direzione opposta inviando un segmento con FIN = 1, SN = 3003, AN = 509, cui il client \nrisponde con un segmento che reca ACK = 1, SN = 509, AN = 3004. A questo punto le due \nsocket sono state rilasciate.\nNaturalmente è possibile che uno o più dei messaggi di richiesta di instaurazione o di rilascio \ndella connessione vada perso durante il trasferimento in rete. Per far fronte a questa situazione", "la procedura prevede che a ogni messaggio inviato corrisponda l’attivazione di un timer, la \ncui scadenza è commisurata al massimo ritardo atteso per avere una risposta dalla stazione \nremota. \nNella fase di instaurazione della connessione dall’host A all’host B, la perdita di uno qua -\nlunque dei tre segmenti inviati causa il reset della connessione. Infatti, se il primo segmento \nCR inviato da A o se il secondo segmento ACK inviato da B non vengono riscontrati entro", "la scadenza del time-out, l’host relativo annulla la procedura emettendo un segmento con bit \nRST = 1. \nNella fase di rilascio della connessione iniziata dall’host A, a ogni messaggio DR di richie -\nsta di disconnessione è associato un time-out. Se il primo segmento DR inviato da A non \nviene riscontrato, alla scadenza del time-out il segmento viene nuovamente inviato, indipen -\ndentemente da quale segmento (DR oppure ACK) è andato perso. Se il secondo segmento DR", "inviato da B non viene riscontrato, alla scadenza del time-out la connessione viene rilasciata. \n5.4.3 Operazioni del protocollo TCP\nIl protocollo TCP consente il trasferimento di informazioni tra due stazioni terminali con -\nnesse attraverso una o più reti. Il tempo di trasferimento dei segmenti TCP tra le due stazioni \nsarà quindi soggetto a una variabilità che rende la gestione del time-out molto più complessa", "rispetto ai protocolli per collegamenti punto-punto. Inoltre, come più volte ricordato, la moda -\nlità connectionless del protocollo IP sottostante implica che i segmenti TCP possano essere \nricevuti fuori sequenza rispetto all’ordine in cui sono stati generati e immessi in rete. Il mec -\ncanismo di numerazione dei dati, basato sull’identificazione del singolo byte dell’UI, è quello \nche consente alla stazione ricevente di verificare se tutte le UI inviate sulla connessione sono", "state ricevute e anche di riordinarle nel caso siano state ricevute fuori sequenza. \nIl protocollo TCP è caratterizzato dalle seguenti procedure:\n• i segmenti corretti ricevuti, eventualmente anche fuori sequenza, sono accettati e \nimmagazzinati nel buffer, purché all’interno della finestra di ricezione;\n• i riscontri inviati sono s olo positivi  (ACK) e di tipo cumulativo , così che un segmento \nche reca AN = x + 1 indica al ricevente che il trasmittente ha ricevuto correttamente i", "dati fino al byte numero x ;\nPattavinaReti2021.indb   289PattavinaReti2021.indb   289 14/01/2022   16:09:2314/01/2022   16:09:23290  Capitolo 5 – Strato di trasporto\n• i segmenti corretti ricevuti vengono riscontrati singolarmente, oppure alternativamen -\nte con la tecnica “ delayed ACK”, cio è ogni due segmenti e comunque entro un dato \nintervallo di tempo (per esempio 500 ms), a seconda della specifica implementazione;", "i riscontri possono essere inviati con la tecnica del “ piggybacking” (vedi Paragrafo \n3.2.4), cio è all’interno di segmenti con dati dell’utente inviati nella stessa direzione; \nnel caso di segmenti ricevuti fuori sequenza, il riscontro recante il valore corrente di \nAN deve comunque essere inviato immediatamente.\nData l’assenza di riscontri negativi (NACK) nel protocollo TCP, la ritrasmissione di segmenti", "mancanti si basa sulla scadenza del time-out per ognuno dei segmenti emessi. Ne consegue che \nTCP non appartiene propriamente alla classe dei protocolli go-back-n  (si accettano segmenti \nfuori sequenza e la ritrasmissione avviene segmento per segmento), ma neanche alla classe \ndei protocolli selective repeat  (non è possibile indicare esplicitamente il segmento mancante). \nNel protocollo TCP, ognuna delle due stazioni terminali usa il campo window  dei segmenti", "trasmessi per specificare la quantità di dati che è disposta ad accettare. Poiché il segmento \nreca anche l’indicazione del primo byte che si è in attesa di ricevere, ciò configura un mec -\ncanismo di controllo del flusso a credito esplicito . Quindi, la stazione B regolerà il flusso \ninviato sulla base dell’apertura e del valore corrente della finestra indicati dalla stazione A nei \nsegmenti inviati in direzione A-B. Si noti che il flusso informativo in direzione opposta potrà", "anche essere regolato da diversi parametri, per esempio una diversa apertura della finestra. Si \nosserva che la finestra di trasmissione in A e quella di ricezione in B avranno naturalmente la \nstessa apertura, ma in generale indicheranno insiemi diversi di byte a causa del ritardo di pro -\npagazione tra le due stazioni. In particolare, nell’ambito dei byte indicati dall’apertura corrente \ndella finestra di trasmissione, un insieme di byte saranno stati già trasmessi e sono in attesa", "di riscontro mentre altri, se presenti, saranno in attesa di trasmissione. \nSi vuole rappresentare graficamente lo scambio di segmenti dati TCP tra due stazioni, A \ne B, ipotizzando che il tempo di attraversamento t della rete che collega le due stazioni \nterminali sia costante e uguale nelle due direzioni. Le due stazioni si scambiano segmenti \ncon MSS =  1000 byte, trascurando l’header, senza limitazioni di flusso per il meccanismo", "a finestra e senza perdita di segmenti. Si assume che la trasmissione di A inizi con numero \ndi sequenza ISNA = 1000 e quella di B con numero ISNB = 450. La stazione A riceve due \nblocchi di dati dalla propria applicazione: uno di 2000 byte all’istante t = 0 e uno di 2700 \nbyte all’istante t = 2,7· Ts dove Ts = 1,5· t indica il tempo di trasmissione di un segmento dati \ndi dimensione massima. La stazione B riceve dalla propria applicazione un blocco dati di", "1000 byte all’istante t = 1,8· Ts + t. \nLa Figura 5.18 mostra lo scambio di segmenti tra le stazioni A e B in cui si è ipotizzato che \nun segmento di riscontro richieda un tempo di trasmissione Ta = Ts/2. La stazione A all’i -\nstante t = 0 inizia l’invio dei primi due segmenti che costituiscono il primo blocco di dati \ne quindi si ferma per assenza di dati da trasmettere. La stazione B, dopo aver riscontrato", "il primo segmento inviando AN = 2000, riceve 1000 byte dalla propria applicazione, che \nvengono trasmessi a partire dal byte numero 450, osservando che questo segmento non può Esempio 5.7\nPattavinaReti2021.indb   290PattavinaReti2021.indb   290 14/01/2022   16:09:2314/01/2022   16:09:235.4 Protocollo TCP  291\nConsegna urgente e forzata\nI due bit URG  e PSH svolgono la funzione di consentire il trattamento di dati dell’utente presso", "la stazione di destinazione secondo regole diverse da quelle normali previste dal protocollo, \ncome per esempio l’ordine di sequenza o la dimensione minima dei blocchi dati da consegnare \na destinazione.\nOgnuna delle due stazioni elabora i dati ricevuti nell’ordine secondo cui sono stati inviati \ndalla stazione remota. In alcune situazioni, tuttavia, per una stazione sorge la necessità di \ninviare alla stazione remota dati che possano essere consegnati all’applicazione di destinazio -", "ne senza attendere l’elaborazione dei dati precedentemente ricevuti e ancora in fase di elabo -\nrazione. La consegna di dati urgenti si realizza ponendo nel segmento il bit URG  = 1, cosa che \nindica alla stazione remota che il segmento contiene dati urgenti che devono essere consegnati \nsenza attesa all’applicazione remota. Questi dati occupano la prima parte del payload e cio è a \npartire dal byte numero SN fino al byte numero SN + UP .", "La funzionalità di consegna forzata può essere invocata da un processo applicativo che \nrichiede la consegna di un messaggio all’applicazione remota nel più breve tempo possibile. \nCiò richiede, da un lato, che la stazione locale invii in un segmento il messaggio ricevuto \nindipendentemente dal numero di byte immagazzinati nel buffer di trasmissione. Infatti, nor -\nmalmente il protocollo TCP potrebbe ottimizzare il flusso sulla connessione assemblando in", "un segmento un numero minimo di byte. Il segmento inviato recherà quindi il bit PSH = 1 per riscontrare il secondo segmento emesso da A, in quanto non ancora completamente ricevu -\nto. Il riscontro relativo sarà inviato dalla stazione B una volta terminata la trasmissione del \nproprio segmento. Il secondo blocco di dati generato nella stazione A fa ripartire la trasmis -\nsione da A verso B di tre segmenti che vengono singolarmente riscontrati dalla stazione B. \nSN=1000\nAN=450\nSN=450", "SN=1000\nAN=450\nSN=450\nAN=2000SN=2000\nAN=450\nSN=3000\nAN=450\nSN=4000\nAN=450\nSN=5000\nAN=1450SN=450\nAN=2000\nSN=1450\nAN=4000\nSN=1450\nAN=5000\nSN=1450\nAN=5700SN=1450\nAN=3000\nIstant ediarrivodidati\nnelbufferditrasmission eB A\nt=0\nFigura 5.18 Scambio di segmenti TCP secondo l’Esempio 5.7.\nPattavinaReti2021.indb   291PattavinaReti2021.indb   291 14/01/2022   16:09:2414/01/2022   16:09:24292  Capitolo 5 – Strato di trasporto", "indicare alla stazione remota la necessità di consegnare senza attesa tutti i dati nel buffer, ivi \ninclusi quelli giunti con il segmento, all’applicazione remota indirizzata. \nQuesta funzione è utile nei casi in cui l’interazione lungo la connessione implichi anche \nl’invio di un piccolo blocco di dati in una direzione che richiede risposta (si consideri per \nesempio il caso di una connessione TCP tra un terminale interattivo e un server remoto).\nFast retransmit", "Fast retransmit\nSi è detto come TCP sia un protocollo privo di riscontri negativi, che quindi deduce la perdita \ndi un segmento dalla scadenza del time-out impostato al momento della sua trasmissione. Un \nmiglioramento apportato alla specifica originale di TCP prevede anche un secondo meccani -\nsmo di ritrasmissione denominato fast retransmit [RFC2001]. \nQuesta nuova tecnica ipotizza la perdita di un segmento a seguito della ricezione di tre", "riscontri (ACK) consecutivi “duplicati”, che riportano cio è lo stesso valore del parametro \nAN = x dell’ultimo riscontro ricevuto. Quindi la ricezione di tre riscontri duplicati corrispon -\nde alla ricezione di un NACK implicito. Alla ricezione del terzo ACK duplicato la stazione \nsorgente provvede alla ritrasmissione del segmento “più vecchio” non ancora riscontrato, che \nnaturalmente avrà il parametro SN = x. L ’efficacia della tecnica fast retransmit richiede che la", "tecnica delayed ACK non venga attuata alla ricezione di un segmento fuori sequenza. \nSi consideri una connessione TCP tra gli host A e B ipotizzando che il tempo di attraver -\nsamento della rete sia costante e uguale nelle due direzioni. La stazione terminale A invia \n6 segmenti dati di diverse dimensioni alla stazione terminale B con numero iniziale di \nsequenza SN = 300, ma il secondo segmento viene perso per un errore o per saturazione di", "un buffer nella rete attraversata. Si vuole mostrare l’aumento di efficienza nell’utilizzazione \ndella connessione quando opera il meccanismo di fast retransmit, assumendo che il valore \ndel time-out sia molto più grande del tempo richiesto per ricevere il riscontro. \nLa Figura 5.19 mostra l’evoluzione temporale delle trasmissioni di segmenti dati e di riscon -\ntri (per semplicità si mostrano solo i numeri SN emessi da A e AN emessi da B), avendo", "assunto 5 segmenti di 100 byte e un segmento (il quarto) di 150 byte8. Quando opera il solo \nmeccanismo del time-out (Figura 5.19a), il segmento perso (che contiene i byte dal numero \n400 al numero 499) viene ritrasmesso solo alla scadenza del relativo time-out. Prima della \nscadenza, quattro segmenti successivi vengono trasmessi da A e ricevuti correttamente in \nB. Nel protocollo TCP la stazione B accetta i segmenti fuori sequenza, mentre il riscontro", "(cumulativo) di tutti i segmenti ricevuti viene inviato alla corretta ricezione del segmento \nmancante. Quando invece è operante la procedura fast retransmit (Figura 5.19b), la ricezio -\nne di tre (identici) riscontri di segmenti successivi può precedere la scadenza del time-out, \nanticipando quindi la ritrasmissione del segmento che si ritiene perso. Risulta quindi evi -\ndente che la procedura fast retransmit consente di aumentare l’efficienza di trasferimento", "8 Le pause trasmissive della stazione A non influenzano in alcun modo le funzioni svolte dalla procedura fast \nretransmit.Esempio 5.8\nPattavinaReti2021.indb   292PattavinaReti2021.indb   292 14/01/2022   16:09:2414/01/2022   16:09:245.4 Protocollo TCP  293\ndei dati lungo la connessione TCP ogni volta che il time-out interviene dopo la ricezione \ndi tre ACK “duplicati”.\nSelective Acknowledgment\nIl protocollo TCP, nonostante sia stato definito come un protocollo con soli riscontri positivi,", "prevede la possibilità che, in caso di utilizzazione di reti caratterizzate dal trasporto di UI con \nmolti errori o perdite, possa essere adottata una procedura esplicita di riscontro dei segmenti \nricevuti correttamente, denominata selective acknowledgement  (SACK) [RFC2018].\nLa procedura selective acknowledgment  viene attuata utilizzando al momento dell’in -\nstaurazione della connessione TCP l’opzione kind  =  4 di due byte ( length   =  2) denominata", "“SACK permitted”, inserita nel segmento CR e nel successivo segmento di riscontro ACK. \nLa stazione ricevente dell’opzione “SACK permitted” potrà inviare segmenti che nell’header \ncontengono l’opzione kind = 5, che serve per specificare i blocchi di byte contigui che sono \nstati ricevuti nella finestra autorizzata. Essendo un riscontro selettivo, evidentemente questi \nblocchi non comprendono il byte numero AN che rappresenta il primo byte che la stazione si", "aspetta di ricevere per fare avanzare la finestra di ricezione. L ’opzione kind = 5 ha una lun -\nghezza length  = 8n + 2 byte, se n sono i blocchi che vengono specificati. Infatti, ogni blocco \nrichiede: (i) 4 byte per indicare il “numero sequenziale” del primo byte del blocco, (ii) 4 byte \nper indicare il “numero sequenziale” dell’ultimo byte del blocco, (iii) 2 byte per rappresentare \ni campi kind e length .", "i campi kind e length . \nL ’opzione SACK rende più efficiente il protocollo TCP in quanto, nel caso di perdite mul -\ntiple di segmenti non adiacenti, consente la ritrasmissione anticipata dei segmenti persi suc -\ncessivi al segmento più vecchio non riscontrato.300\n400400\n500\n600\n750\n400400\n400\n400\n400\n950850ToSN\nANB A\n300\n400400\n500\n600\n750\n400400\n400\n400\n400\n950850ToSN\nANB A\n(a) (b)\nFigura 5.19 Ritrasmissione per timeout (a) o con fast retransmit (b) secondo l’Esempio 5.8.", "PattavinaReti2021.indb   293PattavinaReti2021.indb   293 14/01/2022   16:09:2414/01/2022   16:09:24294  Capitolo 5 – Strato di trasporto\nSilly window syndrome\nUno dei problemi che ha causato inefficienze nelle prime implementazioni di TCP va sotto il \nnome di silly window syndrome . Questo fenomeno consiste nel generare segmenti TCP con \nun numero piccolissimo di byte, tipicamente uno solo. \nL ’occorrenza della silly window syndrome all’estremità di destinazione della connessione", "TCP ha luogo quando l’applicazione che sta utilizzando la connessione legge i dati ricevuti \nun byte alla volta e il buffer è pieno. Secondo le regole standard, la stazione di destinazione \ncomunica un’apertura nulla ( window  = 0) della propria receiver window quando non può più \nimmagazzinare altri dati. Al primo byte letto dall’applicazione (e quindi rimosso dal buffer) \nsi rende disponibile una nuova posizione nel buffer, che provoca l’invio di un segmento TCP", "con window  = 1. La stazione sorgente provvede quindi a inviare un segmento TCP con un solo \nbyte di dati dell’utente. Questo tipo di comportamento dà luogo a un’inefficienza significativa \nnell’uso della rete IP sottostante. \nLa procedura prevista per superare l’inconveniente della silly window syndrome a desti -\nnazione prende il nome di “soluzione di Clark”. Consiste nel prevedere che, a seguito di un", "annuncio di receiver window ad apertura nulla da parte del ricevitore, questo possa autorizza -\nre di nuovo l’invio di dati sulla connessione quando almeno la metà del suo buffer di ricezione \nè vuota, oppure quando è comunque disponibile lo spazio per la memorizzazione dei dati di \nun segmento di dimensione MSS.\nIl fenomeno della silly window syndrome può colpire anche la stazione trasmittente. Si", "consideri infatti il caso di un’applicazione (per esempio un terminale interattivo) che genera \npochi byte alla volta. La regola che si segue consiste nell’inviare il primo gruppo di byte e \nquindi memorizzare i byte forniti dall’applicazione fino all’accumularsi di MSS byte, a meno \nche non sia pervenuto il riscontro dell’ultimo segmento emesso. Ciò consente di svuotare \nimmediatamente il buffer di trasmissione. Questa semplice regola è nota come “algoritmo di", "Nagle”. Naturalmente l’invio del segmento è immediato se l’applicazione ha richiesto la con -\nsegna forzata (opzione “push”). \n5.4.4 Selezione del time-out\nLa scelta del valore del time-out è essenziale per assicurare efficienza nel protocollo TCP, in \nconsiderazione anche dell’assenza di riscontri negativi. Per garantire la massima efficienza \nnell’utilizzazione delle risorse di rete, il time-out dovrebbe essere determinato in base al ritar -", "do atteso per la ricezione di un riscontro per il segmento inviato. Questo ritardo viene indicato \ncome round trip time (RTT), in quanto è determinato dalla somma dei tempi di trasmissione \ne propagazione del segmento dall’host A all’host B e dei tempi di trasmissione e propagazione \ndel riscontro dall’host B all’host A. \nIl parametro RTT non è determinabile con facilità in quanto dipende dal percorso di rete", "seguito, che può variare da un datagramma all’altro, e dalle condizioni di traffico della rete (o \ndelle reti) tra le due stazioni alle estremità della connessione. Le stazioni, rilevando gli istanti \ndi ricezione dei riscontri, determinano il tempo di ritardo sulla connessione TCP che dipende \nprincipalmente dallo stato corrente di riempimento dei buffer dei nodi attraversati. Il valore \ndel time-out deve quindi adattarsi dinamicamente al valore RTT che via via si osserva duran -", "te il trasferimento dei segmenti ricevuti con successo. È superfluo rimarcare che valori del \ntime-out più bassi del valore corrente di RTT provocherebbero la ritrasmissione di segmenti \nPattavinaReti2021.indb   294PattavinaReti2021.indb   294 14/01/2022   16:09:2414/01/2022   16:09:245.4 Protocollo TCP  295\nnon ancora riscontrati e quindi presumibilmente duplicazioni inutili di segmenti dati. D’altra \nparte, valori di time-out più grandi di RTT porterebbero a una diminuzione dell’efficienza", "per i meccanismi di controllo del flusso che entrerebbero in azione a causa dell’attesa delle \nritrasmissioni per segmenti andati persi. \nLa procedura definita per la stima del valore di RTT [RFC6298] utilizza l’approccio della \ncosiddetta “media mobile”; consiste nel registrare il valore di RTT ( RTTlast) dell’ultimo seg -\nmento inviato e riscontrato (misurando il tempo che intercorre tra l’inizio della trasmissione", "del segmento e la completa ricezione del relativo riscontro). Questa misura viene “mediata” \ncon la stima corrente di RTT ( RTTav) per ottenere la nuova stima secondo la relazione9\nRTTav1α–()RTTavαRTTlast+ =\nove il coefficiente di pesatura a appartiene all’intervallo (0,1]. Valori più bassi di a implicano \nche la stima corrente di RTT si basa su molte misure di RTT, mentre valori più grandi tendo -\nno a privilegiare le stime più recenti (il caso limite a = 1 non opera più alcuna media con le", "precedenti misure di RTT). Il valore suggerito per il coefficiente di pesatura è a = 1/8. \nIl valore del timeout è scelto a partire dalla stima corrente di RTT , ma che deve tener conto \nanche della sua variabilità rispetto alla media corrente osservata sulle misure effettuate. Si cal -\ncola quindi per ogni riscontro ricevuto la deviazione (istantanea) RTTav – RTTlast rispetto alla \nmedia corrente di RTT, così da poter calcolare anche per la deviazione la media pesata come10", "RTTdev1β–()RTTdevβRTTavRTTlast– + = .\nPer il parametro b , il cui campo di variabilità è lo stesso di a , viene suggerito il valore b = 1/4. \nQuindi, rispetto alla stima della media, per stimare la deviazione di RTT si attribuisce mag -\ngior peso all’ultimo valore misurato. \nLa disponibilità dei due parametri RTTav e RTTdev consente quindi il calcolo del time-out \nTo come \nToRTTav4+ RTTdev⋅ = .\n9 Il valore iniziale della media è dato dalla prima misura RTTlast.", "10 Il valore iniziale della deviazione è ottenuto dalla prima misura come RTTdev = RTTlast/2.Si vuole ora rappresentare l’andamento del parametro RTT a partire da misure dei ritardi \nrilevati nella rete Internet per un’interazione tra due sistemi terminali localizzati a Milano \nin Italia e a Davis in California.\nLa Figura 5.20 mostra i valori del round trip time rilevato ( RTTlast) con intervallo di cam -", "pionamento di 1 s e il corrispondente valore di media mobile ( RTTav) calcolato con questi \ncampioni. Si osserva che il valore medio si aggira sui 150 ms con variazioni in aumento o \nin diminuzione di norma entro i 10 ms. Appaiono ogni tanto campioni rilevati molto più \ngrandi, indice evidente di un sovraccarico delle reti attraversate con aumento dei tempi di \nattesa nei router corrispondenti. Esempio 5.9", "attesa nei router corrispondenti. Esempio 5.9\nPattavinaReti2021.indb   295PattavinaReti2021.indb   295 14/01/2022   16:09:2514/01/2022   16:09:25296  Capitolo 5 – Strato di trasporto\nPer evitare di stimare RTT in presenza di comportamenti inaspettati della rete, il parametro \nRTT viene aggiornato solo in corrispondenza di riscontri di segmenti inviati per la prima volta, \ncioè non ritrasmessi. Occorre tuttavia far fronte a situazioni in cui la rete diventi improvvi -", "samente congestionata, quindi molto più lenta, dando luogo a ritrasmissioni continue per sca -\ndenza del time-out (che quindi non verrebbe aggiornato alla ricezione di riscontri di segmenti \nritrasmessi). Si ricorre allora all’aumento del time-out per evitare di procedere alla ritrasmis -\nsione a causa dei valori più grandi di RTT che vengono rilevati. Si adottano quindi aumenti di \ntipo “moltiplicativo” del time-out per ogni ritrasmissione effettuata, scegliendo tipicamente di", "raddoppiare il valore corrente di To fino al superamento di una data soglia (per esempio 60 s), \noltre la quale avviene il reset della connessione. Alla ricezione del primo riscontro di un seg -\nmento non ritrasmesso, To torna ad assumere il valore specificato dalla procedura precedente. \nQuesta modalità di gestione del time-out è conosciuta come algoritmo di Karn . \n5.4.5 Controllo della congestione\nSi è già detto come il protocollo TCP implementi un controllo del flusso di tipo a credito", "esplicito , in quanto è la stazione ricevente che indica la quantità massima di byte che è in \ngrado di accettare mediante il parametro window , di seguito indicato come finestra di rice -\nzione  o receiver window , di apertura Rwnd  (espresso in byte). Questo valore corrisponde alle \nposizioni libere nel buffer di ricezione che accetta dati lungo la connessione TCP e li consegna \nall’applicazione indirizzata. \n 100150200250300\n05 01 00 150 2002 50 300 3504 00Milano - Davi s (CA)\nRTTlast", "RTTlast\nRTTavRound trip time, RTT [ms]\nTime [s]\nFigura 5.20 Stima di RTT basata su misure reali in Internet secondo l’Esempio 5.9.\nPattavinaReti2021.indb   296PattavinaReti2021.indb   296 14/01/2022   16:09:2514/01/2022   16:09:255.4 Protocollo TCP  297\nPuò tuttavia accadere che la rete non sia in grado di trasferire tutti i dati consentiti dall’aper -\ntura della finestra dichiarata dalle stazioni riceventi. Per questo motivo viene realizzata anche", "una procedura di controllo della congestione [RFC5681] per ogni connessione TCP da parte \ndella stazione trasmittente, basata sul comportamento della rete rilevato per mezzo dei riscon -\ntri ricevuti (o mancanti) per i segmenti TCP emessi. \nSN=1000\nAN=450\nSN=450\nAN=2000SN=2000\nAN=450\nSN=3000\nAN=450\nSN=4000\nAN=450\nSN=5000\nAN=1450SN=450\nAN=2000\nSN=1450\nAN=4000\nSN=1450\nAN=5000\nSN=1450\nAN=5700SN=1450\nAN=300007000\nByte datrasmetter e\nByte trasme ssiinattesa diriscontro\nPosizion ivuote07000", "Posizion ivuote07000\nIstante diarrivodidati\nnelbufferditrasmission eByte incorsodiconsegnaBufferditrasmissione\nBufferdiricezioneB A\nFigura 5.21 Scambio di segmenti TCP secondo l’Esempio 5.10.Si vuole mostrare lo stato del buffer di trasmissione della stazione A e del buffer di ricezio -\nne della stazione B durante lo scambio di segmenti descritto nell’Esempio 5.7, ipotizzando \nche l’apertura della finestra di trasmissione nella stazione A e di ricezione nella stazione B \nsia di 3000 byte.", "sia di 3000 byte.\nLa Figura 5.21 mostra lo stato dei buffer di trasmissione e di ricezione nella direzione da \nA a B relativamente all’esempio della Figura 5.18. Si vede come nella stazione A la fine -\nstra di trasmissione scorra solo al momento della ricezione dei riscontri, così che dopo \nl’invio del secondo segmento il buffer potrebbe inviare solo 1000 nuovi byte che saranno \ngenerati dall’applicazione della stazione A. Si ipotizza che l’applicazione della stazione B", "sia abbastanza veloce da svuotare il buffer alla ricezione di ogni nuovo segmento, così che \nil buffer di ricezione abbia sempre un’apertura effettiva di 3000 byte. Alla ricezione del \nsecondo blocco di 2700 byte nella stazione A, non tutti i byte potrebbero essere trasmessi \nimmediatamente, essendo l’apertura effettiva di soli 1000 byte. Tuttavia, mentre i primi due \nsegmenti del blocco vengono trasmessi, si ricevono i riscontri dei segmenti precedentemen -", "te inviati, cosa che consente lo scorrimento della finestra e quindi la trasmissione di tutti i \ntre segmenti del secondo blocco senza interruzione.Esempio 5.10\nPattavinaReti2021.indb   297PattavinaReti2021.indb   297 14/01/2022   16:09:2514/01/2022   16:09:25298  Capitolo 5 – Strato di trasporto\nViene dunque definita una seconda finestra, detta finestra di congestione  o congestion win -\ndow, di apertura Cwnd  (espressa in byte), che indica la quantità massima di byte che la sta -", "zione è autorizzata a trasmettere in base all’algoritmo di controllo della congestione; questo \nvalore viene variato dinamicamente. Quindi, a ogni istante l’apertura effettiva Ws della fine -\nstra in trasmissione è data da\nWsminRwndCwnd,( ) =\ndove il primo parametro è indicato dalla stazione ricevente, mentre il secondo è calcolato dalla \nstazione trasmittente, come specificato nel seguito. Si noti che in questo modo viene regolato", "il flusso dei dati in entrambe le direzioni di una connessione TCP, adottando eventualmente \ndiversi valori dei parametri in gioco. Nel seguito faremo anche riferimento, ove necessario per \nsemplicità, a un’apertura della congestion window espressa in multipli della massima capacità \nin byte di un segmento dati, cio è di MSS: in questo caso il parametro Cwnd  diventa un numero \nintero e viene espresso senza unità di misura.", "intero e viene espresso senza unità di misura. \nIl controllo di congestione sulla connessione TCP si basa sulla definizione di due regioni \ndi operazioni, denominate slow start  e congestion avoidance  [RFC2001]. Nella prima regione, \nche caratterizza la fase iniziale del trasferimento dati in una connessione TCP, si procede a un \naumento di tipo moltiplicativo della congestion window. Al superamento di una data soglia per", "il parametro Cwnd , denominata slow start threshold ( Ssthresh ), si entra nella seconda regione \nin cui l’ulteriore aumento di Cwnd  è ora di tipo additivo. \nIl trasferimento di dati lungo una connessione TCP inizia con le modalità operative della \nregione slow start , avendo il TCP locale inizializzato l’apertura della propria congestion \nwindow a un valore iniziale IW  (initial window) espresso in byte, cio è Cwnd  = IW, con11", "IW MSS2MSS⋅ 3MSS⋅ 4MSS⋅ ,,, { } ∈ . L ’apertura della congestion window aumenta di \nuna quantità MSS per ogni riscontro ricevuto relativo a segmenti dati non ancora riscontrati. \nDato che RTT indica il tempo necessario a ricevere un riscontro, Cwnd  raddoppia per ogni \nintervallo RTT12. Questo aumento esponenziale della congestion window risponde al crite -\nrio di aumentare il flusso di dati sulla connessione fintanto che i riscontri vengono ricevuti", "regolarmente, indice di un buon funzionamento della rete. Quando l’apertura della congestion \nwindow raggiunge la soglia Ssthresh  (Cwnd  ≥ Ssthresh ), si entra nella regione congestion avoi -\ndance. Di solito si sceglie un valore iniziale molto grande per la slow start threshold, ad esem -\npio Ssthresh  = 65.535 byte, che corrisponde alla massima apertura della finestra di ricezione.", "11  Il valore di IW, determinato dalla stazione TCP locale, dipende dal parametro MSS: a valori più piccoli di MSS \ncorrispondono valori più grandi di IW . \n12  In realtà l’incremento della finestra di congestione potrebbe essere più lento nel caso il ricevitore adotti la \ntecnica delayed ACK (vedi Paragrafo 5.4.3).Si vuole rappresentare il diagramma temporale di trasferimento di dati a capacità massima \nnella regione slow start lungo una connessione TCP dalla stazione A alla stazione B con", "MSS di default, con valori iniziali ISN  = 1136 e Cwnd  = 1, RTT uguale a 4,5 volte il tempo \ndi trasmissione di segmento.Esempio 5.11\nPattavinaReti2021.indb   298PattavinaReti2021.indb   298 14/01/2022   16:09:2514/01/2022   16:09:255.4 Protocollo TCP  299\nNella regione congestion avoidance  il flusso di dati sulla connessione può ancora aumentare, \nma a una velocità molto più piccola di quella che caratterizza la regione slow start. Infatti, per", "ogni riscontro ricevuto il valore di Cwnd  viene aumentato di MSS ×(MSS/Cwnd ) byte. Quindi \nil parametro Cwnd  aumenta di un numero di byte uguale a MSS per ogni intervallo di tempo \nRTT con la ricezione dei riscontri di tutti i segmenti inviati in base al valore corrente di Cwnd . Come mostrato in Figura 5.22, il trasferimento dalla stazione A inizia nella regione slow \nstart con l’invio di un segmento con lunghezza di default MSS  = 536 byte. La completa rice -", "zione del riscontro raddoppia la congestion window ( Cwnd  = 2) consentendo quindi l’invio \ndi due segmenti. La ricezione di ognuno dei due riscontri autorizza l’emissione di due nuovi \nsegmenti per un totale di 4 segmenti, in accordo al nuovo valore Cwnd  = 4. Si vede dunque \nchiaramente l’aumento esponenziale dell’apertura della congestion window, a dispetto del \nnome slow start assegnato a questa regione.", "nome slow start assegnato a questa regione.  \nSi vuole estendere l’Esempio 5.11 ipotizzando una soglia Ssthresh  = 4 ·MSS  e un RTT che \nè aumentato al valore di 6,5 volte il tempo di trasmissione di un segmento.\nIl valore del parametro Ssthresh  implica che, alla ricezione nella stazione A dell’ultimo \nACK riportato in Figura 5.22 (che reca AN = 4888), la finestra di congestione di A sarà \naumentata di 1 MSS rispetto al valore precedente, assumendo quindi il valore Cwnd  = 5.", "Come mostrato in Figura 5.23, la ricezione da parte di A di tutti i riscontri dei 5 segmenti \nautorizzati consentirà l’ulteriore incremento della congestion window, potendo così la sta -\nzione trasmettere 6 segmenti. Esempio 5.12SN=1136\nAN=1672\nSN=1672\nSN=2208\nSN=3280\nSN=3816\nSN=4352AN=2208\nAN=2744\nAN=3280\nAN=3816\nAN=4352\nAN=4888SN=2744B A\nFigura 5.22 Operazioni nella regione slow start secondo l’Esempio 5.11.", "PattavinaReti2021.indb   299PattavinaReti2021.indb   299 14/01/2022   16:09:2614/01/2022   16:09:26300  Capitolo 5 – Strato di trasporto\nVersioni di TCP\nSi è finora ipotizzato che tutti i segmenti inviati vengano riscontrati senza necessità di pro -\ncedere a ritrasmissioni. In realtà le risorse di rete utilizzate dalle connessioni TCP hanno un \ncomportamento non ideale, quindi possono verificarsi perdite di segmenti, o comunque tra -", "sferimenti con ritardi crescenti che danno luogo alla scadenza dei relativi time-out, impostati \nal momento della loro trasmissione. In queste condizioni, occorre prevedere procedure che \ntengano conto di queste situazioni e consentano di ridurre il flusso che può essere inviato \nlungo le connessioni TCP.\nLa versione base del protocollo TCP, nota come TCP Tahoe , prevede che un segmento rite -\nnuto perso per scadenza del time-out venga ritrasmesso e la congestion window venga ridotta", "all’apertura minima. Contemporaneamente la soglia Ssthresh  viene impostata alla metà del \nnumero corrente di byte emessi ma non ancora riscontrati ( Flightsize ), con un minimo di due \nsegmenti. I nuovi valori del controllo della congestione sono quindi espressi da\nCwnd MSS = ,\n)5.2( Ssthresh maxFlightsize\n2--------------------------2MSS⋅,  = .       \nIl nuovo valore del parametro Ssthresh  viene assunto solo alla prima ritrasmissione di un seg -", "mento: successive ritrasmissioni dello stesso segmento non alterano quindi questo parametro. \nSuccessive specifiche del protocollo TCP hanno differenziato il meccanismo di riduzione \ndella congestion window, in dipendenza dell’evento che ha fornito un’indicazione di perdita. \nNel protocollo denominato TCP Reno  [RFC2001] si differenziano le operazioni che vengono \nsvolte in funzione dell’evento (scadenza del time-out oppure ricezione di tre ACK duplicati)", "che segnala una possibile perdita di segmento. Vale infatti la considerazione che, a differenza \ndello scadere del time-out, la ricezione di tre ACK duplicati è indice di una rete comunque \nfunzionante, in quanto trasferisce con successo segmenti dati. \nMentre la scadenza del time-out determina le stesse operazioni del protocollo TCP Tahoe, \nla ricezione di tre ACK duplicati causa l’avvio della procedura di fast recovery  nel protocollo SN=4888\nSN=5424\nSN=5960\nSN=6496\nAN=5960\nAN=6496\nAN=7032", "SN=5424\nSN=5960\nSN=6496\nAN=5960\nAN=6496\nAN=7032\nAN=7568 SN=7568\nSN=8104\nSN=8640\nSN=9176AN=8104\nAN=8640\nAN=9176\nAN=9712\nAN=10248\nAN=10784SN=7032\nSN=9712\nSN=10248AN=5424B A\nFigura 5.23 Operazioni nella regione congestion avoidance secondo l’Esempio 5.12.\nPattavinaReti2021.indb   300PattavinaReti2021.indb   300 14/01/2022   16:09:2614/01/2022   16:09:265.4 Protocollo TCP  301\nTCP Reno. Alla ricezione dei primi due ACK duplicati corrisponde l’invio di due nuovi seg -", "menti, se disponibili nel buffer di trasmissione, così da mantenere costante il numero di byte \ninviati e non ancora riscontrati (i due ACK duplicati indicano la ricezione di due segmenti, \nanche se non in sequenza). Alla ricezione del terzo ACK duplicato, viene ritrasmesso il seg -\nmento “più vecchio” non ancora riscontrato (procedura di fast retransmit) e assunto il nuovo \nvalore della soglia Ssthresh  dato dall’Equazione (5.2). Ogni nuovo ACK duplicato viene trat -", "tato come i primi due, consentendo l’invio di un nuovo segmento. Quando viene riscontrato il \nsegmento andato perso, si assume il nuovo valore della congestion window\n Cwnd = Ssthresh\ncon Ssthresh  ancora fornito dall’Equazione (5.2) e si termina la fase di fast recovery tornando \nnella procedura di congestion avoidance. La procedura di fast recovery del protocollo TCP \nReno consente dunque una ripartenza più veloce (rispetto al protocollo TCP Tahoe) del flusso", "sulla connessione TCP dopo la ricezione di tre ACK duplicati.\nRisulta di particolare interesse osservare l’andamento del parametro Cwnd  nel protocollo TCP \nReno nella regione congestion avoidance, quando le perdite sono sempre segnalate da tre ACK \nduplicati che intervengono sempre prima della scadenza del time-out. Il primo evento di rice -\nzione di tre ACK duplicati provoca un dimezzamento della finestra di congestione che quindi Esempio 5.13", "Si vuole rappresentare l’andamento dell’apertura della finestra di congestione per i due \nprotocolli TCP Tahoe e Reno per i primi 30 cicli di RTT. Si ipotizza che: (i) nell’intervallo \n(10-13) RTT la rete sia guasta e non vengono trasmessi segmenti; (ii) nell’intervallo (20-21) \nRTT, a causa di un guasto parziale della rete, venga perso un segmento e vengano ricevuti \nsolo 5 ACK duplicati; (iii) nell’intervallo 21-22 RTT la rete sia guasta e non vengono tra -", "smessi segmenti. Si assume che i valori iniziali della procedura di controllo della congestio -\nne siano Ssthresh  = 32 MSS, Cwnd  = 1 MSS e che il timeout sia To = 3 RTT. \nL ’andamento del parametro Cwnd  per i due protocolli è riportato in Figura 5.24. Per i primi \n6 cicli di RTT si opera nella regione slow start con aumento esponenziale di Cwnd , per poi \nentrare nella regione congestion avoidance caratterizzata da aumento lineare. A seguito del", "guasto di rete che ha inizio all’istante 10 RTT, Cwnd  non può aumentare in quanto non si \nricevono riscontri e all’istante 13 RTT scade il timeout per almeno uno dei segmenti inviati \nall’istante 10 RTT. Dato che Flightsize  = Cwnd  = 36 MSS, la soglia assume il nuovo valore \nSsthresh  = 18. In entrambi i protocolli la congestion window riparte dal valore unitario e \naumenta in modo esponenziale fino al nuovo valore di soglia, cui segue un aumento line -", "are, fino al verificarsi di perdite nell’intervallo 20-21 RTT. Viene subito rilevata la perdita \ndi almeno un segmento, dato che si ricevono più di tre ACK duplicati all’istante 21 RTT. \nQuindi con il protocollo TCP Reno la soglia assume il nuovo valore Ssthresh  = 10, cio è metà \ndell’ultimo valore di Flightsize , e la trasmissione riparte nella regione congestion avoidance \ncon valore iniziale Cwnd  = Ssthresh . Nel protocollo TCP Tahoe la perdita di segmenti viene", "rivelata dalla scadenza del timeout all’istante 23 RTT, quando la congestion window riparte \ndal valore iniziale Cwnd  = 1 e la soglia Ssthresh  è la stessa del protocollo TCP Reno. \nPattavinaReti2021.indb   301PattavinaReti2021.indb   301 14/01/2022   16:09:2614/01/2022   16:09:26302  Capitolo 5 – Strato di trasporto\nriprende a salire in modo lineare, aumentando di un’unità per ogni incremento unitario di", "RTT. Al successivo evento di perdita di segmento, che interverrà quando il throughput consen -\ntito dall’apertura corrente della finestra di congestione non potrà essere “sostenuto” dalla rete \nsottostante, si verificherà un nuovo dimezzamento della congestion window, per poi riprende -\nre ancora la crescita lineare. Questo tipo di andamento viene indicato con la sigla AIMD, che \nsignifica additive increase/multiplicative decrease . Anche se i periodi di aumento lineare non", "sono costanti, in quanto dipendono dal carico istantaneo delle risorse di rete impegnate dalla \nconnessione, possiamo dire che un andamento AIMD può essere graficamente rappresentato \ncome “a dente di sega” (il primo tratto è visibile in Figura 5.24 a partire da RTT  = 18).\nUna successiva evoluzione del protocollo TCP Reno considera il caso in cui vadano persi \npiù segmenti di una stessa apertura della finestra di congestione, come può accadere utilizzan -", "do reti con alto tasso di errore. La procedura di fast recovery prevede infatti che a seguito della \nricezione di tre ACK duplicati si possa ritrasmettere il segmento “più vecchio” non ancora \nriscontrato, riducendo Ssthresh  e Cwnd . La ricezione di un “ACK parziale”, che riscontra cio è \nil segmento perso ed eventualmente anche altri successivi, ma non l’ultimo inviato quando il \nterzo ACK duplicato è stato ricevuto, potrebbe dar luogo a una successiva procedura di fast", "recovery con nuova riduzione dei parametri Ssthresh  e Cwnd  . Ciò accade se un altro segmento \nè andato perso e il fatto viene rilevato con tre nuovi ACK duplicati. \nLa nuova procedura di controllo della congestione, che va sotto il nome di TCP NewReno  \n[RFC6582], consente di evitare questa riduzione del flusso sulla connessione TCP. La proce -\ndura seguita per i primi tre ACK duplicati è uguale a quella del protocollo TCP Reno. Ora si", "prevede, per ogni ACK parziale ricevuto: (i) che venga ritrasmesso il segmento “più vecchio” \nnon ancora riscontrato, (ii) che venga contabilizzato il numero dei nuovi byte riscontrati nel 0510152025303540\n05 10 15 20 25 30 35Aper tura della finesrtra di congestione,  Cwnd [MSS]\nRound trip time, RTTTCP Reno\nTCP TahoeTime-out\n3 ACKCongestion\navoidanceSlow startTime-out\nFigura 5.24 Apertura della finestra di congestione secondo l’Esempio 5.13.", "PattavinaReti2021.indb   302PattavinaReti2021.indb   302 14/01/2022   16:09:2614/01/2022   16:09:265.4 Protocollo TCP  303\nnuovo valore della congestion window, Cwnd , che quindi si riduce, (iii) che, se il numero di \nquesti byte riscontrati è almeno MSS, la finestra di congestione venga aumentata di MSS byte, \ncosì che possa essere trasmesso un nuovo segmento se autorizzato dal nuovo valore di Cwnd , \n(iv) che non venga chiusa la procedura di fast recovery. Come nel protocollo TCP Reno, ciò", "consente di tenere conto dei segmenti ricevuti, anche se non in sequenza, che hanno lasciato \nla rete, facendo quindi diminuire il contatore del numero di byte emessi ma non ancora riscon -\ntrati ( Flightsize ). Così l’apertura della finestra di congestione diminuisce per tendere al valore \nSsthresh  che deve essere raggiunto alla fine della fase di fast recovery. Questa avrà termine \nsolo con la ricezione di un ACK relativo all’ultimo segmento inviato quando i primi tre ACK", "duplicati sono stati ricevuti.\nControllo della congestione basato su notifica dallo strato di rete\nIl controllo della congestione viene esercitato “end-to-end” nello strato di trasporto: sono cio è \nle stazioni terminali della connessione TCP che contrattano e regolano l’ampiezza della fine -\nstra di ricezione per impedire la perdita di unità informative. Risulta immediatamente eviden -\nte che questo meccanismo può diventare molto penalizzante nel caso di connessioni “molto", "lunghe”, caratterizzate cio è da un valore grande del parametro RTT. Infatti, nel momento in \ncui vengono perse unità informative in rete (per esempio per saturazione dei buffer nei rou -\nter attraversati) il protocollo di trasporto TCP, che è del tipo “a soli riscontri positivi”, può \nimpiegare anche molto tempo per attivare il meccanismo di recupero delle UI perse, anche \nadottando la procedura di fast recovery.", "adottando la procedura di fast recovery. \nL ’introduzione dei due nuovi bit CWR  e ECE nel formato del segmento TCP descritto nel \nParagrafo 5.4.1, unitamente ai bit ECN introdotti nel formato del datagramma IP (vedi Para -\ngrafo 6.3.1), ha definito una nuova procedura per affrontare un fenomeno di congestione che \nvenga rilevato nello strato di rete da uno dei router attraversati dalla connessione TCP. Si", "faccia riferimento alla Figura 5.25, che mostra due host A e B collegati per mezzo di una con -\nnessione TCP che attraversa quattro router (R1, R2, R3, R4). Il router R2 rileva una condizione \ndi saturazione del buffer che alimenta la connessione verso il router R3 e quindi, invece di \nscartare un datagramma indirizzato a R3, ne decide l’invio ponendo a 11 i due bit ECN nell’he -\nader N-H del datagramma (passo 1). I due router a valle inoltrano lo stesso datagramma senza", "modificare il campo ECN (passi 2 e 3). La stazione terminale B che riceve questo datagramma \nsi incarica di segnalare alla stazione A all’altro estremo della connessione TCP lo stato di con -\ngestione della rete, ponendo a 1 il bit ECE nell’header T-H del segmento TCP (passo 4). Questo \nsegmento, una volta ricevuto correttamente nella stazione A (passo 5), senza quindi essere \nR2R3 R1 R4\nN-H T-HI Ppayload\nECN=11N-H T-HI Ppayload\nECN= 11\nN-H T-HI Ppayload\nECN= 11N-H T-HI Ppayload", "N-H T-HI Ppayload\nECN= 11N-H T-HI Ppayload\nECE=1N-H T-HI Ppayload\nECE=1\nN-H T-HI Ppayload\nCWR=1AB\nFigura 5.25 Esempio di controllo della congestione basato sulla notifica dallo strato di rete.\nPattavinaReti2021.indb   303PattavinaReti2021.indb   303 14/01/2022   16:09:2714/01/2022   16:09:27304  Capitolo 5 – Strato di trasporto\nscartato in rete, determina la reazione della stazione stessa che provvede a ridurre il flusso", "di segmenti emessi sulla connessione secondo la versione del protocollo TCP utilizzata. Ciò \nviene segnalato alla stazione B ponendo a 1 il bit CWR  nell’header T-H del primo segmento \nTCP inviato (passo 6).\nRisulta evidente che questo meccanismo di controllo della congestione risulta efficiente \nnel caso di fenomeni di congestione in rete che persistono per un tempo superiore a RTT e \nper flussi TCP che hanno una durata superiore al tempo necessario affinché l’estremità della", "connessione che genera il flusso riceva la segnalazione di congestione. Naturalmente un mec -\ncanismo di questo genere non è in alcun modo alternativo ad altre procedure che regolano il \nflusso o prevengono la congestione di una connessione TCP, come per esempio il meccanismo \ndella congestion window. \n5.4.6 Evoluzione dei protocolli di trasporto\nDopo la prima soluzione per il controllo della congestione nel protocollo TCP (TCP Tahoe)", "ne sono state proposte molte altre, e alcune sono ora standard IETF, come per esempio Reno, \nVegas, Westwood, BIC, CTCP, Cubic. Di tutti questi protocolli, i più utilizzati nei server web \nsono stati TCP Reno (fino alla prima decade degli anni 2000) e TCP Cubic, la versione odierna \npredominante descritta nel seguito.\nTCP Cubic\nLa strategia di controllo della congestione del protocollo TCP basata su due regioni, slow", "start e congestion avoidance, si basa sul principio di aumentare progressivamente la capacità \nrichiesta per la connessione TCP fino a che non si verificano perdite di UI, cosa che verosi -\nmilmente manifesta l’incapacità di qualche segmento della rete di sostenere l’apertura corrente \ndella finestra di congestione. Per questo motivo, con il protocollo TCP Reno/NewReno l’aper -\ntura della finestra di congestione viene ridotta per poi aumentare di nuovo a seconda dei due", "eventi che si possono verificare, cio è la scadenza del timeout senza ricezione di ACK per un \nsegmento e la ricezione di tre ACK duplicati. \nCome già detto, la ricezione di ACK duplicati induce a ritenere che la rete sia comunque in \ngrado di trasportare unità informative, anche se con qualche difficoltà. Facendo riferimento a \nsituazioni di questo genere è stata proposta una nuova versione del protocollo TCP, denomina -", "ta TCP Cubic  [RFC8312], ideata soprattutto per connessioni caratterizzate da un grande pro -\ndotto banda-ritardo. Con questa nuova soluzione, dopo aver ricevuto tre ACK duplicati (oppu -\nre in seguito alla segnalazione di congestione da parte della rete tramite il bit ECN-Echo ), e \naver quindi dimezzato la congestion window13, si cerca di ritornare all’apertura precedente \ndella finestra con una diversa velocità di crescita rispetto al protocollo Reno. Alla ricezione", "dei primi riscontri la finestra viene quindi aumentata in modo più che lineare, riducendo però \nla velocità di crescita in prossimità del livello critico appena rilevato. Una volta raggiunto \nquesto livello, l’operazione di incremento si svolge in modo opposto, attuando inizialmente un \naumento molto lento, per poi crescere molto più velocemente. Come si può intuire, questo tipo \ndi approccio vuole essere più efficace del protocollo Reno nell’aumento iniziale dell’apertura", "13 Si ipotizza che il valore dell’apertura della congestion window Cwnd  coincida con il parametro Flightsize .\nPattavinaReti2021.indb   304PattavinaReti2021.indb   304 14/01/2022   16:09:2714/01/2022   16:09:275.4 Protocollo TCP  305\ndella finestra, per poi essere molto prudente in prossimità del livello della congestion window \nche ha determinato la riduzione della finestra.\nFacciamo riferimento alla Figura 5.26, che mostra un esempio di andamento dell’apertura", "Cwnd  della finestra di congestione , assumendo che negli istanti di tempo t1, t2, t3 si rilevino \nsituazioni di congestione (per ACK duplicati o per segnalazione dalla rete). All’istante t1 l’a-\npertura corrente della finestra Wmax viene dimezzata e viene selezionato mediante parametri \ndel protocollo Cubic un istante tw in cui l’apertura della finestra di congestione sarà riportata al \nvalore precedente Wmax. L ’aumento dell’apertura Cwnd  della finestra nell’intervallo di tempo", "(t1, tw) avviene al ricevimento dei riscontri all’istante t in funzione del cubo dell’intervallo \ndi tempo ( t – tw), dove t <  tw. In presenza di riscontri sequenziali regolarmente ricevuti, l’an -\ndamento può essere quindi rappresentato con una funzione di tipo concavo che raggiunge \nl’apertura Wmax all’istante tw = t2. \nAvendo ipotizzato nella Figura 5.26 un nuovo evento di rilevamento di congestione nella", "rete all’istante t2, le azioni descritte precedentemente si ripetono per arrivare a raggiungere \nnuovamente l’apertura Wmax all’istante tw = t3. Il protocollo TCP Cubic prevede a questo punto \nche, in assenza di rilevamento di congestione nella rete, la crescita dell’apertura della finestra \navvenga con un aumento che è ora funzione del cubo dell’intervallo di tempo ( t – tw), dove ora \nt > tw, determinando così una curva di aumento di tipo convesso. Come mostrato in Figura", "5.26, l’apertura della finestra realizzata dai due protocolli Cubic e Reno risulta la stessa all’i -\nstante t4, ma l’attraversamento del livello Wmax che ha originato il problema avviene in modo \nmolto più prudente nel protocollo TCP Cubic. \nFigura 5.26 Apertura della finestra di congestione con il protocollo TCP Cubic.tWmax\nWmax\n2\nt1t2t3t4TCPCubic\nTCPRenoAper tura della f inestra di congestione , Cwnd", "PattavinaReti2021.indb   305PattavinaReti2021.indb   305 14/01/2022   16:09:2714/01/2022   16:09:27306  Capitolo 5 – Strato di trasporto\nProtocollo QUIC\nNegli ultimi anni si è affermata l’esigenza di disporre di un protocollo di trasporto che fosse \nin grado di ridurre la latenza in rete del trasporto di messaggi per servizi legati al world wide \nweb. Negli ultimi anni è stato così sviluppato e implementato in moltissimi server web un", "nuovo protocollo di trasporto denominato QUIC ( quick UDP Internet connections ). \nIl protocollo HTTP/2 ha realizzato l’obiettivo di rendere più efficace e veloce il trasferi -\nmento di documenti web grazie all’introduzione del meccanismo di “ framing”, che consente \ndi intercalare l’invio di frame  appartenenti a diversi oggetti di un documento web in modo \nche oggetti molto grandi non ritardino l’invio di piccoli oggetti. Ciò ha ridotto il fenomeno", "dell’HOL blocking , senza tuttavia eliminarlo. Infatti HTTP/2 consente la multiplazione di una \npluralità di flussi applicativi che condividono le due stazioni terminali utilizzando la stessa \nconnessione TCP. Può tuttavia accadere che la perdita in rete di uno o più segmenti di un sin -\ngolo flusso possa ritardare o anche bloccare gli altri flussi trasportati sulla stessa connessione. \nInfatti, dato che il servizio fornito dal protocollo TCP è di tipo affidabile, una dimensione non", "adeguata della finestra di ricezione, in special modo in collegamenti caratterizzati da un gran -\nde prodotto banda-ritardo, potrebbe portare al blocco del trasferimento di segmenti di tutti i \nflussi trasportati sulla connessione fino al recupero dei segmenti persi di uno specifico flusso. \nIl protocollo QUIC, basato sul trasporto reso disponibile dal protocollo UDP, non presenta \nquesto problema: i singoli flussi trasportati non condividono risorse fisiche, data la natura", "“connectionless” del protocollo di trasporto utilizzato. Tuttavia, il protocollo QUIC rende \ndisponibili alle applicazioni nelle stazioni terminali una serie di funzionalità che lo rendono \nsimile al protocollo TCP. Infatti il protocollo QUIC:\n• fornisce alle applicazioni nelle stazioni terminali un servizio di tipo “connection \noriented” instaurando tra esse una connessione;\n• consente la multiplazione di una molteplicità di flussi sulla stessa connessione QUIC,", "associando un identificatore univoco alle unità informative di ogni flusso che sono \nsingolarmente numerate, consentendo così la consegna in sequenza a destinazione del \nflusso ricevuto nonostante il servizio di trasporto UDP connectionless;\n• definisce la dimensione del buffer di ricezione nella stazione terminale per ogni con -\nnessione QUIC e anche per ogni flusso multiplato, così da evitare il fenomeno di HOL", "blocking  di un flusso a discapito di altri flussi multiplati sulla stessa connessione. \nPattavinaReti2021.indb   306PattavinaReti2021.indb   306 14/01/2022   16:09:2714/01/2022   16:09:27Strato di rete\n6CAPITOLO\nQuesto capitolo descrive l’ultimo degli strati che, dall’alto \nverso il basso, definiscono la pila protocollare di Internet \nsecondo il modello TCP/IP. Il protocollo IP rappresenta l’e -\nlemento fondamentale di questo strato, e viene descritto in", "dettaglio ponendo particolare enfasi al suo meccanismo di \nindirizzamento. Di questo sono presentate le diverse solu -\nzioni che sono state via via adottate per far fronte alla cre -\nscita esponenziale del numero di computer, e dei sistemi \nterminali in genere, da connettere in rete. Vengono quindi \ndescritti i principali protocolli di instradamento utilizzati in \nInternet, e cio è RIP, OSPF, BGP e i protocolli di controllo \nICMP, DHCP. Infine sono introdotti brevemente due diversi", "protocolli di rete, MPLS e ATM, che hanno svolto un ruolo \nimportante nel corso dell’evoluzione dello stesso protocollo \nIP. La teoria dei protocolli di instradamento discussi in que -\nsto capitolo è presentata nella Sezione C del Capitolo 3.\n6.1 Introduzione\nNell’ambito dell’architettura a strati dei protocolli, lo strato \ndi rete fornisce servizio allo strato di trasporto (sovrastante) \ne riceve a sua volta servizio dallo strato di collegamento dati", "(sottostante). A differenza di quanto visto nel caso dei due \nstrati posizionati più in alto nell’architettura, e cio è lo strato \ndi applicazione e lo strato di trasporto, le funzionalità dello \nstrato di rete vengono eseguite non solo nelle apparecchia -\nture terminali, ma anche in tutti i nodi di rete. I protocolli \ndi rete  svolgono funzioni di instradamento e di controllo di \nflusso/congestione per lo scambio di unità informative (UI)", "denominate pacchetti  tra nodi di rete, che prendono il nome \ndi router , e tra nodi di rete e sistemi terminali. \nRiprendiamo l’esempio già esaminato negli strati di \napplicazione e di trasporto: l’interazione tra un terminale \nmobile, che riceve connettività in una rete radiomobile, e un Argomenti\n6.1 Introduzione\n6.2  Apparecchiature dello strato \ndi rete\n6.3 Protocollo IP\n6.4 Indirizzamento IP\n6.5 Protocolli di instradamento\n6.6 Protocolli di controllo\n6.7 Evoluzione del protocollo IP", "6.7 Evoluzione del protocollo IP\n6.8 Protocollo MPLS\n6.9 Reti ATM\nPattavinaReti2021.indb   307PattavinaReti2021.indb   307 14/01/2022   16:09:2714/01/2022   16:09:27308  Capitolo 6 – Strato di rete\nserver posizionato in una content delivery network  (CDN). La Figura 6.1 mostra che le fun -\nzionalità dello strato di rete vengono svolte, oltre che nei router delle due reti dove si trovano \ni due sistemi terminali che interagiscono, anche nei vari router che forniscono la connettività", "attraverso Internet. Dunque, un pacchetto generato dal protocollo di rete in un sistema termi -\nnale viene elaborato secondo uno specifico protocollo di rete da tutti i nodi di rete attraversati, \ncosì da essere ricevuto nel sistema terminale di destinazione. In particolare, nell’esempio di \nFigura 6.1 il flusso di pacchetti attraversa due router di una rete di più alto livello (Tier 1 ISP), \ndue router di una rete di livello intermedio (Regional ISP) e un router di una rete di accesso", "(Access ISP). \nNell’ambito del modello a strati viene introdotto un protocollo di strato di rete, e cio è il \nprotocollo Internet protocol  (IP), che definisce le modalità di scambio di pacchetti tra router \nadiacenti, e un insieme di altri protocolli che arricchiscono il protocollo IP di funzionalità di \ncontrollo (ICMP), di algoritmi di instradamento (OSPF), di assegnazione degli indirizzi IP \n(DHCP), ecc.", "(DHCP), ecc.\nA differenza dello strato di trasporto, per cui viene definito un unico protocollo di rete che \nfornisce servizio, e cio è il protocollo IP, lo strato di rete può ricevere servizio da una pluralità \ndi protocolli di livello inferiore, in funzione della tipologia del collegamento dati utilizzato tra \nrouter adiacenti. Questo infatti può essere costituito da un collegamento punto-punto con pro -", "tocollo PPP, da una linea multipunto rappresentata per esempio da una rete LAN controllata \nda un opportuno protocollo di accesso, come per esempio Ethernet (vedi Capitolo 9), da una \nrete metropolitana ad anello, ecc.\nRegionalISPCDN\nTier1ISP\nAcce ssISPTraspo rto\nRete\nColleg amento\nFisicoApplicaz ione\nTraspo rto\nRete\nFisicoApplicaz ione\nColleg amentoRete\nCollegam ento\nFisico\nMobilenetworkRete\nCollegament o\nFisicoRete\nCollegam ento\nFisicoRete\nCollegament o\nFisicoRete\nCollegament o\nFisicoRete", "Collegament o\nFisicoRete\nCollegament o\nFisicoRete\nCollegam ento\nFisicoRete\nCollegamento\nFisico\nFigura 6.1 Connessione end-to-end a livello di rete.\nPattavinaReti2021.indb   308PattavinaReti2021.indb   308 14/01/2022   16:09:2814/01/2022   16:09:286.2 Apparecchiature dello strato di rete  309\n6.2 Apparecchiature dello strato di rete\nLa principale apparecchiatura dello strato di rete è il router , che svolge le sue funzioni sulle", "unità informative (UI) denominate pacchetti . Riceve UI sulle linee entranti da router a monte, \noppure da host locali, e inoltra UI sulle linee uscenti verso host locali, oppure verso altri router \na valle. Le principali funzioni svolte da un router sono: \n• ricezione delle unità informative sui collegamenti entranti e loro elaborazione;\n• instradamento delle unità informative, cio è selezione del collegamento uscente in", "funzione dell’indirizzo di destinazione dell’unità stessa, realizzando ove richiesto \nfunzioni di controllo del flusso e della congestione;\n• trasmissione delle unità informative sui collegamenti uscenti.\nIl router è un’apparecchiatura che opera a commutazione di pacchetto e comprende delle \nunità di memoria , o buffer, che si rendono necessarie ogni volta che una stessa funzione, \nper esempio l’instradamento o la trasmissione sullo stesso collegamento uscente, sia “richie -", "sta” contemporaneamente per più unità informative. I buffer consentono dunque di svolgere \nsequenzialmente la stessa operazione che deve essere attuata su più unità informative. Occorre \nosservare che le funzioni svolte in un nodo sono molteplici e appartengono a tutti e tre gli \nstrati inferiori dell’architettura protocollare di una rete, e cio è strato fisico, strato di collega -\nmento dati e strato di rete.", "mento dati e strato di rete. \nIl nodo svolge tutte le funzioni necessarie per attuare i protocolli di comunicazione per \nognuno di questi tre strati sia in ricezione, cio è sui collegamenti in ingresso con i router a \nmonte, sia in trasmissione, cio è sui collegamenti in uscita con i router a valle. In particolare, \nricordando le funzionalità assegnate a ogni strato, il nodo svolge a livello 2 funzioni di rice -", "zione e di trasmissione di trame rispettivamente sui collegamenti entranti e uscenti, mentre \nsvolge a livello 3 funzioni di instradamento e di controllo di congestione dei pacchetti ricevuti \ne da trasmettere (ogni pacchetto è trasportato da una trama).\nLa struttura di un generico router con N collegamenti entranti ed M collegamenti uscenti è \nmostrata nella Figura 6.2. Essa si articola in tre grandi blocchi: le interfacce di ingresso , che \n1\n2\nN1\n2\nM\nData\nlinkPhysical QueueingData", "1\n2\nN1\n2\nM\nData\nlinkPhysical QueueingData\nlinkPhysical QueueingSwitching\nfabric\nForwardingInterfacce diingresso Interfacce diuscita\nFigura 6.2 Architettura generica di un router.\nPattavinaReti2021.indb   309PattavinaReti2021.indb   309 14/01/2022   16:09:2814/01/2022   16:09:28310  Capitolo 6 – Strato di rete\nterminano i collegamenti entranti, la matrice di commutazione, detta switching fabric , e le \ninterfacce di uscita , dove originano i collegamenti uscenti.", "Un’interfaccia di ingresso , generalmente realizzata su una scheda dedicata, agisce da \nterminazione della linea entrante, sia essa in rame, in fibra o wireless. Essa svolge le funzioni: \n(i) di strato fisico, per estrarre dal segnale ricevuto (elettromagnetico oppure ottico) la stringa \nbinaria ivi trasportata; (ii) di strato di collegamento, per identificare nella stringa binaria la \nsequenze di unità dati (cio è le trame) trasmesse dal nodo a monte e svolgere su di esse tutti", "i controlli previsti; (iii) di strato di rete, per estrarre dalle trame i pacchetti trasportati, indi -\nviduare (tramite accesso a una tabella di inoltro) il collegamento uscente sul quale devono \nessere trasmessi, e generare il nuovo header dei pacchetti da inviare alle interfacce di uscita \nattraverso la matrice di commutazione. \nUn’interfaccia di uscita , anch’essa generalmente realizzata su scheda dedicata, agisce", "da terminazione della linea uscente, sia essa in rame, in fibra o wireless. Essa svolge le fun -\nzioni: (i) di strato di collegamento, per assemblare il pacchetto ricevuto attraverso la matrice \ndi commutazione in una nuova trama, di cui si genera il nuovo header; (ii) di strato fisico, \nper generare sulla linea uscente il segnale che trasporta il flusso binario secondo le regole di \ncodifica adottate.\nLa matrice di commutazione  ha il compito di trasferire i pacchetti dalle interfacce di", "ingresso alle interfacce di uscita selezionate. Non si andranno qui a esaminare le diverse solu -\nzioni con cui la matrice può essere realizzata; ci si limiterà a osservare che essa rappresenta \nl’elemento più critico di tutta la struttura. Infatti, affinché la matrice di commutazione non \ncostituisca un collo di bottiglia per il trasferimento dei flussi binari dalle interfacce di ingresso \na quelle di uscita, essa dovrebbe essere in grado di trasferire N flussi di pacchetti (assumendo", "N < M) alla stessa velocità delle linee esterne. Quindi, se le linee esterne operano a 1 Gbit/s \ne i pacchetti fossero di lunghezza fissa D = 1500 byte, la configurazione di commutazione \ndella matrice dovrebbe cambiare ogni 12 ms, che corrispondono al tempo di trasmissione di \nun pacchetto. \nOccorre poi osservare che, nel momento in cui due o più pacchetti sulle interfacce di \ningresso sono indirizzati verso una stessa linea uscente, sarà necessario aumentare la velo -", "cità di trasferimento interno, oppure memorizzare i pacchetti sulle interfacce di ingresso. La \nmemorizzazione dei pacchetti sulle interfacce di uscita si rende necessaria anche per evitare \ndi aumentare troppo la velocità di commutazione interna. \nAl router è demandata la funzione di determinare le tabelle di instradamento per i pacchet -\nti ricevuti. Questa funzione viene svolta da un processore condiviso nella struttura che esegue", "l’algoritmo per determinare il migliore instradamento verso ogni destinazione. Il risultato di \nquesta elaborazione viene poi caricato nelle tabelle di inoltro presenti in ogni interfaccia di \ningresso.\nA questo punto siamo in grado di individuare dove una unità informativa incorre nei tempi \ndi ritardo definiti nel Capitolo 2. Il tempo di trasmissione Tt della unità informativa, introdot -\nto nel Paragrafo 2.2.1, è quello impiegato per completare la trasmissione dell’UI sulla linea", "uscente. Il tempo di elaborazione Tp, introdotto nel Paragrafo 2.2.1, è quello impiegato per \nsvolgere tutte le funzioni di elaborazione nelle interfacce di ingresso e di uscita, ivi incluso il \ntempo richiesto per individuare la linea uscente nella funzione di inoltro svolta nell’interfaccia \ndi ingresso. Il tempo di attesa Tw, definito nel Paragrafo 2.3.1, è quello speso nei buffer delle \ninterfacce di ingresso e di uscita dovuto al conflitto nell’uso della matrice di commutazione", "PattavinaReti2021.indb   310PattavinaReti2021.indb   310 14/01/2022   16:09:2814/01/2022   16:09:286.3 Protocollo IP  311\no della linea uscente da parte di più pacchetti. Gli eventi di perdita di pacchetti, descritti nel \nParagrafo 2.2.3, sono quelli che si verificano quando uno dei buffer delle interfacce satura e \nnon può più immagazzinare altri pacchetti, che vengono quindi persi. È abbastanza ovvio che", "maggiore è la capacità dei buffer, in termini di numero di unità informative che possono essere \nimmagazzinate, minore sarà la probabilità che i buffer stessi saturino e quindi diano luogo a \neventi di perdita di unità informative. \n6.3 Protocollo IP\nIl protocollo IP [RFC791] fornisce al livello superiore un servizio di trasferimento di tipo \n“connectionless” delle unità informative (UI), denominate datagrammi . Quindi non è neces -", "sario instaurare alcuna connessione prima di effettuare il trasferimento dei dati, e il protocollo \nnon fornisce alcuna garanzia sull’effettivo trasferimento con successo dei datagrammi. Questo \nprotocollo interagisce con i protocolli TCP e UDP dello strato superiore (il livello di traspor -\nto), mediante le primitive Send  e Deliver . La prima fornisce al protocollo IP tutte le istruzioni \nnecessarie per il trasferimento di UI, compresi gli indirizzi di rete, le modalità di trasferimen -", "to, i dati dell’utente, mentre la seconda serve al protocollo IP per segnalare al protocollo TCP \no UDP l’arrivo di un’unità informativa. \n6.3.1 Formato del datagramma IP\nUn datagramma IP include un payload , che reca l’UI del livello superiore, cio è un segmento \nTCP o UDP, e un header . L ’header della versione 4 del protocollo IP ( IPv4), mostrato nella \nFigura 6.3 sotto forma di gruppi di 4 byte (32 bit), contiene i seguenti campi:", "• version  (4 bit): specifica la versione del protocollo IP utilizzata dal datagramma (la \nversione specificata dal protocollo è la numero 4);\n• HLEN  (4 bit): indica la lunghezza dell’header in multipli di 32 bit; il minimo valore di \nquesto campo è 5, che determina una lunghezza minima dell’header di 20 byte;\n31 19 16 24 8 4 0\n1\n2\n3\n4\n5Fragmentoffset FlagsTotallength Version\nIdentificationHLEN ECN\nTimetolive Protocol Headerchecksum\nDestinationIPaddress\nOptions\nPaddingvarSource IPaddressBit", "Options\nPaddingvarSource IPaddressBit\n14\nDSCP\nFigura 6.3 Formato dell’header del datagramma IP. \nPattavinaReti2021.indb   311PattavinaReti2021.indb   311 14/01/2022   16:09:2814/01/2022   16:09:28312  Capitolo 6 – Strato di rete\n• DSCP1 (6 bit): indica un tipo di servizio ( differentiated services codepoint ) richiesto \nper il datagramma durante l’attraversamento del nodo;\n• ECN (2 bit): è utilizzato ( ECN = 11) dal router che instrada il datagramma per segnalare", "alla stazione terminale ricevente una situazione di congestione nel nodo ( explicit con -\ngestion notification ); le codifiche ECN = 01 e ECN = 10 sono utilizzate delle stazioni \nterminali per segnalare la loro capacità di gestire il campo ECN a tutti i router che \nsaranno attraversati dal datagramma;\n• total length  (16 bit): indica la lunghezza totale del datagramma IP, espressa in byte, ivi \ncompreso il campo dati; il numero di bit previsti consente lunghezze di datagrammi", "fino a 65.535 byte;\n• identification  (16 bit): identifica il datagramma in modo univoco; nel caso sia frammen -\ntato, tutti i frammenti del datagramma originario hanno lo stesso valore del campo \nidentification  e sono distinti per mezzo del campo fragment offset ;\n• flags (3 bit): in questo campo sono definiti solo due bit: il bit more fragments  (MF) spe -\ncifica se il datagramma costituisce ( MF = 0) o meno ( MF = 1) l’ultimo frammento di", "un unico datagramma (più lungo) spezzato in più datagrammi durante il trasferimento \nin rete; il bit don’t fragment  (DF) specifica se il datagramma può essere frammentato \n(DF = 0) o meno ( DF = 1) se necessario durante il suo trasferimento;\n• fragment offset  (13 bit): indica la posizione del frammento all’interno del datagramma \noriginario, in multipli di 64 bit;\n• time to live, TTL  (8 bit): è un campo che viene aggiornato da ogni router attraversato e", "ha il compito di consentire lo scarto del datagramma se non viene consegnato entro \nun tempo predefinito; in pratica si tratta di un contatore del numero di router attra -\nversati, detto anche “numero di salti” (hop number), dal datagramma; questo viene \ninizializzato a un valore massimo e viene via via decrementato di un’unità per ogni \nrouter attraversato; se il contatore assume valore 0 prima che sia raggiunto il router", "che interfaccia la (rete di) destinazione, il datagramma viene scartato;\n• protocol  (8 bit): specifica il protocollo di livello superiore che ha originato il datagram -\nma; esempi di numeri di protocollo utilizzati sono riportati in Tabella 1.1;\n• header checksum  (16 bit): contiene un codice di rivelazione di errore sul contenuto del \nsolo header del datagramma; si noti che questo campo deve essere necessariamente", "ricalcolato in ogni router, poiché  almeno un campo dell’header viene modificato a \nogni salto (il campo time to live );\n• source IP address  (32 bit): specifica in formato binario l’indirizzo IP del router/host \nsorgente;\n• destination IP address  (32 bit): specifica in formato binario l’indirizzo IP del router/\nhost di destinazione;\n1 Il campo originario TOS  (type of service ) di 8 bit [RFC791] indicava genericamente un criterio di precedenza tra", "datagrammi basato su tre classi di priorità, per privilegiare il ritardo, il throughput, oppure l’affidabilità. Que -\nsto campo è stato successivamente ridefinito [RFC2474] introducendo il campo DSCP  di 6 bit e specificando \n[RFC3168] il campo ECN  di 2 bit.\nPattavinaReti2021.indb   312PattavinaReti2021.indb   312 14/01/2022   16:09:2814/01/2022   16:09:286.3 Protocollo IP  313\n• options : contiene informazioni per funzioni aggiuntive non obbligatorie che possono", "essere attivate durante il trasferimento del datagramma; le più frequenti sono le opzio -\nni che riguardano la sicurezza, il source routing  (rispetto a un instradamento completo \no solo parziale), la memorizzazione del percorso realmente seguito e gli istanti di \nattraversamento dei vari router;\n• padding : è un campo di riempimento che serve per garantire che l’header abbia lun -\nghezza multipla di 32 bit. \n6.3.2 Frammentazione e riassemblaggio", "6.3.2 Frammentazione e riassemblaggio\nSulla base della descrizione dei singoli campi dell’header IP, risulta evidente che il protocollo \nIP prevede la possibilità di attuare la segmentazione di un datagramma in più frammenti, \nognuno dei quali viene trasportato come un datagramma indipendente. Si osservi che, in \ntermini di efficienza di trasporto in rete, il payload di un datagramma dovrebbe essere il più", "grande possibile, così da rendere sempre meno rilevante la trasmissione dell’header, la cui \nlunghezza è generalmente fissa. Si ricorda tuttavia, come mostrato nel Paragrafo 2.3.1, che il \ntrasferimento in rete di un messaggio segmentato in più pacchetti può risultare in un minore \ntempo di trasferimento in rete, grazie alla modalità “Store and Forward” adottata dalla com -\nmutazione di pacchetto. \nOgni rete prevede uno specifico valore massimo della quantità di informazione che può", "essere trasportata nel payload delle sue UI nello strato di collegamento dati; questo parametro \nviene denominato maximum transmission unit (MTU). La Tabella 6.1 riporta i valori di MTU \nconsigliati per alcune reti. In generale questo valore è dato dalla lunghezza massima del \ncampo informativo trasportato dalle UI nella rete decrementata della lunghezza di eventuali \naltri header che devono essere comunque aggiunti al datagramma. Per esempio MTU  = 1500", "byte per una rete Ethernet o Fast Ethernet (descritte nel Paragrafo 9.3) e MTU  = 2312 byte per \nuna rete Wi-Fi. Nel caso del protocollo PPP (descritto nel Paragrafo 9.4)  le cui trame vengano \ntrasportate su rete Ethernet ( PPP over Ethernet , PPPoE), MTU  = 1492 byte dovendo tenere \nconto degli 8 byte di header della trama PPP.\nValori più bassi possono essere comunque previsti nel caso di diversi requisiti di rete; per", "esempio, si adotta MTU  = 296 byte per il protocollo PPP, se si desidera conseguire bassi tempi \ndi trasferimento in rete. Tabella 6.1 Valori del parametro MTU nelle diverse reti.\nRete MTU (byte)\nMaximum 65.515\nDefault 576\nEthernet/Fast Ethernet (IEEE 802.3) 1500\nWi-Fi (IEEE 802.11) 2312\nPPPoE 1492\nPPP (low delay) 296\nPattavinaReti2021.indb   313PattavinaReti2021.indb   313 14/01/2022   16:09:2814/01/2022   16:09:28314  Capitolo 6 – Strato di rete", "È stato comunque definito il valore di default MTU  = 576 byte, che indica il numero mini -\nmo di byte di payload delle UI che tutti i sistemi di Internet devono accettare senza dare luogo \na frammentazione di datagrammi. Il valore massimo di MTU è dato dalla dimensione massi -\nma di un datagramma IP tenendo conto della lunghezza dell’header. La Tabella 6.1 riassume \ni valori del parametro MTU per le reti qui menzionate.", "Consideriamo il caso generale di un router sorgente locale che deve inviare una grande \nquantità di dati a un router di destinazione remoto, attraversando un numero arbitrario di reti e \nquindi di collegamenti dati. Si pone il problema di selezionare il payload di ogni datagramma, \nche deve essere il più grande possibile per realizzare la massima efficienza nel trasferimento \ndati, ma non deve oltrepassare il valore di MTU definito su ognuno dei collegamenti che", "costituiscono il percorso dal router locale al router remoto. Nel Paragrafo 6.6.1 viene descritta \nla procedura utilizzata per determinare il valore di MTU sul percorso che collega i due router \n(path MTU , PMTU) secondo lo stato corrente delle procedure di instradamento dei router \nattraversati. \nLa frammentazione di un datagramma si rende comunque necessaria quando si deve con -\nsentire l’interlavoro tra reti eterogenee, o che comunque operano con parametri diversi. Ciò", "accade quando un datagramma deve attraversare una rete o un collegamento che prevede un \npayload dell’UI di lunghezza massima inferiore a quella del datagramma corrente. In questo \ncaso il datagramma viene spezzato in più frammenti, ognuno dei quali rappresenta un nuovo \ndatagramma.\nLa ricostruzione del datagramma originario a destinazione si attua utilizzando il campo \nidentification , che è lo stesso per tutti i frammenti di un datagramma, e il campo fragment", "offset , che indica la posizione del frammento nel datagramma originario. Poiché il campo \ntotal length  indica la lunghezza (header più payload) del singolo frammento, il numero com -\nplessivo di frammenti che compongono un datagramma si deduce dal valore del bit MF, che \nindica l’ultimo frammento del datagramma. Si noti che il router di destinazione può ricevere \ni diversi frammenti di un datagramma in ordine diverso da quello sequenziale di trasmissione", "a causa della natura “connectionless” del servizio IP. Naturalmente, se un frammento è man -\ncante a destinazione (perché scartato da un router per scadenza del contatore time to live , o \nper rilevazione di errore mediante il campo header checksum,  o per saturazione di un buffer), \ngli altri frammenti dello stesso datagramma vengono scartati. Infatti, nel protocollo IP non \nsono previste procedure di richiesta di ritrasmissione esplicita di pacchetti, e quindi neanche \ndi frammenti.", "di frammenti. \nIl protocollo IP prevede anche la possibilità di prevenire la frammentazione di datagram -\nmi. Ciò viene specificato ponendo a 1 il bit DF da parte di un router. Ciò implica che, se il \ndatagramma raggiunge un router che prevede un instradamento verso la destinazione attraver -\nso una rete con MTU inferiore alla dimensione del datagramma, quest’ultimo verrà scartato. \nIn questo caso il router in questione invierà all’indirizzo IP sorgente un messaggio ICMP", "Destination unreachable  (vedi Paragrafo 6.6.1) per notificare l’avvenuto scarto. \nMentre la procedura di frammentazione viene eseguita ogniqualvolta si renda necessaria \nper attraversare una rete con MTU inferiore alla lunghezza del datagramma, l’operazione \ninversa di riassemblaggio dei frammenti nell’unico datagramma originario viene svolta sem -\npre alla destinazione. In linea di principio ciò potrebbe essere attuato anche nel router che", "interfaccia la rete di destinazione, ma lo standard non ha previsto questa opzione, che potrebbe \nrisultare più efficiente in termini di uso delle risorse di quest’ultima rete. \nPattavinaReti2021.indb   314PattavinaReti2021.indb   314 14/01/2022   16:09:2914/01/2022   16:09:296.3 Protocollo IP  315\nIl router di destinazione, nel caso di datagrammi frammentati, avvia un timer di riassem -\nblaggio alla ricezione del primo frammento. Se alla scadenza del timer non sono stati ricevuti", "tutti i frammenti (dopo la verifica dei campi MF e fragment offset  dei datagrammi), si scartano \ni frammenti ricevuti inviando un messaggio di errore ICMP al router/host specificato dall’in -\ndirizzo IP sorgente. \nCon riferimento alla configurazione di reti della Figura 6.4 si consideri un processo appli -\ncativo nell’host C che invia un blocco di 2842 byte indirizzato a un corrispondente pro -\ncesso applicativo nell’host E, utilizzando il protocollo di trasporto UDP. Assumendo che", "MTU assuma il valore di 576 byte nella rete N2, di 1500 byte nelle altre reti, e che il primo \nframmento IP venga instradato lungo la via diretta sul collegamento R3-R4, mentre gli altri \nattraversano la rete N2 transitando nei router R2b e R2a, si vogliono determinare i contenuti \ndei datagrammi che vengono scambiati. \nIl messaggio originale viene incapsulato nell’host C in un segmento UDP di lunghezza 2850", "byte, avendo aggiunto un header di 8 byte, e quindi trasferito al router R3 in un datagramma \ndi lunghezza 2870 byte che include l’header IP di lunghezza minima. Il campo MF di questo \ndatagramma è posto a 0 trattandosi di un unico frammento, come mostrato in Figura 6.5. Il \nrouter R3 opera la frammentazione del datagramma in due frammenti con payload 1480 e \n1370 byte, cui va sempre aggiunto l’header di 20 byte. Il primo datagramma reca natural -", "mente l’indicazione della frammentazione con il bit MF posto a 1, mentre il secondo riporta \nun valore di offset 1480/8 = 185. Il primo frammento raggiunge direttamente il router di \ndestinazione R4, mentre il secondo attraversa la rete N2 dove la minore MTU determina \nl’ulteriore frammentazione in tre datagrammi nel router R2b. Poiché 556 = 576 – 20 non \nè un multiplo di 8, viene selezionata una lunghezza massima effettiva del datagramma di", "572 byte, così che i tre frammenti trasportano un payload di 552, 552 e 266 byte con offset Esempio 6.1\nBC\nA\nEFD\nN1N2 N3\nN4R1R2b R3\nR4R2a\nFigura 6.4 Configurazione di reti secondo l’Esempio 6.1.\nPattavinaReti2021.indb   315PattavinaReti2021.indb   315 14/01/2022   16:09:2914/01/2022   16:09:29316  Capitolo 6 – Strato di rete\nrispettivo 185, 254, 3232. I tre frammenti attraversano la rete N2 dal router R2b al router", "R2a e vengono quindi trasferiti al router R4. Questo trasferisce i quattro frammenti ricevuti \nall’host di destinazione E, che quindi può ricostruire il datagramma originario da cui estrae \nil segmento UDP e quindi il messaggio di 2842 byte. \n6.4 Indirizzamento IP\nVengono ora descritte le modalità di indirizzamento delle apparecchiature di rete secondo il \nprotocollo IP. Viene dapprima introdotta l’originaria suddivisione dello spazio degli indirizzi", "IP in classi e successivamente la definizione del concetto di “subnetting”, che fornisce fles -\nsibilità nella gestione di grandi spazi di indirizzi. Si passa poi alla descrizione della modalità \n“classless” di gestione degli indirizzi, che si è resa necessaria a seguito dell’assegnazione quasi \ntotale degli indirizzi definiti secondo il protocollo IPv4. Infine viene presentato il concetto di \n“traduzione degli indirizzi” che si attua quando una rete che utilizza indirizzi privati voglia", "accedere alla rete Internet. \n6.4.1 Classi di indirizzi IP\nCome definito nel Paragrafo 6.3.1, il protocollo IP adotta un meccanismo di indirizzamento \na 32 bit. Ogni host connesso a Internet è univocamente identificato da una coppia di numeri, \ncioè il net-id  che identifica la rete e l’ host-id  che identifica l’host all’interno della rete. Net-id  \ne host-id  vengono anche detti, rispettivamente, “prefisso” e “suffisso” dell’indirizzo di rete.", "Gli indirizzi IP vengono comunemente espressi utilizzando la cosiddetta notazione decimale \npuntata  del tipo x.y.z.w , in cui ognuno dei quattro elementi può assumere un valore intero da \n0 a 255. Tutti i possibili indirizzi IP, il cui numero è 232, sono stati suddivisi in cinque classi \ndistinte per una migliore gestione; queste classi si differenziano per la diversa configurazione \ndei bit iniziali, come mostrato nella Figura 6.6:", "dei bit iniziali, come mostrato nella Figura 6.6:\n• classe A : consente di definire poche reti, ognuna delle quali può supportare un nume -\nro molto grande di host; il prefisso di rete è costituito dai primi 8 bit dell’indirizzo, \n2 L’offset è sempre riferito al primo byte del primo frammento originale; quindi il secondo e il terzo elemento in \ncui viene decomposto il secondo frammento hanno offset 185 + 552/8 = 254 e 254 + 552/8 = 323.Offset MF Bytes\n0 0 279010 -2849ID\n0 1 279010 -1479", "0 0 279010 -2849ID\n0 1 279010 -1479\n185 0 279011 480-2849\n185 1 279011 480-2031\n254 1 279012 032-2583\n323 0 27901- 25842849R3-R4\nR3-R2b\nR2a-R4\nR2a-R4\nR2a-R4C-R3Length\n2870\n1500\n1390\n572\n572\n286\n0 0 279010 -2849R4-E 2870\nFigura 6.5 Frammentazione di datagramma IP secondo l’Esempio 6.1.\nPattavinaReti2021.indb   316PattavinaReti2021.indb   316 14/01/2022   16:09:2914/01/2022   16:09:296.4 Indirizzamento IP  317", "mentre gli ultimi 24 bit costituiscono l’indirizzo dell’host nella rete; poiché il primo \nbit del prefisso di rete nella classe A è sempre 0, gli indirizzi di rete ( net-id ) di classe \nA vanno da 0.0.0.0 a 127.0.0.0, con il primo e l’ultimo riservati per altri usi; quindi \nvengono definite 126 reti, ognuna con più di 16 milioni di host;\n• classe B : consente di definire un numero medio di reti, ognuna delle quali può suppor -", "tare un numero medio di host; il prefisso di rete è costituito dai primi 16 bit dell’in -\ndirizzo, mentre gli ultimi 16 bit costituiscono l’indirizzo dell’host nella rete; poiché \ni primi due bit del prefisso hanno sempre la configurazione 10, gli indirizzi di rete \n(net-id ) di classe B vanno da 128.0.0.0 a 191.255.0.0; quindi vengono definite più di \n16.000 reti con più di 64.000 host ciascuna;\n• classe C : consente di definire un numero grande di reti, ognuna delle quali può sup -", "portare un numero piccolo di host; il prefisso di rete è costituito dai primi 24 bit \ndell’indirizzo, mentre gli ultimi 8 bit costituiscono l’indirizzo dell’host nella rete; i \nprimi tre bit del prefisso hanno sempre la configurazione 110, così che gli indirizzi di \nrete ( net-id ) di classe C vanno da 192.0.0.0 a 223.255.255.0; quindi vengono definite \npiù di 2 milioni di reti, ognuna con 256 indirizzi di host;", "• classe D : indirizzi utilizzati per servizio di tipo multicast; questi indirizzi hanno \nsempre i primi bit in configurazione 1110, così che gli indirizzi di classe D vanno da \n224.0.0.0 a 239.255.255.255; \n• classe E : indirizzi riservati per uso futuro; poiché i primi bit hanno sempre la confi -\ngurazione 1111, gli indirizzi di classe E vanno da 240.0.0.0 a 255.255.255.254. \nIn sintesi possiamo affermare che il prefisso di rete net-id  di classe A, B e C si compone rispet -", "tivamente di 1, 2 e 3 byte. È importante notare che un indirizzo IP caratterizza l’interfaccia \ndi rete di un nodo e non il nodo stesso; infatti un router IP è sempre caratterizzato da almeno \ndue indirizzi IP. \nPer la generica rete identificata dal prefisso net-id , due suffissi host-id non vengono asse -\ngnati poiché rivestono un ruolo speciale; infatti l’indirizzo con host-id  = 0 identifica la rete", "stessa, mentre l’indirizzo con host-id  = –1 (cio è con tutti bit posti a 1 nel campo host-id ) rap -31 8 0\nhost-id 0n et-id17\nClasse A\n31 1516 0\nhost-id net-id12\n10 Classe B\n31 24 0\nhost-id net-id12 32 3\n110 Classe C\n31 4 0\nIndirizz imultica st12 3\n1110 Classe D\n31 4 0\nRiserv atoperusifuturi12 3\n1111 Classe Ebyte 1 byte2b yte3 byte4\nFigura 6.6 Classi degli indirizzi IP.", "Figura 6.6 Classi degli indirizzi IP.\nPattavinaReti2021.indb   317PattavinaReti2021.indb   317 14/01/2022   16:09:2914/01/2022   16:09:29318  Capitolo 6 – Strato di rete\npresenta un indirizzo broadcast diretto , cioè tutti gli host nella rete specificata dal campo \nnet-id . Inoltre i due indirizzi IP con tutti i bit posti a 0 o a 1 hanno un significato particolare. \nL ’indirizzo 0.0.0.0 può essere usato solo come indirizzo IP dell’host sorgente, se questo è sco -", "nosciuto, e non può essere utilizzato come indirizzo di destinazione. L ’indirizzo 255.255.255.255 \nsta a indicare un indirizzamento broadcast limitato  alla (sotto)rete dove il datagramma è tra-\nsmesso. Un indirizzo con net-id  = 0 e host-id  arbitrario indica uno specifico host nella stessa \nrete dove il datagramma è trasmesso. Il prefisso di rete net-id  = 127 è riservato per la verifica \ndelle comunicazioni interne al computer. L ’indirizzo IP 127.0.0.1 è anche detto “ indirizzo di", "loopback”. Questi indirizzi IP speciali sono riportati nella Figura 6.7. \nL ’univocità degli indirizzi di rete Internet è assicurata da un’organizzazione centrale denomi -\nnata Internet assigned number authority ( IANA), che provvede all’assegnazione degli indiriz -\nzi. Non essendo ipotizzabile che a un’unica organizzazione si rivolgano tutti coloro che desi -Per le reti 81.0.0.0, 161.96.0.0, 214.67.216.0 si vuole specificare il significato dei singoli indi -", "rizzi e ricavare il numero di indirizzi IP utili per assegnazione a host/router.\nLe reti 81.0.0.0, 161.96.0.0, 214.67.216.0 sono rappresentative rispettivamente di bloc -\nchi di indirizzi in classe A, B e C. La Tabella 6.2 riporta il significato dei vari indiriz -\nzi per ognuno dei blocchi assegnati. Il numero di indirizzi IP assegnabili a host/router \nè: 224 _  2  =  16.777.214 per la rete in classe A, 216 _  2  =  65.534 per la rete in classe B,", "28 _ 2 = 254 per la rete in classe C, non potendo utilizzare gli indirizzi con host-id  i cui bit \nsono tutti posti a 0 oppure a 1. Esempio 6.2\nTabella 6.2 Valore degli indirizzi IP nelle varie classi secondo l’Esempio 6.2.\nClasse A Classe B Classe C\nIndirizzo di rete 81 .0.0.0 161 .96.0.0 214.67 .216.0\nPrimo indirizzo utile 81 .0.0.1 161 .96.0.1 214.67 .216.1\n··· ··· ··· ···\nUltimo indirizzo utile 81 .255.255.254 161 .96.255.254 214.67 .216.254", "Indirizzo broadcast diretto 81 .255.255.255 161 .96.255.255 214.67 .216.255\nQuestohost 000........000000........000\nUnhostsuquestarete 000........000 host -id\nBroadcastsuunarete net-id 111........111Broadcastsuquestarete\nIndirizzodiunarete net-id 000........000\nLoopback 127111........111111........111\nFigura 6.7 Indirizzi IP speciali.\nPattavinaReti2021.indb   318PattavinaReti2021.indb   318 14/01/2022   16:09:3014/01/2022   16:09:306.4 Indirizzamento IP  319", "derano l’assegnazione di indirizzi IP, è stata costituita una struttura gerarchica di “registries”, \ncioè organizzazioni che ricevono “grandi” blocchi di indirizzi e ne assegnano blocchi più \npiccoli a “registries” di livello inferiore, oppure agli utilizzatori finali degli indirizzi in que -\nstione. Come già descritto nel Paragrafo 1.4.2, i “registries” di livello più alto sono cinque: \nARIN  per il Nord-America, RIPE  per l’Europa, il Medio oriente e l’Asia centrale, APNIC  per", "l’Asia e il Pacifico, LACNIC  per l’America Latina, AFRINIC  per l’ Africa.\nNell’ambito dello spazio globale degli indirizzi, alcuni blocchi di indirizzi sono stati riser -\nvati per costituire reti con indirizzi privati  che possono essere utilizzati da chiunque per asse -\ngnare indirizzi a router e host all’interno di una propria organizzazione, avvalendosi così delle \nfunzionalità standard di indirizzamento e di instradamento IP all’interno della rete privata;", "ovviamente le apparecchiature dotate di questi indirizzi non possono normalmente comunica -\nre all’esterno dell’organizzazione attraverso la rete Internet, anche se esistono diverse soluzio -\nni tecniche per ovviare al problema (vedi per esempio il Paragrafo 6.4.6). I blocchi di indirizzi \nprivati sono tre e sono riportati nella Tabella 6.3; il primo blocco corrisponde agli indirizzi di \nun’intera rete di classe A, il secondo a 16 blocchi di indirizzi adiacenti di reti in classe B e il", "terzo a 256 blocchi di indirizzi adiacenti di reti in classe C.\n6.4.2 Subnetting\nIl meccanismo di indirizzamento appena descritto si è rivelato nel corso degli anni particolar -\nmente rigido. Si consideri per esempio il caso di una piccola organizzazione che ha richiesto \nl’assegnazione di un blocco di indirizzi di classe C (che consente di supportare fino a 254 \nhost). Nel momento in cui l’organizzazione necessita di disporre di più di 254 host da connet -", "tere in rete, essa deve richiedere un altro blocco di indirizzi, presumibilmente di classe C, da \nassegnare agli host ancora non connessi. Di questo passo viene a configurarsi una struttura \ndifficile da gestire di reti distinte di proprietà della stessa organizzazione; inoltre lo sposta -\nmento di un host da una rete all’altra richiede normalmente un cambio di indirizzo IP e di", "configurazione dell’host che deve essere comunicato esternamente.Si vuole determinare il numero totale di indirizzi IP (validi) di host disponibili nel secondo \nblocco di indirizzi privati.\nIl secondo blocco comprende 16 reti di classe B, ognuna delle quali rende disponibili 216 _ 2 \nindirizzi (gli indirizzi costituiti da tutti i bit posti a 0 oppure a 1 hanno significato partico -\nlare), per un totale di 1.048.544 indirizzi IP privati. Esempio 6.3\nTabella 6.3 Blocchi di indirizzi IP privati.", "Tabella 6.3 Blocchi di indirizzi IP privati.\nBlocco Indirizzo iniziale Indirizzo finale\nI 10.0.0.0 10.255.255.255\nII 172.16.0.0 172.31 .255.255\nIII 192.168.0.0 192.168.255.255\nPattavinaReti2021.indb   319PattavinaReti2021.indb   319 14/01/2022   16:09:3014/01/2022   16:09:30320  Capitolo 6 – Strato di rete\nL ’introduzione del meccanismo del subnetting  [RFC950] consente di suddividere una rete \ndi classe generica in più sottoreti la cui struttura rimane un fatto interno all’organizzazione", "proprietaria e non deve essere comunicata ad altri. Cambiamenti nell’organizzazione interna \ndella rete avranno influenza sulle modalità di instradamento dei datagrammi internamente \nalla rete, ma non sulle procedure di instradamento utilizzate nella rete Internet per raggiunge -\nre la rete stessa, che utilizzano il solo prefisso di rete. La definizione di sottoreti all’interno di \nun indirizzo di rete (di classe A, B o C) si attua utilizzando come identificatore della sottorete", "un numero arbitrario di bit del campo host-id  originario, mentre i restanti bit identificano \nl’host nella sottorete. \nIl meccanismo di subnetting viene implementato utilizzando la cosiddetta subnet mask  (o \n“netmask”) di 32 bit, che contiene tutti simboli “1” nel campo net-id  (inclusi i bit che identifi -\ncano la classe) e in alcuni bit del campo host-id , i cui rimanenti bit sono posti a 0. Per esempio,", "se partizioniamo un indirizzo di rete di classe B in 64 sottoreti, numerate da 0 a 63, ognuna \ncon 1024 host-id , la netmask assumerà il valore 255.255.252.0; infatti, sei bit indicano la sot -\ntorete ( subnet-id ), dieci indicano l’host ( host-id ) all’interno di essa3, come mostrato nella \nFigura 6.8. Essendo due gli indirizzi riservati, gli host effettivamente indirizzabili sono 1022. \nSe in generale la subnet-id  si compone di k bit, allora le sottoreti sono numerate da 0 a 2k _ 1.", "Per semplicità, useremo anche la notazione / n (che verrà introdotta formalmente nel Paragrafo \n6.4.5) per fare riferimento a una netmask con n bit consecutivi posti a 1. In questo caso gli \nultimi k bit dei primi n dell’indirizzo indicano il numero progressivo della sottorete.\n3 In realtà si potrebbero definire molte altre subnet mask, con la stessa funzionalità, definendo i bit che indivi -", "duano la sottorete in posizioni diverse, per esempio non tutte adiacenti; l’adiacenza dei bit posti a 1 semplifica \nperò la gestione degli indirizzi.Si vuole realizzare la connessione di tre reti a stella attraverso un router utilizzando la rete \nin classe B 131.175.0.0 che è stata partizionata in 256 sottoreti. Si richiede l’assegnazione \ndei subnet-id  più grandi alle tre reti, mentre gli host-id  più piccoli sono assegnati agli host", "e gli host-id  più grandi sono assegnati alle interfacce del router.\nCome mostrato in Figura 6.9, un router interconnette le tre reti identificate come sot -\ntoreti #253, #254, #255 che quindi hanno indirizzo 131.175.253.0/24, 131.175.254.0/24, \n131.175.255.0/24. Agli host sono assegnati indirizzi a partire dal valore host-id  = 1, mentre \nalle interfacce del router è assegnato host-id  = 254 in ognuna delle tre sottoreti. Esempio 6.4\n31 0\nnet-id12 1615\n10 host-id\n2221 31 0\nnet-id12 1615", "net-id12 1615\n10 host-id\n2221 31 0\nnet-id12 1615\n10 host-id subnet-id\n2221 31 0\n111....................................................1110000000000(a)\n(b)\n(c)\nFigura 6.8 Subnetting: indirizzo IP di classe B (a), indirizzo con sottorete (b), netmask (c).\nPattavinaReti2021.indb   320PattavinaReti2021.indb   320 14/01/2022   16:09:3014/01/2022   16:09:306.4 Indirizzamento IP  321\nL ’adozione della subnet mask consente a router e host di individuare velocemente se un indi -", "rizzo IP appartiene alla propria sottorete o no. Basta infatti eseguire un’operazione di AND \nlogico tra l’indirizzo IP richiesto e la netmask; il risultato è l’azzeramento dei bit dell’host, \ncosì che restano solo i campi di rete e sottorete che possono essere facilmente confrontati con \nquelli del router/host che esegue l’operazione.  \nLa definizione della netmask per l’individuazione dei bit di identificazione della sottorete", "implica che, in assenza di sottoreti, agli indirizzi di rete di classe A, B e C sono associate \nrispettivamente le netmask di default 255.0.0.0, 255.255.0.0 e 255.255.255.0, la cui rappresen -\ntazione binaria è mostrata in Tabella 6.4.\nSi noti che il subnetting non consente di aumentare il numero di host indirizzabili da Internet; \naumenta solo la flessibilità di utilizzazione di una struttura in classi oggi ritenuta eccessi -", "vamente rigida e penalizzante. Infatti, la definizione di sottoreti semplifica l’operazione di \ninstradamento dei datagrammi una volta raggiunto il router che corrisponde al prefisso di \nrete dell’indirizzo di destinazione. Connettendo, infatti, su una stessa rete fisica (per esempio \nEthernet) tutti gli host con stesso subnet-id,  l’inoltro del datagramma verso l’host di destina -\nzione consente di trascurare l’elaborazione del suffisso host-id . Tabella 6.4 Netmask di default.", "Classe Netmask decimale Netmask binaria\nA 255.0.0.0 11111111 00000000 00000000 00000000\nB 255.255.0.0 11111111 11111111 00000000 00000000\nC 255.255.255.0 11111111  11111111  11111111  00000000131.175.254.254131.175.253.1\n131.175.253.254 131.175.255.254131.175.253.2\n131.175.255.1\n131.175.255.2\n131.175.255.3\n131.175.254.1 131.175.254.2131.175.253.0/24\n131.175.254.0/24131.175.255.0/24\nFigura 6.9 Assegnazione di indirizzi IP secondo l’Esempio 6.4", "PattavinaReti2021.indb   321PattavinaReti2021.indb   321 14/01/2022   16:09:3114/01/2022   16:09:31322  Capitolo 6 – Strato di rete\n6.4.3 Subnetting a lunghezza variabile\nLa procedura di subnetting consente un ulteriore grado di flessibilità: nell’ambito di uno \nstesso suffisso di rete, è possibile definire più sottoreti che possono connettere un diverso \nnumero di host. Questo meccanismo prende il nome di variable length subnet mask (VLSM)", "[RFC1812], in quanto definisce all’interno di una stessa rete netmask di diversa “lunghezza”, \nche contengono cio è un diverso numero di bit posti a 1.\nI vantaggi appena descritti sono tuttavia accompagnati dalla maggiore complessità delle \ntabelle di instradamento, che devono contenere l’informazione relativa alle netmask che sono \nstate definite per poter svolgere la funzione di instradamento (vedi Paragrafo 6.5.1). Quindi,", "l’informazione relativa alle netmask di sottorete, definite nell’ambito di una rete, devono \nessere propagate ai router della rete stessa. In ogni caso, l’adozione del subnetting è un fatto \ninterno alla rete e quindi non deve essere in alcun modo comunicato esternamente. \nSi vuole partizionare la rete 129.16.0.0 di classe B in sottoreti /22 (cio è con netmask avente \ni primi 22 bit posti a 1), determinando il numero di sottoreti che si ricavano e il formato", "decimale della sottorete numero 62. Quest’ultima “rete” sia a sua volta divisa in sottoreti / n \nche consentano di indirizzare almeno 64 host ciascuna. Si vogliono determinare il prefisso \ndi sottorete / n, il numero di sottoreti risultanti e l’indirizzo broadcast diretto della sottorete \nnumero 0.\nPoiché l’indirizzo 129.16.0.0 definisce un net-id di 16 bit, allora 22 – 16 = 6 bit individua -\nno le 26 = 64 sottoreti delle quali la numero 62 ha indirizzo 129.16.248.0/22. Partizionare", "quest’ultima rete in sottoreti che consentano di indirizzare 64 host ognuna implica che si \ndevono utilizzare 7 bit per il nuovo host-id e i restanti 32 – 22 – 7 = 3 bit per indicare la sot -\ntorete. Quindi la nuova netmask è /25 e l’indirizzo broadcast diretto della sottorete numero \n0, con indirizzo 129.16.248.0/25, è dato da 129.16.248.127. Si noti che gli ultimi 10 bit sono \n00 01111111, indicando che si tratta della configurazione broadcast (ultimi 7 bit posti a 1)", "nella sottorete numero 0 (primi 3 bit posti a 0).Esempio 6.5\nUn’organizzazione che dispone della rete 204.54.150.0 di classe C deve fornire la connes -\nsione Internet ai dipartimenti Alfa, Beta, Gamma e Delta utilizzando 4 reti locali, una per \ndipartimento, delle quali una (dipartimento Gamma) deve poter interfacciare 70 host e le \naltre fino a 16 host l’una. Si vuole definire un meccanismo di subnetting che soddisfi questo \nrequisito.", "requisito.\nConsiderando che una sottorete rende disponibile un blocco di indirizzi potenza di 2 con \ndue indirizzi inutilizzabili, allora l’assegnazione sarà quella riportata in Tabella 6.5. Il \nprimo partizionamento tiene conto della rete con il maggior numero di host, quella del \ndipartimento Gamma, che richiede di interfacciare 70 host e determina quindi una sottorete \n/25, che avrà indirizzo 204.54.150.0/25 e netmask 255.255.255.128. La seconda sottorete", "con indirizzo 204.54.150.128/25 viene quindi partizionata in modo da definire sottoreti con \nhost-id  di 5 bit, come richiesto dalle reti degli altri dipartimenti. Quindi, un partizionamen -Esempio 6.6\nPattavinaReti2021.indb   322PattavinaReti2021.indb   322 14/01/2022   16:09:3114/01/2022   16:09:316.4 Indirizzamento IP  323\nTabella 6.5 Subnetting VLSM nella rete di classe C secondo l’Esempio 6.6.\nDipartimento Primo indirizzo Ultimo indirizzo Indirizzi \nutiliNetmask", "utiliNetmask\nGamma 204.54.150.0 204.54.150.127 126 255.255.255.128\nAlfa 204.54.150.128 204.54.150.159 30 255.255.255.224\nBeta 204.54.150.160 204.54.150.191 30 255.255.255.224\nDelta 204.54.150.192 204.54.150.223 30 255.255.255.224\nInutilizzato 204.54.150.224 204.54.150.255 30 255.255.255.224\nOccorre osservare che non è necessario avere una pluralità di apparecchiature per definire una \nrete in cui assegnare indirizzi IP agli host e ai router interfacciati. Consideriamo infatti il caso", "di una linea punto-punto  che interconnette esclusivamente due router. Questa linea costituisce \nessa stessa una rete (degenere), alle cui estremità si trovano interfacce di router cui occorre \nassegnare indirizzi IP. In questo caso viene in aiuto il subnetting VLSM, che consente di \nassegnare solo a questa rete una netmask che evita l’assegnazione di indirizzi IP che non ven -\ngono utilizzati. Infatti è sufficiente assegnare un indirizzo di rete con netmask 255.255.255.252", "per configurare una sottorete con 4 indirizzi IP: due di questi identificano la rete e l’indirizzo \nbroadcast, i restanti due possono essere assegnati alle interfacce dei due router interconnessi.\nSi consideri una rete costituita da 4 router R1, R2, R3, R4 in cui le connessioni R1-R2 e \nR2-R4 sono costituite rispettivamente da reti Ethernet a stella e a bus, la connessione R1-R3 \nè costituita da una rete ad anello e la connessione R3-R4 viene realizzata mediante linea", "punto-punto. L ’accesso a Internet avviene attraverso il router R2. Per assegnare gli indirizzi \ndi rete è disponibile il blocco di indirizzi 131.175.0.0 di classe B. Si vuole: (i) poter indi -\nrizzare almeno 500 host in ognuna delle reti a bus e a stella, 200 host nella rete ad anello, \n(ii) definire una netmask /26 sulla rete che accede a Internet, (iii) minimizzare gli indirizzi \nIP inutilizzati nella linea punto-punto. Inoltre, si assegnino alle interfacce dei router gli", "indirizzi più piccoli o più grandi in ogni sottorete, mentre gli indirizzi di sottorete e di host \npossono essere scelti arbitrariamente.\nLa Figura 6.10 mostra una possibile soluzione al problema assegnato. Alle due reti a stella e \na bus si assegnano indirizzi 131.175.20.0/23 e 131.175.50.0/23 con netmask 255.255.254.0, la \nrete ad anello ha indirizzo 131.175.45.0/24 con netmask 255.255.255.0, la rete che si connette", "verso Internet ha indirizzo 131.175.128.0/26 con netmask 255.255.255.192. I router R3 e R4 Esempio 6.7to in 4 sottoreti /27 soddisfa questo requisito e le prime tre sottoreti utilizzate hanno indi -\nrizzi 204.54.150.128/27, 204.54.150.160/27, 204.54.150.192/27 con netmask 255.255.255.224. \nL ’ultima sottorete 204.54.150.224/27 resta dunque inutilizzata. Si noti che, senza la funzio -\nnalità VLSM, la netmask 255.255.255.128 avrebbe reso disponibili 2 sottoreti di 126 host", "l’una e un’altra rete di classe C sarebbe stata necessaria per accomodare le altre 3 sottoreti; \nin realtà la netmask 255.255.255.224 avrebbe consentito la definizione di 8 sottoreti in \nquesta nuova rete.\nPattavinaReti2021.indb   323PattavinaReti2021.indb   323 14/01/2022   16:09:3114/01/2022   16:09:31324  Capitolo 6 – Strato di rete\n6.4.4 Supernetting\nUna delle maggiori limitazioni che si sono evidenziate nel corso dell’evoluzione di Internet", "riguarda la struttura rigida dell’indirizzamento per classi che obbligava l’autorità di Internet ad \nassegnare un indirizzo di rete di classe B a organizzazioni che facevano richiesta di un blocco \ndi indirizzi maggiore, ma non di molto, di 256. Questo problema ha portato a un’allocazione \nestensiva di blocchi di indirizzi in classe B a sfavore dell’utilizzo dei più piccoli blocchi di \nclasse C.\nUn approccio escogitato per superare questa situazione è la definizione di un meccanismo", "di supernetting  che svolge la funzione speculare del subnetting. Si può, infatti, pensare di \nallocare più blocchi adiacenti di indirizzi in classe C, che vengono a costituire una “super-re -\nte” (supernet ). Quindi, per esempio, a un’organizzazione che richiede un blocco di 1024 indi -\nrizzi è possibile assegnare un gruppo di quattro reti di classe C con indirizzi adiacenti. L ’ul -\nteriore vincolo di avere nella supernet un numero di blocchi di indirizzi in classe C che sia", "potenza di 2 rende possibile, all’interno dell’organizzazione, considerare questo insieme come \nun unico blocco da partizionare con meccanismi VLSM. Tuttavia si tenga presente che, per la \nrete Internet con indirizzamento basato su classi, le quattro reti costituiscono sempre quattro \nreti distinte che devono essere indirizzate singolarmente. Si vuole rappresentare un esempio di assegnazione di supernet a un’organizzazione che", "richiede la disponibilità di 1500 indirizzi IP, evidenziandone una possibile partizione in \nsottoreti dove rendere disponibili 2 blocchi da 500 indirizzi, 2 blocchi da 200 indirizzi e 1 \nblocco da 100 indirizzi.\nDato che l’organizzazione richiede 1500 indirizzi, occorre prevedere l’assegnazione della \npiù vicina potenza di 2 non inferiore a questo numero. Si provvede dunque ad assegnare \nuna supernet costituita da 8 blocchi di indirizzi adiacenti in classe C, e cio è, per esempio,", "da 222.33.32.0 a 222.33.39.0.0. L ’amministratore della rete può considerare quindi dispo -\nnibile il blocco di indirizzi 222.33.32.0/21. Questo può essere partizionato con tecnica \nVLSM, generando i blocchi 222.33.32.0/23 e 222.33.34.0/23 per i blocchi da 500 indirizzi, \ni blocchi 222.33.36.0/24 e 222.33.37.0/24 per i blocchi da 200 indirizzi e infine il blocco \n222.33.38.0/25 per il blocco da 100 indirizzi. Restano liberi i blocchi 222.33.38.128/25 e", "222.33.39.0/24.Esempio 6.8sono connessi da una linea punto-punto che, come detto, costituisce essa stessa una rete. A \nquesta si assegna l’indirizzo 131.175.55.124/30, con netmask 255.255.255.252 così che i due \nsoli indirizzi IP disponibili sono assegnati alle interfacce dei due router all’estremità della \nlinea punto-punto. Gli indirizzi IP assegnati alle interfacce di router/host sono mostrati \nnella figura. \n131.175.20.174\n131.175.21.126131.175.21.35\n131.175.45.178131.175.20.1", "131.175.45.178131.175.20.1\n131.175.45.254 131.175.50.1\n131.175.50.140\n131.175.51.201\n131.175.50.29\n131.175.45.13131.175.20.0 /23\n131.175.50.0/2 3131.175.55.126131.175.45.0/24\n131.175.55.1 24/30131.175.55.125131.175.45.1131.175.51.254131.175.128.63R1R2\nR4\nR3A B\nC\nD\nGEF131.175.128.128/26\nFigura 6.10 Reti interconnesse tramite router secondo l’Esempio 6.7.\nPattavinaReti2021.indb   324PattavinaReti2021.indb   324 14/01/2022   16:09:3114/01/2022   16:09:316.4 Indirizzamento IP  325", "6.4.5 Indirizzamento classless\nIl meccanismo di subnetting rende più efficiente l’indirizzamento di rete all’interno di un’or -\nganizzazione cui è stato assegnato un indirizzo di classe A, B o C. Ciò tuttavia non risolve \nil problema della rigidità della definizione di classi, che può portare a una sottoutilizzazione \ndegli indirizzi IP. Questo problema ha riguardato prevalentemente i blocchi di indirizzi di", "classe B, ognuno capace di indirizzare 65.534 host ma spesso utilizzato solo per fornire con -\nnettività a qualche migliaio di sistemi terminali.\nPer introdurre una maggior flessibilità nell’assegnazione degli indirizzi è stato definito \nun nuovo meccanismo, denominato classless inter-domain routing  (CIDR) [RFC1519], che \nestende il concetto di subnetting all’intera rete Internet4. CIDR definisce blocchi di indirizzi", "IP per mezzo di due numeri: l’indirizzo più basso del blocco e il numero di bit più significa -\ntivi comuni a tutti gli indirizzi, che costituisce quindi il prefisso di rete del blocco; se questo \nnumero di bit è n , si usa la notazione / n per indicare la lunghezza del prefisso. Conseguenza \ndi questa regola è che gli indirizzi assegnati sono sempre adiacenti e che il numero di indi -\nrizzi del blocco è necessariamente una potenza di due; essi infatti sono in numero di 232–n.", "Naturalmente, i prefissi /8, /16, /24 individuano gli indirizzi classful  di reti in classe A, B, C, \nrispettivamente. \nSi noti che la notazione /n è anche una modalità alternativa (sintetica) di rappresentare una \nnetmask di 32 bit dei quali i primi n sono posti a 1. Le regole che definiscono gli indirizzi \nspeciali elencati nel Paragrafo 6.4.1 valgono anche per i blocchi di indirizzi identificati secon -\ndo la modalità CIDR.", "do la modalità CIDR.\n4 A seguito della definizione di indirizzamento CIDR, la modalità tradizionale di definizione di indirizzi IP \nbasata su classi viene anche chiamata “classful”.Nell’ambito dell’indirizzamento CIDR, per le reti 81.0.0.0/17, 161.11.0.0/20, 214.67.216.0/22 \nsi vuole specificare il significato dei singoli indirizzi in ognuna delle reti e ricavare il nume -\nro di indirizzi IP utili per assegnazione a host/router.Esempio 6.96.4.4 Supernetting", "Una delle maggiori limitazioni che si sono evidenziate nel corso dell’evoluzione di Internet \nriguarda la struttura rigida dell’indirizzamento per classi che obbligava l’autorità di Internet ad \nassegnare un indirizzo di rete di classe B a organizzazioni che facevano richiesta di un blocco \ndi indirizzi maggiore, ma non di molto, di 256. Questo problema ha portato a un’allocazione \nestensiva di blocchi di indirizzi in classe B a sfavore dell’utilizzo dei più piccoli blocchi di \nclasse C.", "classe C.\nUn approccio escogitato per superare questa situazione è la definizione di un meccanismo \ndi supernetting  che svolge la funzione speculare del subnetting. Si può, infatti, pensare di \nallocare più blocchi adiacenti di indirizzi in classe C, che vengono a costituire una “super-re -\nte” (supernet ). Quindi, per esempio, a un’organizzazione che richiede un blocco di 1024 indi -\nrizzi è possibile assegnare un gruppo di quattro reti di classe C con indirizzi adiacenti. L ’ul -", "teriore vincolo di avere nella supernet un numero di blocchi di indirizzi in classe C che sia \npotenza di 2 rende possibile, all’interno dell’organizzazione, considerare questo insieme come \nun unico blocco da partizionare con meccanismi VLSM. Tuttavia si tenga presente che, per la \nrete Internet con indirizzamento basato su classi, le quattro reti costituiscono sempre quattro", "reti distinte che devono essere indirizzate singolarmente. Si vuole rappresentare un esempio di assegnazione di supernet a un’organizzazione che \nrichiede la disponibilità di 1500 indirizzi IP, evidenziandone una possibile partizione in \nsottoreti dove rendere disponibili 2 blocchi da 500 indirizzi, 2 blocchi da 200 indirizzi e 1 \nblocco da 100 indirizzi.\nDato che l’organizzazione richiede 1500 indirizzi, occorre prevedere l’assegnazione della", "più vicina potenza di 2 non inferiore a questo numero. Si provvede dunque ad assegnare \nuna supernet costituita da 8 blocchi di indirizzi adiacenti in classe C, e cio è, per esempio, \nda 222.33.32.0 a 222.33.39.0.0. L ’amministratore della rete può considerare quindi dispo -\nnibile il blocco di indirizzi 222.33.32.0/21. Questo può essere partizionato con tecnica \nVLSM, generando i blocchi 222.33.32.0/23 e 222.33.34.0/23 per i blocchi da 500 indirizzi,", "i blocchi 222.33.36.0/24 e 222.33.37.0/24 per i blocchi da 200 indirizzi e infine il blocco \n222.33.38.0/25 per il blocco da 100 indirizzi. Restano liberi i blocchi 222.33.38.128/25 e \n222.33.39.0/24.Esempio 6.8\nPattavinaReti2021.indb   325PattavinaReti2021.indb   325 14/01/2022   16:09:3114/01/2022   16:09:31326  Capitolo 6 – Strato di rete\nSi vuole ripetere l’Esempio 6.6 considerando che le richieste dei quattro blocchi di indi -", "rizzi siano questa volta effettuate singolarmente da parte delle organizzazioni Beta, Alfa, \nGamma e Delta di una stessa area geografica, che richiedono rispettivamente 16, 70, 16 e \n16 indirizzi IP e che sia disponibile il blocco di 256 indirizzi 204.54.150.0/24. \nDopo aver assegnato all’organizzazione Beta il blocco CIDR /27 con indirizzo iniziale \n204.54.150.0, il successivo blocco richiesto (dall’organizzazione Alfa) impone di “saltare”", "al blocco 204.54.150.128/25 per garantire lo stesso prefisso di rete a tutti gli indirizzi IP del Esempio 6.11Tabella 6.6 Valore degli indirizzi IP nelle varie classi secondo l’Esempio 6.9.\nRete /17 Rete /20 Rete /22\nIndirizzo di rete 81 .0.0.0 161 .11 .0.0 214.67 .216.0\nPrimo indirizzo utile 81 .0.0.1 161 .11 .0.1 214.67 .216.1\n··· ··· ··· ···\nUltimo indirizzo utile 81 .0.127 .254 161 .11 .15.254 214.67 .219.254\nIndirizzo broadcast 81 .0.127 .255 161 .11 .15.255 214.67 .219.255", "Come si è detto, l’indirizzamento classless  CIDR consente di assegnare efficientemente blocchi \ndi indirizzi IP secondo le richieste, avendo rimosso il vincolo delle classi. Caso tipico è quello \ndi un’organizzazione che richiede più di 256 indirizzi. Questi possono essere “ritagliati”, per \nesempio, all’interno dei blocchi non ancora assegnati in classe C; quindi più reti adiacenti in \nclasse C (secondo la notazione tradizionale) verrebbero assegnate come un unico blocco CIDR", "all’organizzazione. Ciò corrisponde all’esecuzione di un’operazione di supernetting.\nL ’indirizzamento CIDR rimuove dunque la limitazione di assegnazione di indirizzi di una \nspecifica classe; quindi, un’organizzazione che richieda un blocco di 2048 indirizzi si vedrà \nassegnato, per esempio, il blocco 129.27.96.0/21 oppure il blocco 195.210.32.0/21. Si vuole determinare una possibile assegnazione di un blocco di 1000 indirizzi IP a un’or -", "ganizzazione richiedente da parte di un registry che dispone degli indirizzi corrispondenti \nalle 19 reti di classe C dalla 199.207.253.0 alla 199.208.15.0.\nPoiché si possono assegnare blocchi di indirizzi che sono potenze di 2, il numero di indiriz -\nzi da assegnare diventa 1024. Per conservare un unico blocco di indirizzi liberi, il registry \npuò solo assegnare gli indirizzi, che devono essere adiacenti, tra quelli più alti di cui dispo -", "ne. Quindi il blocco assegnato sarà 199.208.12.0/22.Esempio 6.10Tabella 6.7 Assegnazione di indirizzi CIDR secondo l’Esempio 6.11.\nDipartimento Primo indirizzo Ultimo indirizzo Indirizzi utili Netmask\nBeta 204.54.150.0 204.54.150.31 30 /27\nAlfa 204.54.150.128 204.54.150.255 126 /25\nGamma 204.54.150.32 204.54.150.63 30 /27\nDelta 204.54.150.64 204.54.150.95 30 /27", "Delta 204.54.150.64 204.54.150.95 30 /27\nInutilizzato 204.54.150.96 204.54.150.127 30 /27La Tabella 6.6 riporta il significato dei vari indirizzi per ognuno dei blocchi assegna -\nti. Il numero di indirizzi IP assegnabili a host/router è : 215 _ 2 = 32.766 per la rete /17, \n212 _ 2 = 4094 per la rete /20, 210 _ 2 = 1022 per la rete /22. \nPattavinaReti2021.indb   326PattavinaReti2021.indb   326 14/01/2022   16:09:3114/01/2022   16:09:316.4 Indirizzamento IP  327", "L ’adozione dell’indirizzamento classless  CIDR rispetto a quello classful  implica tuttavia lo \nsvantaggio di una maggiore complessità per eseguire l’instradamento. Infatti, come nel caso \ndel meccanismo di subnetting a lunghezza variabile (VLSM), un router che opera l’instrada -\nmento con indirizzamento CIDR deve necessariamente disporre, per ogni blocco di indirizzi \ncui inoltrare datagrammi, della corrispondente netmask nella tabella di instradamento. Tutta-", "via, a differenza del meccanismo VLSM, questo requisito non è circoscritto ai router di una \nsola organizzazione, ma è esteso a tutta la rete Internet. Al fine di individuare l’instradamento \nper un datagramma di indirizzo generico IP, questo viene posto in AND con netmask5 costi -\ntuite da x simboli “1” adiacenti (i più significativi) e i restanti simboli “0”, con x decrescente a \npartire da x = 32 (vedi Paragrafo 6.5.1). L ’uguaglianza del risultato ottenuto con un prefisso di", "rete nella tabella di instradamento determina la porta di uscita su cui inviare il datagramma. \n6.4.6 Network address translation\nSi è già detto di come l’insieme degli indirizzi IP sia una risorsa preziosa che diventa sem -\npre più scarsa man mano che passa il tempo e più blocchi di indirizzi vengono assegnati. In \nlinea di principio, un’organizzazione cui vengono assegnati N indirizzi per costruire la sua", "infrastruttura di rete interna non necessita di altrettanti indirizzi per accedere contemporane -\namente alla rete Internet. Si ipotizza infatti che la maggior parte del traffico generato dall’or -\nganizzazione sarà indirizzato internamente alla struttura stessa. Quindi, in linea di principio, \nil numero di indirizzi IP “pubblici” necessari, diciamo k , è solitamente molto più piccolo di \nquelli “interni” N (k << N).", "quelli “interni” N (k << N).\nL ’organizzazione potrebbe quindi adottare indirizzi IP privati per tutte le apparecchiature \ninterne (host/router) e utilizzare indirizzi IP pubblici solo per accedere al mondo Internet \nesterno. La funzione inizialmente concepita per svolgere questo compito prende il nome di \nnetwork address translation (NAT) [RFC1631] ed è generalmente localizzata in un router. \nUn router che svolge funzioni di NAT si trova in un punto di confine della rete privata con", "una linea esterna verso la rete Internet, e la sua funzione consiste nello stabilire un’associa -\n5 A differenza dell’indirizzamento con classi, l’indirizzamento CIDR richiede necessariamente che i simboli “1” \ndella netmask siano adiacenti; il loro numero coincide con il numero n del prefisso. blocco. Gli altri blocchi richiesti sono ricavati “in cascata” al blocco assegnato all’organizza -\nzione Beta, come mostrato nella Tabella 6.7. Si nota che le notazioni /25 e /27 corrispondono", "esattamente alle netmask 255.255.255.128 e 255.255.255.224 utilizzate nell’Esempio 6.6. \nTabella 6.6 Valore degli indirizzi IP nelle varie classi secondo l’Esempio 6.9.\nRete /17 Rete /20 Rete /22\nIndirizzo di rete 81 .0.0.0 161 .11 .0.0 214.67 .216.0\nPrimo indirizzo utile 81 .0.0.1 161 .11 .0.1 214.67 .216.1\n··· ··· ··· ···\nUltimo indirizzo utile 81 .0.127 .254 161 .11 .15.254 214.67 .219.254\nIndirizzo broadcast 81 .0.127 .255 161 .11 .15.255 214.67 .219.255", "Come si è detto, l’indirizzamento classless  CIDR consente di assegnare efficientemente blocchi \ndi indirizzi IP secondo le richieste, avendo rimosso il vincolo delle classi. Caso tipico è quello \ndi un’organizzazione che richiede più di 256 indirizzi. Questi possono essere “ritagliati”, per \nesempio, all’interno dei blocchi non ancora assegnati in classe C; quindi più reti adiacenti in \nclasse C (secondo la notazione tradizionale) verrebbero assegnate come un unico blocco CIDR", "all’organizzazione. Ciò corrisponde all’esecuzione di un’operazione di supernetting.\nL ’indirizzamento CIDR rimuove dunque la limitazione di assegnazione di indirizzi di una \nspecifica classe; quindi, un’organizzazione che richieda un blocco di 2048 indirizzi si vedrà \nassegnato, per esempio, il blocco 129.27.96.0/21 oppure il blocco 195.210.32.0/21. Si vuole determinare una possibile assegnazione di un blocco di 1000 indirizzi IP a un’or -", "ganizzazione richiedente da parte di un registry che dispone degli indirizzi corrispondenti \nalle 19 reti di classe C dalla 199.207.253.0 alla 199.208.15.0.\nPoiché si possono assegnare blocchi di indirizzi che sono potenze di 2, il numero di indiriz -\nzi da assegnare diventa 1024. Per conservare un unico blocco di indirizzi liberi, il registry \npuò solo assegnare gli indirizzi, che devono essere adiacenti, tra quelli più alti di cui dispo -", "ne. Quindi il blocco assegnato sarà 199.208.12.0/22.Esempio 6.10Tabella 6.7 Assegnazione di indirizzi CIDR secondo l’Esempio 6.11.\nDipartimento Primo indirizzo Ultimo indirizzo Indirizzi utili Netmask\nBeta 204.54.150.0 204.54.150.31 30 /27\nAlfa 204.54.150.128 204.54.150.255 126 /25\nGamma 204.54.150.32 204.54.150.63 30 /27\nDelta 204.54.150.64 204.54.150.95 30 /27\nInutilizzato 204.54.150.96 204.54.150.127 30 /27", "Inutilizzato 204.54.150.96 204.54.150.127 30 /27\nPattavinaReti2021.indb   327PattavinaReti2021.indb   327 14/01/2022   16:09:3114/01/2022   16:09:31328  Capitolo 6 – Strato di rete\nzione, o “mapping”, tra indirizzi IP privati interni e indirizzi IP pubblici noti a Internet. Que -\nsta associazione viene mantenuta per tutta la durata dell’interazione (sessione) tra l’host della \nrete privata e l’applicazione di destinazione nella rete pubblica. Con la tecnica NAT, il router", "sostituisce l’indirizzo IP privato contenuto in un datagramma IP diretto verso l’esterno con un \nindirizzo IP pubblico di cui dispone, registrando questa associazione nella propria tabella \nNAT. Datagrammi ricevuti nello stesso router dalla rete Internet con indirizzo IP sorgente \npresente nella tabella saranno inoltrati all’host dotato del corrispondente indirizzo IP privato \nrilevato in tabella. \nUn solo indirizzo IP pubblico sarebbe sufficiente agli host di una rete privata per accedere a", "un numero arbitrario di destinazioni pubbliche, con alcune limitazioni di accessibilità. Infatti \ndue host della rete privata non possono accedere contemporaneamente alla stessa applicazio -\nne o a diverse applicazioni residenti in uno stesso server esterno (due voci nella tabella NAT \navrebbero lo stesso indirizzo IP di destinazione determinando ambiguità nell’associazione di \nindirizzi in ingresso).\nTuttavia, la disponibilità di una pluralità di indirizzi pubblici nel router con funzioni di", "NAT, per esempio in numero di G , consente l’accesso contemporaneo allo stesso server ester -Si consideri una configurazione di rete di tre host con indirizzi privati da 10.0.0.1 a 10.0.0.3 \nche accedono a Internet attraverso un router dotato di un indirizzo IP pubblico 195.4.1.8. Si \nvuole mostrare come i primi due host accedano a server remoti rispettivamente con indi -\nrizzi pubblici 202.9.12.87 e 156.3.9.2.", "rizzi pubblici 202.9.12.87 e 156.3.9.2.\nLa Figura 6.11 mostra la tabella di corrispondenza tra indirizzi IP privati e indirizzi IP \npubblici, nonché le operazioni di sostituzione degli indirizzi operate dal NAT per l’host \ncon indirizzo 10.0.0.2. Questo indirizzo viene infatti sostituito nei datagrammi uscenti con \nl’indirizzo IP pubblico del router, e l’operazione inversa avviene per i datagrammi entranti \ncon indirizzo IP sorgente 156.3.9.2. Esempio 6.12\n10.0.0.1\n10.0.0.254 195.4.1.810.0.0.2", "10.0.0.1\n10.0.0.254 195.4.1.810.0.0.2\n156.3.9.2156.3.9.2 195.4.1.8 156.3.9.2\n156.3.9.2 10.0.0.2source dest.\nIndirizzo IP\nprivatoIndirizzo IP\npubblicoIndirizzo IP\ndidestinazione\n10.0.0.2 195.4.1.8 156.3.9.2\n10.0.0.1 195.4.1.8 202.9.12.8710.0.0.2\n10.0.0.3195.4.1.8source dest.\ndest.       source dest.       sourceInternet\nTabella\nNAT\nFigura 6.11 Funzionamento del dispositivo NAT secondo l’Esempio 6.12.", "PattavinaReti2021.indb   328PattavinaReti2021.indb   328 14/01/2022   16:09:3214/01/2022   16:09:326.4 Indirizzamento IP  329\nno da G  host interni. L ’univocità delle diverse voci della tabella NAT viene realizzata dai \ndiversi indirizzi IP pubblici utilizzati in questi casi.\nUn’implementazione più efficiente di NAT si basa sull’estendere l’operazione di mapping \nanche ai numeri di porta utilizzati nello strato di trasporto dai protocolli TCP e UDP per indi -", "rizzare l’applicazione [RFC2663, RFC3022]. Dunque, l’associazione realizzata dalla funzione \nnetwork address and port translation (NAPT) nella tabella NAPT  con la sarà tra coppie di \nindirizzi privati e coppie di indirizzi pubblici. Gli indirizzi privati sono quelli selezionati in \nbase alle procedure standard dei protocolli utilizzati (IP e TCP/UDP). Per quanto riguarda gli \nindirizzi pubblici, si utilizzano l’indirizzo IP dell’interfaccia pubblica del router e un numero", "di porta selezionato dal router. \nL ’associazione tra coppie di indirizzi privati e pubblici consente di differenziare i due \nflussi di datagrammi in entrata, a condizione che i due host abbiano scelto numeri diversi di \nporta privata. Tuttavia, anche se i due host avessero scelto lo stesso numero di porta privata, \nnon sussistono ambiguità nell’indirizzamento dei flussi entranti; infatti durante l’operazione", "di traduzione NAPT il router sostituisce anche l’identificatore di porta privata nel datagramma \nIP uscente con un numero univoco  scelto arbitrariamente (porta pubblica). Dunque, un solo \nindirizzo IP pubblico è sufficiente per consentire l’accesso senza restrizione degli host interni \nal mondo Internet.\nLa Tabella 6.8 mostra un esempio di contenuto della tabella NAPT con riferimento alla \nconfigurazione mostrata nella Figura 6.11 in cui ora entrambi gli host con indirizzo 10.0.0.2 e", "10.0.0.3 accedono allo stesso server web esterno (con indirizzo IP 156.3.9.2) e alla stessa porta \n(80) che corrisponde all’applicazione HTTP, mentre l’host con indirizzo 10.0.0.1 interagisce \ncon un diverso server esterno \nTabella 6.8 Contenuto della tabella di NAPT secondo l’Esempio 6.13.\nIndirizzo IP privato Porta privata Indirizzo IP pubblico Porta pubblica\n10.0.0.2 9360 195.4.1 .8 25.000\n10.0.0.1 13.110 195.4.1 .8 26.000\n10.0.0.3 7409 195.4.1 .8 25.001", "10.0.0.3 7409 195.4.1 .8 25.001\nSi vuole mostrare un esempio di funzionamento del dispositivo NAPT con riferimento \nallo scambio di UI tra un host con indirizzo privato 10.0.0.2 e un server web raggiungibile \nall’indirizzo IP pubblico 156.3.9.2 utilizzando i valori dei numeri di porta riportati nella \nprima voce della Tabella 6.8. \nCome mostrato in Figura 6.12, i datagrammi inviati dall’host recano 10.0.0.2 e 156.3.9.2", "rispettivamente come indirizzi IP sorgente e di destinazione, e la porta sorgente selezionata \ndall’host è la numero 9360, con porta di destinazione 80, quella dei server web. Il router \nsostituisce gli indirizzi privati sorgente con il proprio indirizzo pubblico 195.4.1.8 e il nuovo \nnumero di porta 25.000. Il datagramma di risposta è naturalmente ricevuto nel NAPT \nall’interfaccia 195.4.1.8 con numero di porta indirizzata 25.000. Quest’ultimo elemento", "costituisce l’indice (univoco) di ingresso nella tabella NAPT, così che si possano sostituire \ngli indirizzi di destinazione con i valori 10.0.0.2 e 9360. Esempio 6.13\nPattavinaReti2021.indb   329PattavinaReti2021.indb   329 14/01/2022   16:09:3214/01/2022   16:09:32330  Capitolo 6 – Strato di rete\nLa maggiore efficienza della soluzione NAPT rispetto a quella NAT ha come limite l’utiliz -\nzabilità della prima solo con i protocolli di trasporto TCP e UDP, basati sull’identificazione", "del numero di porta. Payload di altri protocolli trasferiti mediante IP non saranno in generale \nriconosciuti dal router con la funzionalità NAPT, e quindi non possono utilizzarla. Inoltre, la \nsoluzione NAPT realizza anche una violazione dei principi dell’architettura a strati, poiché uti -\nlizza un’informazione di strato di trasporto (livello 4) per svolgere funzioni che appartengono \nallo strato di rete (livello 3). \n6.5 Protocolli di instradamento", "6.5 Protocolli di instradamento\nLa rete Internet, che ha estensione mondiale e che consente l’interconnessione di un numero \nenorme di host, è costituita da un insieme di “sistemi autonomi” ( autonomous system , AS), \nognuno dei quali comprende un certo numero di sottoreti connesse tra loro per mezzo di router \nche adottano uno stesso protocollo di instradamento. Il controllo di un sistema autonomo è \naffidato a un’unica entità amministrativa.", "affidato a un’unica entità amministrativa. \nLa numerazione dei sistemi autonomi [RFC1930] è governata dalla Internet corporation \nfor assigned names and numbers ( ICANN), che assegna a ogni AS un numero di 16 bit detto \nnumero di sistema autonomo ( autonomous system number , ASN). \nSi possono individuare tre tipologie di AS:\n• AS stub: un sistema autonomo che ha un solo collegamento verso un altro AS e quindi", "può solo essere sorgente di traffico destinato ad altri AS, oppure destinazione di traf -\nfico generato in altri AS; un esempio tipico è una rete di un’azienda/università che ha \nun solo collegamento verso la rete Internet;\n• AS di transito : un sistema autonomo che consente il trasporto di traffico originato e \ndestinato da/a altri AS; questo è il caso tipico degli ISP di ogni livello;\n• AS multihomed: un sistema autonomo che è connesso a più di un altro AS, ma che", "non consente il transito di traffico che non sia originato o destinato dal/al sistema \nautonomo stesso; il caso tipico è quello di un’azienda che riceve connettività Internet \nda più di un ISP.\nSi faccia ora riferimento alla Figura 6.13 che mostra una piccolissima porzione della rete \nInternet costituita da due sistemi autonomi, denominati A e B, che normalmente coincidono \ncon due domini amministrativi distinti. Il sistema A comprende quattro sottoreti interconnes -10.0.0.1", "10.0.0.254 195.4.1.8source dest.\n10.0.0.2\n10.0.0.3\ndest.          source dest.         source10.0.0.2\n9360156.3.9. 2\n80source dest.\n195.4.1.8\n25000156.3.9. 2\n80\n195.4.1.8\n25000156.3.9. 2\n8010.0.0.2\n9360156.3.9. 2\n80Internet\nFigura 6.12 Funzionamento del dispositivo NAPT secondo l’Esempio 6.13.\nPattavinaReti2021.indb   330PattavinaReti2021.indb   330 14/01/2022   16:09:3214/01/2022   16:09:326.5 Protocolli di instradamento  331", "se tramite tre router, mentre il sistema B comprende tre sottoreti, connesse per mezzo di due \nrouter. L ’interlavoro tra router è reso possibile dall’adozione di protocolli di instradamento \nsecondo i quali i router si scambiano informazioni e attuano l’instradamento delle unità infor -\nmative (i datagrammi). Questi protocolli si possono distinguere in due classi:\n• interior gateway protocol  (IGP), che definisce i protocolli di instradamento interni a", "un sistema autonomo; i due principali protocolli IGP nella rete Internet sono routing \ninformation protocol  (RIP) e open shortest path first (OSPF);\n• exterior gateway protocol  (EGP), che definisce i protocolli di instradamento tra router \nappartenenti a diversi sistemi autonomi; border gateway protocol  (BGP) è il principa -\nle protocollo di tipo EGP nella rete Internet. \nIl fattore che accomuna tutti i protocolli di instradamento è che ognuno di essi prevede una", "procedura per comunicare da un router all’altro, sia all’interno di un AS (tramite protocolli \nIGP), sia tra AS (tramite protocolli EGP), la raggiungibilità delle reti di destinazione. Queste \ninformazioni vengono generalmente denominate annunci . Per ogni rete di destinazione, il \nrouter che interfaccia direttamente la rete genera un annuncio che viene poi propagato nell’AS \ne successivamente ad altri AS.\nI tre protocolli RIP, OSPF e BGP verranno descritti nei prossimi paragrafi dopo avere", "introdotto i concetti base di instradamento nell’architettura di rete IP, tenendo conto anche del \ntipo di indirizzamento adottato.\n6.5.1 Operazioni di instradamento\nLo scopo dei protocolli di routing è l’individuazione da parte di ogni router della migliore via \ndi instradamento verso la destinazione per i datagrammi che sono ricevuti. Qualunque sia \nl’algoritmo utilizzato, il risultato è la definizione di una tabella di instradamento che stabilisce", "le modalità di inoltro di ogni datagramma IP. Le modalità di inoltro sono:Sottorete B. 1\nSottorete B. 2Sottorete B. 3Sottorete A.1\nSottorete A.2\nSottorete A.3 Sottorete A.4R1R3\nR2R4R5\nSistemaautonomo  A Sistemaautonomo  B\nInterior ga teway pr otocol\nExterior ga teway pr otocol\nFigura 6.13 Protocolli di instradamento in Internet.\nPattavinaReti2021.indb   331PattavinaReti2021.indb   331 14/01/2022   16:09:3214/01/2022   16:09:32332  Capitolo 6 – Strato di rete", "• inoltro diretto : se l’indirizzo del datagramma indica una stazione terminale diretta -\nmente raggiungibile dal router (perché connessa a una delle reti cui il router accede), \nil datagramma è trasmesso direttamente alla destinazione;\n• inoltro indiretto : se la stazione di destinazione non è raggiungibile direttamente, il \ndatagramma è trasmesso a un router successivo ( next-hop router ), che esaminerà a", "sua volta l’indirizzo di destinazione per determinare quale tipo di inoltro deve attuare.\nIn entrambe le modalità di instradamento, la tabella deve specificare anche l’interfaccia del \nrouter su cui deve essere inviato il pacchetto. Tuttavia, questa informazione non è in generale \nsufficiente per completare l’operazione di trasmissione del datagramma. Infatti il pacchetto \nviene fisicamente trasportato da una trama, per la quale nel caso di reti multipunto deve essere", "specificato l’indirizzo fisico di rete (indirizzo dello strato di collegamento). A questo scopo \nviene utilizzato il protocollo ARP, descritto nel Paragrafo 9.5. Si osservi che l’indirizzo di \ndestinazione del datagramma IP rimane inalterato anche durante il trasferimento da un router \nall’altro; infatti l’indirizzo del next-hop router viene utilizzato esclusivamente per ricavare \nl’indirizzo dello strato di collegamento del router indirizzato.", "In generale una tabella di instradamento  contiene tante voci quante sono le reti indiriz -\nzabili, ossia conosciute dal router. Ogni voce, il cui formato è del tipo <destination address, \nnetmask, next-hop router, output interface>, specifica l’indirizzo di una rete di destinazione, la \nsua netmask, il router successivo ( next hop , NH) e la porta fisica da utilizzare per raggiungere \nquesto router. La procedura di instradamento di un datagramma IP in un router richiede che", "l’indirizzo IP di destinazione venga posto in AND con ogni netmask della tabella, e il risultato \nconfrontato con il relativo indirizzo di rete. Un risultato di uguaglianza indica che l’interfaccia \nfisica specificata dall’ultimo parametro della voce può essere utilizzata dal router per instra -\ndare il datagramma verso la rete di destinazione attraverso il NH router. \nUn router generico che interfaccia direttamente i reti con indirizzo n1, n2, ..., ni, dispone di", "una tabella di instradamento che conterrà le voci associate alle singole reti interfacciate, cui si \naggiungono tante voci con indirizzo generico nk quante sono le altre reti “note” al router. Se \nsi utilizza una delle prime i voci, il datagramma subisce un inoltro diretto, mentre si attuerà \nun inoltro indiretto attraverso un NH router utilizzando una della altre nk voci. È anche possi -\nbile “forzare” un instradamento verso uno specifico indirizzo IP, indipendentemente dal suo", "prefisso di rete n . In questo caso, all’indirizzo IP sarà associata la netmask 255.255.255.255. \nOvviamente è impossibile che una tabella di routing contenga gli indirizzi di tutte le reti \nraggiungibili in Internet, il cui numero potrebbe essere anche dell’ordine di decine di milioni. \nQuindi occorre prevedere cosa fare dei datagrammi per i quali la procedura di AND appena \ndescritta non fornisce alcuna uguaglianza con gli indirizzi di destinazione presenti in tabella.", "A questo scopo una tabella di instradamento reca sempre una voce aggiuntiva che identifica il \nnext hop router, al quale si delega il compito di svolgere la funzione di instradamento, lungo la \ncosidetta “default route”. A questa voce si assegna indirizzo di rete 0.0.0.0 e netmask 0.0.0.0, \ncosì che l’operazione di AND di un indirizzo di destinazione con questa netmask genera sem -\npre l’indirizzo di rete 0.0.0.0 di questa voce.", "pre l’indirizzo di rete 0.0.0.0 di questa voce.\n Con indirizzamento di tipo classful , il solo indirizzo IP di destinazione nel datagramma \nda instradare consente a un router di decidere se si tratta di inoltro diretto o indiretto: i primi \n3 bit del campo indirizzo identificano infatti la classe (A, B o C). Ponendo quindi in AND \nl’indirizzo di destinazione con la netmask di default della rete in questione (Tabella 6.4), si", "PattavinaReti2021.indb   332PattavinaReti2021.indb   332 14/01/2022   16:09:3214/01/2022   16:09:326.5 Protocolli di instradamento  333\nricava il prefisso di rete. Se questo prefisso coincide con quello di una delle reti interfacciate, \nsi opererà un inoltro diretto; in caso contrario l’inoltro sarà indiretto verso il router successivo \nspecificato in tabella per la rete indirizzata. \nSi consideri la configurazione di rete di Figura 6.14 in cui compaiono quattro reti: la rete A", "con indirizzo 56.0.0.0, la rete B con indirizzo 131.7.0.0, la rete C con indirizzo 207.33.161.0 \ne la rete D con indirizzo 160.24.0.0. Il router R1 interconnette le reti B, C e D, il router R2 \ninterconnette le reti A e B, mentre il router R3 interconnette la rete A con il resto di Inter -\nnet. Ipotizzando che l’indirizzamento sia di tipo classful , si vuole determinare la tabella di \nrouting per il router R1, in cui oltre alle voci relative alle reti A, B, C e D compaiono anche", "le voci relative alle reti 121.0.0.0 e 166.9.0.0, che sono raggiungibili attraverso il router R3. \nTrattandosi di indirizzamento classful , le netmask associate agli indirizzi di rete saranno \nquelle di default riportate nella Tabella 6.4. Come mostrato nella Tabella 6.96, il router R1 \ninoltra verso il router R2 all’interfaccia 131.175.31.254 tutti i datagrammi indirizzati alla rete \nA, oppure alle altre due reti 121.0.0.0 e 166.9.0.0. Per i datagrammi indirizzati alle reti B,", "C e D, il router R1 provvederà a un inoltro diretto sulle interfacce i1, i0 e i2, rispettivamente. \nL ’ultima voce della tabella rappresenta l’instradamento di default  che viene adottato per i \ndatagrammi la cui rete di destinazione non compaia nella tabella di instradamento. \nUn router che opera nella rete Internet in cui si adotta l’indirizzamento CIDR (vedi Paragrafo \n6.4.5) richiede la disponibilità della netmask associata a ogni rete il cui indirizzo compaia", "nella sua tabella di instradamento7. Infatti, la netmask non può più essere dedotta dal primo \nbyte dell’indirizzo di rete. L ’indirizzo di rete e della netmask associata sono informazioni che \nvengono diffuse dall’ISP che fornisce la connettività alle reti in questione. In questo caso la \n6 Nel caso di instradamento classful , nella tabella di routing potrebbe anche essere omesso il campo netmask, in", "quanto il primo byte dell’indirizzo di rete identifica in modo univoco la netmask corrispondente. \n7 La conoscenza della netmask si rende necessaria anche nei router che operano in reti private che adottano un \nmeccanismo di subnetting a lunghezza variabile (vedi Paragrafo 6.4.3).Esempio 6.14\nReteB\n131.7.0.0\nReteC\n207.33. 161.0131.7.31.254 56.64.8.1\nInternet56.0.0.1\nR1R2\nR3i0i1\ni0i1 i0i2160.24.0.3\nReteD\n160.2 4.0.0i1ReteA\n56.0.0.0\n131.7.192.254\n207.33.161. 61", "56.0.0.0\n131.7.192.254\n207.33.161. 61\nFigura 6.14 Configurazione di rete secondo l’Esempio 6.14\nPattavinaReti2021.indb   333PattavinaReti2021.indb   333 14/01/2022   16:09:3314/01/2022   16:09:33334  Capitolo 6 – Strato di rete\ntabella di instradamento conterrà dunque la stessa tipologia di voci specificate prima, ognuna \ndelle quali indicherà anche la netmask relativa.\nTabella 6.9 Tabella di instradamento del router R1 secondo l’Esempio 6.14.\nRete di destinazione Netmask NH router Interfaccia", "0.0.0.0 0.0.0.0 131 .7 .31 .254 i1\n56.0.0.0 255.0.0.0 131 .7 .31 .254 i1\n121 .0.0.0 255.0.0.0 131 .7 .31 .254 i1\n131 .7 .0.0 255.255.0.0 Diretto i1\n160.24.0.0 255.255.0.0 Diretto i2\n166.9.0.0 255.255.0.0 131 .7 .31 .254 i1\n207 .33.161 .0 255.255.255.0 Diretto i0\nSi vuole ripetere l’Esempio 6.14 con riferimento alla nuova configurazione di rete ripor -\ntata in Figura 6.15. Rispetto all’esempio precedente, le due reti in classe A e B sono state", "sostituite da due reti ognuna con indirizzamento CIDR, interconnesse da nuovi router, e \ncioè il router R4 tra le reti B1 e B2 e il router R5 tra le reti A1 e A2. Avendo assegnato alle \ninterfacce dei router gli indirizzi più grandi e più piccoli della rete interfacciata, si vogliono \nanche determinare le netmask di queste reti da inserire nella tabella di instradamento del \nrouter R1. \nLa conoscenza degli host-id  più piccoli e più grandi di ogni rete consente di ricavare facil -", "mente la netmask associata a ognuna di esse e cio è: /25 per la rete B1, /20 per la rete B2, /22 \nper la rete A2, /11 per la rete A1. Come mostrato nella Tabella 6.9, l’unico inoltro indiretto \nda parte del router R1 avviene ora verso il router R4 con indirizzo IP 131.7.192.129 sulla sua \ninterfaccia i1. Le altre voci indicano un inoltro diretto verso le reti interfacciate direttamente \ndal router R1.Esempio 6.15\nReteB1\nReteC\n207.33. 161.0131.7.192.25 4\n207.33 .161.6 1131. 7.31.254 56.64.8.1", "207.33 .161.6 1131. 7.31.254 56.64.8.1\nInternet56.0.0.1\nR1R2\nR3i0i1\ni0i1 i0i2160.24.0.3\nReteD\n160.24.0.0i1ReteB2ReteA2\nReteA1i0i1\n131.7. 192.12 9131.7. 16.1\ni0 i1\n56.31.255.25456.64.11.254\nR4R5\nFigura 6.15 Configurazione di rete secondo l’Esempio 6.15.\nPattavinaReti2021.indb   334PattavinaReti2021.indb   334 14/01/2022   16:09:3314/01/2022   16:09:336.5 Protocolli di instradamento  335\nTabella 6.10 Tabella di instradamento del router R1 secondo l’Esempio 6.15.", "Rete di destinazione Netmask NH router Interfaccia\n0.0.0.0 0.0.0.0 131 .7 .192.129 i1\n56.0.0.0 255.224.0.0 131 .7 .192.129 i1\n56.64.8.0 255.255.252.0 131 .7 .192.129 i1\n121 .0.0.0 255.0.0.0 131 .7 .192.129 i1\n131 .7 .16.0 255.255.240.0 131 .7 .192.129 i1\n131 .7 .192.128 255.255.255.128 Diretto i1\n160.24.0.0 255.255.0.0 Diretto i2\n166.9.0.0 255.255.0.0 131 .7 .192.129 i1\n207 .33.16.0 255.255.255.0 Diretto i0\nAggregazione degli indirizzi", "Aggregazione degli indirizzi\nL ’operazione di inoltro indiretto da parte di un router richiede la conoscenza del NH router \nper ognuna delle reti indirizzabili. Considerando che il meccanismo di indirizzamento del \nprotocollo IPv4 consente teoricamente di assegnare circa 109 indirizzi pubblici, ne consegue \nche il numero di reti da indirizzare potrebbe essere dell’ordine dei milioni. \nUna procedura che consente di limitare la dimensione delle tabelle di instradamento è", "l’aggregazione degli indirizzi , che consiste nel raggruppare sotto un’unica voce nelle tabelle \ndi instradamento una pluralità di reti di destinazione. Ciò si rende possibile nel caso in cui gli \nindirizzi di queste reti rappresentino un insieme continuo di indirizzi esprimibile mediante \nuna sola netmask. \nSe un ISP di accesso ha ricevuto dall’ICANN un blocco di indirizzi x.y.z.w/n , questi pos -\nsono essere assegnati a una pluralità di organizzazioni sotto forma di blocchi di dimensioni", "ridotte del tipo x’.y’.z’.w’/n’  con n’  > n. Per esempio, se n = 19  l’ISP disporrà di 8192 indirizzi \nche potrà assegnare, in blocchi più piccoli di 256 indirizzi, quindi con nuova netmask n’  = 24, \na 32 diverse organizzazioni cui fornirà connettività di rete. Mentre il router dell’ISP locale che \naccede alle 32 reti dovrà utilizzare 32 voci / n’ distinte nella propria tabella di instradamento,", "l’ISP di secondo livello che serve l’ISP locale utilizzerà una sola voce / n per indirizzare tutte \nle reti.\nSi considera un ISP D di accesso che assegna i blocchi di indirizzi IP: 203.161.0.0/19 \nalla società Alfa, 203.161.32.0/21 e 203.161.40.0/21 alla società Beta, 203.161.48.0/22, \n203.161.52.0/22, 203.161.56.0/22, 203.161.60.0/22 alla società Gamma. Si vuole determinare \nla tabella di instradamento: (i) del router R4 dell’ISP D che interfaccia tutte queste reti; (ii)", "del router R3 dell’ISP C di secondo livello che fornisce connettività all’ISP D.\nLa Figura 6.16 mostra la configurazione di rete assegnata con le tabelle di instradamento \ndei due router, unitamente a un’ipotetica configurazione di ISP di livello superiore. Il rou -\nter R4, in aggiunta alla voce che indica la “default route”, riduce a tre le voci della tabella \nnecessarie per instradare i datagrammi verso le sette reti delle società Alfa, Beta e Gamma. Esempio 6.16", "PattavinaReti2021.indb   335PattavinaReti2021.indb   335 14/01/2022   16:09:3314/01/2022   16:09:33336  Capitolo 6 – Strato di rete\nL ’aggregazione degli indirizzi che consente di limitare la dimensione delle tabelle di instra -\ndamento può aver luogo in tutti i livelli della gerarchia di Internet, considerando che i blocchi \ndi indirizzi assegnati dall’ICANN rispondono, in generale, a criteri di contiguità per area", "geografica. Per esempio, i blocchi di indirizzi assegnati in macroaree geografiche (come i \ncontinenti) sono per quanto possibile raggruppati in blocchi contigui. Ne consegue che un \ndatagramma indirizzato da un continente a un altro necessita di una sola voce nei router \ndell’area geografica di partenza, indipendentemente dalla specifica rete di destinazione nel \ncontinente di arrivo.Ciò è reso possibile dalla continuità dei blocchi di indirizzi assegnati a ognuna delle due", "società Beta e Gamma. In particolare, i due blocchi /21 della prima diventano un solo bloc -\nco /20 e i quattro blocchi /22 della seconda si riducono a una sola voce con netmask /20. È \ninteressante osservare come al router a monte R3 dell’ISP C sia sufficiente una sola voce \nnella tabella di instradamento con netmask /18 per indirizzare le sette reti servite dall’ISP \nD. Anche questa volta l’aggregazione di tutti i blocchi di indirizzi è resa possibile dalla", "continuità dei sette insiemi di indirizzi. \nAccess ISPTier2ISPAlfa\n203.161.32.0/21\n203.161.40.0/21203.161.0.0/19\n203.161.48.0/22\n203.161.52.0/22\n203.161.56.0/22\n203.161.60.0/22Beta\nGamma R4\n203.161.48.0/ 20 Direct i1\n203.161.32.0/ 20 Direct i2\n203.161.0.0 /19D irecti3\n0.0.0.0/ 0R3i0Outp ut\ninterfaceNet-idNH\nrouterRout erR4i0i3i2\ni1\nNetm askRouterR3\n203.161.0.0/ 18 R4i1\n0.0.0.0 /0 R1i0Output\ninterfaceNet-idNH\nrouterNetm askISPDISPBR2R3i0\nISPCi1Tier1ISP\nISPAi2i0R1\ni1", "ISPCi1Tier1ISP\nISPAi2i0R1\ni1\nFigura 6.16 Aggregazione di indirizzi secondo l’Esempio 6.16.Con riferimento all’Esempio 6.16, si chiede di verificare se l’ulteriore connettività fornita \ndall’ISP D all’organizzazione Delta, cui si assegna il nuovo blocco 203.161.64.0/19, consente \ndi non aggiungere un’ulteriore voce alla tabella di routing del router R3.\nIl blocco assegnato, oltre che richiedere l’aggiunta di una voce nella tabella di routing in R1,", "ne richiede un’altra anche in R3. Infatti questo blocco non è aggregabile in un unico blocco \n/17, in quanto non comprenderebbe gli indirizzi 203.161.96.0/19. L ’aggregazione sarebbe \npossibile se il nuovo blocco assegnato fosse 203.161.64.0/18.Esempio 6.17\nPattavinaReti2021.indb   336PattavinaReti2021.indb   336 14/01/2022   16:09:3414/01/2022   16:09:346.5 Protocolli di instradamento  337\nLongest prefix match", "Longest prefix match\nIl meccanismo di instradamento in Internet si basa sull’adozione generalizzata dell’indirizza -\nmento di tipo CIDR. Si è anche visto che grazie alla procedura di aggregazione di indirizzi \nè possibile contenere la crescita delle tabelle di instradamento dei router. Tuttavia, sorge un \nproblema nel momento in cui gli host cui è associato un blocco / n di indirizzi CIDR non è \nraggiungibile tramite un’unica via. Ciò può accadere per vari motivi. Potrebbe essere infatti", "che l’applicazione degli algoritmi di instradamento determini più di un percorso di uguale \ncosto per raggiungere una determinata rete di destinazione. Oppure, un amministratore di \nrete potrebbe decidere che il percorso da scegliere sia diverso da quello determinato dagli \nalgoritmi di instradamento per vari motivi, quali per esempio garantire la sicurezza dei dati, \noppure per motivi di affidabilità.", "oppure per motivi di affidabilità. \nNella rete Internet la presenza di più di un percors verso una destinazione si verifica spesso \nanche per motivi legati all’aggregazione degli indirizzi. Si consideri il caso in cui un’organiz -\nzazione disponga di un blocco di indirizzi IP / n dei quali un blocco / m (m > n ) viene utilizzato \nin una sede periferica, servita dall’ISP B, diverso dall’ISP A che fornisce connettività alla", "sede centrale. In questo caso entrambi gli ISP A e B annunciano la raggiungibilità delle reti \nnel blocco / m, ma gli host relativi sono serviti dall’ISP B. \nSi consideri anche la situazione in cui un’organizzazione di piccole o medie dimensioni, \ncon connettività a Internet fornita dall’ISP A, decide di spostare la propria attività in un’altra \narea geografica, vicina o anche molto lontana, servita dall’ISP B. L ’amministratore di questa", "società preferisce mantenere il blocco degli indirizzi già detenuto, invece di chiederne uno \nnuovo all’ISP B, e ciò è  consentito in molti casi in base alle regole stabilite dalla Internet \ncorporation for assigned names and numbers (ICANN). Quando ciò accade, l’ISP B deve \naggiungere ai propri annunci sugli indirizzi IP di propria competenza anche quelli che l’or -\nganizzazione sta portando con s é. Queste “eccezioni” alle procedure di aggregazione degli", "indirizzi portano a un aumento delle voci nelle tabelle dei router del nuovo ISP. \nPoiché le eccezioni a una regola di instradamento fanno riferimento a blocchi di indirizzi \npiù piccoli rispetto a quelli individuati dalle regole generali di instradamento, la procedura \nseguita dai router in presenza di più di un percorso verso una destinazione prevede la selezio -\nne del percorso con netmask “più lunga”, che contiene cio è il più grande numero di bit posti", "a 1. Questa regola, denominata longest prefix match  (LPM) [RFC1812] suggerisce anche di \nmemorizzare le voci nella tabella di instradamento del router ordinate per netmask / n di lun -\nghezza decrescente. In questo modo, visitando la tabella ordinatamente a partire dalla netmask \npiù lunga, la prima corrispondenza trovata risponderà al criterio del longest prefix match .\nSi osservi che la regola del LPM implica anche che, nel caso in cui l’indirizzo IP di un host", "compaia esplicitamente nella tabella di instradamento, quindi con netmask 255.255.255.255, \nl’instradamento avverrà sempre lungo la via specificata da questa voce e non da altre eventuali \nvoci in tabella determinate dagli algoritmi di instradamento.\nCon riferimento alla configurazione di rete rappresentata in Figura 6.16, si considera ora la \nsituazione in cui la società Beta si trasferisce in un altro continente per essere servita diret -", "tamente da un ISP di secondo livello, ISP B, che riceve connettività dall’ISP A di primo \nlivello. Si vuole allora determinare la tabella di instradamento del router R1 dell’ISP A e Esempio 6.18\nPattavinaReti2021.indb   337PattavinaReti2021.indb   337 14/01/2022   16:09:3414/01/2022   16:09:34338  Capitolo 6 – Strato di rete\nTabella 6.11 Tabella di instradamento del router R1 secondo l’Esempio 6.18.\nRete di destinazione Netmask NH router Interfaccia\n203.161 .32.0 255.255.240.0 R2i1", "203.161 .32.0 255.255.240.0 R2i1\n203.161 .0.0 255.252.192.0 R3i2\n0.0.0.0 0.0.0.0 ... i0\nIl meccanismo del longest prefix match consente anche di aggregare in un’unica voce della \ntabella di instradamento un blocco di indirizzi in cui uno o più indirizzi del blocco siano \nmancanti nella tabella, oppure richiedano un instradamento diverso (“exception route”) da \nquello del blocco, indicando quindi un NH router diverso da quello relativo al blocco stesso.", "Nel primo caso occorre aggiungere nella tabella di instradamento una voce per ognuno degli \nindirizzi mancanti nel blocco cui si associa il NH della “default route”. Nel secondo caso, \nognuna delle voci aggiunte recherà l’identificazione del NH relativo all’“exception route” cui \nsi associa un prefisso di rete (netmask) “più lungo” di quello che caratterizza il blocco di indi -\nrizzi aggregati. In questo modo il meccanismo LPM può selezionare correttamente l’instrada -", "mento relativo a tutte le exception route . Occorre osservare che il meccanismo di aggregazio -\nne degli indirizzi consente di rimuovere dalla tabella di instradamento tutte le voci con net -\nmask  /m con lo stesso NH router della “default route”, a meno che la tabella contenga altre voci \ncon diverso NH router il cui net-id  /n con n < m coincida con quello della voce da eliminare \nnei primi n bit. determinare l’instradamento che questo router opera per un datagramma con indirizzo di", "destinazione 203.161.41.62. \nLa Tabella 6.11 riporta la tabella di instradamento del router R1. L ’indirizzo di destinazione \ndel datagramma ricevuto nel router R1 posto in AND con le prime due netmask della tabella \ndetermina un indirizzo di rete coincidente con quello specificato in ognuna delle due voci. \nQuindi, secondo la regola del longest prefix match il router R1 instraderà il datagramma \nverso il router R2.", "verso il router R2.\nSi consideri la tabella di instradamento riportata in Tabella 6.12 che contiene 8 voci. Si \nvuole effettuare l’aggregazione degli indirizzi di destinazione considerando la disponibilità \ndel meccanismo del longest prefix match . \nDopo l’aggregazione degli indirizzi la nuova tabella di instradamento reca solo quattro \nvoci, come riportato nella Tabella 6.13. Infatti le voci dalla numero 2 alla numero 5 della", "tabella iniziale rappresentano indirizzi adiacenti di reti /16 delle quali solo tre condividono \nlo stesso indirizzo del NH router. Queste voci possono dunque essere raggruppate attraver -\nso un’unica voce (lettera B) con netmask /14, mantenendo nella tabella aggregata (lettera \nC) la voce numero 4 che ha una netmask /16. Un datagramma con indirizzo di destinazio -\nne 50.74.10.25 verrebbe dunque indirizzato verso il NH router della nuova voce lettera C", "con indirizzo 131.175.52.92 grazie al meccanismo LPM. Analogamente le voci numero 7 Esempio 6.19\nPattavinaReti2021.indb   338PattavinaReti2021.indb   338 14/01/2022   16:09:3414/01/2022   16:09:346.5 Protocolli di instradamento  339\nTabella 6.12 Tabella di instradamento secondo l’Esempio 6.19.\nVoce Rete di destinazione Netmask Next hop router\n1 0.0.0.0 0.0.0.0 131 .175.44.66\n2 50.72.0.0 255.255.0.0 131 .175.20.39\n3 50.73.0.0 255.255.0.0 131 .175.20.39\n4 50.74.0.0 255.255.0.0 131 .175.52.92", "4 50.74.0.0 255.255.0.0 131 .175.52.92\n5 50.75.0.0 255.255.0.0 131 .175.20.39\n6 160.192.12.0 255.255.255.0 131 .175.44.66\n7 200.10.20.64 255.255.255.224 131 .175.32.20\n8 200.10.20.96 255.255.255.224 131 .175.32.20\nTabella 6.13 Tabella di instradamento con indirizzi aggregati secondo l’Esempio 6.19.\nVoce Rete di destinazione Netmask Next hop router Voci aggregate\nA 0.0.0.0 0.0.0.0 131 .175.44.66 1, 6\nB 50.72.0.0 255.252.0.0 131 .175.20.39 2, 3, 5\nC 50.74.0.0 255.255.0.0 131 .175.52.92 4", "C 50.74.0.0 255.255.0.0 131 .175.52.92 4\nD 200.10.20.64 255.255.255.192 131 .175.32.20 7,  8\nOccorre osservare che anche un host connesso alla rete Internet esegue operazioni di instrada -\nmento, pur se con modalità semplificate. Disporrà infatti, in generale, di una tabella con due \nsole voci: la prima che contiene il proprio indirizzo di rete e di sottorete, cui corrisponde natu -\nralmente un instradamento diretto, e una seconda denominata “default gateway” che indirizza", "tutti gli altri datagrammi verso uno dei router che accedono alla stessa sottorete. In entrambi i \ncasi si fa riferimento all’unica interfaccia dell’host che realizza la connessione alla rete. \n6.5.2 Routing information protocol\nRouting information protocol  (RIP) è stato uno dei primi protocolli IGP a essere utilizzato dif -\nfusamente in reti geografiche. Sebbene ancora molto diffuso, esso è stato concepito per reti di", "piccole dimensioni, quali quelle di ISP di accesso o di reti aziendali, ed è caratterizzato dalla \nsua semplicità. Esso si basa su un instradamento di tipo distance vector , quindi utilizza l’im -\nplementazione distribuita dell’algoritmo di Bellman-Ford per il calcolo dei percorsi a minima \ndistanza tra nodi, come descritto nel Paragrafo 3.8.3. \nCome in ogni protocollo distance vector , ogni router mantiene una tabella delle distanze", "nella quale, per ogni rete nota al router, si registra la distanza stimata dal router per raggiun -\ngere la rete e l’indirizzo del primo router (NH router) lungo il percorso verso la destinazione. e numero 8 indicano indirizzi adiacenti di reti /27 che quindi vengono raggruppati in un \nunico indirizzo /26 nella nuova voce lettera D. Infine, la voce numero 6 della tabella iniziale \ncondivide lo stesso NH router della “default route” e viene quindi eliminata dalla tabella \ndi instradamento.", "di instradamento.\nPattavinaReti2021.indb   339PattavinaReti2021.indb   339 14/01/2022   16:09:3414/01/2022   16:09:34340  Capitolo 6 – Strato di rete\nOgni router comunica lo stato corrente della propria tabella delle distanze ai router vicini, \nraggiungibili quindi “con un solo salto” attraverso una sola rete o un collegamento punto-pun -\nto diretto tra due router. La prima versione del protocollo, RIPv1 [RFC1058], prevedeva la", "comunicazione tra router adiacenti di voci <network address, distance>, omettendo dunque la \ncomunicazione del NH router. La versione successiva del protocollo RIP, denominata RIPv2 \n[RFC2453], prevede che ogni voce comunicata sia di tipo <network address, netmask, NH \naddress, distance>, identificando così la netmask associata all’indirizzo di rete e anche il \nprimo router lungo il percorso a costo minimo verso la rete di destinazione.", "La metrica di default utilizzata dal protocollo RIP è il “numero di salti”, che indica il \nnumero di router che devono essere attraversati per raggiungere una data destinazione. In que -\nsto caso, quindi, risulta unitario il “costo” di ogni interconnessione tra router, sia essa un col -\nlegamento punto-punto, una rete Ethernet, ecc. La massima distanza ammessa dal protocollo \nè 15, perciò un valore di distanza uguale a 16 equivale a una distanza infinita e indica una rete", "non raggiungibile. Ne consegue che il protocollo RIP non può essere adottato all’interno di un \nsistema autonomo (AS) di grandi dimensioni che preveda anche l’attraversamento di più di 15 \nrouter (“diametro” massimo della rete).\nIl router Ri riceve il vettore delle distanze dal router “vicino” Rj e:\n1. inserisce nella propria tabella delle distanze le nuove voci presenti nel vettore corri -\nspondenti a reti fino ad allora non conosciute;", "spondenti a reti fino ad allora non conosciute;\n2. aggiorna una o più voci della propria tabella delle distanze che non prevedano l’attra -\nversamento di Rj, ma solo se la rete di destinazione della voce è raggiungibile attraver -\nso il router Rj con una distanza inferiore di almeno due unità a quella presente nella \npropria tabella8; si ricorda che la distanza aggiuntiva da Ri a Rj è comunque unitaria, \nquindi la nuova distanza lungo il nuovo percorso attraverso Rj è inferiore a quella", "precedentemente registrata nella tabella;\n3. aggiorna sempre tutte le voci della propria tabella delle distanze che indicano Rj come \nNH router sulla base dalle nuove distanze comunicate da Rj (aumentate di 1), anche se \npeggiorative, così da riflettere le più recenti stime di distanza elaborate da Rj. \nNaturalmente, all’interno del sistema autonomo è possibile utilizzare diverse metriche per \ndeterminare la distanza tra router, quali il tempo di attraversamento della rete tra i due router,", "oppure il numero di datagrammi trovati in attesa sull’interfaccia di uscita verso l’altro router. \nIn ogni caso il meccanismo di calcolo delle distanze verso una rete di destinazione, che pre -\nvede di sommare il “costo” di attraversamento dell’ultima rete alla stima di distanza comuni -\ncata dal vicino, implica che la metrica utilizzata deve essere di tipo “sommabile”. Quindi, per \nesempio, metriche di costo di tipo inversamente proporzionale alla capacità della rete attraver -", "sata, spesso adottate nelle reti reali, non sono utilizzabili in protocolli di tipo distance vector . \n8 Nel caso la distanza comunicata fosse inferiore a quella presente in tabella di una sola unità, la selezione di Rj \ncome nuovo NH router per la rete di destinazione è arbitraria, in quanto questo nuovo percorso avrebbe lo stesso \ncosto del vecchio percorso indicato in tabella.", "costo del vecchio percorso indicato in tabella. \nPattavinaReti2021.indb   340PattavinaReti2021.indb   340 14/01/2022   16:09:3414/01/2022   16:09:346.5 Protocolli di instradamento  341\nNella Figura 6.17 è riportata una topologia di rete a 6 nodi, che mostra anche i costi associati \nai singoli collegamenti internodo, che si assumono di tipo bidirezionale con uguale costo \nnelle due direzioni e invariabili nel tempo. Si assume che le tabelle di instradamento9 siano", "inizialmente vuote e che lo scambio dei vettori di distanze avvenga in modo “sincronizza -\nto”; si intende così che la trasmissione del vettore delle distanze ai nodi vicini abbia luogo \ncontemporaneamente da parte di tutti i nodi e con periodicità costante T , cioè una volta ogni \nT secondi. In questo modo, ogni nodo riceve nello stesso istante i vettori delle distanze da \ntutti i nodi vicini. Si vuole determinare lo stato delle tabelle delle distanze di tutti i nodi nei", "primi due passi di aggiornamento. \nAl primo passo di aggiornamento ogni nodo comunica la propria presenza ai nodi vicini e \nquindi ogni nodo riceve dai propri vicini questa informazione. All’istante t = T , quindi, la \ntabella di instradamento di ogni nodo (Figura 6.18a) include solo i nodi raggiungibili “con \nun salto” a una distanza data dal costo del collegamento diretto tra nodi. Al secondo passo", "di aggiornamento (Figura 6.18b), cio è all’istante t = 2 T, ogni tabella ha la visibilità dei nodi \nraggiungibili “con due salti” e quindi, data la topologia, ogni router conosce tutti gli altri \nrouter nella rete. Risulta interessante osservare come il vettore delle distanze comunicato \ndai nodi vicini consenta di migliorare le stime delle distanze anche verso nodi conosciuti al \nprimo passo. Per esempio, il nodo F aggiorna la distanza verso il nodo A, che diminuisce", "di un’unità grazie al vettore delle distanze ricevuto da B, che diviene dunque NH router in \nF per questa destinazione. Anche la stima della distanza verso il nodo D diminuisce in F \ngrazie al vettore delle distanze ricevuto dal nodo E, che diviene dunque NH router in F per \nquesta destinazione. Analoghi aggiornamenti hanno luogo nei nodi A, B, D, E. \nL ’efficacia dell’algoritmo di routing dipende dalla rispondenza delle tabelle di routing allo", "stato corrente della rete. Poiché la topologia di rete può cambiare in modo imprevisto a causa \ndi guasti su collegamenti o su nodi di rete (router), i messaggi RIP recanti le tabelle delle \ndistanze sono inviati da ogni router ai propri vicini ogni 30 s.\nNaturalmente, il protocollo deve prevedere anche le azioni da attuare in assenza dei mes -\nsaggi periodici di aggiornamento; infatti, i guasti di apparati trasmissivi e di commutazione", "9 Per semplicità si ipotizza che le destinazioni dei datagrammi siano rappresentate da nodi di rete, anzich é dalle \nreti raggiungibili da questi nodi con inoltro diretto.1\n3153\n2\n216\nFEADBC\nFigura 6.17 T opologia di rete secondo l’Esempio 6.20.Esempio 6.20\nPattavinaReti2021.indb   341PattavinaReti2021.indb   341 14/01/2022   16:09:3414/01/2022   16:09:34342  Capitolo 6 – Strato di rete\nhanno come conseguenza anche la mancata ricezione dei messaggi RIP trasportati oppure", "originati dagli apparati in questione. Si prevede dunque che, a seguito di un mancato aggior -\nnamento per un periodo di 180 s da parte di un router adiacente, per esempio Rj, il router Ri \nconsideri Rj non più raggiungibile e dichiari quindi a distanza infinita tutte le reti prima rag -\ngiungibili attraverso Rj. I successivi messaggi RIP ricevuti dagli altri nodi adiacenti consen -\ntiranno al nodo Ri di aggiornare l’instradamento verso queste reti secondo il nuovo percorso \na minima distanza.", "a minima distanza. \nRIP è un protocollo di livello applicativo che usufruisce del servizio di trasporto del pro -\ntocollo UDP attraverso la porta 520, come rappresentato in Figura 1.14 e in Tabella 1.1. Il \nmessaggio RIP è quindi trasportato nel payload di un segmento UDP. Il formato di un mes -\nsaggio RIPv2 che trasporta una singola voce della tabella delle distanze è mostrato in Figura \n6.19. Esso comprende 4 byte di header (H) seguiti da 20 byte di informazione sulla voce della", "tabella così specificati: Figura 6.18 Vettori delle distanze agli istanti t = T (a) e t = 2T (b) secondo l’Esempio 6.20.Dest.CostNH\nA 1 A\nB −\nC 3 C\nE 5 E\nF 1 FNode B\nDest.CostNH\nB 3 B\nC −\nD 2 DNode C\nDest.CostNH\nA 3 A\nB 1 B\nD 6 D\nE 2 E\nF −\nNode FDest.CostNH\nB 5 B\nD 1 D\nE −\nF 2 F\nNode EDest.CostNH\nA −\nB 1 B\nF 3 FNode A\nDest.CostNH\nC 2 C\nD −\nE 1 E\nF 6 FNode D\nDest.CostNH\nA 1 A\nB −\nC 3 C\nD 5 C\nE 3 F\nF 1 FNode B\nDest.CostNH\nA 4 B\nB 3 B\nC −\nD 2 D\nE 3 D\nF 4 BNode C\nDest.CostNH\nA 2 B\nB 1 B\nC 4 B\nD 3 E", "F 4 BNode C\nDest.CostNH\nA 2 B\nB 1 B\nC 4 B\nD 3 E\nE 2 E\nF −\nNode FDest.CostNH\nA 5 F\nB 3 F\nC 3 D\nD 1 D\nE −\nF 2 F\nNode EDest.CostNH\nA −\nB 1 B\nC 4 B\nD 9 F\nE 5 F\nF 2 BNode A\nDest.CostNH\nA 9 F\nB 5 C\nC 2 C\nD −\nE 1 E\nF 3 ENode D(a)\n(b)\nPattavinaReti2021.indb   342PattavinaReti2021.indb   342 14/01/2022   16:09:3514/01/2022   16:09:356.5 Protocolli di instradamento  343\n• command  (8 bit): identifica il tipo di messaggio (il valore 1 indica una richiesta, il \nvalore 2 indica una risposta);", "valore 2 indica una risposta);\n• version  (8 bit): specifica la versione del protocollo RIP che ha generato il messaggio \n(assume il valore 2 nel caso del protocollo RIPv2);\n• address family  (16 bit): specifica la classe di indirizzi di rete adottata (assume il valore \n1 e 2 nel caso dei protocolli IPv4 e IPv6, rispettivamente);\n• route tag  (16 bit): identifica il sistema autonomo origine della stima della distanza;", "• network address (32 bit): indica il prefisso della rete di destinazione cui si riferiscono \ni campi successivi;\n• netmask (32 bit): indica la subnet mask da utilizzare in associazione al valore del \ncampo network address;\n• next hop address  (32 bit): indica l’indirizzo IP del primo router da attraversare per \nraggiungere la rete con indirizzo network address con distanza distance  dal router che \nha generato il messaggio;", "ha generato il messaggio;\n• distance  (32 bit): indica la distanza del router che ha generato il messaggio dalla rete \nindicata nel campo network address; valori ammessi per questo campo sono da 1 a 16. \nUn messaggio RIPv2 può contenere fino a 25 voci del vettore delle distanze precedute da un \nsingolo header di 4 byte, determinando quindi un segmento UDP di dimensione massima 512 \nbyte.\nI messaggi di richiesta ( command  = 1) possono essere inviati da un router per richiedere", "l’invio di singole voci di cui si specifica il campo network address , oppure dell’intera tabella \ndelle distanze ponendo a 0 il campo address family  e a 16 il campo distance . I messaggi di \nrisposta ( command  = 2) sono inviati da un router sia in seguito alla ricezione di messaggi di \nrichiesta, sia senza sollecitazione con cadenza periodica di 30 s, oppure per segnalare un cam -\nbiamento intervenuto nella sua tabella delle distanze.", "Nei protocolli di instradamento di tipo distance vector , eventi che causano l’irraggiun -\ngibilità di un nodo possono dar luogo a fenomeni noti come count-to-infinity , descritti nel \nParagrafo 3.8.3. Ciò si verifica quando due router si scambiano vettori delle distanze in cui \nognuno dei due indica all’altro la raggiungibilità di una rete, ma questa informazione è basata \nsul vettore delle distanze ricevuto dall’altro router. Quindi, ogni router aumenta di un’unità la Bit\n31 16 0\nH\n1\n2\n3\n48", "31 16 0\nH\n1\n2\n3\n48\n5000.....000 CommandV ersion\nNetworkaddressAddressfamily\nDistan ceNetm ask\nNexthopaddressRoutetag\nFigura 6.19 Formato dei messaggi RIPv2.\nPattavinaReti2021.indb   343PattavinaReti2021.indb   343 14/01/2022   16:09:3514/01/2022   16:09:35344  Capitolo 6 – Strato di rete\nstima ricevuta dall’altro router, fino a che la stima raggiunge il valore massimo consentito10. \nIl protocollo RIP prevede l’utilizzazione delle tecniche “split horizon” e “split horizon with", "poisoned reverse” descritte nel Paragrafo 3.8.3 per evitare il fenomeno del count-to-infinity. \n6.5.3 Open shortest path first\nIl protocollo open shortest path first ( OSPF) [RFC1583], ora specificato nella versione 2 \n[RFC2328], rappresenta il secondo principale protocollo di instradamento adottato all’interno \ndi un sistema autonomo. OSPF è un protocollo molto più complesso di RIP e, a differenza di \nquest’ultimo, viene generalmente adottato in sistemi autonomi di medie o grandi dimensioni,", "tipicamente in ISP di primo o di secondo livello.\nCome nel protocollo RIP, OSPF rappresenta la rete mediante un grafo dove i nodi sono i \nrouter e i rami sono i collegamenti tra router, che possono essere realizzati mediante collega -\nmenti punto-punto, oppure reti multiaccesso. Il protocollo OSPF definisce cinque tipi di mes -\nsaggi, riportati nella Tabella 6.14. \nOSPF adotta un instradamento di tipo link state  (descritto nel Paragrafo 3.8.4), in cui cio è", "ogni router valuta la distanza verso tutti i router adiacenti e comunica periodicamente queste \ninformazioni a tutti i router del sistema autonomo per mezzo di messaggi link state update  \n(LSU). L ’insieme delle informazioni così ricevute in ogni nodo consente di determinare, attra -\nverso l’algoritmo di Dijkstra descritto nel Paragrafo 3.8.4, il percorso più breve verso ogni rete \nconosciuta e quindi anche il “primo” router (next hop router) lungo il percorso. Quindi, viene", "creata nel nodo la tabella di instradamento  che, per ogni rete conosciuta, indica il costo del \npercorso e il NH router corrispondente. \nOgni nuovo router che si inserisca all’interno di un sistema autonomo invia un messaggio \ndi saluto ( hello ) a tutti i router “vicini”, cio è connessi direttamente sulle linee uscenti, speci -\nficando tutte le reti raggiungibili attraverso di esso. In risposta, i router adiacenti inviano un", "messaggio di tipo link state database  (LSDB), che fornisce al nuovo router le informazioni \naggiornate sui collegamenti uscenti di ognuno di essi. \nAggiornamenti sul costo dei collegamenti, oltre che con cadenza periodica con messaggi \nLSU, possono anche essere esplicitamente richiesti mediante messaggi OSPF di tipo link state \n10 Se la distanza tra reti è misurata in numero di salti, il massimo valore consentito è 15.Tabella 6.14 Tipi di messaggio del protocollo OSPF.", "Tipo Nome messaggio Acronimo Funzione\n1 HelloScoperta e mantenimento della relazione di vicinan-\nza tra router\n2 Link state database LSDB Comunicazione dello stato dei collegamenti\n3 Link state request LSR Richiesta di informazione sullo stato dei collegamenti\n4 Link state update LSU Aggiornamento sullo stato dei collegamenti\n5Link state \nacknowledgmentLSA Riscontro dei messaggi LSU ricevuti", "PattavinaReti2021.indb   344PattavinaReti2021.indb   344 14/01/2022   16:09:3514/01/2022   16:09:356.5 Protocolli di instradamento  345\nrequest  (LSR). Il meccanismo di instradamento dei messaggi LSU è di tipo flooding  (vedi \nParagrafo 3.7.2): ogni router che riceve messaggi LSU li rilancia su tutte le proprie porte \nuscenti, tranne su quella dove il messaggio è stato ricevuto. L ’importanza associata al corretto", "aggiornamento delle tabelle di instradamento ha suggerito di prevedere nel protocollo OSPF \nche il messaggio LSU sia riscontrato con un messaggio link state acknowledgment (LSA). Al \nfine di evitare la duplicazione incontrollata dei messaggi OSPF, ogni router registra l’identità \ndei messaggi transitati, che sono caratterizzati da un numero di sequenza, così da poterli \nscartare se ricevuti duplicati.\nNel caso di reti multiaccesso, che supportano almeno due router, solo uno di essi, il “ desi-", "gnated router”, è autorizzato a inviare messaggi LSU agli altri, così da ridurre il traffico di \nmessaggi LSU e LSA nella rete. La procedura di elezione del designated router  è attuata \ndinamicamente durante lo scambio iniziale di messaggi OSPF di tipo hello , mediante i quali \nsi individua anche un router di backup. \nCaratteristica fondamentale del protocollo OSPF è la possibilità di adottare diverse metri -", "che di costo, quali il numero dei salti, il throughput, l’affidabilità, il ritardo, e quindi di sup -\nportare instradamenti basati sui diversi tipi di servizio che possono essere richiesti attraverso \nil parametro DSCP  o TOS del datagramma IP. Sulla base delle scelte dell’amministratore di \nrete, ogni router può infatti costruire diversi alberi di minima distanza conoscendo i costi dei \ncollegamenti stimati da ogni router per ogni tipologia di metrica (sono emessi messaggi LSU", "per ogni tipo di metrica)11; l’instradamento del datagramma IP ricevuto può allora avvenire \nsulla base del valore del parametro DSCP/TOS  che specifica il tipo di servizio richiesto. Ciò \npuò corrispondere a massimizzare il throughput, minimizzare il ritardo, oppure massimizzare \nl’affidabilità. Il valore di default per il campo TOS implica che non si richiede alcun instrada -\nmento particolare; viene dunque adottata la metrica di default scelta dall’amministratore,", "tipicamente il numero di salti. \n11  Si noti che il costo di un collegamento assume in generale valori diversi nelle due direzioni: basti pensare al \ncaso della metrica tempo di ritardo, nella quale il costo è correlato al livello di riempimento dei buffer in tra -\nsmissione nei due nodi.Si consideri una rete a sei nodi i cui messaggi LSU emessi sono quelli rappresentati in Figu -\nra 6.20, in cui il costo dei rami è lo stesso per entrambe le direzioni di ogni collegamento.", "Si vuole mostrare come la ricezione in sequenza dei messaggi LSU dai nodi B, C, F, E, D \nconsenta la costruzione della topologia di rete completa vista dal nodo A.\nCome rappresentato in Figura 6.21, il primo messaggio LSU ricevuto dal nodo B consente \nla costruzione della topologia a 5 nodi e 4 rami (Figura 6.21a). Il successivo messaggio LSU \ndel nodo C consente al nodo A di conoscere tutti i nodi della rete, che ora ha 5 rami (Figura", "6.21b). I successivi messaggi dai nodi F, E completano la topologia, che dapprima ha 8 rami \n(Figura 6.21c) e infine 9 rami (Figura 6.21d). La ricezione dell’ulteriore messaggio LSU dal \nnodo D non porta alcuna nuova conoscenza al nodo A. Esempio 6.21\nPattavinaReti2021.indb   345PattavinaReti2021.indb   345 14/01/2022   16:09:3514/01/2022   16:09:35346  Capitolo 6 – Strato di rete\nEsempio 6.22\nPer la topologia di rete trovata nell’Esempio 6.21 si vuole applicare l’algoritmo di  Dijkstra", "(descritto nel Paragrafo 3.8.4) per il nodo A, determinando l’albero dei cammini minimi \n(shortest path tree , SPT) e la tabella di instradamento12. \nL ’applicazione dell’algoritmo di Dijkstra è riportata nella Tabella 6.15, dove DX e PX indi -\ncano rispettivamente la distanza dalla radice del nodo X e il suo predecessore sul percorso \ndalla radice verso X. Inizialmente (passo 0), l’insieme corrente M dei nodi include solo la", "radice dell’albero, cio è il nodo A, i cui vicini sono i nodi B e F con distanza rispettivamente \n1 e 3. Il nodo B, a distanza minore, viene incluso nell’insieme M (passo 1), determinando i \nnuovi vicini C ed E con distanza rispettivamente 4 e 6, e la nuova distanza 2 del nodo F \ndalla radice dell’albero. Di questi vicini, il nodo F viene aggiunto all’insieme M (passo 2), \nessendo il più “vicino” alla radice A dell’albero. Questo nodo viene a costituire il nuovo", "predecessore del nodo E dalla radice con nuova distanza 4, che è minore della precedente. \nDei nuovi vicini all’albero corrente, cio è C, D, E, i nodi C ed E si trovano ora alla stessa \ndistanza dalla radice dell’albero e, arbitrariamente, si sceglie di includere nell’albero il nodo \nC (passo 3), con nuovi vicini i nodi D ed E. Anche questa volta l’ultimo nodo incluso in M \n12  Per semplicità si assume che le destinazioni dei datagrammi siano rappresentate da nodi di rete, anzich é dalle", "reti raggiungibili da questi nodi con inoltro diretto.B1\nF3NodoA\nA1\nC3\nE5\nF1NodoB\nB3\nD2NodoC\nA3\nB1\nD6\nE2NodoF\nB5\nD1\nF2NodoE NodoD\nC2\nE1\nF6\nFigura 6.20 Messaggi LSU emessi secondo l’Esempio 6.21.\n1\n153\nF EAB C\n1\n153\n2\nF EADB C\n(a) - Topologia dopo LSU del nodo B. (b) - Topologia dopo LSU del nodo C.\n1\n3152\n26\nF EA DBC3\n1\n3153\n2\n216\nF EA DBC\n(c) - Topologia dopo LSU del nodo F . (d) - Topologia dopo LSU del nodo E.\nFigura 6.21 Generazione della topologia di rete nel nodo A secondo l’Esempio 6.21.", "PattavinaReti2021.indb   346PattavinaReti2021.indb   346 14/01/2022   16:09:3614/01/2022   16:09:366.5 Protocolli di instradamento  347\nTabella 6.15 Applicazione dell’algoritmo di Dijkstra secondo l’Esempio 6.22.\nB C D E F\nPasso M DBPBDCPCDDPDDEPEDFPF\n0 A 1 A 3 A\n1 A,B 4 B 6 B 2 B\n2 A,B,F 4 B 8 F 4 F\n3 A,B,C,F 6 C 4 F\n4 A,B,C,E,F 5 E\n5 A,B,C,D,E,F\nrende disponibile un nuovo percorso più breve verso la radice; infatti il nodo D si trova a", "distanza 6 dal nodo A con il nuovo predecessore C. Il nodo E a distanza 4 dalla radice viene \nincluso nell’insieme M (passo 4). L ’algoritmo ha termine quando l’ultimo nodo, cio è D, \nviene a completare l’insieme M dei nodi dell’albero (passo 5). La Tabella 6.19 consente di \nricavare facilmente l’albero dei cammini minimi (SPT) individuando ricorsivamente il pre -\ndecessore di ogni nodo, fino a giungere alla radice. Il risultato finale è mostrato in Figura", "6.2213. La Figura 6.23 riporta la tabella di instradamento del nodo A che viene ricavata ad \nogni passo dell’algoritmo di Dijkstra, mostrando all’ultimo passo che il next hop  verso ogni \ndestinazione è naturalmente sempre il nodo B. \nI messaggi OSPF sono scambiati tra designated router  come payload dei datagrammi IP, \ncome rappresentato in Figura 1.14, per mezzo di un indirizzo IP multicast dedicato; a questo", "scopo viene utilizzata la capacità di invio multicast della rete sottostante, quando disponibile. \nQuindi, dal punto di vista dell’architettura a strati, OSPF dovrebbe essere posto su un livello \nsuperiore rispetto a IP. Tuttavia, esso viene comunemente indicato allo stesso livello di IP per \ndue motivi principali: (i) OSPF è un protocollo di routing e quindi appartiene al livello 3 per \ndefinizione; (ii) il livello superiore definisce i veri e propri protocolli di trasporto, che sono", "completamente estranei al protocollo OSPF. \n13  Si può osservare che l’albero dei cammini minimi di Figura 6.22 coincide con quello di Figura 3.70f, dato che \nentrambi si riferiscono alla stessa topologia di rete. Tuttavia l’algoritmo di Dijkstra applicato ora ha dato luogo \na una diversa evoluzione dell’albero corrente, in quanto ora al passo 3 si è selezionato il nodo C (vedi Tabella", "6.15), mentre nell’Esempio 3.21 è stato selezionato il nodo E (vedi Tabella 3.3), entrambi a distanza 4 dalla radice.1\n13\n21\nFEADBC\nFigura 6.22 Albero dei cammini minimi secondo l’Esempio 6.22.\nPattavinaReti2021.indb   347PattavinaReti2021.indb   347 14/01/2022   16:09:3614/01/2022   16:09:36348  Capitolo 6 – Strato di rete\nCon sistemi autonomi molto grandi dove è adottato il protocollo OSPF, il traffico di aggiorna -", "mento delle tabelle di instradamento, inviato in flooding da ogni router a tutti gli altri router \ndell’AS, potrebbe sovraccaricare eccessivamente la rete. In questi casi è possibile suddividere \nil sistema autonomo in più aree, ognuna delle quali si comporta, dal punto di vista del proto -\ncollo OSPF, come un sistema autonomo. In ognuna delle aree si adotta il protocollo OSPF con \nuna metrica di costo arbitraria, così che diverse aree possono adottare metriche differenti. I", "router di un’area hanno la conoscenza dettagliata della topologia della loro area, mentre le Tabella 6.16 Tabella di instradamento del router R4 secondo l’Esempio 6.23. \nRete di destinazione Costo NH router\nN17 R5\nN26 R6\nN3- Diretto\nN4- Diretto\nN53 R6\nN610 R5\nN77 R6M→ A A,B A,B,F A,B,C,F A,B,C,E,F A,B,C,D,E,F\nDest.CostoNH CostoNH CostoNH Costo NH CostoNH Costo NH\nA - - - - - -\nB 1 B 1 B 1 B 1 B 1 B 1 B\nC ∞ 4 B 4 B 4 B 4 B 4 B\nD ∞ ∞ 8 B 6 B 5 B 5 B\nE ∞ 6 B 4 B 4 B 4 B 4 B", "D ∞ ∞ 8 B 6 B 5 B 5 B\nE ∞ 6 B 4 B 4 B 4 B 4 B\nF 3 F 2 B 2 B 2 B 2 B 2 B\nFigura 6.23 Tabella di instradamento del nodo A secondo l’Esempio 6.22. \nSi consideri il sistema autonomo rappresentato nella Figura 6.24a che comprende 7 router e \n7 reti, delle quali la struttura non viene specificata. I costi stimati per i collegamenti uscenti \nda ogni router sono mostrati nella stessa figura. Si vuole costruire l’albero dei cammini", "minimi per il router R4 che risulta dallo scambio di LSU tra i nodi e la relativa tabella di \ninstradamento. \nCome già descritto nel Paragrafo 3.8.4, la conoscenza delle distanze tra tutti i router del \nsistema autonomo, risultante dallo scambio di LSU, consente a ognuno di essi di costruire \nl’albero dei cammini minimi verso ogni altro router, applicando l’algoritmo di Dijkstra. La \nFigura 6.24b mostra questo albero nel caso del router R4 e la relativa tabella di instrada -", "mento è riportata nella Tabella 6.16. Esempio 6.23\nR1R2\nR4R3\n35\n3\n34\n36\n12112\n5R5R66\n24\n1R736\n6\nN4N2\nN5N1\nN3\nN6 N774\nR1R2\nR4R3\n3\n3\n1212\n5R5\nR61R73\nN4N2\nN5N1\nN3\nN6 N77\n(a) (b)\nFigura 6.24 Sistema autonomo secondo l’Esempio 6.23 (a) e relativo SPT (b) per R4.\nPattavinaReti2021.indb   348PattavinaReti2021.indb   348 14/01/2022   16:09:3714/01/2022   16:09:376.5 Protocolli di instradamento  349\ninformazioni disponibili sulle altre aree sono limitate alle reti raggiungibili al loro interno e", "al costo dei relativi percorsi. Con questa architettura il flooding dei messaggi LSU è limitato \nall’interno di ogni area, anche se, naturalmente, l’informazione sulla raggiungibilità delle reti \ninterne all’AS deve giungere a tutti i router dell’AS. \nLa configurazione delle aree è gerarchica: solo una di esse, denominata area dorsale  \n(backbone area ) e comprendente un backbone router , svolge il ruolo di interconnessione tra", "le aree. A questo scopo alcuni router, detti router di confine di area ( area border router ) \nsono connessi a due o più aree, includendo necessariamente l’area dorsale. Il compito di questi \nrouter è quello di trasferire tra le aree le informazioni sulle reti che si trovano al loro interno, \nsenza tuttavia fornire dettagli sulla topologia di rete nell’area. Uno o più backbone router \nsvolgono poi il ruolo di router di confine dell’AS  (AS boundary router ), in quanto forniscono", "la connettività con altri sistemi autonomi. La Figura 6.25 mostra un esempio di sistema auto -\nnomo dove sono state definite tre aree in aggiunta all’area dorsale. \nIl protocollo OSPF consente anche di: \n• effettuare un bilanciamento dinamico del carico nel sistema; infatti, in presenza di più \npercorsi di uguale costo verso una certa destinazione, l’instradamento dei datagrammi \nrelativi viene ripartito sui differenti percorsi;\nBackbone\nareaASboundary\nrouter\nAreaborder\nrouter\nArea1\nArea2A rea3", "router\nAreaborder\nrouter\nArea1\nArea2A rea3\nFigura 6.25 Definizione delle aree nel protocollo OSPF.Con sistemi autonomi molto grandi dove è adottato il protocollo OSPF, il traffico di aggiorna -\nmento delle tabelle di instradamento, inviato in flooding da ogni router a tutti gli altri router \ndell’AS, potrebbe sovraccaricare eccessivamente la rete. In questi casi è possibile suddividere \nil sistema autonomo in più aree, ognuna delle quali si comporta, dal punto di vista del proto -", "collo OSPF, come un sistema autonomo. In ognuna delle aree si adotta il protocollo OSPF con \nuna metrica di costo arbitraria, così che diverse aree possono adottare metriche differenti. I \nrouter di un’area hanno la conoscenza dettagliata della topologia della loro area, mentre le Tabella 6.16 Tabella di instradamento del router R4 secondo l’Esempio 6.23. \nRete di destinazione Costo NH router\nN17 R5\nN26 R6\nN3- Diretto\nN4- Diretto\nN53 R6\nN610 R5\nN77 R6", "N3- Diretto\nN4- Diretto\nN53 R6\nN610 R5\nN77 R6\nPattavinaReti2021.indb   349PattavinaReti2021.indb   349 14/01/2022   16:09:3714/01/2022   16:09:37350  Capitolo 6 – Strato di rete\n• adottare scambi di informazioni di tipo autenticato tra router per aumentare il grado \ndi sicurezza della rete.\nIl formato dell’header del generico messaggio OSPF è riportato nella Figura 6.26. Oltre alla \nversione del protocollo, esso indica il tipo di messaggio, come specificato nella Tabella 6.14.", "L ’header riporta l’indirizzo IP del router che origina il messaggio, l’identificazione dell’area \ncui il router appartiene (assume valore 0 se non sono definite aree), un campo di controllo di \nerrore e il meccanismo di autenticazione. \n6.5.4 Border gateway protocol\nIl protocollo border gateway protocol  (BGP), definito ora nella versione 4 (BGP-4) [RFC4271], \nrappresenta il principale protocollo di instradamento di tipo EGP. Esso permette a router", "appartenenti a sistemi autonomi diversi di scambiarsi le informazioni necessarie a determina -\nre l’instradamento di datagrammi attraverso la rete Internet, per raggiungere una determinata \nrete di destinazione. \nSono state definite due versioni del protocollo BGP: (i) BGP esterno  (external BGP, \neBGP), che viene utilizzato per lo scambio di informazioni di instradamento tra due router di \nconfine di AS appartenenti ad AS diversi; (ii) BGP interno  (internal BGP , iBGP), che propaga", "le informazioni ricevute attraverso eBGP dal router di confine a tutti i router interni all’AS. \nQuindi, all’interno di un AS vengono sempre eseguiti due protocolli di instradamento, e cio è \nun protocollo (RIP oppure OSPF) che determina l’albero dei cammini minimi nell’AS e un \nprotocollo (nelle due versioni eBGP e iBGP) che fornisce le informazioni sulla raggiungibilità \ndi reti esterne all’AS. \nA differenza del protocollo RIP, che utilizza il protocollo inaffidabile UDP, la comu -", "nicazione tra router BGP avviene per mezzo del protocollo affidabile TCP, utilizzando la \nporta 179. Sono definiti quattro tipi di messaggio con cui due router BGP possono scambiarsi \ninformazioni:\n• open : consente a un router di iniziare lo scambio di messaggi BGP con un router vici -\nno nello stesso AS con il protocollo iBGP, in AS diversi con il protocollo eBGP; questo \nmessaggio permette l’identificazione del sistema autonomo e del router mittente, che", "indica anche il massimo intervallo di tempo con cui comunicherà periodicamente gli \naggiornamenti delle proprie informazioni di instradamento;\nBit\n31 16 0\n1\n2\n3\n4\n5Source routerIPaddressMess agelength Version\nAreaID\nAuthenticationtype Checksum\nAuthentication (octets0-3)8\nType\nAuthentication (octets4-7) 6\nFigura 6.26 Formato dell’header dei messaggi OSPF.\nPattavinaReti2021.indb   350PattavinaReti2021.indb   350 14/01/2022   16:09:3814/01/2022   16:09:386.5 Protocolli di instradamento  351", "• update : permette a un router di segnalare ai propri vicini il percorso verso una desti -\nnazione e le relative caratteristiche, oppure di revocare percorsi precedentemente \nannunciati verso altre destinazioni;\n• keepalive : viene inviato periodicamente da un router ai propri vicini, in assenza di \nmessaggi update  da inoltrare, per segnalare la propria attività;\n• notification : segnala che è stata rilevata una condizione di errore, per esempio in un", "messaggio precedentemente ricevuto, oppure richiede la chiusura della sessione BGP. \nI messaggi update  del protocollo BGP forniscono per ogni rete di destinazione annunciata \nun insieme di parametri che prendono il nome di attributi  e includono, oltre a informazioni \nopzionali, le seguenti informazioni obbligatorie:\n• origine : sorgente dell’informazione sul percorso (protocollo IGP, protocollo EGP, \naltro);\n• next hop  (NH): indirizzo IP del primo router lungo il percorso verso la rete di", "destinazione;\n• percorso, AS1,...,ASn: sequenza degli identificatori ( ASN) degli n  sistemi autonomi \nche il messaggio ha attraversato e che quindi costituiscono la strada per raggiungere \na ritroso la rete annunciata.\nDato che il protocollo BGP specifica la sequenza di sistemi autonomi da attraversare per \nraggiungere una determinata rete di destinazione, BGP viene classificato come protocollo \ndi instradamento di tipo “path vector”, in quanto le informazioni inviate sono solo vettori di", "percorsi, non distanze come nei protocolli IGP. Le informazioni che vengono comunicate con \nil protocollo BGP riguardano la raggiungibilità delle reti, ma non contengono alcun dettaglio \nsui costi associati ai percorsi specificati; la metrica di costo scelta dal singolo amministra -\ntore è infatti un’informazione che non viene comunicata all’esterno di un AS. Da ciò deriva \nche ogni router costruisce la propria tabella di instradamento per reti esterne al proprio AS", "operando scelte autonome sulla base dei vettori ricevuti, e tali scelte non sono in alcun modo \nassociate ai costi dei relativi percorsi interdominio. Le scelte possono anche essere di natura \nstrettamente “politica”, come per esempio evitare di attraversare domini indesiderati, oppure \nrifiutare di ricevere traffico in transito. \nIl protocollo BGP prevede tre tipologie di procedure per l’attuazione del protocollo di", "instradamento EGP, cio è acquisizione del vicino, raggiungibilità del vicino e raggiungibilità \ndelle reti. \nNella fase di acquisizione del vicino , un router che voglia instaurare una relazione di \nvicinanza (e quindi di cooperazione) con un altro router instaura una connessione TCP ed \nemette su questa connessione un messaggio open . Il messaggio open , inviato da ognuna delle \ndue terminazioni della connessione TCP, contiene l’identificazione del sistema autonomo cui", "appartiene il router (numero ASN), l’indirizzo IP del router mittente, nonch é il valore del \nperiodo di aggiornamento proposto ( hold time ). Il router indirizzato, che accetta la richiesta, \nrisponde con un messaggio keepalive . Il protocollo BGP-4 consente anche di attuare una pro -\ncedura di autenticazione [RFC5925] tra router vicini, al fine di aumentare la sicurezza nello \nscambio e nell’aggiornamento delle informazioni di instradamento.", "PattavinaReti2021.indb   351PattavinaReti2021.indb   351 14/01/2022   16:09:3814/01/2022   16:09:38352  Capitolo 6 – Strato di rete\nIl valore hold time ricevuto nel messaggio open consente di verificare continuamente la \nraggiungibilità del vicino;  infatti, in assenza di messaggi dal proprio vicino entro un inter -\nvallo di tempo di durata hold time , il router considera non più raggiungibile il router vicino", "e non più utilizzabili le informazioni di instradamento da esso ricevute. Quindi, un router \nmantiene il rapporto di vicinanza inviando messaggi di aggiornamento update  o, in assenza \ndi questi, messaggi keepalive , con periodicità massima hold time . \nLa procedura che definisce la raggiungibilità delle reti consiste semplicemente nel man -\ntenere una tabella nel router che specifica, per ogni rete raggiungibile, il percorso da seguire", "per mezzo di una sequenza di identificatori di sistemi autonomi (ASN); a ogni aggiornamento \ndella tabella in seguito a informazioni di instradamento ricevute, il router comunica ai propri \nvicini con messaggi update  le variazioni apportate ai singoli percorsi. Un messaggio update  \nindica un insieme di reti di destinazione che il mittente dichiara non più raggiungibili e una \nrete raggiungibile di cui si vuole aggiornare il percorso, per la quale vengono specificati i", "valori correnti degli attributi.\nOccorre osservare che l’adozione di un algoritmo path vector invece di uno distance vector  \nelimina a priori il problema del count-to-infinity  presentato nel Paragrafo 3.8.3, nonché dell’at -\ntraversamento multiplo di uno stesso AS (loop di percorso). Infatti, un router che invia una \nnotifica di percorso al di fuori del proprio AS aggiunge il proprio ASN alla lista degli AS che", "determina il percorso verso la destinazione nel messaggio. Un router che riceve una notifica \ndi percorso da un altro AS scarta l’annuncio, che non viene quindi ulteriormente propagato, \nse il proprio ASN compare già nella lista degli AS attraversati dal messaggio. Ciò evita la \ncreazione di loop di percorso con più attraversamenti di uno stesso AS.\nUn aspetto fondamentale del routing interdominio è rappresentato dalla modalità di scelta", "del percorso verso una rete di destinazione, quando sono stati ricevuti più annunci, che indica -\nno la raggiungibilità della destinazione su percorsi diversi. In assenza di indicazioni specifiche \nsulla natura di ognuno degli AS da attraversare, per esempio l’estensione dell’AS che influen -\nza il tempo di attraversamento, l’affidabilità dell’AS che determina la probabilità di scarto dei \ndatagrammi, ecc., generalmente vengono applicate le seguenti regole:", "• il percorso selezionato è quello che ha i migliori attributi, secondo i criteri soggettivi \nstabiliti dall’amministratore del dominio;\n• a parità di attributi, si sceglie il percorso che attraversa il minor numero di AS;\n• a parità di attributi e di numero di AS da attraversare, si sceglie il percorso il cui router \ndi uscita dall’AS sia il più “vicino”, cio è a minima distanza secondo l’algoritmo IGP14.", "Nel modello a strati riportato nel Paragrafo 1.3.3, BGP appare come utilizzatore del protocollo \ndi trasporto TCP, come deve essere in base alle modalità di trasporto dei propri messaggi; \nnonostante ciò, BGP definisce le procedure che devono attuare i router a livello di rete. Questo \nfatto, che potrebbe apparire strano, mostra come il modello a strati abbia significative limita -\nzioni nel rappresentare configurazioni di rete particolarmente complesse, nate al di fuori di un", "approccio conforme a un’architettura a strati. \n14 Questa tecnica di instradamento viene generalmente denominata “hot potato routing”.Tabella 6.17 Percorsi interdominio finali secondo l’Esempio 6.24.\nSorgente Destinazione NH router AS path\nR1N3, N4, N5, N6R2AS1, AS2\nN7, N8R2AS1, AS2, AS3\nR2N3, N4, N5, N6R3AS1, AS2\nN7, N8R3AS1, AS2, AS3\nR3N1, N2R2AS2, AS1\nN7, N8R4AS2, AS3\nR4N1, N2R3AS2, AS1\nN7, N8R6AS2, AS3\nR5N1, N2R3AS2, AS1\nN7, N8R6AS2, AS3\nR6N1, N2R5AS2, AS1\nN7, N8R7AS2, AS3", "R6N1, N2R5AS2, AS1\nN7, N8R7AS2, AS3\nR7N1, N2R6AS3, AS2, AS1\nN3, N4, N5, N6R6AS3, AS2\nPattavinaReti2021.indb   352PattavinaReti2021.indb   352 14/01/2022   16:09:3814/01/2022   16:09:386.5 Protocolli di instradamento  353\nSi consideri l’insieme dei tre AS rappresentati in Figura 6.27: due AS sono stub (AS1 e \nAS3) e uno è di transito (AS2). Due reti sono raggiungibili nei sistemi AS1 e AS3, quattro \nreti nel sistema AS2; un collegamento punto-punto tra i router R2 e R3 interconnette AS1 e", "AS2, mentre un altro tra i router R6 e R7 interconnette AS2 e AS3. Si vogliono determinare i \nmessaggi update  del protocollo BGP originati dai router, nonché le tabelle di instradamento \nfinali dei router, assumendo che RIP sia il protocollo IGP dei singoli AS. \nInizialmente, sono i router di confine di AS a scambiarsi i primi messaggi eBGP update  per \nannunciare le reti raggiungibili nel proprio AS. Utilizzando una connessone TCP, vengono", "scambiati i seguenti messaggi15 <Network ,NH,AS1,...,ASn>: <N1,N2,R2,AS1> da R2 a R3, \n<N3,N4,N5,N6,R3,AS2> da R3 a R2, <N3,N4,N5,N6,R6,AS2> da R6 a R7, <N7,N8,R7,AS3> da \nR7 a R6, rispettivamente. Ricevendo questi messaggi, i router R3 e R6 inviano su connessio -\nni TCP nuovi messaggi, questa volta di tipo iBGP, a tutti gli altri router di AS2, annuncian -\ndo le nuove reti raggiungibili al di fuori dell’AS. Altrettanto fa il router R2 nei confronti del", "router R1. Dopo le successive propagazioni di tutti gli aggiornamenti, i percorsi finali dai \nsingoli router verso ogni rete sono mostrati nella Tabella 6.17. Eseguito l’algoritmo di instra -\ndamento intradominio RIP ed equiparata la distanza verso una rete di un altro AS a quella \nrelativa al router BGP di frontiera del primo AS da attraversare, le tabelle di instradamento \nfinali sono riportate in Tabella 6.18.", "finali sono riportate in Tabella 6.18. \n15 Viene qui omesso il campo sorgente .Esempio 6.24Il valore hold time ricevuto nel messaggio open consente di verificare continuamente la \nraggiungibilità del vicino;  infatti, in assenza di messaggi dal proprio vicino entro un inter -\nvallo di tempo di durata hold time , il router considera non più raggiungibile il router vicino \ne non più utilizzabili le informazioni di instradamento da esso ricevute. Quindi, un router", "mantiene il rapporto di vicinanza inviando messaggi di aggiornamento update  o, in assenza \ndi questi, messaggi keepalive , con periodicità massima hold time . \nLa procedura che definisce la raggiungibilità delle reti consiste semplicemente nel man -\ntenere una tabella nel router che specifica, per ogni rete raggiungibile, il percorso da seguire \nper mezzo di una sequenza di identificatori di sistemi autonomi (ASN); a ogni aggiornamento", "della tabella in seguito a informazioni di instradamento ricevute, il router comunica ai propri \nvicini con messaggi update  le variazioni apportate ai singoli percorsi. Un messaggio update  \nindica un insieme di reti di destinazione che il mittente dichiara non più raggiungibili e una \nrete raggiungibile di cui si vuole aggiornare il percorso, per la quale vengono specificati i \nvalori correnti degli attributi.", "valori correnti degli attributi.\nOccorre osservare che l’adozione di un algoritmo path vector invece di uno distance vector  \nelimina a priori il problema del count-to-infinity  presentato nel Paragrafo 3.8.3, nonché dell’at -\ntraversamento multiplo di uno stesso AS (loop di percorso). Infatti, un router che invia una \nnotifica di percorso al di fuori del proprio AS aggiunge il proprio ASN alla lista degli AS che", "determina il percorso verso la destinazione nel messaggio. Un router che riceve una notifica \ndi percorso da un altro AS scarta l’annuncio, che non viene quindi ulteriormente propagato, \nse il proprio ASN compare già nella lista degli AS attraversati dal messaggio. Ciò evita la \ncreazione di loop di percorso con più attraversamenti di uno stesso AS.\nUn aspetto fondamentale del routing interdominio è rappresentato dalla modalità di scelta", "del percorso verso una rete di destinazione, quando sono stati ricevuti più annunci, che indica -\nno la raggiungibilità della destinazione su percorsi diversi. In assenza di indicazioni specifiche \nsulla natura di ognuno degli AS da attraversare, per esempio l’estensione dell’AS che influen -\nza il tempo di attraversamento, l’affidabilità dell’AS che determina la probabilità di scarto dei \ndatagrammi, ecc., generalmente vengono applicate le seguenti regole:", "• il percorso selezionato è quello che ha i migliori attributi, secondo i criteri soggettivi \nstabiliti dall’amministratore del dominio;\n• a parità di attributi, si sceglie il percorso che attraversa il minor numero di AS;\n• a parità di attributi e di numero di AS da attraversare, si sceglie il percorso il cui router \ndi uscita dall’AS sia il più “vicino”, cio è a minima distanza secondo l’algoritmo IGP14.", "Nel modello a strati riportato nel Paragrafo 1.3.3, BGP appare come utilizzatore del protocollo \ndi trasporto TCP, come deve essere in base alle modalità di trasporto dei propri messaggi; \nnonostante ciò, BGP definisce le procedure che devono attuare i router a livello di rete. Questo \nfatto, che potrebbe apparire strano, mostra come il modello a strati abbia significative limita -\nzioni nel rappresentare configurazioni di rete particolarmente complesse, nate al di fuori di un", "approccio conforme a un’architettura a strati. \n14 Questa tecnica di instradamento viene generalmente denominata “hot potato routing”.Tabella 6.17 Percorsi interdominio finali secondo l’Esempio 6.24.\nSorgente Destinazione NH router AS path\nR1N3, N4, N5, N6R2AS1, AS2\nN7, N8R2AS1, AS2, AS3\nR2N3, N4, N5, N6R3AS1, AS2\nN7, N8R3AS1, AS2, AS3\nR3N1, N2R2AS2, AS1\nN7, N8R4AS2, AS3\nR4N1, N2R3AS2, AS1\nN7, N8R6AS2, AS3\nR5N1, N2R3AS2, AS1\nN7, N8R6AS2, AS3\nR6N1, N2R5AS2, AS1\nN7, N8R7AS2, AS3", "R6N1, N2R5AS2, AS1\nN7, N8R7AS2, AS3\nR7N1, N2R6AS3, AS2, AS1\nN3, N4, N5, N6R6AS3, AS2\nPattavinaReti2021.indb   353PattavinaReti2021.indb   353 14/01/2022   16:09:3814/01/2022   16:09:38354  Capitolo 6 – Strato di rete\n6.6 Protocolli di controlloTabella 6.18 Tabella di instradamento dei router secondo l’Esempio 6.24.\nR1R2R3R4R5R6R7\nDest. NH Cost NH Cost NH Cost NH Cost NH Cost NH Cost NH Cost\nN1 Dir. - R1 1 R2 1 R3 2 R3 2 R5 3 R6 1\nN2 Dir - Dir - R2 1 R3 2 R3 2 R5 3 R6 1", "N2 Dir - Dir - R2 1 R3 2 R3 2 R5 3 R6 1\nN3 R2 2 R3 1 R4 1 Dir. - R6 1 Dir. - R6 1\nN4 R2 2 R3 1 R5 1 R6 1 Dir. - Dir. - R6 1\nN5 R2 2 R3 1 Dir. - R3 1 Dir. - R5 1 R6 1\nN6 R2 2 R3 1 Dir. - Dir. - R3 1 R4 1 R6 1\nN7 R2 2 R3 1 R5 3 R6 2 R6 2 R7 1 Dir. -\nN8 R2 2 R3 1 R5 3 R6 2 R6 2 R7 1 Dir. -\nIl protocollo IP non è il solo protocollo di strato di rete utilizzato nella rete Internet. Sono stati \ninfatti definiti altri protocolli che svolgono funzioni di supporto al protocollo IP, per esem -", "pio per gestire tutte le situazioni in cui si verificano eventi non previsti dal protocollo IP. Si \nconsideri il caso in cui un datagramma rechi un indirizzo di destinazione non raggiungibile, \noppure quello in cui il payload di un datagramma è più grande della capacità di trasferimento \ndelle unità informative sulle linee uscenti da un router. Anche gli scambi di informazioni tra \nrouter sui tempi di attraversamento della rete, oppure sulle netmask utilizzate, sono funziona -", "lità previste nella rete Internet, che quindi necessitano di supporto da parte di uno specifico \nprotocollo. \nVengono ora descritti due dei protocolli di controllo che utilizzano il protocollo IP per lo \nscambio di messaggi tra router/host, e cio è ICMP e DHCP. Il protocollo ICMP rappresenta il \nprincipale protocollo di controllo che regola tutte le situazioni in cui vi è necessità di scambio \ndi informazioni tra router per segnalare errori, oppure per richiedere informazioni. Il proto -", "collo DHCP, invece, è utilizzato per l’assegnazione automatica di un indirizzo IP agli host che \nvogliono connettersi a Internet. AS2N6\nN5N4\nAS1AS3N7N8R1\nR2 R3R4\nR5R6\nR7 N2N3\nN1\nFigura 6.27 Rete costituita da tre AS secondo l’Esempio 6.24.\nPattavinaReti2021.indb   354PattavinaReti2021.indb   354 14/01/2022   16:09:3814/01/2022   16:09:386.6 Protocolli di controllo  355\n6.6.1 Internet control message protocol", "6.6.1 Internet control message protocol\nLa rete Internet rende possibile segnalare errori che si verifichino nelle procedure di comu -\nnicazione tra router, oppure tra router e host; ciò si realizza mediante il protocollo Internet \ncontrol message protocol  (ICMP) [RFC792]. Lo scopo di questo protocollo è duplice: (i) \nconsentire lo scambio di informazioni tra router/host; (ii) segnalare situazioni di errore che si \nverificano durante il trasferimento in rete di un datagramma IP.", "Lo scambio di informazioni tra router/host, ad esempio per assicurarsi della presenza \nin rete di un determinato host, oppure per verificare il tempo di attraversamento della rete, \navviene attraverso procedure di interrogazione/risposta. La segnalazione di errore consiste \nnel notificare al router/host sorgente del datagramma l’occorrenza di un evento imprevisto \ndurante il trasferimento in rete, quale una destinazione non raggiungibile, l’indisponibilità di", "memoria per ricevere e reinstradare un datagramma, ecc. La segnalazione di errore rilevato è \nsempre inviata alla sorgente del datagramma che ha generato la condizione di errore, anche se \nl’errore è dovuto a un comportamento non corretto di un router intermedio, in quanto l’unico \nindirizzo di rete disponibile è quello della sorgente del datagramma stesso. Il protocollo ICMP \nutilizza i datagrammi IP come unità informative per il trasferimento dei messaggi di controllo", "tra router/host, come rappresentato in Figura 1.14.\nI messaggi ICMP sono caratterizzati da formati diversi, essendo diverse le funzioni svolte, \nma i primi quattro byte sono uguali per tutti i messaggi. Essi comprendono i campi:\n• type (8 bit): identifica il tipo di messaggio;\n• code  (8 bit): fornisce ulteriori informazioni sul tipo di messaggio;\n• checksum  (16 bit): consente il controllo degli errori dell’intero messaggio ICMP.", "I tipi di messaggio ICMP  [RFC792, RFC950] sono riportati nella Tabella 6.19. Alcuni di \nquesti messaggi, Destination unreachable, Source quench, Redirect, Time exceeded, Parame -\nter problem,  la cui funzione è quella di segnalare un problema o un evento di errore, hanno lo \nTabella 6.19 Tipi di messaggio ICMP.\nType Messaggio\n10 Echo reply\n13 Destination unreachable\n14 Source quench\n15 Redirect\n18 Echo\n 9 Router advertisement\n10 Router solicitation\n11 Time exceeded\n12 Parameter problem", "11 Time exceeded\n12 Parameter problem\n13 Timestamp\n14 Timestamp reply\n17 Address mask request\n18 Address mask reply\nPattavinaReti2021.indb   355PattavinaReti2021.indb   355 14/01/2022   16:09:3814/01/2022   16:09:38356  Capitolo 6 – Strato di rete\nstesso formato, che è riportato nella Figura 6.28. In aggiunta ai quattro byte iniziali di intesta -\nzione comuni a tutti i messaggi ICMP, questi comprendono l’header e i primi 8 byte del data -", "gramma per il quale il messaggio ICMP segnala un problema. \nIl messaggio Destination unreachable ( type = 3), inviato da un router, segnala al mittente \ndi un datagramma IP che il datagramma non può essere consegnato perché , per esempio, è \nsconosciuta la rete di destinazione ( Net unreachable, code  = 0), l’host di destinazione ( Host \nunreachable , code  = 1), la porta di destinazione nel protocollo di trasporto ( Port unreachable ,", "code  = 3), oppure perché il datagramma deve essere frammentato ma il bit DF del datagramma \nproibisce la frammentazione ( Fragmentation needed and DF set , code  = 4), ecc. Il messaggio \nSource quench  (type = 4) viene invece inviato dal router ogni volta che scarta un datagram -\nma, la cui intestazione è copiata nel messaggio ICMP, per segnalare al mittente una propria \nsituazione di congestione della memoria utilizzata per i datagrammi IP. Alla ricezione di", "questi messaggi, il mittente dovrebbe ridurre la frequenza di emissione dei datagrammi lungo \nil percorso che attraversa il router in stato di congestione. Il messaggio Redirect  (type = 5) \nviene utilizzato per segnalare alla sorgente di un datagramma IP un percorso migliore verso \nla destinazione del datagramma in transito; questa informazione consiste in un indirizzo IP \ndel router da selezionare che è contenuto nella seconda parola da 32 bit del messaggio ICMP", "(type-dependent data ). Il messaggio Time exceeded  (type = 11) segnala semplicemente alla sor -\ngente di un datagramma IP che questo è stato scartato in un router per esaurimento del numero \ndi “salti” previsti per il datagramma (campo TTL del datagramma), oppure alla destinazione \nper esaurimento del tempo previsto per il riassemblaggio di un datagramma frammentato. Il \nmessaggio Parameter problem  (type = 12) viene inviato a seguito dello scarto di un datagram -Bit\n31 16 8 0\nChecksu m", "31 16 8 0\nChecksu m\nType-dependentdataType Code\nIPhead er+64bitoforiginaldatagram\nFigura 6.28 Formato dei messaggi ICMP che segnalano un problema.\nSi vuole descrivere la procedura denominata “Path MTU (PMTU) discovery” utilizzata da \nun router/host per determinare la MTU ( maximum transmission unit ) lungo un percorso \nsorgente-destinazione attraverso i messaggi ICMP. Si consideri un router RA che voglia", "inviare un file verso una destinazione RB con la massima efficienza di utilizzazione delle \nrisorse di comunicazione. \nIl router RA invia datagrammi verso la destinazione RB con dimensioni del payload Lp \ndecrescenti a partire da una dimensione massima Lpmax, con il bit DF = 1 che vieta la fram -\nmentazione del datagramma durante l’attraversamento della rete. Lpmax rappresenta per la \nsorgente la dimensione ideale del payload, cio è tale per cui la dimensione Lh dell’header del", "datagramma implica un’efficienza di trasferimento Lpmax/(Lh + Lpmax) ideale. Se uno qua -\nlunque dei collegamenti lungo il percorso tra RA e RB prevede un valore di MTU inferiore Esempio 6.25\nPattavinaReti2021.indb   356PattavinaReti2021.indb   356 14/01/2022   16:09:3914/01/2022   16:09:396.6 Protocolli di controllo  357\nma causato da un errore. Il primo byte del campo type-dependent data  costituisce un puntatore \nal byte del datagramma che ha causato il problema.", "Il messaggio Echo  (type = 8) viene utilizzato per verificare se una destinazione è attiva; la \ndestinazione attiva risponde con un messaggio Echo reply ( type = 0). Il formato dei due mes -\nsaggi, riportato nella Figura 6.29a, contiene i campi identifier  e sequence  number,  che servono a quello del datagramma ricevuto ( MTU < Lh + Lpmax), il router che origina il collegamento \nscarta il datagramma e invia al router RA un messaggio ICMP ( Fragmentation needed and", "DF set , type = 3, code  = 4), specificando che la dimensione del datagramma eccede quella \nmassima consentita sul collegamento. La modalità di decremento della dimensione del \npayload a partire dal valore Lpmax deve essere scelta in modo da individuare il massimo \nvalore consentito con un numero minimo di tentativi. \n1\n2 IdentifierS eque ncenumberBit\n31 16 8 0\nChecksum Type Code\n1\n2\nAddressmask 3IdentifierS eque ncenumberBit\n31 16 8 0\nChecksum Type Code(a)\n(b)", "31 16 8 0\nChecksum Type Code(a)\n(b)\nFigura 6.29  Formato dei messaggi ICMP Echo, Echo reply, Address mask request (a)  \ne Address mask reply (b).Si vuole qui descrivere come il programma Traceroute  consenta di individuare il percorso \nseguito dai datagrammi che attraversano Internet verso una specifica destinazione, sia esso \nun router o un host. Si ipotizza che la destinazione sia IETF.org  e che vengano attraversati \ndue router.", "due router.\nNell’host A viene eseguito il comando Traceroute IETF.org  che causa l’invio del messaggio \n#1 ICMP Echo  (type = 8) indirizzato alla destinazione specificata, ponendo a 1 il campo \ntime to live  del datagramma inviato, cio è TTL  = 1, come mostrato in Figura 6.30. In questo \nmodo, il primo router attraversato decrementa il campo TTL  del datagramma IP, che assu -\nme quindi valore 0, determinando la generazione del messaggio ICMP #2 di errore Time", "exceeded  (type = 11) inviato all’host sorgente. La stessa procedura viene ripetuta incremen -\ntando via via il valore iniziale del campo TTL, così che ogni router lungo il percorso invia \na ritroso un messaggio ICMP di errore, fino a che l’ultimo messaggio #5 ICMP Echo  non \nraggiunge la destinazione. Quest’ultima risponde all’host A con il messaggio ICMP #6 \nEcho reply  (type = 0). Dato che tutti i messaggi ICMP ricevuti dall’host A recano l’indica -", "zione del router/host sorgente del messaggio, è quindi disponibile la sequenza dei router \nattraversati per raggiungere la destinazione indicata. Esempio 6.26\nPattavinaReti2021.indb   357PattavinaReti2021.indb   357 14/01/2022   16:09:3914/01/2022   16:09:39358  Capitolo 6 – Strato di rete\nad associare le risposte alle richieste. Questi due messaggi vengono inviati nell’attuazione \ndella nota procedura di “Ping”, disponibile in tutti i maggiori sistemi operativi.", "Il messaggio Address mask request ( type = 17), il cui formato è ancora quello riportato nella \nFigura 6.29a, viene inviato da un host che non conosce la netmask da utilizzare; il router \nindirizzato comunica la netmask adottata negli ultimi quattro byte del messaggio di risposta \nAddress mask reply ( type = 18), come rappresentato nella Figura 6.29b. Occorre osservare che \nquesti due ultimi messaggi vengono usati ormai raramente, preferendo il più completo proto -", "collo DHCP (vedi Paragrafo 6.6.2) per reperire tutte le informazioni necessarie all’attivazione \ndi una stazione in rete. \nI messaggi Timestamp  e Timestamp reply , i cui formati sono riportati nella Figura 6.31, \nsono utilizzati per valutare i tempi di ritardo dei messaggi e per sincronizzare gli orologi di \nsorgente e destinazione, siano esse host o router. Questi messaggi, oltre ai campi identifier  e", "sequence  number  che consentono di associare le risposte alle richieste, contengono infor -\nmazioni sul contenuto dell’orologio della sorgente e della destinazione, espressi in millise -\ncondi relativamente al giorno corrente (a partire dalla mezzanotte). Il messaggio Timestamp \n(type = 13) reca l’istante di invio del messaggio da parte della sorgente ( originate timestamp ). \nQuesta informazione viene copiata nel messaggio di risposta Timestamp reply  (type =  1 4 ) ,", "in cui vengono aggiunti l’istante di ricezione del messaggio di richiesta ( receive timestamp ) e \nl’istante di inizio trasmissione ( transmit timestamp ). Queste informazioni consentono al router/\nhost che ha originato il messaggio di richiesta di valutare il ritardo di rete, nonché lo sfasa -\nmento degli orologi tra sorgente e destinazione. \nI messaggi Router solicitation  e Router advertisement  [RFC1256] sono inviati per consen -", "tire a un host di conoscere l’indirizzo IP del router che svolgerà la funzione di instradamento \ne di inoltro dei datagrammi al di fuori della (sotto)rete cui l’host si interfaccia. Il messaggio \nRouter solicitation ( type = 10), il cui formato è riportato nella Figura 6.32a, viene inviato 1-Echo(TTL=1)\nR1R2A\n6-Echoreply4-Timeexce eded2-Timeexce ededB3-Echo(TTL=2)5-Echo(TTL=3)\nN1N2N3\nFigura 6.30 Esecuzione del programma Traceroute secondo l’Esempio 6.26.\n1\n2", "1\n2\nOrigin atetimestamp 3Identifier Sequen cenumber31 16 8 0\nChecksum Type Code\nReceivetimestamp\nTransm ittimestamp4\n5Bit\nFigura 6.31 Formato del messaggio ICMP Timestamp e Timestamp reply.\nPattavinaReti2021.indb   358PattavinaReti2021.indb   358 14/01/2022   16:09:4014/01/2022   16:09:406.6 Protocolli di controllo  359\ndall’host in un datagramma con campo TTL =  1, così che il messaggio di risposta potrà essere", "generato solo da un router interfacciato sulla stessa (sotto)rete dell’host. Il messaggio Router \nadvertisement  (type = 9), il cui formato è mostrato nella Figura 6.32b, viene generato dal router \nche riceve il messaggio Router solicitation  e fornisce all’host uno o più indirizzi IP che l’host \npuò utilizzare per raggiungere il router, la cui durata di validità in secondi è specificata dal \ncampo lifetime . Nel caso di più indirizzi IP associati al router nella (sotto)rete e comunicati", "all’host, il cui numero è specificato nel campo num. addr. , il router propone all’host anche \nun ordine di preferenza nella scelta del “default router” da adottare. Il campo addr. entry size  \nspecifica il formato di ogni voce (8 byte nel caso della Figura 6.32b), mentre il campo lifetime  \nindica per quanti secondi gli indirizzi IP forniti restano validi. \n6.6.2 Dynamic host configuration protocol", "6.6.2 Dynamic host configuration protocol\nLa connettività verso Internet di un host all’interno di un’organizzazione richiede che gli sia \nfornito un indirizzo IP, che può essere di tipo pubblico o privato. Nel primo caso, l’indirizzo \nè estratto dal blocco di indirizzi ricevuti dall’organizzazione e assegnato solo a questo host. \nL ’indirizzo IP può essere anche di tipo privato, che non consente la connettività diretta con", "Internet, a meno che nel router di accesso alla rete dell’organizzazione sia disponibile la \nfunzionalità NAT/NAPT che effettui la traduzione da indirizzi privati in indirizzi pubblici \n(Paragrafo 6.4.6). \nL ’assegnazione dell’indirizzo IP, di qualunque tipo esso sia, viene generalmente effettuata \ncon una procedura automatica per evitare che l’assegnazione manuale degli indirizzi possa \ndare luogo a errori. Dynamic host configuration protocol  (DHCP) [RFC2131] è il protocollo", "normalmente utilizzato per svolgere questo compito. L ’assegnazione automatica di indirizzi IP \ncosì attuata consente anche di affrontare le situazioni in cui gli host da connettere a Internet \nsono in numero superiore al numero degli indirizzi IP pubblici disponibili. Ipotizzando che \nil numero di host contemporaneamente attivi non superi il numero di indirizzi IP pubblici \ndisponibili nell’organizzazione, l’assegnazione dinamica di indirizzi agli host consente di for -", "nire connettività a tutti gli host, riassegnando gli indirizzi inutilizzati per un dato intervallo \ndi tempo.1\n2 ReservedBit\n31 16 8 0\nChecksum Type Code\n1\n2\nRouteraddress[1] 3Lifetime31 16 8 0\nChecksum Type Code\nPreferencelevel[1]\nOthe raddresses4Bit\nNum.addr.A ddr.entrysize(a)\n(b)\nFigura 6.32 Formato dei messaggi ICMP Router solicitation (a) e Router advertisement (b).", "PattavinaReti2021.indb   359PattavinaReti2021.indb   359 14/01/2022   16:09:4114/01/2022   16:09:41360  Capitolo 6 – Strato di rete\nUn host che viene attivato su una rete dispone della capacità di inviare e ricevere trame, in \nquanto dotato di un’interfaccia di rete con indirizzo di strato di collegamento (livello 2) cabla -\nto nella scheda (vedi Paragrafo 9.1.3). L ’host necessita quindi di un indirizzo IP per essere in", "grado di inviare e ricevere datagrammi, cio è unità informative dello strato di rete. Un server \nDHCP deve essere quindi disponibile e attivo in ogni rete nella quale è necessario assegnare \nun indirizzo IP agli host che ne fanno richiesta. Il protocollo DHCP in esecuzione nel server \nè un’applicazione che riceve servizio di trasporto dal protocollo UDP, utilizzando la porta 67 \nsul lato server e la porta 68 sul lato client.", "sul lato server e la porta 68 sul lato client. \nLa procedura di assegnazione di indirizzi IP si articola nello scambio di messaggi di livello \napplicativo attraverso i seguenti passi:\n1. Ricerca del server DHCP . L ’host che desidera essere connesso a Internet invia un \nmessaggio di richiesta DHCPDISCOVER identificato da un numero di transazione \n(transaction ID ), indirizzato alla porta 67 di un server DHCP. Questo messaggio viene", "trasportato da un datagramma con indirizzo IP sorgente 0.0.0.0, che rappresenta un \nindirizzo speciale con significato “questo host”, e con indirizzo IP “broadcast” di \ndestinazione 255.255.255.255. Il datagramma incapsulato in una trama con indirizzo \nbroadcast si propaga attraverso la rete cui l’host è connesso.\n2. Offerta del server DHCP . Un server DHCP, attivo sulla stessa rete dell’host e in \nascolto sulla porta 67, risponde al messaggio DHCPDISCOVER inviando un mes -", "saggio DHCPOFFER, che riporta lo stesso transaction ID  ricevuto e reca l’indirizzo \nIP del server e l’indirizzo IP proposto all’host. Questo messaggio, incapsulato in un \ndatagramma con indirizzo IP sorgente del server e indirizzo IP di destinazione broa -\ndcast, viene trasportato dal protocollo UDP dalla porta 67 del server alla porta 68 del \nclient. Nell’ottica di garantire la riutilizzazione degli indirizzi IP inutilizzati, l’offerta", "di indirizzo si riferisce a un determinato intervallo di tempo, denominato lease time . \n3. Richiesta del client DHCP . L ’host, che potrebbe aver ricevuto più di un’offerta nel \ncaso vi siano più server DHCP in ascolto sulla rete, seleziona una di queste e invia un \nmessaggio DHCPREQUEST di accettazione. Questo messaggio, che riporta gli stessi \nindirizzi UDP e IP del messaggio DHCPDISCOVER, contiene l’indirizzo IP del ser -", "ver di cui si accetta l’offerta, l’indirizzo IP proposto che si vuole accettare e il lease \ntime. Il messaggio, inviato in broadcast sulla porta UDP 67, consente agli altri server \nDHCP la riutilizzazione degli eventuali indirizzi IP offerti e non accettati. \n4. Conferma del server DHCP . Quando il server DHCP di cui si accetta l’offerta riceve \nil messaggio DHCPREQUEST, conferma l’assegnazione dell’indirizzo con un messag -", "gio DHCPACK che riporta tutti i parametri presenti nel messaggio DHCPOFFER16.\nNaturalmente il protocollo DHCP prevede anche il rinnovo dell’assegnazione di un indirizzo \nIP il cui lease time  sta per scadere. I messaggi DHCPOFFER e DHCPACK possono anche \ntrasportare altri parametri necessari a configurare l’host che si connette a Internet, quali la \nnetmask associata all’indirizzo IP assegnato, l’indirizzo IP del router lungo la default route", "denominato “deafult gateway”, l’indirizzo IP del server DNS [RFC2132]. \n16 Nel caso l’indirizzo IP non fosse più assegnabile all’host, il server invia un messaggio DHCPNAK.\nPattavinaReti2021.indb   360PattavinaReti2021.indb   360 14/01/2022   16:09:4114/01/2022   16:09:416.6 Evoluzione del protocollo IP  361\nSi vuole rappresentare un esempio di assegnazione di un indirizzo IP con lease time  di \nun’ora da parte di un server DHCP con indirizzo 212.32.3.60.", "Come mostrato in Figura 6.33, il client invia in broadcast sulla rete cui è connesso un \nmessaggio DHCPDISCOVER dalla porta UDP 68 alla porta UDP 67 con transaction ID  \n6105. Un server DHCP presente sulla rete e in ascolto sulla porta 67 risponde inviando in \nbroadcast un messaggio DHCPOFFER, proponendo l’indirizzo 212.32.3.41 con il relativo \nlease time  assegnato. Il client accetta l’unica offerta ricevuta con un messaggio DHCPRE -", "QUEST, inviato ancora in broadcast sulla rete, anche se il messaggio contiene l’identifi -\ncazione del server DHCP. Quest’ultimo conferma infine l’assegnazione dell’indirizzo IP \nall’host con un messaggio DHCPACK, sempre inviato in broadcast sulla rete. Esempio 6.27\nServerClient\nTransactionID:6105\nSource:0.0.0.0,68\nDestinat ion:255.255.255.255,67\nYouraddress:\nServeraddress:\nLeasetime:\nTransactionID:6105\nSource:212.32.3.60,67\nDestination:255.255.255.255,68\nYouraddress:212.32.3.41", "Youraddress:212.32.3.41\nServeraddress:212.32.3.60\nLeasetime:3600\nTransactionID:6105\nSource:0.0.0.0,68\nDestinat ion:255.255.255.255,67\nYouraddress:212.32.3.41\nServeraddress: 212.32.3.60\nLeasetime:3600\nTransactionID:6105\nSource:212.32.3.60,67\nDestination:255.255.255.255,68\nYouraddress:212.32.3.41\nServeraddress:212.32.3.60\nLeasetime:3600DHC PDISCOVE R\nDHCP OFFER\nDHC PREQUEST\nDHCPAC K\nFigura 6.33 Procedura di assegnazione di un indirizzo IP secondo l’Esempio 6.27.", "PattavinaReti2021.indb   361PattavinaReti2021.indb   361 14/01/2022   16:09:4114/01/2022   16:09:41362  Capitolo 6 – Strato di rete\n6.7 Evoluzione del protocollo IP\nIl protocollo IP versione 4 (IPv4) descritto nel Paragrafo 6.3 è stato definito negli anni ’80 e \nsi ritiene comunemente che debba essere aggiornato, in quanto le ipotesi alla base delle spe -\ncifiche dell’epoca non sono più attuali. Infatti, da una parte le esigenze di qualità di servizio", "richieste al protocollo sono oggi notevolmente diverse da quelle di allora, ma soprattutto la \ncrescita esponenziale della rete Internet sta esaurendo rapidamente lo spazio degli indirizzi IP \ndisponibili e assegnabili. Per predisporre un’evoluzione non traumatica verso una nuova strut -\ntura della rete Internet, IETF ha avviato già negli anni ’90 [RFC1752] lo studio della cosiddetta \nrete IP di nuova generazione, detta IPng , o Internet protocol of next generation . Senza entrare", "nei dettagli, ci si limiterà qui a descrivere sommariamente il protocollo IP alla base di questa \nrete, e cio è il protocollo IP versione 6 ( IPv6).\nLe innovazioni principali del protocollo IPv6 [RFC2460] si possono così riassumere:\n• spazio degli indirizzi : vengono ora previsti 128 bit per un indirizzo IP invece dei 32 \nbit della versione 4 del protocollo;\n• header del protocollo : i campi dell’header di base sono stati ridotti per consentire", "un’elaborazione più veloce del datagramma da parte dei router;\n• nuove funzionalità : invece di un solo header, come nel protocollo IPv4, sono ora pre -\nvisti numerosi header, ognuno dedicato a una specifica funzione, che possono essere \naggiunti opzionalmente al datagramma;\n• qualità del servizio di trasferimento : viene definita un’etichetta nell’header che identi -\nfica una classe di servizio per il datagramma e che consente ai router di trattare i vari", "datagrammi a seconda della classe cui appartengono.\nL’header di un datagramma IPv6 , il cui formato è riportato nella Figura 6.34, comprende \nun’intestazione fissa di 40 byte e un insieme di intestazioni aggiuntive opzionali. L ’header di \nbase comprende i seguenti campi:\n• version  (4 bit): specifica la versione del protocollo IP utilizzata dal datagramma (in \nquesto caso la versione è la numero 6);", "questo caso la versione è la numero 6); \n• traffic class  (8 bit): specifica il tipo di servizio di trasferimento richiesto per il data -\ngramma, in quanto a ogni classe corrisponderanno determinate specifiche in termini \ndi trattamento del datagramma nei router attraversati, come per esempio limitare a un \nvalore massimo il tempo di attraversamento del nodo, garantire alla classe una deter -\nminata capacità sui collegamenti attraversati, ecc.;", "• flow label (20 bit): utilizzato per definire le specifiche modalità di trattamento di una \nsequenza di datagrammi nei singoli router attraversati; la definizione di questo campo \npresuppone in qualche modo che, nonostante il servizio IP “connectionless”, il percor -\nso di rete per una determinata coppia sorgente-destinazione possa essere mantenuto \nper la durata del trasferimento di un flusso più o meno lungo di unità informative;", "• payload length  (16 bit): indica la lunghezza complessiva del payload e degli extension \nheader del datagramma in numero di byte; \n• next header  (8 bit): specifica il tipo di campo che segue i 40 byte di intestazione, che \npuò essere l’unità dati del protocollo di livello di trasporto, oppure un altro header;\nPattavinaReti2021.indb   362PattavinaReti2021.indb   362 14/01/2022   16:09:4114/01/2022   16:09:416.7 Evoluzione del protocollo IP  363", "• hop limit  (8 bit): analogamente al campo TTL del protocollo IPv4, definisce un con -\ntatore del numero di “salti” che possono essere compiuti dal datagramma, che viene \ninizializzato a un dato valore massimo e viene via via decrementato a ogni salto; se \nviene raggiunto il valore 0 senza aver raggiunto la (rete di) destinazione richiesta, il \ndatagramma viene scartato;\n• source address  (128 bit): indica l’indirizzo IP del router/host sorgente;", "• destination address  (128 bit): indica l’indirizzo IP del router/host di destinazione. \nSi noti che la semplificazione realizzata nel formato dell’header ha avuto come conseguenza \nanche la rimozione del campo di controllo degli errori header checksum  presente nell’header \ndel datagramma IPv4; si è ritenuto infatti di non dover esercitare anche a livello di rete un con -\ntrollo degli errori che viene comunque effettuato a livello superiore (anche se questo interessa", "comunque i dati dell’utente). Non vi compare, inoltre, alcuna informazione di frammentazio -\nne, in quanto si utilizza a questo scopo uno degli extension header ( fragment ) che contiene gli \nstessi campi fragment offset  e identification  presenti nell’header IPv4 (che, unitamente al bit M \nche indica l’ultimo frammento, servono a ricostruire il datagramma frammentato). \nSi è già detto che, se necessario, è possibile aggiungere all’header di base IPv6 altri hea -", "der. Ciò si realizza adottando nel campo next header  un codice che specifica il successivo \ntipo di header, detto extension header ; questo, a sua volta, indica nel suo primo campo ( next \nheader ) il tipo di header che segue. Quindi si possono concatenare più header, e l’ultimo di \nessi indica il protocollo di livello superiore che ha originato il payload del datagramma, come \nrappresentato nella Figura 6.35. Per esempio, next header  = 6 indica il protocollo TCP, men -", "tre next header  = 17 indica il protocollo UDP. In assenza di payload si utilizza il codice next \nheader  = 59. Sono stati inizialmente specificati sei tipi di extension header , la cui funzione è \nriportata sinteticamente nella Tabella 6.20. \nIPv6 prevede che ogni collegamento della rete Internet possa trasportare datagrammi di \ndimensione di 1280 byte o più grandi. La frammentazione dei datagrammi si rende necessaria 31 16 24 12 4 0\n1\n2\n3\n4\n5Version\nIdentification\nDest inationIPaddress", "3\n4\n5Version\nIdentification\nDest inationIPaddress\nvarSource IPaddressBit\n6\n7\n8\n9\n10\nExtensionheadersNextheaderFlowlabel\nPayloadlengthTrafficclass\nHoplimit\nFigura 6.34 Formato dell’header del datagramma IPv6.\nPattavinaReti2021.indb   363PattavinaReti2021.indb   363 14/01/2022   16:09:4214/01/2022   16:09:42364  Capitolo 6 – Strato di rete\nquando la loro lunghezza eccede la massima dimensione ( maximum transmission unit , MTU)", "delle unità trasportabili in una delle reti attraversate. Allo scopo di rendere più veloce l’elabo -\nrazione dei datagrammi nei router, nel protocollo IPv6 è previsto che solo la sorgente possa \nframmentare un segmento in più datagrammi (nel protocollo IPv4 anche i router possono \nframmentare i datagrammi). Dunque, a meno che non venga adottata la dimensione minima \ndi 1280 byte, è compito della sorgente verificare a priori  che la dimensione di ogni frammen -", "to non ecceda il valore di MTU, per ognuna delle reti attraversate, utilizzando la procedura \nstandard path MTU discovery  [RFC8201]. In caso di scarto di datagramma dovuto a una \nvariazione imprevista di instradamento, che implichi l’attraversamento di una (sotto)rete con \nMTU inferiore a quella prevista, il nodo che opera lo scarto invia alla sorgente un messaggio \ndi errore ( packet too big ) del protocollo ICMPv6 [RFC2463] per segnalare l’accaduto.", "Avendo già osservato che il rapido esaurirsi degli indirizzi IP è stato uno dei motivi che ha \nspinto lo sviluppo del protocollo IPv6, occorre osservare che la scelta di indirizzi a 128 bit di \nquesto protocollo costituisce veramente una soluzione “a prova di futuro”. Basti pensare che \n128 bit consentono di indirizzare 2128 = 3,4 × 1038 oggetti; considerando la popolazione attuale \ndella Terra e la sua superficie, ciò corrisponde a circa 1028 indirizzi per persona vivente e circa", "1024 indirizzi per metro quadrato terrestre.\nLa completa interoperabilità tra apparati secondo il nuovo protocollo IPv6 richiede che \ntutti i dispositivi di rete possano operare secondo entrambi gli standard, almeno fino a quando \ntutti gli apparati non siano conformi al nuovo standard. La realtà è tuttavia molto diversa, dato \nche solo una piccola parte dei dispositivi di rete è compatibile con il nuovo standard IPv6,", "anche se l’evoluzione dell’intera rete Internet verso una completa utilizzazione del protocollo \nIPv6 è ormai in corso da più di un decennio. \nLa difficoltà più diffusa nel garantire interoperabilità tra apparati di rete ha luogo quando \ndatagrammi emessi secondo il nuovo standard IPv6 debbano attraversare porzioni di rete \ndove i router operano secondo il vecchio standard IPv4. In questo caso, i nuovi router IPv6", "che si trovano “ai confini” dell’isola di rete IPv4 possono realizzare l’attraversamento dell’i -\nsola incapsulando i datagrammi IPv6 come payload di nuovi datagrammi IPv4 di cui viene TransportlayersegmentIPv6\nheaderExtension\nheaderExtens ion\nheader...Opzionale\nFigura 6.35 Formato del datagramma IPv6.\nTabella 6.20 Tipi di extension header e valore del campo next header.\nHeader Tipo di informazione Valore\nHop-by-hop options Informazioni da elaborare nodo per nodo 0", "Routing Percorso di rete richiesto per il datagramma 43\nFragment Tipo di frammentazione effettuata 44\nEncapsulating security payload Informazioni di sicurezza per la destinazione 50\nAuthentication Informazioni di autenticazione sul mittente 51\nDestination options Informazioni addizionali per la destinazione 60\nPattavinaReti2021.indb   364PattavinaReti2021.indb   364 14/01/2022   16:09:4214/01/2022   16:09:426.8 Protocollo MPLS  365", "generato il nuovo header. La Figura 6.36a mostra un esempio di questa situazione in cui due \nhost IPv6 si scambiano datagrammi che devono attraversare due router IPv6 e un router IPv4. \nL ’attraversamento di tutti i router lungo questo percorso è reso possibile dall’operazione svolta \ndai due router IPv6 “ai confini” dell’isola IPv4, che eseguono entrambi i protocolli IP, IPv6 \nverso i router di nuova generazione e IPv4 verso i router di vecchia generazione. Ognuno", "di questi router IPv6, infatti, dovendo inviare un datagramma al router IPv4 aggiungerà un \nnuovo header H4 al datagramma IPv6 (che reca un header H6), così che sarà possibile instra -\ndare il datagramma attraverso l’isola di rete di vecchia generazione. Dal punto di vista logico, \ncome mostrato in Figura 6.36 b, è come se i due router IPv6 ai confini dell’isola IPv4 fossero \nconnessi attraverso un collegamento diretto, chiamato IP tunnel . \n6.8 Protocollo MPLS", "6.8 Protocollo MPLS\nIl trasferimento in rete dei datagrammi secondo il protocollo IP è conforme al principio di una \nrete “connectionless”, in cui ogni datagramma attraversa la rete lungo un percorso indipen -\ndente da quello seguito da altri datagrammi appartenenti a un unico flusso sorgente-destina -\nzione. Questo tipo di trasferimento, come spiegato nel Paragrafo 2.3.1, non consente di fornire \nun servizio di trasferimento in rete con una determinata qualità di servizio, neanche in pre -", "senza di ulteriori protocolli (come TCP) che realizzano un trasferimento affidabile end-to-end. \nIl protocollo multiprotocol label switching  (MPLS) [RFC3031, RFC3032] è stato concepito \nper poter trasferire flussi di unità informative in una rete a commutazione di pacchetto garan -\ntendo parametri di qualità di servizio analoghi a quelli di reti a commutazione di circuito. Ciò \nsi realizza rendendo possibile l’individuazione di percorsi attraverso la rete IP, detti percorsi", "MPLS , lungo i quali sono trasferiti tutti i datagrammi di un dato flusso ingresso-uscita. L ’i -\nnoltro lungo il percorso è reso possibile dalla definizione di etichette , necessarie a identificare \nlo specifico circuito virtuale su un collegamento fisico tra router.\nLa definizione di circuiti virtuali richiede naturalmente router dotati di nuove funzionalità \nche consentano di effettuare l’inoltro dei datagrammi sulla base delle etichette, non più dell’in -", "dirizzo IP di destinazione. Questi router, che prendono il nome di label switched router (LSR), \nsono in grado di effettuare l’inoltro sia sulla base dell’indirizzo IP, sia utilizzando l’etichetta \nche precede il datagramma IP. Un percorso MPLS attraverso una rete IP sarà dunque carat -\nterizzato da una serie di router LSR, dei quali il primo lungo il percorso aggiunge l’etichetta \nMPLS al datagramma IP e l’ultimo la rimuove. \nIPv6 IPv6 IPTunnel IPv6IPv6(a)", "IPv6 IPv6 IPTunnel IPv6IPv6(a)\n(b)IPv6IPv6 IPv4 IPv6IPv6Payload H6Payload H6H4Payload H6Payload H6H4\nFigura 6.36 Attraversamento di rete IPv4 per datagrammi IPv6: reale (a), logico (b).\nPattavinaReti2021.indb   365PattavinaReti2021.indb   365 14/01/2022   16:09:4214/01/2022   16:09:42366  Capitolo 6 – Strato di rete\nLa Figura 6.37 mostra il formato del pacchetto MPLS che aggiunge al datagramma IP un \nnuovo header (HMPLS) comprendente i seguenti campi:", "• label (20 bit): identifica il flusso al quale appartiene il datagramma; su ogni collega -\nmento tra router sono identificabili fino a 4096 flussi; \n• exp (3 bit): campo riservato per uso sperimentale;\n• S (1 bit): campo che permette la definizione di una “pila” di etichette in un pacchetto \nMPLS, così da poter identificare, all’interno di un percorso MPLS, aggregazioni di \npercorsi MPLS trattati con una singola etichetta; solo l’ultima di queste etichette reca \nil bit S = 1;", "il bit S = 1; \n• time to live, TTL  (8 bit): definisce un contatore del numero di “salti” che possono essere \ncompiuti dal pacchetto MPLS17; esso viene inizializzato a un dato valore massimo \ne viene via via decrementato a ogni salto; se viene raggiunto il valore 0 senza aver \nraggiunto il router LSR al termine del percorso MPLS, il pacchetto viene scartato. \nLa capacità di definire percorsi sui quali trasferire flussi di datagrammi consente anche di", "definire percorsi di “protezione” tra i due router LSR all’estremità del percorso MPLS. Così, \nall’occorrenza di un guasto lungo uno dei collegamenti o uno dei router LSR interni al per -\ncorso, la via di protezione può essere subito attivata, semplicemente modificando la tabella di \ninoltro dei due router LSR di inizio e fine percorso. \n17 Si osservi che il pacchetto MPLS trasporta il datagramma IP come payload, quindi il campo TTL di quest’ul -", "timo non viene modificato durante il transito del pacchetto nell’isola MPLS. Label ExpT TL\n20 38 BitS\n1MPLSheader IPheader IPpayload\nFigura 6.37 Formato del pacchetto MPLS.Si vuole mostrare un esempio di trasferimento di datagrammi IP attraversando un’“isola” \ncomposta da 4 router MPLS, che consenta anche di prevedere una via di protezione nell’at -\ntraversamento dell’isola.\nLa Figura 6.38 mostra una porzione di rete con quattro router IP tradizionali (R1-R4) e quat -", "tro router di tipo LSR (LSR1-LSR4). Per il trasporto di datagrammi dal router R1 al router R4 \nsi prevede l’attraversamento del percorso MPLS lungo la via LSR1-LSR4-LSR3. Si vede come \nil primo router del percorso MPLS aggiunga l’etichetta MPLS al datagramma, generando \nil pacchetto MPLS che viene inoltrato verso il router LSR4. Questo router inoltrerà il pac -\nchetto sulla base dell’etichetta MPLS, che deve essere sostituita con una nuova etichetta per", "garantire la corretta identificazione dei flussi nel router a valle (vedi Paragrafo 2.3.4). Infine, \nil router LSR3 che termina il percorso MPLS rimuoverà l’etichetta MPLS, così che il data -\ngramma sarà successivamente instradato in base all’indirizzo IP ivi contenuto.  Il percorso di \nprotezione nell’attraversamento dell’isola MPLS è costituito dalla via LSR1-LSR2-LSR3. Esempio 6.28", "PattavinaReti2021.indb   366PattavinaReti2021.indb   366 14/01/2022   16:09:4314/01/2022   16:09:436.9 Reti ATM  367\nNaturalmente la gestione dei percorsi MPLS, e cio è la loro instaurazione e il loro rilascio, \nrichiede l’uso di nuove funzionalità di elaborazione e comunicazione tra router LSR, che viene \ngeneralmente svolta dal protocollo RSVP-TE. Questo protocollo deve consentire l’instaurazio -\nne dei percorsi MPLS tra router in modo da tener conto della capacità dei collegamenti che", "questi utilizzeranno lungo il percorso. In questo modo sarà possibile garantire un’adeguata \nqualità di servizio durante il trasferimento, come reso possibile dal trasporto “connection-o -\nriented” lungo il percorso MPLS. \n6.9 Reti ATM\nLo standard di rete ATM ( asynchronous transfer mode ) è nato negli anni ’80 con lo scopo \ndi definire un’architettura di rete e una pila di protocolli che potesse operare il trasferimen -", "to in rete di ogni tipo di informazione, con una determinata qualità di servizio. Una delle \nmotivazioni di base era la consapevolezza che il protocollo IP non era in grado di garantire \nalle diverse tipologie di flussi informativi determinati parametri di prestazione sul ritardo di \ntrasferimento in rete, sulla probabilità di perdita delle unità informative, ecc. \nI due principi fondamentali alla base del trasporto di unità informative (UI) attraverso una", "rete ATM sono la commutazione di pacchetto  da una parte e la modalità connection-oriented  \nper il trasferimento delle UI dall’altra. Come già spiegato nel Paragrafo 2.1.4, la commutazione \ndi pacchetto meglio si adatta a sorgenti informative di tipo “bursty”, per esempio con fattori \ndi burstiness B < 0,1. Tuttavia, anche alle sorgenti di informazioni di tipo continuo, cio è con \nfattore di burstiness prossimo all’unità, una rete ATM può garantire un’adeguata qualità di", "servizio grazie al trasferimento di tipo “connection-oriented” delle unità informative. Queste \nvengono infatti trasferite dalla sorgente delle informazioni fino alla destinazione lungo con-\nnessioni virtuali , la cui capacità viene statisticamente garantita da una preventiva allocazione \ndi risorse trasmissive in rete. \nSi noti che il termine “asincrono” nell’acronimo ATM indica che il trasporto dell’infor -", "mazione lungo i collegamenti non avviene operando una preallocazione statica della capacità \ntra tutti i possibili utilizzatori, ma bensì assegnando la capacità disponibile sui collegamenti \nalle sorgenti che sono al momento attive. Poiché l’unità informativa base denominata cella ha \nlunghezza fissa (come sarà meglio spiegato nel seguito), questa modalità di multiplazione è di \ntipo “statistico a slot” (vedi Paragrafo 2.4.4). IPpayload HIPHMPLS\nIPpayload HIP\nLSR1\nR2R4R3\nLSR3\nLSR2LSR4R1", "IPpayload HIP\nLSR1\nR2R4R3\nLSR3\nLSR2LSR4R1\nIPpayload HIP\nFigura 6.38 Rete IP-MPLS secondo l’Esempio 6.28.\nPattavinaReti2021.indb   367PattavinaReti2021.indb   367 14/01/2022   16:09:4314/01/2022   16:09:43368  Capitolo 6 – Strato di rete\n6.9.1 Descrittori di traffico e classi di servizio\nLo standard ATM ha posto grande attenzione agli aspetti di qualità di servizio  (quality of ser -\nvice, QoS) fornita dalla rete. I parametri che sono stati definiti a questo scopo sono [ATM99]:", "• maximum cell transfer delay, maxCTD: valore massimo, richiesto o rilevato, che assu -\nme il tempo di trasferimento di un’UI dal suo inizio di trasmissione alla sorgente alla \nsua completa ricezione a destinazione, tra tutte le UI appartenenti alla connessione \nvirtuale;\n• peak-to-peak cell delay variation , CDV: differenza tra il valore maxCTD e il minimo \nvalore di ritardo dovuto a trasmissione, propagazione ed elaborazione;", "• cell loss ratio , CLR: rapporto tra numero di UI perse e numero di UI offerte su una \nconnessione virtuale.\nSono stati altresì definiti i parametri descrittori di traffico che servono a specificare un \nmodello di sorgente ATM [ATM99]:\n• peak cell rate,  PCR: frequenza massima con la quale le UI possono essere offerte a \nuna rete ATM su una connessione virtuale; naturalmente 1/ PCR  rappresenta il mini -\nmo intervallo di tempo che intercorre tra due celle ATM consecutive immesse in rete;", "• sustainable cell rate,  SCR: limite superiore alla capacità media (bit/s) della connessio -\nne virtuale, calcolato su un intervallo di tempo molto lungo;\n• minimum cell rate,  MCR: capacità minima (bit/s) della connessione virtuale di cui si \nchiede disponibilità alla rete e che la rete garantisce alla sorgente nel momento in cui \naccetta la connessione;\n• maximum burst size, MBS: numero massimo di celle ATM che possono essere inviate", "consecutivamente (senza intervalli di inattività tra una e l’altra) alla massima velocità \nPCR della sorgente;\n• maximum frame size, MFS: numero massimo di celle ATM in cui è ammessa la seg -\nmentazione di una trama, quando viene trasportata da celle ATM.\nUtilizzando i parametri di qualità di servizio della rete e i descrittori di traffico appena intro -\ndotti, sono state definite sei classi di servizio  che possono essere supportate in una rete ATM \n[ATM99]:", "[ATM99]:\n1. constant bit rate , CBR: servizio in cui la rete ATM garantisce, per tutta la durata della \nconnessione, la disponibilità di una capacità uguale a quella di picco PCR della sor -\ngente; viene anche garantito il soddisfacimento di vincoli molto stringenti sul tempo \nmassimo di ritardo maxCTD, sul valore massimo del parametro CDV e sulla proba -\nbilità di perdita CLR;\n2. real-time variable bit rate , rt-VBR: servizio utilizzato per connessioni con sorgenti di", "traffico interattive caratterizzate da vincoli di trasporto delle informazioni in tempo \nreale, tipicamente per applicazioni voce e video; data questa caratterizzazione, per \nquesto servizio vengono specificati i requisiti della sorgente in termini dei parametri \nSCR e MBS, oltre alla frequenza di picco PCR; i vincoli di prestazioni sono anche in \nPattavinaReti2021.indb   368PattavinaReti2021.indb   368 14/01/2022   16:09:4314/01/2022   16:09:436.9 Reti ATM  369", "questo caso espressi dai parametri maxCTD, CDV e CLR, che indicano generalmente \nvincoli meno stringenti rispetto al servizio CBR;\n3. non-real-time variable bit rate , nrt-VBR: servizio utilizzato per connessioni con sor -\ngenti interattive in assenza di requisiti di trasporto di informazione in tempo reale; \ni descrittori di traffico sono gli stessi del servizio rt-VBR, e cio è PCR, SCR e MBS; \nla probabilità di scarto di cella CLR costituisce il solo vincolo di prestazione che può", "essere richiesto dal servizio;\n4. unspecified bit rate , UBR: servizio noto anche come “best effort”, che sta a indicare \nche la rete fa del suo meglio per trasportare le UI relative a connessioni UBR, ma \nsenza fornire alcuna garanzia; come tale, questo tipo di traffico è soggetto a ritardi e \nscarti di UI di tipo impredicibile; si noti che la sorgente, che è caratterizzata esclusi -\nvamente dalla frequenza di picco PCR, non ha alcuna consapevolezza di cosa accada", "nella rete sulle celle che vengono offerte su una connessione UBR; applicazioni tipi -\nche sono trasferimento di file e posta elettronica;\n5. available bit rate , ABR: servizio che, a differenza di quello UBR, definisce oltre alla \nfrequenza di picco anche una frequenza minima MCR di UI che la rete si impegna a \ntrasportare sulla connessione virtuale; per questo servizio è previsto un meccanismo \ndi retroazione (feedback) che consente alla sorgente di adattare la frequenza di emis -", "sione di celle in base a segnali di congestione ricevuti dalla rete per mezzo di celle di \ncontrollo; \n6. guaranteed frame rate , GFR: servizio che fornisce una capacità minima di trasporto \ndi trame, che naturalmente vengono segmentate in sequenze di celle; la sorgente è \nspecificata mediante i parametri di frequenza di picco PCR, di frequenza minima di \ncella MCR, di lunghezza massima di burst MBS e di lunghezza massima di trame, \nespressa in celle, MFS.", "espressa in celle, MFS.\nI protocolli di rete ATM sono stati pensati per trasportare grandi quantità di informazioni, \ncrescenti nel tempo, utilizzando un’infrastruttura trasmissiva di qualità particolarmente eleva -\nta, che consentisse quindi di ottenere trasmissioni con tassi di errore trascurabili. Per questo \nmotivo l’architettura di protocolli adottata nella rete ATM è di tipo core and edge ; i nodi di", "rete ( core) svolgono il minimo numero di operazioni possibili su ogni unità informativa, cio è \nquelle necessarie a effettuare la commutazione (inoltro), delegando quelle residue a funziona-\nlità presenti nei nodi di accesso o, addirittura, nelle apparecchiature dell’utente ( edge).\nL ’architettura di rete ATM definisce tre strati che svolgono il compito di trasferire unità \ninformative tra stazioni terminali [I.321]:", "informative tra stazioni terminali [I.321]:\n• strato  ATM adaptation layer (AAL): consente di differenziare la tipologia di servizio \ndi trasporto in base alle caratteristiche della sorgente e dei requisiti che caratterizzano \nil relativo servizio di comunicazione; queste funzioni sono svolte solo da apparec -\nchiature situate “ai bordi” della rete, senza dunque interessare i veri e propri nodi di \ntransito della rete;", "transito della rete; \n• strato  ATM : definisce un’unica modalità di trasporto delle informazioni dell’utente, \nbasata su unità informative di lunghezza fissa, chiamate celle ; questo strato è presente \nin tutti gli apparati della rete ATM che trasmettono UI su collegamenti fisici;\nPattavinaReti2021.indb   369PattavinaReti2021.indb   369 14/01/2022   16:09:4314/01/2022   16:09:43370  Capitolo 6 – Strato di rete", "• strato  fisico : fornisce la capacità di trasmissione delle unità informative sul circuito \nfisico sotto forma di stringhe di bit; le sue funzioni, che risiedono naturalmente in tutti \ngli apparati trasmissivi della rete, sono suddivise in due sottolivelli:\n – transmission convergence (TC), che ha la funzione di convertire una sequen -\nza di celle in un flusso di bit che possa essere trasmesso e ricevuto sul mezzo \ntrasmissivo;", "trasmissivo;\n – physical medium (PM), che include le funzioni di interfacciamento con il mezzo \nfisico quali la codifica di linea, l’eventuale trasformazione elettro-ottica dei \nsegnali, ecc. \nCome già accennato, trattandosi di architettura di rete “core and edge”, i nodi della rete \nsvolgono pochissime funzioni e delegano le altre all’interazione “end-to-end” tra nodi di \naccesso, o direttamente tra apparecchiature dell’utente. La Figura 6.39 mostra un esempio di", "interazione tra due apparecchiature dell’utente di tipo ATM attraverso due nodi di rete ATM \nR e S; i due nodi di transito della rete eseguono i protocolli di livello fisico e ATM, mentre le \napparecchiature terminali eseguono la pila completa di protocolli. Quindi le unità informative \ndi livello AAL sono interpretate esclusivamente dalle apparecchiature terminali; esse viag -\ngiano attraverso la rete come payload delle celle ATM, che sono elaborate in tutti i nodi della", "rete. A causa della dimensione fissa e molto piccola della cella ATM, quasi tutte le unità dati \ndello strato AAL vengono segmentate in più celle ATM per attuarne il trasferimento in rete. \n6.9.2 Lo strato ATM\nIl trasporto di unità informative in una rete ATM è di tipo “a circuito virtuale” (vedi Paragrafo \n2.3.4), quindi la fase del trasferimento dati è preceduta dalla fase di instaurazione, nella quale", "vengono riservate le risorse di comunicazione necessarie alle unità informative per attraversa -\nre la rete, e seguita dalla fase di rilascio, nella quale le stesse risorse vengono rese nuovamente \ndisponibili. Durante l’instaurazione della connessione virtuale viene anche selezionato il per -\ncorso lungo il quale fluiranno tutte le celle della connessione. Sono state definite due tipologie \ndi connessione virtuale [I.150]:", "di connessione virtuale [I.150]:\n• circuito virtuale  (virtual circuit , VC): rappresenta l’unità elementare di connessione \nvirtuale lungo la quale viene trasferito un flusso informativo tra le due estremità della \nconnessione; come in ogni rete a commutazione di pacchetto, un circuito virtuale è \nidentificato da un’etichetta denominata virtual circuit identifier ;\nFisicoStratidi\nutilizzazion e\nFisico\nA BRSAAL\nATMATM\nFisicoATM\nFisicoStratidi\nutilizzazion e\nAAL\nATM", "FisicoATM\nFisicoStratidi\nutilizzazion e\nAAL\nATM\nFigura 6.39 Architettura di protocolli in una rete ATM.\nPattavinaReti2021.indb   370PattavinaReti2021.indb   370 14/01/2022   16:09:4314/01/2022   16:09:436.9 Reti ATM  371\n• percorso virtuale  (virtual path, VP): costituisce un’aggregazione di circuiti virtuali \nche condivide lo stesso percorso in rete, la cui capacità è data dalla somma delle \ncapacità dei circuiti virtuali componenti; anche il percorso virtuale è identificato da", "un’etichetta, denominata virtual path identifier .\nLo strato ATM definisce il formato della cella e le modalità di interlavoro secondo il proto -\ncollo di strato ATM [I.361]. La cella ATM comprende 53 byte, dei quali i cinque byte iniziali \ncostituiscono l’header. La struttura dell’header definito all’interfaccia UNI ( user-network \ninterface ), mostrata nella Figura 6.40, comprende i seguenti campi: \n• generic flow control, GFC  (4 bit): svolge funzioni di controllo del flusso all’interfaccia", "utente-rete;\n• virtual path identifier, VPI  (8 bit): costituisce l’identificatore del percorso virtua -\nle cui appartiene la cella; si possono definire fino a 256 percorsi virtuali distinti \nsull’interfaccia;\n• virtual circuit identifier, VCI  (16 bit): costituisce l’identificatore del circuito virtua -\nle cui appartiene la cella; si possono definire fino a 65.536 circuiti virtuali distinti \nsull’interfaccia;", "sull’interfaccia;\n• payload type identifier, PTI  (3 bit): specifica il tipo di payload della cella e trasporta \nanche alcune informazioni di controllo;\n• cell loss priority, CLP  (1 bit): indica se la cella possa essere scartata o meno in situazione \ndi congestione di rete;\n• header error control, HEC  (8 bit): costituisce un codice di rivelazione degli errori per \ngli altri quattro byte dell’header.", "gli altri quattro byte dell’header.\nIl campo GFC è utilizzato per definire delle procedure controllate di accesso alla rete da parte \ndell’utente; in particolare, se utilizzato, questo campo consente di regolare il flusso di celle \nsull’interfaccia in direzione utente-rete. \nL ’unione dei campi VPI e VCI rappresenta l’identificatore della connessione virtuale. Que -\nsto campo costituisce l’etichetta che viene sostituita nel nodo di rete attraversato durante l’ope -", "razione di commutazione, secondo la procedura generale descritta nel Paragrafo 2.3.4 per una \ngenerica rete a commutazione di pacchetto con servizio circuito virtuale. Il numero effettivo \ndei bit utilizzati nei campi VPI e VCI viene comunque negoziato tra utente e rete. \nIl campo PTI indica il tipo di payload della cella. Il primo bit distingue le celle dati dalle \naltre, che svolgono funzioni di gestione e manutenzione (OAM), oppure servono a gestire le", "risorse di rete ( resource management , RM). In particolare queste ultime sono utilizzate per \n7 4 0\n1\n2\n3\n4\n5CLP\nHECPTIVCI VPIVPI GFCBit\nVCIVCI\nFigura 6.40 Formato dell’header di una cella ATM.\nPattavinaReti2021.indb   371PattavinaReti2021.indb   371 14/01/2022   16:09:4314/01/2022   16:09:43372  Capitolo 6 – Strato di rete\nl’attuazione del meccanismo di feedback attuato nel servizio ABR. Nell’ambito delle celle", "dati, il secondo bit è utilizzato dai nodi che inoltrano la cella per segnalare una situazione di \ncongestione nella stessa direzione della cella ( explicit forward congestion indication, EFCI), \nper esempio se il buffer che ospita la cella ha un livello di riempimento superiore a una certa \nsoglia. La congestione viene segnalata dal nodo ponendo a 1 il secondo bit del campo PTI \nprima di ritrasmettere la cella; si noti che un nodo che non si trova in congestione non può", "riportare al valore 0 il bit ricevuto con valore 1 che segnala congestione.\nIl campo CLP posto a 1 indica che in situazioni di congestione la cella deve essere scartata \nprima delle celle con CLP = 0. L ’indicazione delle celle scartabili può essere adottata sia dall’u -\ntente, che desidera offrire celle in eccesso rispetto a quelle ammesse, indicando esplicitamente \nquelle con priorità più bassa, sia dalla rete qualora rilevi che un flusso di celle offerte violi i", "parametri del contratto di traffico sulla connessione. \nPer quanto riguarda la gestione degli eventi di errore, si adotta una procedura basata sui \ncodici a ridondanza ciclica. Il trasmettitore calcola per ogni cella il codice di controllo degli \nerrori ( HEC), lungo un byte; è dato dal resto della divisione del polinomio ottenuto dai primi \n4 byte dell’header18, moltiplicato per x8, per il polinomio divisore D (x) = x8 + x2 + x + 1. Il", "codice HEC viene quindi inserito nel quinto byte dell’header della cella, così che il ricevitore, \nsvolgendo un’analoga operazione sulla stringa di bit ricevuta, potrà determinare l’eventuale \noccorrenza di errori (vedi il Paragrafo 3.11 per la teoria corrispondente).\n6.9.3 Lo strato AAL\nLo strato AAL ha il compito di arricchire il servizio indistinto di trasferimento di celle dello \nstrato ATM per poter fornire diversi servizi di trasporto agli strati superiori, ognuno iden -", "tificato da specifiche caratteristiche di servizio e specifici parametri di prestazione. Tra le \nfunzioni che sono svolte dallo strato AAL ricordiamo la gestione del trasferimento di unità \ninformative di lunghezza variabile attraverso celle a lunghezza fissa, la gestione degli eventi \ndi errore e di perdita di celle, il controllo del flusso e della congestione, la gestione della tem -\nporizzazione del flusso trasportato, la multiplazione di diversi flussi informativi sulla stessa", "connessione ATM. Si consideri per esempio il servizio vocale, in cui il flusso informativo \nrappresentato da voce digitalizzata deve essere inserito nel payload delle celle da trasferire \nsecondo stringenti vincoli di temporizzazione. Allo stesso modo, volendo realizzare il traspor -\nto di traffico IP sulla stessa rete ATM, occorre in linea di principio segmentare i datagrammi \nIP per consentirne il trasporto con vincoli di prestazioni di ritardo diversi da quelli adottati", "nel servizio di trasporto vocale.\nLo strato AAL è suddiviso in due sottolivelli:\n• convergence sublayer , CS: serve a garantire gli specifici requisiti di trasporto attraver -\nso la rete per ognuno dei servizi supportati;\n• segmentation and reassembly , SAR: ha il compito di consentire il trasferimento di \nunità informative di lunghezza arbitraria utilizzando flussi di pacchetti (celle) di lun -\nghezza fissa; le unità informative vengono quindi segmentate dal lato sorgente in più", "18 I 32 bit dei primi quattro byte dell’header costituiscono i coefficienti di un polinomio di grado 31.\nPattavinaReti2021.indb   372PattavinaReti2021.indb   372 14/01/2022   16:09:4414/01/2022   16:09:446.9 Reti ATM  373\nunità che trovano posto nel payload delle celle ATM, per poter poi essere riassemblate \nnelle unità informative originarie a destinazione.\nPer evitare di definire una moltitudine di protocolli, ognuno rivolto a una specifica applica -", "zione, sono state definite quattro classi di protocolli AAL [I.363.1-I.363.5], denominate AAL n \n(n = 1,2,3/4,5)19:\n• AAL1: questo protocollo si rivolge unicamente ad applicazioni in tempo reale della \nclasse CBR; un esempio tipico è il supporto dei cosiddetti servizi di emulazione di \ncircuito, in cui la rete ATM trasporta un flusso informativo con le stesse caratteristi -\nche di un circuito dedicato;\n• AAL2: è il protocollo che prevede il supporto di servizi in tempo reale della classe", "rt-VBR come servizi voce a pacchetto e video a pacchetto;\n• AAL3/4: si tratta del protocollo utilizzato per il supporto di applicazioni per servizi \nsia connection-oriented, sia connectionless, di classe nrt-VBR;\n• AAL5: questo protocollo si pone come il più semplice ed efficiente protocollo di \nadattamento per la realizzazione di una molteplicità di classi di servizio ATM, come \nl’interconnessione di LAN (emulazione LAN), l’interlavoro tra rete ATM e rete IP. \n6.9.4 Retrospettiva su ATM", "6.9.4 Retrospettiva su ATM\nCome visto nei paragrafi precedenti, lo standard della rete ATM ha avuto come obiettivo \nla definizione di un nuovo modo di trasferimento che potesse superare le limitazioni del \nparadigma della pila protocollare TCP/IP, incapace di fornire servizi di rete con determinata \nqualità. Una rete ATM realizza certamente questo obiettivo grazie a una definizione chiara \ndei parametri di prestazione che caratterizzano il trasferimento in rete di flussi informativi", "e la conseguente identificazione di una serie di classi di servizio che differenziano il tipo di \ntrasferimento richiesto alla rete. \nATM è nato nelle intenzioni dei suoi ideatori come una “rivoluzione” che voleva portare \nalla graduale sostituzione del protocollo IP con la pila protocollare ATM nell’intera rete a \nlunga distanza, fino a giungere all’interfaccia con l’utente. Naturalmente, la varietà e la dif -", "ferenziazione dei servizi di rete forniti da ATM richiedeva anche lo sviluppo e la gestione di \nun piano di controllo della rete stessa: si considerino, per esempio, le problematiche relative \nalla gestione delle connessioni virtuali attraverso la rete ATM in funzione delle caratteristiche \ndelle relative sorgenti di informazione.\nEbbene, nonostante lo standard ATM fosse ormai consolidato e lo sviluppo di apparecchia -", "ture di trasmissione e di commutazione fosse una realtà, gli operatori di rete hanno mostrato \nforti perplessità nel realizzare una dislocazione massiccia di apparecchiature di rete conformi \nallo standard ATM. La principale motivazione risiedeva nella complessità di gestione di una \n19  In realtà le classi inizialmente definite dall’ITU-T erano quattro, numerate da 1 a 4, ma successivamente i pro -", "tocolli delle ultime due classi si sono rivelati così simili da poter essere fusi in unico protocollo, così da definire \nla classe 3/4. Il protocollo AAL5 è stato definito in un secondo tempo sulla base dell’esigenza di disporre di un \nprotocollo di adattamento estremamente semplice.\nPattavinaReti2021.indb   373PattavinaReti2021.indb   373 14/01/2022   16:09:4414/01/2022   16:09:44374  Capitolo 6 – Strato di rete", "rete con un ventaglio così grande di servizi fruibili dagli utilizzatori, le cui funzionalità non \nsono mai state implementate in modo completo negli apparati di rete.\nNumerose porzioni di rete sono state sviluppate sulla base della tecnologia ATM, ma \nquesta non è mai realmente giunta a una diffusione così capillare da rendere obsoleto il proto -\ncollo IP. Come dato di fatto, IP resta il principale protocollo di rete utilizzato in Internet ed è", "esso stesso uno dei principali “client” per il trasferimento di dati attraverso reti ATM. Hanno \ninvece avuto più successo i tentativi di garantire una qualità di servizio al trasferimento di \nunità informative in rete utilizzando il protocollo IP; esempio tipico è il protocollo MPLS, \nche grazie al trasferimento “connection-oriented” realizzato consente di garantire, almeno \nstatisticamente, capacità di trasferimento predefinite tra due nodi di rete.", "La tecnologia basata sul protocollo ATM è stata oggetto di sviluppo in altri ambiti alquan -\nto ristretti, come per esempio nel caso dei collegamenti ADSL di tipo residenziale su brevi \ndistanze. In questo caso ATM è stato uno dei protocolli di livello di collegamento scelti per \nfornire connettività a Internet agli utenti residenziali utilizzando il doppino telefonico. \nPattavinaReti2021.indb   374PattavinaReti2021.indb   374 14/01/2022   16:09:4414/01/2022   16:09:4410CAPITOLOLe reti", "di accessoIIIPARTE\nCapitolo 7 Strati inferiori\nCapitolo 8 Accesso a Internet\nCapitolo 9 Reti LAN cablate\nCapitolo 10 Reti wireless e mobilità\nCapitolo 11 Interconnessione di reti LAN\nPattavinaReti2021.indb   375PattavinaReti2021.indb   375 14/01/2022   16:09:4414/01/2022   16:09:44PattavinaReti2021.indb   376PattavinaReti2021.indb   376 14/01/2022   16:09:4414/01/2022   16:09:447CAPITOLO Strati inferiori\n7CAPITOLO\nL ’accesso ai servizi di trasferimento di informazioni forniti", "da Internet coinvolge i protocolli degli strati sottostanti quel -\nlo di rete, cio è lo strato di collegamento e lo strato fisico. \nQuesto capitolo fornisce un’introduzione ai servizi di colle -\ngamento disponibili allo strato di rete e descrive il protocollo \nHDLC, che costituisce il capostipite di numerosi altri proto -\ncolli di linea oggi adottati. Nell’ambito dello strato fisico, ci \nsi limiterà qui a descrivere i meccanismi di codifica di linea", "che definiscono le modalità di rappresentazione mediante \nsegnali dei bit da trasmettere, in modo che si adattino alle \ncaratteristiche del mezzo di comunicazione utilizzato. La \nteoria relativa ai protocolli per collegamenti punto-punto e al \ncontrollo degli errori discussi in questo capitolo è presentata, \nrispettivamente, nelle sezioni A e D del Capitolo 3.\n7.1 Introduzione\nNell’ambito dell’architettura a strati dei protocolli, lo strato", "di collegamento fornisce servizio allo strato di rete (sovra-\nstante) e riceve a sua volta servizio dallo strato fisico (sotto -\nstante). Le unità informative (UI) scambiate tra nodi di rete \nadiacenti, cio è lungo collegamenti diretti, oppure tra questi e \ni sistemi terminali, prendono il nome di trame  e trasportano \nnel loro payload le UI dello strato superiore, cio è i datagram -\nmi nel caso del protocollo IP. A differenza dello strato di", "rete, in cui un unico protocollo di rete, tipicamente IP, viene \nutilizzato in una porzione di rete omogenea generalmen -\nte estesa, le funzioni dello strato di collegamento possono \nessere implementate da numerosi protocolli di collegamen -\nto, anche in funzione del mezzo trasmissivo utilizzato, per \nesempio di tipo cablato o radio, e della topologia punto-pun -\nto o multipunto del collegamento. Per esempio, uno stesso \nrouter può utilizzare protocolli di collegamento diversi per", "trasferire unità informative ai diversi router adiacenti. Argomenti\n7.1 Introduzione\n7.2 Servizi di collegamento\n7.3  Un protocollo di livello 2: \nHDLC\n7.4 Codifica di linea\nPattavinaReti2021.indb   377PattavinaReti2021.indb   377 14/01/2022   16:09:4414/01/2022   16:09:44378  Capitolo 7 – Strati inferiori\nLa Figura 7.1 mostra il consueto esempio di comunicazione tra un terminale mobile, che \nriceve connettività in una rete radiomobile, e un server posizionato in una content delivery", "network  (CDN), come già visto nei capitoli precedenti in riferimento agli strati di livello \nsuperiore. A differenza di quanto riportato nella Figura 6.1, si rimarca come la relazione tra \napparecchiature adiacenti a livello di collegamento sia di tipo locale, essendo possibile adot -\ntare diversi protocolli nelle diverse sezioni di rete attraversate. Per quanto riguarda lo strato \nfisico, la configurazione di rete riportata in Figura 7.1 mostra che i collegamenti tra router", "sono tutti di tipo cablato, mentre i collegamenti tra le apparecchiature terminali e i router che \nforniscono accessibilità a Internet sono di tipo diverso: il server è collegato via cavo, mentre \nil terminale si connette attraverso un canale radio. \n7.2 Servizi di collegamento\nLo strato di collegamento ha come obiettivo il trasferimento di unità informative, denominate \ntrame , tra apparecchiature di rete che interagiscono attraverso un canale di comunicazione", "diretto. Questo può essere costituito da una linea punto-punto in rame o in fibra ottica, oppure \nda un canale condiviso di tipo cablato, oppure radio. La qualità del collegamento tra le appa -\nrecchiature che comunicano determina le funzioni necessarie a fornire una qualità adeguata \ndel servizio di collegamento allo strato di rete. Queste funzioni sono svolte utilizzando l’hea -\nder delle unità informative dello strato di collegamento che trasportano nel payload le UI degli \nstrati superiori.", "strati superiori.\nRegionalISPCDN\nMobilenetworkTier1ISP\nAccess ISP\nRete\nCollegamen to\nFisicoTraspo rto\nRete\nFisicoApplicazione\nCollegam entoRete\nCollegamento\nFisicoRete\nColleg amento\nFisicoRete\nCollegamen toRete\nCollegam ento\nFisico\nFisico\nTrasporto\nRete\nCollegamento\nFisicoApplic azione\nRete\nCollegam ento\nFisico\nRete\nCollegam ento\nFisico\nFigura 7.1 Connessione end-to-end a livello di collegamento.", "PattavinaReti2021.indb   378PattavinaReti2021.indb   378 14/01/2022   16:09:4414/01/2022   16:09:447.2 Servizi di collegamento  379\nLe tipologie di servizio che possono essere fornite dallo strato di collegamento sono tre:\n• connection-oriented , che rappresenta un tipico servizio di trasferimento dati affidabi -\nle, in cui si instaura la connessione prima di trasferire unità informative di cui il pro -\ntocollo garantisce la consegna grazie all’utilizzazione di meccanismi di numerazione", "e di funzioni di controllo;\n• connectionless con riscontro , che realizza il trasferimento di unità informative senza \npreventiva instaurazione di connessione; tuttavia, in questo caso il protocollo prevede \nl’invio al mittente di un messaggio di riscontro per ogni UI consegnata a destinazione;\n• connectionless senza riscontro , che rappresenta un tipico servizio “datagramma”, in \ncui le unità informative sono trasferite lungo il collegamento senza che il mittente", "abbia alcuna garanzia né riscontro sulla loro avvenuta consegna.\nLa fornitura allo strato di rete di un tipo di servizio invece di un altro dipende da vari fattori, \ntra i quali la tipologia del collegamento, la qualità del servizio di trasmissione dati reso dispo -\nnibile dal sottostante strato fisico, il tipo di prestazioni di trasporto richieste dalle applicazioni \nservite. Servizi con riscontro vengono tipicamente adottati in ambiti con alti tassi di errore,", "come nelle reti wireless, mentre quelli senza riscontro sono normalmente utilizzati in reti \ncablate, in cui il mezzo trasmissivo garantisce tassi di errore molto bassi. \nSi consideri che anche la tipologia di servizio fornito influenza la scelta del servizio reso \ndallo strato di collegamento. Un servizio con riscontro prevede la ritrasmissione delle trame \nche risultano mancanti in un flusso informativo tra due apparecchiature terminali. Ne conse -", "gue che, a differenza delle applicazioni per servizi dati, le applicazioni in tempo reale (come \nquelle relative a servizi voce o video) rendono comunque inutile l’adozione di protocolli con \nriscontro. Infatti, i vincoli temporali stringenti sui ritardi di trasferimento delle unità infor -\nmative in questi servizi non consentono la ritrasmissione delle trame che non sono giunte a \ndestinazione per qualunque motivo (errori di trasmissione, saturazione di memoria in ricezio -\nne, ecc.).", "ne, ecc.).\nLe funzioni svolte nello strato di collegamento possono essere così riassunte:\n• delimitazione : per garantire che le unità informative dello strato di collegamento dati \n(trame) trasmesse lungo un collegamento dedicato o condiviso siano interpretate cor -\nrettamente dall’apparecchiatura ricevente, è necessario che i primi bit o byte dell’UI \nsiano preceduti da un segnale univoco che ne consenta la corretta individuazione;", "• controllo degli errori : la stringa binaria inviata su un mezzo trasmissivo è sempre \nsoggetta a disturbi e interferenze che possono portare a interpretare erroneamente i bit \nricevuti, così che un bit 1 trasmesso viene interpretato come 0 o viceversa; la speci -\nfica procedura di controllo degli errori dipende dalla tipologia del mezzo trasmissivo \nutilizzato;\n• controllo del flusso : la limitata capacità di elaborazione delle apparecchiature su", "un collegamento dati potrebbe determinare la saturazione delle memorie dedicate a \nimmagazzinare le trame ricevute, così da rendere necessaria l’attuazione di una pro -\ncedura di regolazione del flusso inviato sul collegamento;\n• accesso al canale e indirizzamento : nel caso di canale trasmissivo condiviso tra più \ndi due apparecchiature, deve essere stabilita una procedura secondo cui ognuna di", "PattavinaReti2021.indb   379PattavinaReti2021.indb   379 14/01/2022   16:09:4414/01/2022   16:09:44380  Capitolo 7 – Strati inferiori\nqueste può iniziare a trasmettere senza entrare in conflitto con altre; è altresì neces -\nsario disporre di un meccanismo che consenta di specificare il destinatario di ogni \nunità informativa inviata.\nLa funzione di delimitazione  delle trame consiste nel trasmettere un “preambolo” immediata -", "mente prima della trasmissione di una trama, così che il ricevitore sappia con certezza l’istante \nin cui è atteso il primo simbolo dell’UI. Le tecniche utilizzate a questo scopo sono due:\n• stuffing : prima della trama viene trasmesso un carattere aggiuntivo speciale che non \ndeve comparire all’interno dell’UI;\n• violazione del codice : prima della trama viene trasmesso un segnale “illegale” che non \nrappresenta alcun simbolo binario del codice di segnale utilizzato.", "Con la tecnica dello stuffing, all’inizio e alla fine della trama viene posizionata una stringa di \nbit speciale chiamata flag  che consente l’individuazione del contenuto dell’unità informativa. \nPer evitare possibili conflitti, ovvero la presenza nella trama di sequenze di bit presenti anche \nnel flag, lo stuffing modifica la stringa di bit della trama in modo che il codice del flag possa \ncomparire solo in testa o in coda alla trama trasmessa.", "Si possono distinguere due classi di protocolli di collegamento: protocolli orientati al byte \n(byte-oriented ), in cui la trama è costituita da un numero intero di byte, e protocolli orientati \nal bit ( bit-oriented ), in cui la trama comprende un numero arbitrario di bit. Di conseguenza, \nper le due tipologie di protocollo di collegamento sono state definite due procedure di stuffing: \nbyte stuffing  e bit stuffing . Il protocollo orientato al byte PPP adotta la procedura di “byte stuf -", "fing” (vedi Paragrafo 9.4.1), mentre la classe di protocolli orientati al bit di tipo HDLC (vedi \nParagrafo 7.3) impiega la procedura di bit stuffing.\nSe si adotta la tecnica di violazione del codice, per delimitare la trama ci si affida alle \nfunzioni svolte nello strato inferiore, cio è quello fisico. In questo caso, considerato che le \napparecchiature trasmittenti e riceventi condividono la conoscenza della modalità di codifica", "dei simboli binari 0 e 1 con segnali fisici (con opportuni livelli del segnale inviato), la trama \nviene preceduta dalla trasmissione di un segnale non ammissibile in base alla codifica di linea \nadottata. A titolo di esempio, la rete Ethernet utilizza questa tecnica di delimitazione delle \ntrame (vedi Paragrafo 9.2.3).\nPer quanto riguarda la funzione di controllo degli errori, i protocolli dello strato di col -", "legamento adottano generalmente procedure che consentono solo di rilevare gli errori even -\ntualmente presenti nelle unità informative ricevute, ma non di correggerli. I protocolli di \ncollegamento di tipo ARQ (vedi Paragrafo 3.2) consentono di recuperare le unità informative \nerrate tramite scambio di messaggi di controllo tra le apparecchiature coinvolte. Per una pano -\nramica più dettagliata sulle tecniche di rivelazione degli errori adottate in Internet si faccia", "riferimento alla Sezione 3E.\nLe procedure di controllo del flusso  nello strato di collegamento svolgono il compito di \nregolare il flusso di trame tra due apparecchiature di rete adiacenti. Queste funzioni sono \ntipicamente svolte con meccanismi di tipo sliding window  (vedi Paragrafo 3.2), facilmente \nrealizzabili nell’ambito dei protocolli di collegamento che forniscono servizio di tipo con -\nnection-oriented. A differenza dei meccanismi di controllo del flusso attuati nello strato di", "trasporto, influenzati dalle eventuali condizioni di congestione della rete attraversata, la rego -\nPattavinaReti2021.indb   380PattavinaReti2021.indb   380 14/01/2022   16:09:4414/01/2022   16:09:447.3 Un protocollo di livello 2: HDLC  381\nlazione del flusso di trame tra due apparecchiature adiacenti dipende unicamente dallo stato \ndella memoria di ricezione  nell’apparecchiatura ricevente. \nQuando il mezzo trasmissivo utilizzato è di tipo multipunto, sorge il problema di evitare che", "più apparecchiature inizino a trasmettere le loro UI nello stesso intervallo temporale, determi -\nnando l’insuccesso delle trasmissioni. Occorre quindi adottare una procedura che garantisca \nl’accesso al canale a un’apparecchiatura per volta, così che vengano evitate “collisioni” tra \nunità informative emesse da apparecchiature diverse. Numerosi protocolli di accesso  per col -\nlegamenti multipunto sono stati definiti in funzione del tipo di mezzo trasmissivo, cio è rete", "cablata, oppure canale radio (vedi sezione 3B). Inoltre, occorre osservare che un collegamento \nmultipunto è di tipo “broadcast”, cio è la trasmissione da parte di un’apparecchiatura è ricevuta \nda tutte le altre che accedono allo stesso collegamento, quindi deve essere previsto anche un \nmeccanismo di indirizzamento  che consenta all’apparecchiatura trasmittente di specificare la \ndestinazione della trama che viene trasmessa.\n7.3 Un protocollo di livello 2: HDLC", "7.3 Un protocollo di livello 2: HDLC\nIl protocollo tipico dello strato di collegamento è denominato high-level data link control  \n(HDLC); la maggior parte dei protocolli di questo strato oggi utilizzati, detti anche protocolli \ndi linea , deriva da esso. Nel protocollo HDLC sono definiti tre tipi di apparecchiature che \ncomunicano lungo un collegamento, denominate stazioni :\n• stazione primaria , che è responsabile del controllo del collegamento attuato per mezzo", "di trame denominate comandi ;\n• stazione secondaria , che opera sotto il controllo di una stazione primaria ed emette \ntrame che vengono perciò chiamate risposte ;\n• stazione combinata , che combina le funzioni di stazione primaria e di stazione secon -\ndaria, quindi emette sia comandi , sia risposte .\nIn base al tipo di stazioni connesse sul collegamento dati è possibile distinguere tra due tipi \ndi configurazione di linea :", "di configurazione di linea :\n• configurazione sbilanciata , in cui sono presenti una stazione primaria e una o più \nstazioni secondarie;\n• configurazione bilanciata , in cui sono presenti due stazioni combinate.\nInfine, nel protocollo HDLC si distinguono tre modalità di trasferimento delle trame sul \ncollegamento dati:\n• asynchronous balanced mode  (ABM), utilizzato in configurazioni bilanciate, in cui \nognuna delle due stazioni combinate può iniziare a trasmettere senza dover attendere", "alcuna autorizzazione dall’altra stazione;\n• normal response mode  (NRM), utilizzato in configurazioni sbilanciate, in cui solo la \nstazione primaria può iniziare a trasmettere sul collegamento, mentre una stazione \nsecondaria può solamente rispondere a un comando ricevuto dalla stazione primaria;\nPattavinaReti2021.indb   381PattavinaReti2021.indb   381 14/01/2022   16:09:4414/01/2022   16:09:44382  Capitolo 7 – Strati inferiori", "• asynchronous response mode  (ARM), utilizzato in configurazioni sbilanciate nelle \nquali, a differenza della modalità NRM, una stazione secondaria può iniziare a tra -\nsmettere senza esplicita autorizzazione da parte della stazione primaria. \nLe modalità di trasferimento delle informazioni ABM e NRM determinano trasmissioni \nrispettivamente di tipo full-duplex  e half-duplex , mentre quella ARM non è classificabile in", "modo univoco tra le due tipologie di trasmissione. Si noti che in tutti i casi, e quindi anche \nnella modalità ARM, è sempre la stazione primaria a essere responsabile dell’inizializzazione \ne della gestione della connessione. \nIl meccanismo generale di funzionamento di un protocollo di collegamento con controllo \ndi flusso a finestra del tipo del protocollo HDLC è descritto nel Paragrafo 3.2.\n7.3.1 Struttura della trama", "7.3.1 Struttura della trama\nIl protocollo HDLC definisce un unico formato di trama che, in funzione della configurazione \nassunta dai vari campi, svolge funzioni diverse. Il formato della trama HDLC è mostrato nella \nFigura 7.2; comprende sei campi, di cui il primo e l’ultimo sono uguali: \n• flag, F  (8 bit): svolge la funzione di delimitazione della trama, in quanto è presente sia \nall’inizio che alla fine della trama; il suo contenuto è 01111110, cio è sei simboli binari", "1 preceduti e seguiti da un simbolo binario 0;\n• address, A  (8 × n bit): specifica la stazione secondaria ricevente nel caso di comandi \n(emessi dalla stazione primaria), oppure la stazione secondaria trasmittente nel caso \ndi risposte (emesse dalle stazioni secondarie); un codice speciale costituito da soli \nsimboli 1 viene usato soltanto dalla stazione primaria per indicare che la trama è desti -\nnata a tutte le stazioni secondarie (indirizzo broadcast); consente di indirizzare fino", "a 126 stazioni in configurazione base, ma può contenere un numero variabile di byte \n(n = 1,2,...) in caso di un maggior numero di stazioni; questo campo diventa ridondante \nnelle configurazioni punto-punto;\n• control, C  (8 o 16 bit): specifica il tipo di trama in trasmissione e gestisce i meccanismi \ndi numerazione e di riscontro delle trame stesse; il campo di controllo può assumere \ntre differenti configurazioni, distinte in base ai primi due bit del campo, che identi -", "ficano tre diversi tipi di trama , come mostrato nella Figura 7.3 nel caso di campo a \n8 bit:\n –informativa (information , I): trama che reca l’informazione dell’utente, identificata \ndal primo bit posto a 0 nel campo di controllo che comprende anche due numeri \ndi 3 bit l’uno, N(S) e N(R); questi indicano, rispettivamente, il numero della trama \ncorrente che viene trasmessa e il numero della prossima trama che la stazione", "trasmittente si aspetta di ricevere, riscontrando implicitamente tutte le trame rice -\nvute fino a quella numero N (R) – 1; le trame sono dunque numerate da 0 a 7; \nAddress Control Informat ion FCS Flag\n88 xn 8/16v ariable1 6/32 8Flag\nbit\nFigura 7.2 Formato di trama HDLC.\nPattavinaReti2021.indb   382PattavinaReti2021.indb   382 14/01/2022   16:09:4514/01/2022   16:09:457.3 Un protocollo di livello 2: HDLC  383", "–supervisiva  (supervisory , S): trama identificata dai primi due bit posti a 10, uti -\nlizzata esclusivamente per gestire i riscontri di trama e per segnalare l’eventuale \nstato di temporaneo fuori servizio della stazione; il numero di trama N(R) indica \nla prossima trama che la stazione trasmittente si aspetta di ricevere e, a seconda \ndello specifico protocollo ARQ implementato, può anche indicare riscontro delle", "trame precedentemente ricevute; i bit indicati con S svolgono altre funzioni nelle \ntrame di tipo S;\n –non numerata  (unnumbered , U): trama identificata dai primi due bit che assumono \nla configurazione 11, che svolge funzioni di gestione del collegamento dati, per \nesempio inizializzazione, rilascio, reset per errore della connessione, inizializza -\nzione dei parametri variabili, ecc.; i bit indicati con M svolgono altre funzioni nelle \ntrame di tipo U;", "trame di tipo U;\nil campo di controllo di tutte le trame comprende un bit denominato P/F, che svolge \ndiverse funzioni; tipicamente viene utilizzato, quando posto a 1, per sollecitare una \nrisposta da parte della stazione primaria ( Poll), oppure per segnalare una risposta a \nuna trama di poll da parte della stazione secondaria ( Final ); se in fase di inizializza -\nzione della connessione si adotta un meccanismo “esteso” di numerazione delle trame", "a 7 bit, con trame numerate da 0 a 127, le trame I ed S hanno un campo di controllo a \n16 bit, riportato nella Figura 7.4;  \n• information, I : il suo contenuto può avere lunghezza variabile, multipla comunque di \n8 bit, e generalmente limitata a un dato valore massimo determinato dalla specifica \nrealizzazione del protocollo di linea; è sempre presente nelle trame di tipo I e contiene \ni dati dell’utente, mentre è definito solo in alcune trame di tipo U con il compito di", "trasferire informazioni di gestione;\n• frame check sequence, FCS , (16 o 32 bit): svolge funzioni di rivelazione degli errori per \nla trama secondo una procedura descritta nel Paragrafo 7.3.3.12 34 56 7 0\n0N (S)P /F N(R) I\n1S P/FN (R)S\n1M P/FM U0\n1\nFigura 7.3 Formato a 8 bit del campo di controllo.\n12 34 56 78\n0N (S)P /F I91 01 11 21 31 41 5 0\nN(R)\n1N (S)P /F S N(R) S0 00 00 P/FP/F\nFigura 7.4 Formato a 16 bit del campo di controllo.", "PattavinaReti2021.indb   383PattavinaReti2021.indb   383 14/01/2022   16:09:4514/01/2022   16:09:45384  Capitolo 7 – Strati inferiori\nI campi  flag, address, control  e frame check sequence  costituiscono il cosiddetto “overhead di \ntrama”, rappresentando le informazioni che vengono aggiunte al campo information  e ne ren -\ndono possibile la consegna al destinatario.\nOccorre osservare che in una comunicazione di tipo bidirezionale, sia di tipo full-duplex ,", "sia di tipo half-duplex, la tecnica del piggybacking  descritta nel Paragrafo 3.2.4 viene attuata \nnel protocollo HDLC mediante il campo N(R) presente nelle trame informative; questo infatti \nsegnala il riscontro delle trame informative inviate in direzione opposta alla trama informativa \nche reca detto campo. Si osservi in particolare il significato assunto dalla variabile N(R) nel \nprotocollo HDLC, che differisce dal valore numerico associato al riscontro positivo ACK nel", "Paragrafo 3.2. Ora infatti N(R) indica la prossima trama attesa, mentre in precedenza indicava \nil valore numerico del riscontro dell’ultima trama ricevuta.\n7.3.2 Trasparenza dei dati\nIl campo flag, posto in testa e in coda alla trama, svolge la funzione di delimitazione della \ntrama stessa, così che la stazione ricevente possa identificare senza ambiguità l’inizio e la fine \ndella trama. Un problema tipico dei protocolli di collegamento sorge quando una qualunque", "configurazione di bit all’interno della trama, per esempio lo stesso campo di controllo oppure \nuna sequenza di 8 bit comunque posizionata tra i due flag, ha la stessa configurazione dei flag, \ncioè 01111110. In questo caso si rende necessario adottare una procedura che consenta alla \nstazione trasmittente di segnalare a quella ricevente che queste occorrenze di “imitazione” del \nflag non rappresentano il flag stesso.", "flag non rappresentano il flag stesso.\nLa procedura che si adotta nel protocollo HDLC, conosciuta come bit stuffing , consiste, \nin fase di trasmissione della trama, nell’inserire sul flusso di bit trasmessi un bit 0 dopo ogni \noccorrenza di cinque bit 1, tranne nei flag1. In ricezione, prima ancora di interpretare la trama, \nsi effettua un’operazione di “allineamento” che prevede l’individuazione univoca dei flag", "(salvo errori di trasmissione). Dopo di ciò si svolge l’operazione di bit destuffing , nella quale si \nprovvede a eliminare ogni occorrenza di bit 0 che segua cinque bit 1 consecutivi, ricostruendo \ncosì la trama originaria, precedente l’operazione di bit stuffing. \n1 L’inserimento del simbolo 0 è indipendente dal valore assunto dal simbolo che segue i cinque simboli 1.01111110 1011 11111011111 111110 0100 0111111 0111 1110Flag AddressC ontrol FCSF lag", "01111110 1011 11101101 1111 011111000100011 11101011 1111 0(a)\n(b)\nFigura 7.5 Bit stuffing secondo l’Esempio 7.1: trama da inviare (a); stringa trasmessa (b).Si vuole determinare la stringa binaria trasmessa a valle dell’operazione di bit stuffing per \nla trama di tipo S mostrata in Figura 7.5a. \nL ’operazione di bit stuffing, che inserisce il bit 0 dopo cinque simboli 1 consecutivi, tranne \nnei flag, fornisce la stringa mostrata in Figura 7.5b.  Esempio 7.1", "PattavinaReti2021.indb   384PattavinaReti2021.indb   384 14/01/2022   16:09:4514/01/2022   16:09:457.3 Un protocollo di livello 2: HDLC  385\nLa funzione di “bit stuffing” garantisce la cosiddetta trasparenza dei dati , cioè la possibilità \ndi inserire configurazioni di bit arbitrarie nel campo dati della trama, ma non evita che eventi \ndi errore possano dar luogo a “divisioni” di una trama in due pezzi o “fusioni” di due trame", "in una sola. Il primo caso si verifica quando un errore dà luogo a una configurazione 01111110 \nall’interno della trama, mentre il secondo si verifica quando l’errore colpisce i due flag di chiu -\nsura e di apertura di due trame consecutive.\n7.3.3 Rivelazione di errori\nIl protocollo HDLC rientra nella classe dei protocolli a rivelazione di errore, in cui cio è si \ntrasmette all’interno della trama un codice aggiuntivo utilizzato dal ricevitore per rivelare", "eventuali errori di trasmissione. Si ribadisce quindi che non si attua alcuna procedura di cor -\nrezione di errore utilizzando il codice stesso. Il codice di rivelazione di errore è contenuto nel \ncampo FCS, che consente di controllare la correttezza di tutti i campi della trama eccetto i flag, \ne quindi i campi address , control , information .\nLa procedura che si adotta per costruire la stringa di 16 o 32 bit da trasmettere nel campo", "FCS si basa sui codici a ridondanza ciclica (vedi Paragrafo 3.11). A partire dalla stringa di n \nbit da proteggere con un codice a rivelazione di errori, si genera un codice CRC sulla base del \npolinomio generatore G (x) specificato dal protocollo HDLC. \nAi fini della derivazione del codice CRC, si definisce il polinomio P (x) di grado n – 1 nella \nvariabile ausiliaria x dove i coefficienti sono dati dai bit della stringa di n bit della trama da", "proteggere. Se per ipotesi avessimo la stringa di 12 bit 101000101010, il polinomio P (x) cor -\nrispondente sarebbe P (x) = x11 + x9 + x5 + x3 + x. I k bit del campo FCS (k = 16, 32) vengono \nricavati da un’operazione di divisione tra polinomi in aritmetica2 modulo-2 , in cui il polinomio \ndividendo è dato da P (x) moltiplicato per xk e il polinomio divisore G (x) ha grado k ed è defi -\nnito dal protocollo come polinomio generatore . Questa divisione darà luogo a un quoziente", "Q(x) e a un resto R (x), che soddisfa la seguente espressione\n)7.1(Px()xk⋅\nGx()--------------------- Qx()Rx()\nGx()------------ + = .         \n2 Si ricorda che, in aritmetica modulo-2, addizioni e sottrazioni non danno luogo a riporti n é a prestiti.Un ricevitore che implementa la procedura di bit destuffing del protocollo HDLC riceve la \nsequenza di bit rappresentata in Figura 7.6. Si vogliono individuare eventuali flag ed even -\ntuali bit di stuffing inseriti dal trasmettitore nella stringa.", "La stringa 01111110 che rappresenta il flag occorre nei bit 10-17, 52-59, 60-67, poiché solo in \nqueste stringhe si ritrovano 6 bit 1 consecutivi. Il bit 0 di stuffing occorre invece nei bit 29 \ne 48, in quanto solo questi sono preceduti da cinque bit posti a 1.Esempio 7.2\n1010111100011111101111001111100010110001010111110111011111100111111011111\n+--------- +---------+ ---------+ ---------+ ---------+ ---------+ ---------+ --\n01 02 03 04 05 06 07 0", "01 02 03 04 05 06 07 0\nFigura 7.6 Stringa binaria ricevuta secondo l’Esempio 7.2.\nPattavinaReti2021.indb   385PattavinaReti2021.indb   385 14/01/2022   16:09:4614/01/2022   16:09:46386  Capitolo 7 – Strati inferiori\nIl polinomio R (x) ha grado massimo k – 1, poiché la divisione è stata effettuata in aritmetica \nmodulo 2, e quindi R (x) esprime k coefficienti (ognuno dei quali assume il valore binario 0 o", "1) che costituiscono il campo FCS. Nel caso del campo FCS a 16 bit il polinomio generatore \nè dato dal polinomio CRC-16 ITU-T G (x) = x16 + x12 + x5 +1, mentre con 32 bit il polinomio \nadottato è quello CRC-32 (vedi Tabella 3.5).\nEsempio 7.3\nSi considera una trama HDLC priva di campo informativo che include i soli campi \naddres s = 0x88 e control  = 0x19, ciascuno di 8 bit. Si vuole determinare il contenuto del \ncampo FCS assumendo che il polinomio generatore sia quello Europeo a 16 bit", "G(x) = x16 + x12 + x5 + 1.\nAlla stringa di 16 bit assegnata 10001000  00011001 corrisponde il polinomio \nP(x) = x15 + x11 + x4 + x3 + 1. Considerando che il polinomio generatore G( x) implica k = 16, \nsi ottiene P' (x) = P(x)·x16 = x31 + x27 + x20 + x19 + x16. La divisione3 di quest’ultimo polinomio \nper G(x), mostrata in Figura 7.7, fornisce Q (x) = x15 + x3 + 1, R(x) = x12 + x8 + x5 + x3 + 1, \ngenerando la stringa 0001000100101001 da inserire nel campo FCS. Quindi la sequenza di", "bit trasmessa (in formato esadecimale) è 0x88191129, in cui gli ultimi 16 bit costituiscono \nil contenuto del campo FCS. \nLa trama che viene così costruita (trascurando naturalmente i flag) contiene n +  k bit, che \npossono essere considerati i coefficienti di un nuovo polinomio P' (x) dato da\n)7.2( P′x() Px()xk⋅ Rx() + = .          \nLa procedura di rivelazione di errori in ricezione è particolarmente semplice: se la divisione", "del polinomio P' (x), derivato dalla trama ricevuta, per lo stesso divisore G (x) fornisce resto \nnullo, allora si assume che la trama ricevuta non sia errata, compatibilmente con le capacità \ndi rivelare errori del meccanismo adottato (vedi Paragrafo 3.11 per la teoria corrispondente). \nSi ricorda che la rivelazione di errori serve solamente a scartare come errata la trama \nricevuta, ma niente indica quale fosse la sua natura in origine, per esempio una nuova trama,", "3 Si ricorda che in aritmetica modulo-2 la somma di due polinomi fornisce lo stesso risultato della loro differenza.x16+x12+x5+1\nx15+x3+1x31+x27+x20+x19+x16\nx31+x27+x20+x15\nx19+x16+x15\nx19+x15+x8+x3\nx16+x8+x3\nx16+x12+x5+1\nx12+x8+x5+x3+1\nFigura 7.7 Calcolo del campo FCS secondo l’Esempio 7.3. \nPattavinaReti2021.indb   386PattavinaReti2021.indb   386 14/01/2022   16:09:4614/01/2022   16:09:467.3 Un protocollo di livello 2: HDLC  387", "un riscontro, ecc. Quindi, nel caso l’errore avesse interessato una nuova trama, la stazione \nricevente se ne può accorgere solo alla ricezione corretta di una trama successiva, utilizzando \nquindi il meccanismo di numerazione delle trame stesse. \n7.3.4 Comandi e risposte\nLa Tabella 7.1 riporta le tipologie di trama definite nell’ambito del protocollo HDLC, speci -\nficando quali siano comandi, quindi emesse dalla stazione primaria, e quali risposte, quindi \nemesse dalle stazioni secondarie.", "emesse dalle stazioni secondarie. \nNaturalmente le trame informative I possono essere sia comandi sia risposte, in quanto la \ncomunicazione sul collegamento è sempre di tipo bidirezionale. Lo stesso vale per le trame \nsupervisive, che vengono utilizzate per operare i controlli del flusso e degli errori sul collega -\nmento dati. In particolare si distinguono quattro tipi di trame S:\n• receiver ready, RR: comunica riscontri positivi (ACK) quando la stazione non deve", "inviare trame informative, segnalando la prossima trama informativa ( N(R)) che la sta -\nzione si aspetta di ricevere (ovvero riscontro positivo fino alla trama numero N (R) – 1);\n• receiver not ready, RNR: segnala l’indisponibilità della stazione a ricevere trame I, \nconfermando la ricezione delle trame fino a quella numero N (R) – 1;Nel collegamento HDLC descritto nell’Esempio 7.3 la stazione B riceve la stringa di 8", "caratteri esadecimali 0x881911CA delimitata da due flag. Si chiede di svolgere la verifica \nsull’eventuale presenza di errori nella stringa ricevuta, sapendo che il polinomio generatore \nè CRC-16 ITU-T e cio è G(x) = x16 + x12 + x5 + 1.\nNonostante l’ovvia considerazione che la stringa ricevuta è diversa da quella trasmessa \nindicando la presenza di errori, la funzione di controllo degli errori richiede di dividere", "il polinomio P' (x) = x31 + x27 + x20 + x19 + x16 + x12 + x8 + x7 + x6 + x3 + x ricavato dalla \nstringa ricevuta per il polinomio generatore G (x) = x16 + x12 + x5 + 1. Come mostrato in \nFigura 7.8, la divisione genera un resto R (x) = x7 + x6 + x5 + 1 diverso da zero, indicazione \ndi trama affetta da errore.Esempio 7.4\nx31+x27+x20+x19+x16+x12+x8+x7+x6+x3+x\nx31+x27+x20+x15\nx19+x16+x15+x12+x8+x7+x6+x3+x\nx19+x15+x8+x3\nx16+x12+x7+x6+x\nx16+x12+x5+1\nx7+x6+x5+x+1x16+x12+x5+1\nx15+x3+1", "x16+x12+x5+1\nx7+x6+x5+x+1x16+x12+x5+1\nx15+x3+1\nFigura 7.8 Verifica del campo FCS secondo l’Esempio 7.4. \nPattavinaReti2021.indb   387PattavinaReti2021.indb   387 14/01/2022   16:09:4614/01/2022   16:09:46388  Capitolo 7 – Strati inferiori\n• reject, REJ: segnala la ricezione di una trama fuori sequenza (NACK), se il protocollo \nARQ implementato è quello go-back-n,  indicando che la trama informativa mancante \nè la numero N(R) e quindi riscontro positivo fino alla trama numero N (R) _ 1;", "• selective reject, SREJ: segnala la ricezione di una trama fuori sequenza (NACK), se il \nprotocollo ARQ implementato è quello selective repeat , richiedendo la ritrasmissione \ndi una specifica trama, cio è quella con numero di sequenza N(R); il protocollo prevede \nche con una trama SREJ si possa richiedere anche la ritrasmissione di ulteriori trame \nnon ricevute, in aggiunta a quella indicata nel campo N(R), indicando il loro numero \nnel campo informativo della trama stessa.", "nel campo informativo della trama stessa. \nA titolo di esempio, con meccanismo di numerazione di trame non esteso (cio è con b = 3 bit), \nl’invio della trama REJ, 7 nel protocollo go-back-n indica la corretta ricezione fino alla trama \nnumero 6 e la richiesta di ritrasmissione della trama numero 7; questo evento è conseguente \nalla ricezione di una trama (corretta) successiva a quella attesa, per esempio la numero 0, che", "viene dunque scartata. Nel protocollo selective repeat  l’invio della trama SREJ,7,0 (quest’ul -\ntimo numero è presente nel campo informativo della trama stessa) indica esclusivamente la Tabella 7.1 Trame definite nel protocollo HDLC.\nTipo Comando Risposta Significato\nI I I Information\nSRR RR Receiver ready\nRNR RNR Receiver not ready\nREJ REJ Reject\nSREJ SREJ Selective reject\nUSNRM Set normal response mode\nSARM Set asynchronous response mode\nSABM Set asynchronous balanced mode", "SABM Set asynchronous balanced mode\nDM Disconnect mode\nSNRME Set normal response mode extended\nSARME Set asynchronous response mode extended\nSABME Set asynchronous balanced mode extended\nSIM Set initialization mode\nRIM Request initialization mode\nDISC Disconnect\nRD Request disconnect\nUA Unnumbered acknowledgement\nRSET Reset\nFRMR Frame reject\nUI UI Unnumbered information\nUP Unnumbered poll\nXID XID Exchange ID", "UP Unnumbered poll\nXID XID Exchange ID\nPattavinaReti2021.indb   388PattavinaReti2021.indb   388 14/01/2022   16:09:4614/01/2022   16:09:467.3 Un protocollo di livello 2: HDLC  389\nrichiesta di ritrasmissione delle trame numero 7 e numero 0. In questo caso ciò è necessa -\nriamente conseguente alla ricezione della trama numero 1 (corretta), che viene comunque \naccettata anche se fuori sequenza.\nLe trame U non numerate vengono utilizzate per la gestione della connessione, e quindi per", "la sua inizializzazione, il suo rilascio, nonché per la gestione dei malfunzionamenti che pos -\nsano intervenire. Le trame SNRM/SNRME, SARM/SARME, SABM/SABME sono comandi \ninviati per inizializzare la connessione nelle tre modalità NRM, ARM e ABM, rispettivamen -\nte. In ogni coppia di comandi, il secondo differisce dal primo poiché richiede l’utilizzazione \ndella numerazione estesa delle trame (con b = 7 bit) per la connessione. La risposta positiva a", "questi comandi è la trama UA, quella negativa è la trama DM. DISC è il comando di richiesta \ndi rilascio della connessione, cui viene risposto necessariamente con UA. Anche la stazione \nsecondaria può richiedere la disconnessione, chiedendo (con una trama di risposta RD) alla \nstazione primaria di emettere una trama DISC. \nFunzioni diverse legate all’inizializzazione e alla gestione della connessione sono svolte", "dalle trame SIM, RIM, UI, UP, RSET, XID, FRMR. Per esempio, la risposta FRMR segnala lo \nscarto di una trama per errore di procedura, il comando RSET dispone il reset ai valori iniziali \ndei numeri di sequenza sul collegamento, ecc. \nNei paragrafi seguenti vengono mostrati alcuni esempi di interazioni tra stazioni in confi -\ngurazione punto-punto e multipunto, realizzate con il protocollo HDLC nelle modalità ABM", "e NRM. Si noti che, negli esempi riportati, ai periodi di inattività in trasmissione corrisponde \nlo stato vuoto del buffer di trasmissione della stazione; ciò non implica necessariamente che \nil buffer di ritrasmissione sia anch’esso vuoto. \n7.3.5 Esempio di operazioni con modalità ABM\nA e B siano due stazioni poste alle estremità di un collegamento punto-punto che interagisco -\nno per mezzo del protocollo di linea HDLC con modalità ABM; le due stazioni sono dunque", "di tipo combinato. Si assume che le unità informative offerte dal livello superiore (strato di \nrete) siano a lunghezza variabile. Ne consegue che il tempo di trasmissione delle trame sarà \nanch’esso variabile, essendo costante la capacità del collegamento. Inoltre, si assume che il \nbuffer di trasmissione di entrambe le stazioni possa essere anche vuoto e che quindi la stazio -\nne possa essere inattiva in trasmissione per qualche intervallo di tempo.", "La Figura 7.9 mostra il diagramma spazio-tempo che descrive lo scambio di trame tra le \ndue stazioni, assumendo l’assenza di errori. La Figura 7.9a riporta la successione delle trame \nnon numerate scambiate durante l’instaurazione e il rilascio del collegamento. È la stazione \nA a inviare il comando SABM di inizializzazione, anche se la stazione B avrebbe potuto fare \naltrettanto (entrambe sono di tipo combinato). Per qualche motivo la stazione B non risponde", "(per esempio è temporaneamente fuori servizio), per cui dopo un time-out To la stazione A \nriemette la stessa trama SABM a cui B risponde con una trama di accettazione UA. Terminata \nla fase dati, omessa nella Figura 7.9a, la stazione A decide di disconnettersi e invia una trama \nDISC, che B riscontra con una trama UA.\nSi esamini ora la fase dati, rappresentata nella Figura 7.9b. Nell’esempio è rappresentato un", "flusso di informazioni bidirezionale. Come previsto dal protocollo HDLC, il riscontro di trame \nI ricevute viene inviato normalmente utilizzando il numero N(R) delle trame I in trasmissione \n(piggybacking) oppure, in mancanza di queste, utilizzando trame RR. Nell’esempio in figura, \nPattavinaReti2021.indb   389PattavinaReti2021.indb   389 14/01/2022   16:09:4714/01/2022   16:09:47390  Capitolo 7 – Strati inferiori", "a lato delle trame sono riportati il tipo di trama e i numeri di trama che questa comprende, e \ncioè N(S) e N(R) per trame I, solo N(R) per trame S. La stazione A invia consecutivamente 3 \ntrame in cui il campo N(S) viene via via incrementato da 0 a 2. La stazione B invia la sua trama \nI,0,0 e nel frattempo ha già ricevuto completamente due trame da A. Non avendo al momento \naltre trame da spedire, la stazione B invia ad A il riscontro (cumulativo) per mezzo della trama", "RR,2. La stazione A trasmette una quarta trama, I,3,1, in cui figura il riscontro della prima \ntrama inviata da B (si noti che questa trama è stata ricevuta da A durante la trasmissione delle \ntrame numero 1 e 2 e quindi non poteva essere riscontrata prima). B trasmette una seconda \ntrama, I,1,2, che tiene conto delle unità riscontrate fino a quel momento. Alla fine di questa \ntrasmissione, B ha ricevuto tutte le quattro trame di A e invia quindi una trama RR,4, in", "assenza di trame I da trasmettere; analogamente opera A, che riscontra con una trama RR,2. \nIn Figura 7.10a è rappresentata una fase dati con errori in trasmissione gestiti con protocol -\nlo go-back-n . La stazione A trasmette le trame numero 0, 1, 2, 3, mentre la stazione B trasmet -\nte la trama numero 0. La stazione B riceve la trama numero 0, ma non la numero 1 a causa di \nerrori sul collegamento. Questa stazione riscontra la trama numero 0 con una trama RR,1 che", "viene completamente ricevuta dalla stazione A mentre è in corso la trasmissione della trama \nnumero 3. La stazione B riceve la trama I,2,0 e si accorge di non aver ricevuto la trama numero \n1; la trama ricevuta viene quindi scartata e si chiede la ritrasmissione della trama mancante \ninviando una trama REJ,1. Durante la trasmissione della trama numero 1 la stazione B finisce \ndi ricevere correttamente anche la trama numero 3: anche questa viene scartata in quanto fuori", "sequenza. Secondo il protocollo go-back-n , alla ricezione del riscontro negativo la stazione A \nricomincia la trasmissione sequenziale delle trame a partire dalla numero 1. Si noti che questa ToSABM\nUASABM\nUADISCB A\nI,0,0\nI,3,1I,1,0\nI,2,0I,0,0\nRR,2\nRR,4I,1,2\nRR,2B A\n(a) (b)\nFigura 7.9 Esempio di modalità ABM in assenza di errori: fase di set-up (a), fase dati (b).", "PattavinaReti2021.indb   390PattavinaReti2021.indb   390 14/01/2022   16:09:4714/01/2022   16:09:477.3 Un protocollo di livello 2: HDLC  391\nvolta la prima trama viene trasmessa come I,1,1 perché , a differenza della prima trasmissione, \nla stazione A ha ricevuto (correttamente) la prima trama dalla stazione B. Questa successiva -\nmente riscontra con le trame RR le trame informative via via ricevute. \nLa Figura 7.10b mostra invece un esempio analogo in cui il meccanismo di recupero degli", "errori è di tipo selective repeat , nel quale il riscontro negativo è comunicato con trame SREJ. \nNella trasmissione delle trame da A a B, si perde per errore la trama numero 1. La stazione B \nfinisce di trasmettere la sua trama numero 0, si rende conto di aver ricevuto la trama numero 0 \ne la numero 2, ma non la numero 1, e ne chiede il rinvio con SREJ,1. La stazione A riscontra la \ntrama numero 0 con RR,1 e spedisce nuovamente la numero 1 (appena ricevuto completamen -", "te SREJ,1), per poi continuare con l’invio della trama numero 4. Nell’esempio non è necessario \nritrasmettere le trame numero 2 e 3, poiché si ipotizza che il relativo time-out non scada prima \ndella ricezione del loro riscontro, rappresentato dal riscontro cumulativo RR,4. \nNella Figura 7.11 è rappresentato il caso di occorrenza di un errore durante la trasmissione \ndi un riscontro, cio è la trama RR,1 da B ad A. La stazione A continua a trasmettere le due", "trame successive, dopodiché scade il time-out sulla trama numero 0, che viene ritrasmessa. \nQuesta trama, regolarmente ricevuta dalla stazione B, viene scartata perché già ricevuta. Solo \nal momento della ricezione del riscontro cumulativo RR,2 la stazione A può eliminare la \ntrama numero 0 (e anche la numero 1) dal proprio buffer di ritrasmissione. Risulta interessante \nosservare che se il time-out To nella stazione A fosse stato più grande, la ritrasmissione non I,0,0\nI,3,1I,1,0\nI,2,0I,0,0", "I,3,1I,1,0\nI,2,0I,0,0\nI,3,2I,1,1\nI,2,1I,1,1B A\nRR,1\nREJ,1\nRR,2\nRR,3\nRR,4I,0,0\nI,3,0I,1,0\nI,2,0I,0,0\nI,1,1SREJ,1\nRR,4I,4,1\nRR,5I,1,1\nRR,2RR,1B A\n(a) (b)\nFigura 7.10 Esempio di modalità ABM in presenza di errori: GBN (a), SR (b).\nPattavinaReti2021.indb   391PattavinaReti2021.indb   391 14/01/2022   16:09:4714/01/2022   16:09:47392  Capitolo 7 – Strati inferiori\navrebbe avuto luogo poiché la stazione A avrebbe ricevuto la trama RR,2, cio è il riscontro", "complessivo di tutte le trame ricevute fino alla trama numero 2.\n7.3.6 Esempio di operazioni con modalità NRM\nSi consideri ora un esempio di interazione tra stazioni con protocollo HDLC di tipo NRM \nsu una linea multipunto con una stazione primaria A e due secondarie, B e C, poste all’altra \nestremità del collegamento. Nella rappresentazione dell’interazione tra stazioni si trascura la \ndistanza tra le due stazioni secondarie, così che i tempi di propagazione da A a B e da A a C", "coincidano; inoltre, si trascura ora la lunghezza effettiva della trama mostrando un tempo di \ntrasmissione costante per tutte le trame inviate. Negli esempi descritti dalla Figura 7.12 per \nogni trama è specificato l’indirizzo, il tipo di trama con la relativa numerazione, nonché il bit \nP/F nel caso che questo venga utilizzato (se utilizzato, il bit viene posto a 1 nella trama).\nCome mostrato nella Figura 7.12a, la stazione A invia a C la richiesta di connessione C,", "SNRM, P, sollecitandone la risposta con il bit P; C risponde inviando a sua volta la trama di \nconferma UA, specificando con il bit F che ha finito di rispondere. La stazione A invia a C la \ntrama informativa C, I,0,0, P, alla quale C risponde con quattro trame I in cui il campo N(R) \nsegnala il riscontro della prima trama ricevuta. L ’ultima trama reca il bit F posto a 1, indicando \nda parte di C la fine delle proprie trasmissioni. La stazione A riscontra a C le quattro trame", "con C, RR,4 e chiede a B di inizializzare la connessione con una trama B, SNRM, P. La sta -\nzione B accetta e quindi segue lo scambio di trame informative tra A e B. La stazione A invia \na C una seconda trama informativa, indicando che ne ha già ricevute quattro. La stazione C \ninvia ad A una trama, la quinta, riscontrando quella appena ricevuta. La stazione A riscontra \nla trama ricevuta, ma comunica a C di essere fuori servizio nei suoi confronti con una trama I,0,0\nI,2,1I,1,0I,0,0\nRR,1\nI,0,1", "I,2,1I,1,0I,0,0\nRR,1\nI,0,1\nI,3,1RR,2\nI,1,3RR,3\nRR,4RR,2ToB A\nFigura 7.11 Esempio di modalità ABM con ritrasmissione per time-out.\nPattavinaReti2021.indb   392PattavinaReti2021.indb   392 14/01/2022   16:09:4814/01/2022   16:09:487.3 Un protocollo di livello 2: HDLC  393\nRNR. Quindi la stazione A invia trame non numerate di tipo UI destinate a tutte le stazioni \nsecondarie. \nSuccessivamente, come mostrato in Figura 7.12b, la stazione A interroga B con una trama", "RR, e B risponde inviando tre trame, delle quali l’ultima indica il termine delle sue trasmis -\nsioni. Tuttavia la seconda trama viene scartata per errore, perciò A ne chiede la ritrasmissione \ncon una trama SREJ (si ipotizza di adottare il protocollo selective repeat ). La trama viene \ndunque ritrasmessa da B e regolarmente ricevuta da A, che invia un riscontro cumulativo. \nInfine, A interroga C con una trama RR confermando che attende di ricevere la trama numero", "5. La stazione C risponde con l’invio della trama C, I,5,2, F, che però viene perduta per errore. \nDopo un time-out To, A interroga di nuovo C, ma anche questa trama viene colpita da errore. \nDopo una seconda scadenza del time-out To, la stazione A interroga nuovamente C, ma questa \nvolta per mezzo di una trama informativa generata nel frattempo. La stazione C ritrasmette la \ntrama numero 5, riscontra la numero 2 e comunica di aver terminato (con il bit F posto a 1).", "Infine, la stazione A riscontra quest’ultima trama. B,UA,FC,UA,F\nC,I,0,0,P\nC,I,0,1\nC,I,1,1\nC,I,2,1\nC,I,3,1,F\nB,I,0,0,P\nB,RR,1,FC,RR,4B\nA\nC\nC,SNRM,P\nB,SNRM,P\nC,I,1,4,P\nC,RNR,5\nUI\nUI\nUI\nUIC,I,4,2.FB,I,0,1B,RR,0,P\nB,I,1,1\nB,I,2,1,F\nB,I,1,1,F\nB,RR,3A\nC\nB,SREJ,1 ,P\nC,RR,5,P\nTo\nC,RR,5,PC,I,5,2.F\nC,I,5,3.FC,I,2,5,P\nC,RR,6ToB\n(a) (b)\nFigura 7.12 Esempio di NRM: inizializzazione e scambio dati (a), continuazione (b).", "PattavinaReti2021.indb   393PattavinaReti2021.indb   393 14/01/2022   16:09:4814/01/2022   16:09:48394  Capitolo 7 – Strati inferiori\n7.4 Codifica di linea\nLa codifica di linea si prefigge di raggiungere diversi obiettivi nell’ambito del sistema trasmis -\nsivo ove è impiegata, tra i quali ricordiamo:\n• determinare uno spettro di densità di potenza del segnale adatto al mezzo trasmissivo \nutilizzato, consentendo quindi di eliminare componenti ad alta frequenza che il mezzo", "non consente di trasferire e anche le componenti continue o a frequenza molto bassa \nche alcuni sottosistemi non accettano,\n• facilitare in ricezione l’estrazione del cronosegnale utilizzato in trasmissione, così da \npoter rivelare i simboli ricevuti nel modo migliore possibile4,\n• realizzare funzioni di rivelazione di errore a livello fisico in aggiunta a quelle che \nvengono comunque adottate a livello di trasferimento di trama.\n7.4.1 Codici di base", "7.4.1 Codici di base\nLa Figura 7.13 fornisce una tassonomia di tipo gerarchico delle codifiche di linea maggior -\nmente utilizzate. Preliminarmente si possono distinguere tre tipologie di codifica di linea a \nseconda del numero di livelli del segnale5 che vengono utilizzati per trasmettere i simboli \nbinari 0 e 1: \n• codifica unipolare , in cui si utilizza un solo livello del segnale, che codifica il simbolo", "1, mentre l’assenza del segnale sta a indicare il simbolo 0; questo tipo di codifica è \normai obsoleto per l’uso su mezzi trasmissivi in rame, essendo tuttavia ampiamente \nutilizzata per la codifica dei segnali su fibra ottica; \n• codifica polare , in cui si utilizzano due livelli del segnale, che codificano opportuna -\nmente i simboli 0 e 1, oltre eventualmente a utilizzare lo stato di “assenza di segnale”; \nquesti due livelli vengono indicati come “+” e “_”;", "• codifica bipolare , in cui si utilizzano tre livelli del segnale, il cui uso combinato serve \na rappresentare la sequenza dei simboli 0 e 1; questi tre livelli vengono indicati come \n“+”, “_”, “0”. \nI principali difetti della codifica unipolare  sono due, come risulta evidente dall’esempio di \nFigura 7.14 che mostra il segnale generato dalla stringa binaria 010011000000001: la presenza \ndi una componente continua e possibili problemi di sincronizzazione in ricezione. Il primo", "problema sorge perché il valore medio del livello del segnale è sicuramente diverso da zero; \nsupponendo che i simboli 0 e 1 abbiano la stessa probabilità di essere trasmessi, allora il \nvalore medio del segnale in linea sarà la metà del valore del segnale associato al simbolo 1. \nComponenti continue o comunque di bassa frequenza sono generalmente da evitare, poiché \nnon possono attraversare alcuni sistemi. Per quanto riguarda il secondo problema, il sistema", "di destinazione che non riceve direttamente l’informazione di sincronizzazione dall’apparato \ntrasmittente riesce a “ricostruire” il cronosegnale utilizzato dal trasmettitore per generare il \nsegnale tanto meglio quanto maggiori sono le alternanze tra i simboli 0 e 1 sul segnale di linea \n4 Questo approccio è meno costoso del trasferimento del segnale di sincronismo su un portante fisico separato.", "5 Lo specifico valore che assume il livello, per esempio il numero di volt, non ha importanza essendo un fattore \nmeramente realizzativo.\nPattavinaReti2021.indb   394PattavinaReti2021.indb   394 14/01/2022   16:09:4814/01/2022   16:09:487.4 Codifica di linea  395\nricevuto. È evidente che una lunga stringa di simboli 0 o di simboli 1 nella codifica unipolare \nrende difficile la ricostruzione del cronosegnale in ricezione. Le codifiche polare e bipolare", "sono state definite per risolvere questi due problemi. \nNell’ambito della codifica polare , che utilizza i livelli positivo e negativo del segnale, i \ncodici prevalentemente usati oggigiorno nel campo delle telecomunicazioni sono quattro:\n• non return to zero ( NRZ), in cui il segnale non torna mai allo stato 0, poiché ogni \noccorrenza di simbolo 0 e 1 è opportunamente codificata con un segnale positivo (+) \no negativo (_); si distinguono due tipi di codifica NRZ:", "–non return to zero-level ( NRZ-L): i simboli 0 e 1 sono codificati, rispettivamen -\nte, da un segnale negativo (_) e da un segnale positivo (+), così che il livello del \nsegnale indica univocamente il simbolo ricevuto; \n –non return to zero-inverted ( NRZ-I): il simbolo 0 è codificato mantenendo il \nsegnale del simbolo precedente, sia esso positivo o negativo, mentre il simbolo 1 \nviene codificato invertendo il segnale emesso con il simbolo precedente; eviden -Polare\nUnipolare", "Unipolare\nBipola reCodifica di\nlineaNRZ\nRZ\nBifase Manchest er\nManchest er\ndifferenzial e\nPseudote rnaria\nAMIB8ZS\nHDB3CMINRZ-L\nNRZ-I\nFigura 7.13 Tassonomia delle tecniche di codifica di linea.\n00 00 00 00 00 0 11 11\nFigura 7.14 Esempio di codifica di linea unipolare.\nPattavinaReti2021.indb   395PattavinaReti2021.indb   395 14/01/2022   16:09:4914/01/2022   16:09:49396  Capitolo 7 – Strati inferiori\ntemente in questo caso conta la sequenza dei segnali ricevuti, non il loro valore \nistantaneo;", "istantaneo;\n• return to zero ( RZ), che utilizza una codifica simile a quella NRZ-L, codificando \ncioè i simboli 0 e 1 con un segnale rispettivamente negativo e positivo; ora tuttavia il \nsegnale resta al livello “+” o “_” solo per la metà del tempo di trasmissione di un bit, \nper tornare sempre a “0” nella restante metà;\n• bifase , in cui uno solo o entrambi i simboli binari sono codificati con una sequenza di", "due segnali, introducendo quindi una transizione di stato della linea a metà del tempo \ndi trasmissione di un simbolo, senza tuttavia fare mai tornare il segnale allo stato “0”; \nquesto codice rappresenta dunque quanto di meglio si possa realizzare per estrarre la \nsincronizzazione in ricezione; i codici bifase maggiormente utilizzati sono:\n –coded mark inversion ( CMI): il simbolo binario 0 viene codificato come sequenza", "di due segnali, uno negativo (_) e uno positivo (+), mentre il simbolo binario 1 \nviene codificato alternativamente con la sequenza di due segnali negativi e posi -\ntivi; questo codice dunque presenta sempre un’inversione di stato della linea per \nogni simbolo binario 0 emesso, facilitando così la sincronizzazione del flusso dati \nin ricezione; \n –Manchester : entrambi i simboli binari 0 e 1 sono codificati con una sequenza di", "due segnali alternati: una transizione negativo-positivo rappresenta il simbolo \nbinario 1, mentre una transizione positivo-negativo indica6 il simbolo binario 0;\n –Manchester differenziale : una transizione positivo-negativo è sempre presente a \nmetà del tempo di trasmissione di un bit e l’assenza o presenza di una transizione \ndi stato del segnale all’inizio del tempo di trasmissione di un bit indica il simbolo", "binario emesso; in particolare, se una transizione è presente, il simbolo binario \nemesso è 0, mentre l’assenza di transizione indica il simbolo binario 1; a differen -\nza del codice Manchester, ora la transizione a metà tempo di bit è utile solo per \nestrarre la sincronizzazione, senza indicare nulla del simbolo trasmesso.\n6 L’associazione dei segnali ai bit qui adottata non è l’unica possibile. Infatti viene anche realizzato un codice di", "Manchester in cui le transizioni negativo-positivo e positivo-negativo sono associate ai simboli rispettivamente \n0 e 1.Si vuole rappresentare il segnale generato per la stringa binaria 010011000000001 con i \ncodici polari NRZ, RZ e bifase (si ipotizzi che nel codice CMI l’ultimo simbolo binario \n1 precedente sia stato codificato con un segnale negativo, che è anche l’ultimo livello del \nsegnale che precede la stringa data nel codice NRZ-I e Manchester differenziale).", "Il segnale generato per la stringa assegnata è riportato in Figura 7.15. Si nota come i codici \nNRZ presentano la stessa difficoltà di estrazione del cronosegnale del codice unipolare in \npresenza di lunghe stringhe di simboli 0 o 1, anche se ora vi è naturalmente un miglior \nbilanciamento del segnale dovuto all’utilizzazione di livelli positivi e negativi. Invece, i \ncodici bifase garantiscono almeno una transizione di livello ogni 2 simboli trasmessi e", "quindi rimuovono il problema dell’estrazione del cronosegnale, eliminando al contempo la \ncomponente continua. Esempio 7.5\nPattavinaReti2021.indb   396PattavinaReti2021.indb   396 14/01/2022   16:09:4914/01/2022   16:09:497.4 Codifica di linea  397\nL ’esempio appena descritto mette in evidenza come, a eccezione dei codici NRZ, tutti gli altri \ncodici polari alternino segnali positivi e negativi con frequenza Rs minima uguale a quella C", "di emissione dei simboli binari, che tuttavia può anche raggiungere il valore Rs = 2C (è questo \nil caso del codice Manchester con tutti i simboli uguali a 0 oppure a 1 e del codice Manchester \ndifferenziale con soli simboli 0). Ciò implica che la larghezza di banda richiesta per trasferire \nquesti segnali con la dovuta qualità è maggiore che nelle codifiche NRZ.\nLa codifica bipolare , che utilizza tre livelli del segnale in linea di cui quello centrale è", "l’assenza di segnale, sfrutta parzialmente il principio della codifica differenziale. Un simbolo \nbinario è codificato con livello centrale, mentre l’altro simbolo usa alternativamente i due \nlivelli positivo e negativo: ciò garantisce evidentemente l’assenza di componente continua del \nsegnale trasmesso. I codici maggiormente utilizzati sono due:\n• alternate mark inversion ( AMI), in cui il simbolo binario 0 viene codificato con il", "livello “0”, cio è assenza di segnale, mentre il simbolo binario 1 viene codificato alter -\nnativamente con un segnale positivo (+) e uno negativo ( -); una lunga sequenza di \nsimboli binari 0 potrebbe creare problemi di sincronizzazione in ricezione; per questo \nmotivo sono state definite due variazioni del codice AMI, che consistono nell’applica -\nre una funzione di scrambling  (mescolamento) sulla stringa emessa; sono definiti due", "codici con diversi meccanismi di scrambling, entrambi basati sull’introduzione di una \nviolazione del codice AMI:\n –bipolar 8-zero substitution ( B8ZS): ogni occorrenza di 8 simboli 0 consecutivi \nviene codificata con la sequenza 000+-0-+ , oppure 000-+0+-,  a seconda che l’ul -\ntimo segnale non-nullo emesso fosse rispettivamente positivo o negativo; vengono \nquindi introdotte due violazioni di codice consecutive a media di segnale nullo7;", "7 + e - indicano rispettivamente la trasmissione di un simbolo “1 positivo” e “1 negativo”.00 00 00 000 00 11 11\nManchest er\ndifferenzial eCMI\nManchest erRZNRZ-INRZ-L\n00 00 00 00 00 0 11 11\nFigura 7.15 Codifica di linea polare secondo l’Esempio 7.5.\nPattavinaReti2021.indb   397PattavinaReti2021.indb   397 14/01/2022   16:09:4914/01/2022   16:09:49398  Capitolo 7 – Strati inferiori\n –high-density bipolar 3 ( HDB3): la violazione di codice viene introdotta a ogni", "occorrenza di 4 simboli binari 0 consecutivi; in particolare, il quarto simbolo 0 \nviene codificato con un segnale (positivo o negativo a seconda dell’ultimo segnale \nemesso) che costituisce una violazione del codice AMI; poiché questa violazione \nda sola non garantirebbe una media nulla del segnale, si seguono le regole di sosti -\ntuzione specificate nella Tabella 7.2; queste regole implicano l’alternanza nel tipo", "di violazioni consecutive del codice e quindi l’assenza di componente continua;\n• pseudoternario , che usa la stessa codifica AMI con i simboli binari scambiati, quindi \nil simbolo binario 1 viene codificato con assenza di segnale, mentre il simbolo binario \n0 è codificato alternativamente con il segnale positivo e negativo. \nTabella 7.2 Regola di sostituzione nel codice HDB3.\nPolarità dell’ulti-\nmo impulsoNumero dispari di simboli binari", "mo impulsoNumero dispari di simboli binari \n1 dopo l’ultima violazioneNumero pari di simboli binari \n1 dopo l’ultima violazione\n- 000+ -00-\n+ 000- +00+\nSi vuole rappresentare il segnale generato per la stringa binaria 010011000000001 con i \ncodici bipolari pseudoternario, AMI senza scrambling, B8ZS e HDB3 (si ipotizzi che un \nsegnale negativo abbia codificato l’ultimo simbolo binario 0 e 1 precedente la stringa dati \nnei codici pseudoternario e AMI, rispettivamente).", "Il segnale generato per la stringa assegnata è riportato in Figura 7.16. La componente conti -\nnua è qui assente per come è stato definito il codice; inoltre, si nota che nonostante la codi -\nfica del simbolo 0 con assenza di segnale, la tecnica dello scrambling consente di evitare \nl’assenza di segnale per un tempo superiore a tre volte il tempo di trasmissione di un bit.Esempio 7.6\n00 00 00 0000 0 11 11\nPseudo -\nternario\nAMI\nB8ZS\nHDB3V\nVV\nV", "Pseudo -\nternario\nAMI\nB8ZS\nHDB3V\nVV\nV\nFigura 7.16 Codifica di linea bipolare secondo l’Esempio 7.6.\nPattavinaReti2021.indb   398PattavinaReti2021.indb   398 14/01/2022   16:09:4914/01/2022   16:09:497.4 Codifica di linea  399\nSi vuole qui accennare al codice MLT-3  che rientra tra i codici bipolari, che usano cio è tre \nlivelli del segnale in uscita. Con questo codice il simbolo binario 1 viene emesso con un", "segnale selezionato nella sequenza {+  0  -  0}, mentre il simbolo binario 0 viene codificato \nmantenendo il livello del segnale del bit precedente. Questo codice viene utilizzato nella rete \nFast Ethernet 100Base-TX (vedi Paragrafo 9.3.2) con un mezzo trasmissivo in rame (UTP Cat. \n5), allo scopo di limitare la banda occupata dal segnale trasmesso. \nIl codice di tipo Manchester è stato adottato nelle prime reti Ethernet a 10 Mbit/s, mentre i", "codici AMI e pseudoternario hanno trovato applicazione nelle reti di accesso digitali per fonia \ndi prima generazione. \n7.4.2 Codici a blocchi\nTecniche di codifica di linea più sofisticate di quelle di base prevedono di effettuare la codifica \nnon più bit per bit, bensì basandosi su blocchi di bit. Inoltre, si può anche prevedere di utiliz -\nzare più di due livelli del segnale allo scopo di ridurre la banda richiesta sul canale.", "In generale possiamo dire che, a fronte di un gruppo di m bit da inviare, il segnale di linea \ndi un codice multilivello sarà costituito da n simboli multilivello. Nel caso di segnale a tre \nlivelli ( codice ternario ) si definiscono i codici mBnT , mentre se i livelli sono quattro ( codice \nquaternario ) viene definita la classe di codici mBnQ8. \nSe indichiamo con b il numero generico di livelli del segnale di linea, la condizione affin -", "ché la codifica sia consistente è che i valori di m  e n siano tali da soddisfare la seguente \nrelazione:\n2mbn≤.\nIn altre parole, l’alfabeto di ingresso non può comprendere più simboli di quello di uscita. In \ntutti i casi in cui b > 2, quindi comprendendo i codici a tre e quattro livelli appena introdotti, \nrisulta ovviamente m >  n. \n8 A titolo di esempio, un codice ternario potrebbe utilizzare i tre livelli del segnale +1 V, 0 V, - 1 V, mentre un", "codice quaternario potrebbe usare i livelli +3 V, +1 V, - 1 V, - 3 V. Si vuole rappresentare il segnale generato per la stringa binaria 110011101101001 con il \ncodice MLT-3, ipotizzando che l’ultimo simbolo binario 1 precedente sia stato codificato \ncon un segnale positivo.\nConsiderando che il primo simbolo binario 1 viene codificato con un livello “0”, in base \nall’alternanza dei segnali emessi, il segnale risultante è mostrato in Figura 7.17. Esempio 7.7\n10 01 01 101 00 11 11", "10 01 01 101 00 11 11\nFigura 7.17 Codifica di linea MLT-3 secondo l’Esempio 7.7.\nPattavinaReti2021.indb   399PattavinaReti2021.indb   399 14/01/2022   16:09:4914/01/2022   16:09:49400  Capitolo 7 – Strati inferiori\nUn codice di linea multilivello determina una frequenza di segnalazione in linea in simbo -\nli/s (denominata baud ) diversa da quella del segnale originario da trasmettere, che indichiamo", "con Fi (la cui unità di misura è ovviamente bit/s). La trasmissione di n simboli (con opportuno \nalfabeto) in sostituzione di m bit implica una frequenza di segnalazione in uscita\nFon\nm----Fi= .\nRisulta quindi evidente che i codici di tipo ternario e quaternario determinano una riduzio -\nne della frequenza di segnalazione in linea rispetto a una trasmissione a due soli livelli (per \nesempio NRZ-I o AMI) e quindi una minore larghezza di banda richiesta sul canale. Ciò è", "d’aiuto nel caso di canali trasmissivi con banda limitata, come i mezzi in rame (per esempio \ni doppini). Tuttavia, un codice multilivello presenta lo svantaggio di rendere più delicata la \nfase di rivelazione in ricezione a parità di massimo livello del segnale. Infatti, segnali che \nrappresentano simboli diversi sono codificati con ampiezze del segnale più ravvicinate e \nquindi il rumore aggiunto al segnale stesso potrebbe causare un maggior numero di errori di \nrivelazione.", "rivelazione. \nUno dei codici ternari più semplici è il codice 4B3T , la cui tabella di corrispondenza tra \nblocchi di 4 bit in ingresso e blocchi di tre simboli (ternari) in uscita è riportata in Tabella \n7.3. Un codice ternario (a tre livelli in uscita) può dare luogo a codici a media di segnale non \nnulla. Allo scopo di eliminare la componente continua dal segnale generato, è stata definita \nuna doppia codifica (“stato +” e “stato -”) per alcuni dei simboli in ingresso in modo che,", "alternando i due codici per occorrenze consecutive dello stesso simbolo, la media complessiva \nsia nulla. Per esempio, alla stringa in ingresso 1101 corrispondono i due codici in uscita ++0 \ne --0. Naturalmente, il doppio codice non viene definito per le sei combinazioni di ingresso \nassociate a codici a media nulla (per esempio, 0010 associato al codice + -0). Dei 27 simboli \ndell’alfabeto di uscita non viene utilizzato solo quello costituito da 3 segnali nulli (000).", "Sono stati anche definiti codici a blocchi, denominati codici mBnB , in cui cio è a gruppi di \nm bit in ingresso vengono associati gruppi di n bit con m < n . In questo caso il codice determi -\nna quindi un aumento della frequenza di segnalazione in linea, rendendo questi codici adatti \nall’uso su mezzi trasmissivi in fibra nei quali non sussistono problemi di limitazioni di banda \nutilizzabile. Tuttavia, la scelta opportuna delle 2m configurazioni da utilizzare tra le 2n rese", "Tabella 7.3 Codifica 4B3T.\nIn Out \nstato +Out \nstato -In Out \nstato +Out \nstato -\n0000 0+– 0+– 1000 +0– +0–\n0001 –0+ –0+ 1001 0+0 0–0\n0010 +–0 +–0 1010 00+ 00–\n0011 –+0 –+0 1011 0++ 0––\n0100 0–+ 0–+ 1100 ++– ––+\n0101 +00 –00 1101 ++0 ––0\n0110 –++ +–– 1110 +–+ –+–\n0111 +0+ –0– 1111 +++ –––\nPattavinaReti2021.indb   400PattavinaReti2021.indb   400 14/01/2022   16:09:5014/01/2022   16:09:507.4 Codifica di linea  401", "disponibili dal codice consente di realizzare alcuni importanti obiettivi per il sistema di tra -\nsmissione. Tale scelta deve privilegiare per esempio sequenze con molte alternanze di simboli \n0 e 1 (per facilitare l’estrazione del cronosegnale) e sequenze in cui vi sia parità di simboli 0 \ne 1 trasmessi (per eliminare le componenti a bassa frequenza). In alcuni codici con grande \nnumero di combinazioni selezionabili quest’ultimo obiettivo viene garantito direttamente", "scegliendo combinazioni in ognuna delle quali il numero di simboli 0 uguaglia il numero di \nsimboli 1; questo è il caso del codice 6B8B  in cui tutte le 26 = 64 combinazioni scelte conten -\ngono 4 simboli 0 e 4 simboli 1. Naturalmente questa proprietà non si applica per codici in cui \nn è dispari, come per esempio nel caso del codice 4B5B . Le funzioni di controllo degli errori \nsono attuate grazie alla scelta delle combinazioni da utilizzare, che escludono il verificarsi", "di determinate sequenze. Si riporta a titolo di esempio in Tabella 7.4 la corrispondenza tra \nalfabeto in ingresso e alfabeto in uscita per il codice 4B5B . \nAlcuni codici di linea comunemente utilizzati nelle reti di telecomunicazione sono 8B6T  \ne 4B5B  nell’ambito delle reti Fast Ethernet (vedi Paragrafo 9.3.2), i codici 8B10B  e 64B66B  \nnelle reti Gigabit Ethernet (vedi Paragrafo 9.3.3) e 10Gigabit Ethernet (vedi Paragrafo 9.3.4),", "il codice 2B1Q  nei collegamenti punto-punto su doppino di tipo DSL (vedi Paragrafo 8.2.2).Tabella 7.4 Codifica 4B5B.\nIn Out In Out\n0000 11110 1000 10010\n0001 01001 1001 10011\n0010 10100 1010 10110\n0011 10101 1011 10111\n0100 01010 1100 11010\n0101 01011 1101 11011\n0110 01110 1110 11100\n0111 01111 1111 11101\nPoiché alcuni dei codici di base rientrano anche tra quelli a blocchi, si vuole individuare il \ncodice della classe m BnB che realizza la codifica CMI, ricavando anche la tabella di corri -", "spondenza tra bit in ingresso e bit in uscita.\nSi tratta chiaramente del codice 1B2B , essendo previsti due soli livelli in uscita. Dato che \nal simbolo binario 1 sono associati due distinti segnali che si alternano, la descrizione della \ncorrispondenza tra codice in ingresso e codice in uscita richiede di distinguere due stati che \nsi alternano per ogni simbolo binario 1 da trasmettere. Quindi la corrispondenza tra simboli \nin ingresso e in uscita è riportata in Tabella 7.5. Esempio 7.8", "PattavinaReti2021.indb   401PattavinaReti2021.indb   401 14/01/2022   16:09:5014/01/2022   16:09:50402  Capitolo 7 – Strati inferiori\nTabella 7.5 Codifica nel codice CMI secondo l’Esempio 7.8.\nIn Out stato 0 Out stato 1\n0 01 01\n1 00 11\n0\n4B3T4B5B1011110010100 00\nFigura 7.18 Codifica di linea MLT-3 secondo l’Esempio 7.9.Per la stringa binaria 0101111001010000, generata a una frequenza di 1 Mbit/s, si vuole rap -", "presentare il segnale generato con i codici a blocchi 4B5B  e 4B3T , ipotizzando per quest’ul -\ntimo che l’ultimo stato assunto per tutti i simboli trasmessi sia quello negativo (stato - ).\nIl segnale generato per la stringa assegnata è riportato in Figura 7.18. Si nota anche visi -\nvamente come i due codici diano luogo a una diversa frequenza di segnalazione in linea; \ninfatti, per il codice 4B5B  si ha una frequenza Fs = 1,25 Mbaud, mentre per quello 4B3T  si \nha Fs = 750 kbaud.  Esempio 7.9", "ha Fs = 750 kbaud.  Esempio 7.9\nPattavinaReti2021.indb   402PattavinaReti2021.indb   402 14/01/2022   16:09:5014/01/2022   16:09:508CAPITOLO Accesso a Internet\n8CAPITOLO\nIn questo capitolo vengono presentate le due principali solu -\nzioni in cavo per l’accesso ai servizi resi disponibili attra-\nverso Internet, e cio è quelle basate sull’uso del doppino \ndella vecchia infrastruttura di fonia e quelle che utilizzano \ninvece la fibra ottica. Le soluzioni adottate con mezzo tra -", "smissivo in rame, chiamate xDSL, sono state concepite per \nrendere disponibile sulla linea la massima capacità trasmis -\nsiva possibile, compatibilmente con la qualità dei doppini \ninstallati. Questi limiti di velocità non sono presenti nelle \nreti di accesso completamente ottiche, che tuttavia non sem -\npre sono disponibili sul territorio. In questo caso , soluzioni \nmiste basate sull’utilizzo congiunto di mezzi trasmissivi in \nrame e in fibra, denominate FTTx, possono consentire di", "migliorare le prestazioni dell’infrastruttura in rame esisten -\nte, senza richiedere una completa migrazione alla tecnolo -\ngia ottica. Vengono infine descritte le tecniche di accesso a \nInternet che utilizzano le infrastrutture di rete radiomobile, \nesaminando le varie tipologie di rete che si sono succedute \nnel corso degli anni, e cio è reti 2G, reti 3G, reti LTE (4G), \nreti 5G.\n8.1 La rete di accesso\nLe infrastrutture in cavo per accedere a Internet possono", "essere classificate sulla base del mezzo trasmissivo utilizza -\nto, e cio è cavi in rame o fibre ottiche. Le reti di accesso in \nrame sono quelle sviluppate nel corso degli ultimi decenni \ne sono tipicamente di proprietà degli operatori detti incum -\nbent, cioè quelli che hanno costruito queste reti in regime \ndi monopolio. L ’apertura del mercato delle telecomunica-\nzioni che ha avuto luogo negli anni ’90 ha fatto sì che altri \noperatori, detti other licensed operators (OLO), potessero", "offrire servizi di comunicazione in concorrenza agli opera -\ntori incumbent . Questi nuovi operatori hanno quindi potuto Argomenti\n8.1 La rete di accesso\n8.2 Accesso in rame\n8.3 Accesso in fibra ottica\n8.4  Accesso mediante rete \nradiomobile\nPattavinaReti2021.indb   403PattavinaReti2021.indb   403 14/01/2022   16:09:5014/01/2022   16:09:50404  Capitolo 8 – Accesso a Internet\nsfruttare il vantaggio di non essere vincolati dalla necessità di riutilizzare apparati preesistenti", "di precedenti tecnologie, e hanno quindi potuto sviluppare nuove reti di accesso utilizzando le \nsoluzioni più innovative, normalmente in tecnologia ottica. \nLa struttura di una tipica rete di accesso in rame di un operatore incumbent  è mostrata in \nFigura 8.1 [ISBUL]. Questa si compone di un grande numero di centrali urbane ( central office , \nCO), dette anche centrali locali, che sono connesse attraverso la rete di giunzione (backhaul)", "a centrali di più alto livello. Nelle centrali urbane sono presenti i permutatori metallici ( main \ndistribution frame , MDF) che consentono la connessione fisica dei doppini in rame verso gli \nutenti finali. La rete di accesso in rame si divide in due parti principali: \n• rete primaria  (primary loop ), che connette i permutatori presenti in centrale agli \narmadi stradali ( distribution cabinet ), che a loro volta contengono terminazioni di cavi", "più piccole ( subloop distribution frame , SDF); la lunghezza della rete primaria varia \nda 200 metri ai 3000 metri;\n• rete secondaria  (secondary loop ), che connette gli armadi stradali (e quindi gli SDF) \nai punti di distribuzione ( distribution point ) posti in prossimità degli edifici con una \nlunghezza che varia dai 100 ai 700 metri; i distributori sono costituiti da vari tipi di \ncontenitori per la terminazione dei cavi ( distribution frame , DF), a cui fanno capo", "alcune decine di doppini in rame; i DF possono essere interni o esterni agli edifici.\nA titolo di esempio, la rete di accesso dell’operatore incumbent  Telecom Italia si compone \ndi circa 10.000 centrali urbane e di 140.000 armadi stradali. Complessivamente, la rete di \naccesso in rame italiana è composta di circa 530 mila km di cavo per un totale di 110 milioni \ndi km di doppini.\nUna rete di accesso in tecnologia ottica può essere realizzata secondo diverse soluzioni, a", "seconda della necessità o meno di riutilizzare infrastrutture preesistenti. Un operatore incum -\nbent vorrà per quanto possibile riutilizzare apparecchiature già in campo e quindi cercherà di \nfar “evolvere” la rete di accesso in rame verso una struttura che utilizza in modo crescente la \ntecnologia ottica (vedi Paragrafo 8.3). Invece, un operatore OLO potrà sviluppare sin dall’ini -\nzio una rete di accesso completamente ottica. Una delle soluzioni più semplici in quest’ultimo", "caso è rappresentata da una struttura di reti ad anello a due livelli, mostrata in Figura 8.2. Gli \nutenti residenziali o business sono connessi ad apparati di concentrazione locale, distribuiti \nsul territorio (tipicamente per gruppi di condomini in area cittadina). Questi apparecchi sono \nconnessi con collegamenti punto-punto a concentratori di secondo livello dislocati lungo anelli \nsecondari ( secondary rings ) in fibra ottica, mutuamente connessi da uno o più anelli ottici", "primari ( primary rings ) ad alta capacità. \nCentrale\nlocale Armadio\nstradale Puntodi\ndistribu zioneCasa /\nufficio\nRete\nprimariaRete\nseco ndaria\nFigura 8.1 Rete di accesso in rame.\nPattavinaReti2021.indb   404PattavinaReti2021.indb   404 14/01/2022   16:09:5014/01/2022   16:09:508.1 La rete di accesso  405\nLe architetture di rete di accesso per interconnettere gli utenti alla centrale e fornire loro", "connettività a larga banda sono essenzialmente due: (i) architetture passive , dove i flussi dati \n“downstream”, cio è verso gli utenti, vengono generati nella centrale locale e distribuiti con soli \ncomponenti ottici passivi; (ii) architetture attive , in cui i flussi dati sono originati da apparec -\nchiature di rete posizionate a valle della centrale locale.\nNell’ambito delle architetture passive la soluzione che ha riscosso il più grande consenso", "tra operatori è la GPON  (gigabit-capable passive optical network ) [G.984.1], che prevede una \ncapacità downstream  (dalla centrale verso l’utente) di 2,488 Gbit/s e una upstream  (dall’utente \nalla centrale) di 1,244 Gbit/s per ogni utente. Una rete GPON è costituita da una struttura \nottica ad albero in cui la radice è posizionata nel CO e i flussi ottici sono distribuiti agli uten -\nti mediante uno o più splitter  ottici: uno splitter 1: n1 divide il flusso ricevuto sulla fibra in", "ingresso in n1 flussi, ognuno inviato su una delle n1 fibre ottiche in uscita. Tipicamente, nelle \nreti GPON si prevedono due operazioni di divisione in cascata del flusso ottico con fattore di \ndivisione n1 e n2, per un fattore massimo di splitting complessivo di 1:128 (vedi Figura 8.3a). \nCiò consente, nelle sezioni più a monte della rete di accesso, di trasportare in modo aggregato \nsu un numero minore di fibre il flusso dati degli utenti raggiunti in un dato territorio.", "Le architetture attive, dette anche Pt2Pt  (point-to-point ), prevedono di raggiungere ogni \nutente con una linea in fibra ottica dedicata, in cui il flusso downstream viene generato da un \nnodo terminale di rete con tecnologia di trasmissione Fast Ethernet o Gigabit Ethernet (vedi \nFigura 8.3b). Questi nodi terminali sono connessi ai CO da un’infrastruttura ottica, con topo -\nlogia ad anello, come quella rappresentata in Figura 8.2, oppure a stella, analoga alla rete di", "accesso in rame mostrata in Figura 8.1. \nLe soluzioni passive sono generalmente adottate per utenze residenziali, mentre quelle \nattive rispondono meglio ai requisiti delle utenze di tipo business, in quanto l’assenza di \ncondivisione di risorse trasmissive consente di garantire meglio una prefissata velocità di \nconnessione alla rete. Anel lo\nprimario\nAnello\nsecondar io\nAnello\nsecondarioAnello\nsecondario\nFigura 8.2 Rete di accesso in fibra ottica.", "Figura 8.2 Rete di accesso in fibra ottica.\nPattavinaReti2021.indb   405PattavinaReti2021.indb   405 14/01/2022   16:09:5114/01/2022   16:09:51406  Capitolo 8 – Accesso a Internet\n8.2 Accesso in rame\nLe tecniche di trasmissione che vanno sotto il nome di DSL ( digital subscriber line ) si basano \nsul principio di utilizzare al meglio il doppino che collega l’utente alla centrale urbana, per for -\nnire servizi di telecomunicazione in aggiunta o in sostituzione al servizio base di fonia. Come", "già descritto nel Paragrafo 1.2.1, il doppino è caratterizzato da una banda alquanto limitata \nper trasferire segnali, se si vuole garantire una data qualità, espressa in termini di rapporto \nsegnale-rumore. Dato che il rumore che si somma al segnale in transito sul doppino aumenta \nall’aumentare della frequenza del segnale stesso, la banda realmente utilizzabile sui doppini \ndi vecchie generazioni è dell’ordine delle centinaia di kHz fino a qualche MHz. Le più recenti", "soluzioni tecniche consentono di utilizzare larghezze di banda dell’ordine di decine/centinaia \ndi MHz ponendo tuttavia vincoli sulla qualità del doppino utilizzato.\nLo sviluppo di infrastrutture di rete ad alta velocità, unitamente alla disponibilità di nuove \napplicazioni e servizi, ha evidenziato il problema del rendere disponibile un’adeguata capacità \ndi trasmissione dati all’utente residenziale. Il limite storico è rappresentato da reti di accesso", "che, per la grande maggioranza, forniscono unicamente un doppino come mezzo fisico di \nconnessione tra utente e rete. Questo è ovviamente più che sufficiente per il trasferimento del \nsolo segnale vocale e anche per la fornitura contemporanea di servizi dati a bassa velocità. \nIl paradigma che si è andato affermando negli anni ’90, soprattutto con l’avvento di Inter -\nnet, è che un certo tipo di utenza, tipicamente quella residenziale, si caratterizza per ricevere", "dalla rete molte più informazioni di quante ne invii in direzione opposta. Ciò ha reso evidente \ncome fosse indispensabile, soprattutto nel caso di mezzi trasmissivi con severe limitazioni di \nbanda come i doppini, prevedere una modalità di trasferimento di informazioni “asimmetri -\nca”, con flussi ricevuti dall’utente molto più grandi di quelli inviati. \nPer far fronte a queste esigenze sono state sviluppate, e successivamente incluse in stan -", "dard, soluzioni di trasporto di informazioni conosciute come DSL ( digital subscriber line ), \nconcepite per utilizzare al meglio i mezzi trasmissivi esistenti nelle reti di accesso (i doppini). \nLe tecniche DSL sono basate sulla trasmissione di segnali analogici che adottano tecniche di \nmodulazione anche molto sofisticate, con lo scopo di poter ottenere una capacità di trasferi -\nmento dati dell’ordine delle decine di Mbit/s.CO\n1:n11:n2\nCO Retedidistribuzione\nottica(a)\n(b)", "1:n11:n2\nCO Retedidistribuzione\nottica(a)\n(b)\nFigura 8.3 Architettura di rete di accesso: GPON (a), Pt2Pt (b).\nPattavinaReti2021.indb   406PattavinaReti2021.indb   406 14/01/2022   16:09:5114/01/2022   16:09:518.2 Accesso in rame  407\nFondamentalmente distinguiamo due classi di soluzioni DSL: le tecniche DSL asimme -\ntriche , dette ADSL, caratterizzate da una diversa capacità di trasferimento dati nelle due", "direzioni del collegamento, e quelle DSL simmetriche , denominate HDSL e VDSL a seconda \ndelle loro caratteristiche tecniche, che invece rendono disponibile la stessa capacità nelle due \ndirezioni. Data la pluralità di soluzioni, l’insieme di tutte queste tecniche di accesso va sotto il \nnome generico di xDSL . Ognuna di queste è caratterizzata da una capacità massima, espressa \nin bit/s, dei flussi trasmissivi che il sistema può supportare in condizioni ottimali del portante", "trasmissivo. Ne consegue che molto spesso la capacità effettivamente disponibile sarà inferio -\nre alla massima prevista, a causa delle condizioni non ideali del doppino utilizzato. \n8.2.1 DSL asimmetrico\nCon la tecnica ADSL ( asymmetric digital subscriber line ), che ha incontrato un successo \nnotevole nell’ambito degli accessi di tipo residenziale, si vuole fornire un servizio di tra -\nsferimento dati senza rinunciare all’utilizzazione del doppino stesso per il servizio base di", "fonia. Ciò richiede l’uso di apparecchiature denominate ADSL transceiver unit (ATU) alle due \nestremità del doppino, e cio è presso l’utente e nella centrale locale cui questi è connesso. La \nprima, rappresentata da un modem DSL, prende il nome di ATU-R ( ATU-remote ). La seconda, \ndenominata ATU-C ( ATU-central office ), consiste in un DSL access multiplexer (DSLAM) \nposizionato nella centrale locale, che è in grado di interfacciare una molteplicità di doppini.", "La Figura 8.4, che mostra una tipica configurazione di connessione utente-rete di tipo \nADSL lungo un doppino (UTP), mette in evidenza come un componente chiave del sistema \nsia un filtro ( filter ) che consente di separare il segnale vocale da quello dati, inviando ciascuno \nalla sua destinazione, e cio è l’apparecchio telefonico e il terminale dati dal lato utente, le due \nreti di fonia e dati dal lato della centrale locale. Poiché il segnale vocale mantiene la propria", "banda, per consentire il solo passaggio del segnale vocale è utilizzato un filtro passa-basso, \nmentre uno passa-alto alimenta le unità ATU-R e ATU-C, così da eliminare in questo caso il \nsegnale vocale. \nL ’apparecchiatura DSLAM interfaccia centinaia di doppini, svolgendo le funzioni di \nATU-C per ogni doppino che termina in un’appropriata scheda utente. Dal lato rete esso si \ninterfaccia alle apparecchiature dati, per esempio un router, con uno o più collegamenti ad", "alta velocità utilizzando un opportuno insieme di protocolli (vedi Paragrafo 9.4.3). Il nome \nDSLAM dell’apparecchiatura deriva da questa configurazione di multiplatore di accesso.\nLe funzioni base che vengono svolte dalle unità ATU sono quelle di strato fisico, e cio è \nallocazione delle frequenze da utilizzare, gestione della modalità di “duplexing”, cio è come \nUTPRetedati\nRetedifoniaFiltro\nDSLAMFiltroCentra lelocale Utente\nmodem\nDSL\nFigura 8.4 Connessione ADSL.", "modem\nDSL\nFigura 8.4 Connessione ADSL.\nPattavinaReti2021.indb   407PattavinaReti2021.indb   407 14/01/2022   16:09:5114/01/2022   16:09:51408  Capitolo 8 – Accesso a Internet\nconsentire il trasferimento bidirezionale di informazioni su un unico mezzo fisico, nonché \nadattamento della modulazione alla capacità effettiva del canale. Nelle apparecchiature DSL \npossono anche essere implementate altre funzionalità di più alto livello, fino allo strato di rete.", "ADSL  nasce con lo standard ANSI T1.413 all’inizio degli anni ’90, dando luogo a nume -\nrose scelte nella tecnica di modulazione da adottare; le due che hanno riscosso il maggiore \nsuccesso sono CAP e DMT. Quest’ultima è l’unico tipo di modulazione previsto dallo standard \nITU-T per ADSL che recepisce gran parte del precedente standard ANSI.\nLa tecnica CAP ( carrierless amplitude/phase modulation ) realizza una modulazione di", "tipo QAM in cui il segnale viene trasmesso avendone soppresso la portante. Rispetto a solu -\nzioni con trasmissione della portante, quest’ultima scelta implica una maggiore difficoltà in \nfase di demodulazione e di estrazione del segnale modulante; tuttavia, ciò rende alquanto più \nsemplice l’apparecchiatura trasmittente, che tra l’altro è caratterizzata da un ridotto consumo \ndi energia. La modulazione CAP prevede una granularità di 320 kbit/s per la capacità resa", "disponibile in direzione rete-utente. \nLa tecnica di modulazione DMT ( discrete multitone ) [G.992.1], che prende anche il nome \ndi G.dmt , si basa sulla definizione di 255 portanti, distanziate di 4,3125 kHz, valore che costi -\ntuisce anche la frequenza della prima portante. Le prime sei portanti non vengono utilizzate \nper trasferire traffico dati quando il canale vocale è in uso, lasciando quindi al traffico vocale", "la banda 0-25,875 kHz1. I due flussi upstream (utente-rete) e downstream (rete-utente) vengo -\nno trasferiti sul doppino utilizzando bande di frequenza distinte, adottando quindi la tecnica \nfrequency division duplexing  (FDD), oppure sovrapposte, così da richiedere l’adozione di \ndispositivi per la cancellazione dell’eco alle due estremità del collegamento.\nNella soluzione FDD il traffico upstream viene modulato su 25 portanti, dalla numero 7", "alla numero 31, quello downstream sulle restanti 224 portanti2, dalla numero 32 alla numero \n255. Quindi la banda disponibile in direzione utente-rete è nell’intervallo 25-138 kHz, mentre \nè nell’intervallo 138-1104 kHz in direzione opposta, come mostrato nella Figura 8.5a. Ciò \ngiustifica il termine “asimmetrico” che caratterizza i collegamenti ADSL. È possibile adottare \nuna “banda di guardia” tra le due bande utilizzate in direzioni opposte, evitando di usare le", "portanti ai confini delle due, per esempio le due portanti numero 31 e 32. \nSe invece la soluzione adottata ammette la sovrapposizione delle bande nelle due direzioni \ncon adozione di cancellatori di eco alle due estremità del doppino, allora la banda upstream è \nla stessa del caso precedente, ma la banda disponibile per il traffico downstream può utiliz -\nzare tutte le portanti a partire dalla numero 7, occupando quindi la banda 25-1104 kHz, come \nrappresentato in Figura 8.5b.", "rappresentato in Figura 8.5b.\nSu ogni portante si adotta una modulazione QAM codificando un numero di bit per sim -\nbolo compreso tra 2 e 15. La scelta sul numero effettivo di bit per portante dipende dalla \nqualità di trasmissione rilevata sulla banda usata dalla portante in questione. All’aumentare \ndel rumore rilevato, il numero di bit codificati per simbolo viene conseguentemente diminuito.\nSull’insieme delle portanti disponibili viene modulato un flusso dati periodico di durata", "250 ms con un massimo di 255 byte per trama adottando un codice di correzione degli errori \n(FEC) di tipo Reed-Solomon. Ciò corrisponde a un flusso dati downstream massimo di circa \n1 Si ricorda che in realtà la banda del segnale vocale trasferita in rete è limitata all’intervallo 300-3400 Hz.\n2  In realtà alcune delle portanti, in special modo quelle di frequenza più alta, sono utilizzate per funzioni di gestio -\nne e di testing, riducendo le portanti per traffico downstream a 218.", "PattavinaReti2021.indb   408PattavinaReti2021.indb   408 14/01/2022   16:09:5114/01/2022   16:09:518.2 Accesso in rame  409\n8 Mbit/s. In direzione upstream, la tecnica ADSL consente di inviare flussi dati fino a 800 \nkbit/s. Lo standard prevede che la capacità effettivamente disponibile in direzione downstream \nvari da un minimo di 32 kbit/s a un massimo di 6,144 Mbit/s a passi di 32 kbit/s; in direzione", "upstream la massima capacità disponibile è 640 kbit/s, con lo stesso valore minimo e lo stesso \npasso della direzione opposta. La lunghezza nominale massima del collegamento ADSL è di \n4,2 km.\nUna caratteristica di grande interesse della tecnica ADSL è la possibilità di negoziare la \ncapacità dati che viene effettivamente scambiata tra ATU-C e ATU-R operando una misu -\nrazione delle caratteristiche del canale trasmissivo effettivamente disponibile, in base alla", "quale vengono adattati i parametri della tecnica di modulazione realizzata alle due estremità \ndel doppino, trasferendo cio è un numero maggiore di bit/Hz per migliori qualità del segnale \nrilevate. È proprio questa misurazione che consente di selezionare la capacità dei canali dati \neffettivamente disponibili con passi di 320 kbit/s con modulazione CAP e di 32 kbit/s con \nmodulazione DMT. \nUna successiva versione di ADSL che privilegia la semplicità è nota come “Splitterless", "ADSL” [G.992.2] poiché non richiede l’installazione di filtri in corrispondenza dell’ATU-R, \ncioè presso l’utente; questo standard è anche conosciuto come G.lite . La conseguenza di ciò è \nche la trasmissione del segnale vocale, quando presente, interferisce con il segnale modulato \nDMT3. Si richiede dunque che le apparecchiature adattino la potenza del segnale modulato al \nvariare dello stato del segnale vocale. Le portanti utilizzate sono 128 invece di 255 e quindi", "l’ultima portante ha ora frequenza 552 kHz. La capacità dati che può essere raggiunta in dire -\nzione downstream è ora limitata a 1,536 Mbit/s e in direzione upstream a 512 kbit/s, con lo \nstesso passo di 32 kbit/s e la stessa lunghezza nominale massima del collegamento di 4,2 km. \nLa specifica del sistema ADSL prevede il trasporto di due tipi di flussi numerici: segnali \nSTM, cio è flussi continui offerti in strutture informative periodiche, e segnali ATM, cio è flus -", "si non continui di informazioni organizzati in sequenze di celle ATM (vedi Paragrafo 6.9.2) \n3 Potrebbe essere necessaria l’adozione di piccoli filtri in ogni presa telefonica nel sito dell’utente.Figura 8.5 Allocazione della banda: FDD (a), con cancellazione di eco (b).f(kHz)\n25 1381 104Voce\n0Down UpDati\nf(kHz)\n25 1381 104 0UpDownVoce Dati(a)\n(b)\nPattavinaReti2021.indb   409PattavinaReti2021.indb   409 14/01/2022   16:09:5214/01/2022   16:09:52410  Capitolo 8 – Accesso a Internet", "senza alcuna periodicità. Il trasporto di segnali T1 ed E1 [G.704] secondo la gerarchia plesio -\ncrona PDH sul flusso downstream è perfettamente compatibile con la capacità disponibile con \npassi di granularità di 32 kbit/s. Il trasporto di ogni tipo di traffico si basa sull’utilizzazione \ndi “supertrame” ADSL di periodo 17 ms; ognuna di queste contiene 68 trame ADSL, della \ndurata di 250 m s l’una. \nLa successiva raccomandazione denominata ADSL2  (asymmetric digital subscriber line 2 )", "[G.992.3] ha incrementato la capacità disponibile su doppino prevedendo una capacità down -\nstream di 8 Mbit/s e upstream di 800 kbit/s, utilizzando la stessa banda di frequenza di ADSL. \nLa versione “lite” di ADSL2, detta ADSL2 lite ( splitterless asymmetric digital subscriber line \n2) [G.992.4], rimuove l’obbligo di installazione del filtro nel sito dell’utente, riducendo le due \ncapacità a 1,536 Mbit/s (downstream) e 512 kbit/s (upstream), utilizzando la stessa banda di", "frequenza di ADSL2. Infine, la successiva specifica chiamata ADSL2+  (asymmetric digital \nsubscriber line 2 - extended bandwidth ) [G.992.5] prevede un ulteriore incremento del flusso \nupstream rispetto ad ADSL2 fino a 16 Mbit/s. Ciò viene ottenuto definendo 512 portanti con \nla stessa spaziatura prevista dallo standard ADSL base, così che ora la banda utilizzata sul \ndoppino arriva fino a 2,208 MHz. \nLa Tabella 8.1 riporta i principali parametri che definiscono le diverse soluzioni ADSL qui", "descritte. \n8.2.2 DSL simmetrica\nLe classi di soluzioni DSL sviluppate per configurazioni di tipo simmetrico, che consentono \ncioè il trasferimento di flussi bilanciati nelle direzioni upstream e downstream del collega -\nmento, sono sostanzialmente due: HDSL e VDSL.\nLo standard HDSL  (high bit rate digital subscriber line ) [G.991.1] prevede l’utilizzazione \ndi un numero di doppini da 1 a 3 per il trasferimento di un traffico di tipo simmetrico. Appli -", "cazioni tipiche di queste soluzioni sono la fornitura di connettività alla rete di piccole realtà \naziendali che già dispongono di un accesso alla rete con doppini.\nLa trama HDSL di periodo 500 m s comprende 144 byte, che corrisponde a una velocità di \n2,304 Mbit/s. Nel caso di più di un doppino, il flusso dati viene suddiviso tra i doppini dispo -\nnibili. Viene previsto il trasporto di segnali numerici di tipo T1 ed E1 [G.704], le cui velocità Tabella 8.1 Soluzioni ADSL.", "ADSL G.lite ADSL2 ADSL2 lite ADSL2+\nRaccomandazioneANSI T1 .413\nITU-T G.992.1ITU-T \nG.992.2ITU-T \nG.992.3ITU-T \nG.992.4ITU-T \nG.992.5\nModulazioneCAP\nDMTDMT DMT DMT DMT\nNumero di portanti1 (CAP)\n255 (DMT)128 256 128 512\nCapacità downstream 6 Mbit/s 1,5 Mbit/s 8 Mbit/s 1,5 Mbit/s 16 Mbit/s\nCapacità upstream 640 kbit/s 0,5 Mbit/s 0,8 Mbit/s 0,5 Mbit/s 0,8 Mbit/s\nBanda utilizzata 1,1 MHz 0,5 MHz 1,1 MHz 0,5 MHz 2,2 MHz\nSupporto canale vocale Si Si Si Si Si", "Supporto canale vocale Si Si Si Si Si\nPattavinaReti2021.indb   410PattavinaReti2021.indb   410 14/01/2022   16:09:5214/01/2022   16:09:528.2 Accesso in rame  411\nsono 1,544 Mbit/s e 2,048 Mbit/s. Con modulazione PAM ( pulse amplitude modulation ) e \ncodifica 2B1Q del segnale viene trasmessa una trama di periodo 6 ms che include rispettiva-\nmente 6960, 3504, 2352 quat4 nei casi di uno, due o tre doppini. Utilizzando la modulazione", "CAP, le cui soluzioni sono limitate a due doppini, viene utilizzata una struttura di trama dello \nstesso periodo (6 ms) che ora include 13.920 bit con un doppino, 7008 bit con due doppini. \nHDSL utilizza l’intera banda disponibile sul doppino in entrambe le direzioni e adotta \nquindi la tecnica della cancellazione dell’eco per eliminare la mutua interferenza tra i segnali \nin direzione opposta. La tecnica di codifica 2B1Q utilizzata su sistemi HDSL richiede una", "banda generalmente più piccola di quella richiesta con la codifica AMI originaria dei sistemi \ntrasmissivi T1 ed E1 [G.704]. È tuttavia anche prevista la soluzione HDSL con modulazione \nCA P. \nUna successiva specifica denominata SHDSL  (single-pair high-speed digital subscriber \nline) [G.991.2] si rivolge in modo specifico alle configurazioni di linea dell’utente ove è dispo -\nnibile un solo doppino. Lo standard prevede il supporto di flussi simmetrici da 192 kbit/s fino", "a 2,304 Mbit/s con passi di incremento della capacità di 64 kbit/s, utilizzando una modula -\nzione di tipo TCPAM ( trellis coded pulse amplitude modulation ). Ulteriori opzioni prevedono \naddirittura l’estensione della velocità supportata a 5,696 Mbit/s. \nVDSL  (very high speed digital subscriber line ) è uno standard DSL pensato per raggiun -\ngere capacità di decine di Mbit/s su doppini di lunghezza limitata, dell’ordine di centinaia di", "metri; prevede l’implementazione di soluzioni sia simmetriche che asimmetriche. Lo standard \nbase VDSL [G.993.1] utilizza la banda da 138 kHz fino a 12 MHz, suddivisa con tecnica FDD \nnelle due direzioni; la banda disponibile in ognuna di queste viene ulteriormente divisa con \ntecnica FDM in due bande non adiacenti, come mostrato in Figura 8.6. Le bande 0,138-3,75 \nMHz e 5,2-8,5 MHz sono riservate al traffico downstream, quelle 3,75-5,2 MHz e 8,5-12 MHz", "al traffico upstream. L ’utilizzazione della banda 25-138 kHz è invece opzionale. Si noti come, \navendo adottato una soluzione FDD, l’intercalare delle due bande upstream e downstream \nconsenta di allocare flessibilmente la banda nelle due direzioni, anche quando le condizioni \nrilevate sul doppino sono tali da non consentirne l’utilizzazione oltre una certa frequenza. \nSe questa è particolarmente bassa, per esempio sotto i 3 MHz, è sempre possibile utilizzare", "la banda 25-138 kHz in direzione upstream per realizzare una configurazione asimmetrica. \nSi prevede che un sistema VDSL sia compatibile con la trasmissione di voce analogica, nella \nbanda fino a 4 kHz. \nLa tecnica di modulazione di VDSL è  la stessa adottata nei sistemi ADSL, cio è DMT, \nche in questo caso può utilizzare fino a 4096 portanti con la stessa spaziatura di 4,3125 kHz. \n4 Un simbolo quaternario (quat) corrisponde a due bit.Figura 8.6 Allocazione della banda in VDSL.f(MHz)", "0,025 0,138 0Down Op.\n5,2 3,75 12 8,5Up Down UpVoce Dati\nPattavinaReti2021.indb   411PattavinaReti2021.indb   411 14/01/2022   16:09:5214/01/2022   16:09:52412  Capitolo 8 – Accesso a Internet\nVDSL prevede il trasporto di una capacità di 26 Mbit/s per direzione in configurazione sim -\nmetrica. Nella soluzione asimmetrica la capacità downstream può aumentare fino a 51 Mbit/s. \nVDSL adotta la tecnica di codifica di tipo Reed-Solomon.", "La successiva versione di VDSL, denominata VDSL2  (very high speed digital subscriber \nline 2) [G.993.2], rende disponibile una capacità fino a 400 Mbit/s per direzione su doppini di \nlunghezza limitata, occupando una banda di 35 MHz sul doppino. Naturalmente, l’utilizza -\nzione di una banda così ampia sul doppino richiede una grande complessità nel trattamento \ndel segnale trasmesso.\nUn totale cambio di paradigma nelle reti di accesso in rame viene realizzato dalla tecnica", "detta G.fast  [G.9701], che consente la realizzazione di soluzioni sia simmetriche, sia asimme -\ntriche. La modulazione utilizzata è sempre la DMT, ma viene ora utilizzata la tecnica time \ndivision duplexing  (TDD) che trasmette i flussi upstream e downstream in intervalli temporali \ndistinti, rendendone più flessibile l’uso. Infatti le 4096 portanti utilizzate, che occupano una \nbanda di 212 MHz, possono essere utilizzate in configurazione bilanciata, con 2048 portanti", "per direzione, oppure anche tutte in una sola direzione. Su distanze limitate dell’ordine di \n100 m si può così rendere disponibile una capacità di 1 Gbit/s per direzione che può essere \nsbilanciata fino a 2 Gbit/s in una sola direzione. Queste enormi capacità sono rese disponibili \ngrazie all’adozione di numerose tecniche innovative di trasmissione: (i) codifica con corre -\nzione degli errori ( forward error correction , FEC) di tipo “a traliccio” e Reed-Solomon, (ii)", "riduzione dell’interferenza tra segnali diversi che viaggiano su doppini nello stesso cavo nella \nstessa direzione (diafonia) con una tecnica innovativa denominata “vectoring”. Questa meto -\ndologia richiede la stima di tutti i potenziali contributi di diafonia che possono essere generati \ndai vari doppini nello stesso cavo, cosi da adattare e coordinare il segnale trasmesso su ogni \ndoppino in nodo da minimizzare la diafonia effettivamente generata. Naturalmente l’effettivo", "conseguimento del trasporto di flussi alle capacità più grandi richiede che i parametri fisici \ndel doppino rispondano a requisiti predeterminati.\nLa Tabella 8.2 riassume le caratteristiche principali dei diversi standard DSL disponibili \nper l’utilizzazione di doppini al fine di fornire il trasporto di traffico dati di tipo simmetrico. \nTabella 8.2 Soluzioni DSL.\nHDSL SHDSL VDSL VDSL2 G.fast\nRacc. ITU-T G.991 .1 G.991 .2 G.993.1 G.993.2 G.9701\nModulazionePAM\nCAPTCPAM DMT DMT DMT", "ModulazionePAM\nCAPTCPAM DMT DMT DMT\nNumero di portanti 1 1 4096 40962048\n4096\nCapacità massima \nper direzione1,544 Mbit/s\n2,048 Mbit/s2,3 Mbit/s 26 Mbit/s 400 Mbit/s1 Gbit/s\n2 Gbit/s\nBanda utilizzata \n(1 doppino)196 kHz (PAM)\n238 kHz (CAP)400 kHz 12 MHz 35 MHz106 MHz\n212 MHz\nTecnica di duplexingCancellazione \ndi ecoCancellazione \ndi ecoFDD FDD TDD\nSupporto canale \nvocaleNo No Si Si Si", "Supporto canale \nvocaleNo No Si Si Si\nPattavinaReti2021.indb   412PattavinaReti2021.indb   412 14/01/2022   16:09:5214/01/2022   16:09:528.3 Accesso in fibra ottica  413\n8.3 Accesso in fibra ottica\nLa pluralità di servizi fruibili attraverso Internet richiede ormai la disponibilità di accessi con \nvelocità minime di decine, a volte centinaia, di Mbit/s. Le reti di accesso in fibra ottica sareb -\nbero abbondantemente in grado di soddisfare questo requisito, ma una disponibilità capillare", "di accesso ottico in una data area richiede grandi investimenti difficilmente disponibili su un \npiccolo arco di tempo. Per questo motivo, rivestono una grande importanza anche le soluzio -\nni che consentono di adattare una rete di accesso in rame al trasporto, seppure parziale, di \nsegnali ottici. \nLe soluzioni che un operatore incumbent  può adottare per fare evolvere la propria rete in \nrame differiscono nella profondità di penetrazione della tecnologia ottica, in sostituzione di", "quella in rame, a partire dalla centrale urbana. Queste soluzioni vanno sotto il nome di FTTx  \n(fiber to the x ), in cui “x” sta a indicare il punto di demarcazione tra le due tecnologie. \nLa Figura 8.7a mostra la configurazione FTTE  (fiber to the exchange ), dove la tecnologia \nottica non è ancora penetrata nella rete di accesso. La rete di trasporto a monte della centrale \nurbana (CO) è infatti ormai completamente ottica, ma la rete di distribuzione dal CO verso gli", "utenti, attraverso gli apparati di distribuzione MDF ( main distribution frame ) e DF ( distribu -\ntion frame ), è ancora in rame. Un primo tipo di evoluzione della rete di accesso, rappresentata \nin Figura 8.7b e denominata FTTC  (fiber to the cabinet ), richiede la nuova cablatura della \nsola rete primaria, che diventa in fibra ottica. Una diversa e più onerosa evoluzione della rete \ndi accesso, mostrata in Figura 8.7c e denominata FTTB  (fiber to the building ), prevede che la", "tecnologia ottica sia impiegata sia nella sezione primaria, sia in quella secondaria, della rete di \naccesso. L ’ultimo passo di questa evoluzione è costituito da una rete di accesso completamente \nottica fino alla terminazione finale di rete, mostrata in Figura 8.7d e denominata FTTH  (fiber \nto the home ). \nGli elementi che costituiscono una rete di accesso in fibra ottica sono:\n(a)\n(b)\n(c)\n(d)CO\nMDF\nDF\nCO\nMDF\nDF\nCO\nDF\nCO\nFigura 8.7 Rete di accesso: FTTE (a), FTTC (b), FTTB (c), FTTH (d).", "PattavinaReti2021.indb   413PattavinaReti2021.indb   413 14/01/2022   16:09:5314/01/2022   16:09:53414  Capitolo 8 – Accesso a Internet\n• optical line termination  (OLT): dispositivo ottico collocato nella centrale locale che \nagisce da terminale di linea del collegamento ottico;\n• optical network unit  (ONU): elemento ottico dislocato nelle vicinanze dell’utente fina -\nle e che si interfaccia in rame con la network termination  (NT) dello stesso; più ONU", "sono connesse a un solo OLT con diverse soluzioni: se l’architettura installata è FTTC, \nallora l’ONU è collocata nell’armadio stradale, mentre se l’architettura è FTTB l’ONU \nè collocata alla base del palazzo;\n• optical network termination  (ONT): interfaccia di rete ottica collegata direttamente al \ndispositivo OLT che raggiunge l’utente finale nell’architettura FTTH;\n• optical distribution frame  (ODF): permutatore ottico di centrale che sostituisce il per -", "mutatore metallico MDF nel caso di collegamenti in fibra ottica. \nPer quanto riguarda i collegamenti in fibra ottica, in generale ciascun collegamento tra appa -\nrati OLT, ONU e ONT è realizzato da una sola fibra ottica: si devono quindi utilizzare due \ndiverse lunghezze d’onda nei due sensi di trasmissione. Più raramente i collegamenti tra OLT e \nONU vengono realizzati tramite una coppia di fibre ottiche, delle quali una trasporta il segnale \nupstream e l’altra il segnale downstream.", "upstream e l’altra il segnale downstream. \n8.3.1 Soluzioni FTTx\nSi descrivono ora le diverse architetture FTTx, evidenziando i principali elementi funzionali \npresenti in ognuna.\nFiber to the exchange - FTTE\nL ’architettura FTTE è basata sulla riutilizzazione completa della rete di accesso in rame sfrut -\ntando le varie tecnologie xDSL, in particolare quelle basate su ADSL, ADSL2 e ADSL2+. \nLa scelta della tecnologia da utilizzare dipende dalle prestazioni che si vogliono offrire agli", "utenti finali, con una velocità teorica downstream di circa 20 Mbit/s e upstream di 1 Mbit/s \nper l’ADSL2+. \nLe prestazioni reali dipendono molto dalla distanza dell’utente dalla centrale, dalla qualità \ndei doppini telefonici e dalla rumorosità della linea stessa. Per offrire questo servizio di larga \nbanda di prima generazione è necessario che la centrale urbana disponga di apparati DSLAM \n(digital subscriber line access multiplexer ) in comunicazione con i modem DSL posizionati", "nel sito dell’utente. Se le distanze tra utenti e centrale locale sono molto ridotte (tipicamente \ninferiori a 400 metri), è possibile offrire collegamenti di grande capacità con soluzioni di tipo \nVDSL2 o G.fast (vedi architetture FTTC e FTTB). \nLa Figura 8.8 mostra la struttura della rete di accesso, in cui la rete primaria e quella \nsecondaria di accesso sono quelle preesistenti da cui si dipartono permutatori metallici, deno -", "tati DF. Nella centrale urbana si notano i due permutatori: quello a monte del DSLAM è di \ntipo ottico (ODF) e interconnette il DSLAM con la rete di trasporto, mentre quello a valle \ndel DSLAM è il classico permutatore metallico, sempre denominato DF, da cui si dipartono i \ndoppini dell’utente.\nL ’architettura FTTE è basata sulla riutilizzazione completa della rete di accesso in rame \nsfruttando le varie tecnologie xDSL, in particolare quelle basate su ADSL, ADSL2 e ADSL2+.", "L ’utilizzazione di una tecnologia rispetto ad un’altra dipende dalle prestazioni che si vogliono \nPattavinaReti2021.indb   414PattavinaReti2021.indb   414 14/01/2022   16:09:5314/01/2022   16:09:538.3 Accesso in fibra ottica  415\noffrire agli utenti finali con una velocità teorica downstream di circa 20 Mbit/s e upstream di \n1 Mbit/s per l’ADSL2+. \nFiber to the cabinet - FTTC\nUna prima evoluzione della rete di accesso in rame consiste nel sostituire il rame nella rete", "primaria di accesso, collegando la centrale urbana con l’armadio stradale tramite fibra ottica \nper realizzare la soluzione FTTC mostrata in Figura 8.9. L ’introduzione di splitter nella cen -\ntrale urbana consente di limitare il numero di fibre nel permutatore ottico e di distribuire i \nflussi ottici sulle diverse direttrici ottiche che si dipartono dal CO verso gli utenti. In questo \ncaso è necessario introdurre nell’armadio stradale ( cabinet ) dei componenti attivi, ONU, che", "realizzano la conversione ottico/elettrica del segnale e viceversa. Di solito si installa un mini \nDSLAM con modem VDSL2 per la trasmissione su doppino in rame, così che si possa rag -\ngiungere una velocità downstream di 300 Mbit/s e upstream di 100 Mbit/s, almeno su distanze \nbrevi dell’ordine di 200-300 metri. Maggiori velocità sono garantite con soluzione G.fast, in \nspecial modo su distanze più brevi.", "special modo su distanze più brevi.\nL ’architettura di rete FTTC permette di limitare l’investimento iniziale in quanto si inter -\nviene solo sulla sezione primaria della rete di accesso. Uno svantaggio di questo approccio è \nil collo di bottiglia rappresentato dalla rete a valle in rame, che possiede limiti di prestazione \ndifficilmente superabili. \nFiber to the building - FTTB\nUna diversa opzione per portare la fibra ottica vicino all’utente finale consiste nel collegare", "l’edificio ( building , che rappresenta sia il singolo palazzo, sia gruppi di abitazioni singole) \ndirettamente alla centrale urbana con la fibra ottica, eliminando i cabinet stradali. Questa \nsoluzione, denominata FTTB, è rappresentata in Figura 8.10. \nAlla base dell’edificio viene installato l’apparato che converte il segnale ottico in elettrico: \nda qui la connessione avviene sfruttando i cavi in rame presenti negli edifici con tecnologia", "VDSL2 oppure, ancora meglio, con tecnologia G.fast, data la breve distanza tra DSLAM e ODFD F DF\nRete\nprimariaRete\nsecondariaNT DF\nDSLA MCentrale\nlocaleArmadio\nstradalePuntodi\ndistribu zione\nFigura 8.8 Rete di accesso FTTE.\nFigura 8.9 Rete di accesso FTTC.OLT ODFCentrale\nlocaleArmadio\nstradalePuntodi\ndistribu zione\nDF ONU\nRete\nprimariaRete\nsecondariaNT DF\n1:n\nPattavinaReti2021.indb   415PattavinaReti2021.indb   415 14/01/2022   16:09:5314/01/2022   16:09:53416  Capitolo 8 – Accesso a Internet", "apparecchiature terminali (generalmente dell’ordine delle decine di metri). In questo modo si \npossono raggiungere le massime prestazioni dal doppino (fino a 400/1000 Mbit/s in downstre -\nam e 100/500 Mbit/s in upstream), dato che le distanze coperte sono tipicamente molto brevi \n(fino a 100 metri). \nFiber to the home - FFTH\nL ’architettura che permette la miglior disponibilità di banda all’utente finale e la maggior", "espandibilità futura consiste nel portare la fibra ottica fino in casa ( home ) dell’utente finale. \nOra tutti i collegamenti, sia nella rete di accesso, sia all’interno dell’edificio, sono in fibra \nottica. Questa soluzione, denominata FTTH, è mostrata in Figura 8.11. Essa rappresenta l’ar -\nchitettura di rete GPON introdotta nel Paragrafo 8.1, in cui si individuano due punti di dira -\nmazione delle fibre realizzati da splitter, uno nella centrale urbana e uno in prossimità degli", "edifici raggiunti dalla rete di accesso ottica. A seconda della tecnologia utilizzata, è possibile \ngarantire connessioni simmetriche che vanno da 100 Mbit/s a 2,5 Gbit/s. Capacità fino a \n10 Gbit/s possono essere fornite utilizzando le successive tecnologie denominate XGPON  \n(10-Gigabit-capable passive optical network ) [G.987]. \n8.3.2 Soluzioni Pt2Pt\nLe architetture di tipo punto-punto ( point-to-point , Pt2Pt) prevedono collegamenti dedicati", "in fibra tra l’OLT e l’interfaccia ONU/ONT, utilizzando tecnologie Fast Ethernet (100 Mbit/s) \noppure Gigabit Ethernet (1/10/40/100 Gbit/s). La topologia è generalmente a stella per la con -\ndivisione dei cavidotti, seguendo lo schema di principio della normale rete in rame. \nEssendo il mezzo dedicato, questa soluzione è adatta a soddisfare anche esigenze future \ne si presta a progressivi incrementi di banda (da 100 Mbit/s a 100 Gbit/s). Di contro, questa", "architettura ha costi superiori rispetto alle tecniche d’accesso passive a causa del numero \nmaggiore di fibre da installare nella rete primaria, che comporta una gestione più complessa \ndelle fibre all’interno della centrale.\nFigura 8.10 Rete di accesso FTTB.OLT ODF ONU NT\n1:nCentrale\nlocalePuntodi\ndistribu zione\nFigura 8.11 Rete di accesso FTTH.OLT ODF ONT\n1:n21:n1Centrale\nlocale", "1:n21:n1Centrale\nlocale\nPattavinaReti2021.indb   416PattavinaReti2021.indb   416 14/01/2022   16:09:5414/01/2022   16:09:548.4 Accesso mediante rete radiomobile  417\nLa Figura 8.12 mostra lo schema di una rete Pt2Pt con architettura FTTH: la connessione in \nfibra raggiunge l’utente finale e possono essere presenti diversi punti di distribuzione, ODF \n(optical distribution frame ) o SDF ( subloop distribution frame ), delle terminazioni ottiche", "in vari punti della rete di accesso ottica. A differenza della soluzione FTTH GPON, ora non \nsono presenti splitter nella rete di accesso. Nel caso di applicazioni residenziali, la rete FTTH \nPt2Pt viene realizzata con una singola fibra per utente, consentendo 100 Mbit/s bidirezionali \nsu distanze fino a 10 km. Per connessioni di almeno 1 Gbit/s su lunghe distanze si ricorre in \ngenere a due fibre ottiche, una per direzione di trasmissione. \n8.4 Accesso mediante rete radiomobile", "8.4 Accesso mediante rete radiomobile\nLe reti di comunicazione che hanno consentito l’accesso a servizi di rete in mobilità sono \nbasate su architetture di rete di tipo “cellulare”, il cui principio è stato descritto nel Paragrafo \n1.2.4. Le prime reti radiomobili sono state poste in servizio negli anni ’80 e sono oggi cono -\nsciute come reti radiomobili di prima generazione (reti 1G). Le due tecnologie di maggiore", "successo sono state AMPS ( advanced mobile phone system ), principalmente sviluppata nel \nNord America, e TACS  (total access communication system ) che ha trovato maggiore sviluppo \nin Europa. La principale caratteristica tecnica di queste reti 1G è la separazione dei canali nel \ndominio della frequenza con tecnica FDM (vedi Paragrafo 2.4.1) e il trasporto di informazioni \ndi tipo analogico  limitato alla voce. Naturalmente, negli anni dello sviluppo delle reti 1G i ser -", "vizi di comunicazione erano limitati al trasporto di canali vocali, che eventualmente potevano \ntrasferire flussi dati con opportune tecniche di modulazione.\nA partire dagli anni ’90 le reti radiomobili hanno avuto uno sviluppo impetuoso, dovuto \ncongiuntamente al progresso delle tecnologie trasmissive di tipo wireless da una parte e all’e -\nsigenza di trasferire a distanza informazioni di ogni tipo per la fornitura di servizi sempre", "più innovativi e complessi dall’altra. Le diverse soluzioni di rete radiomobile finora svilup -\npate vanno sotto il nome di reti 2G, reti 3G, reti 4G, reti 5G. A partire dalle reti 2G, tutte le \ninformazioni trasferite in rete (comprese quelle di tipo vocale) sono di tipo digitale , ovvero \nrappresentate da sequenze di bit. \n8.4.1 Reti 2G\nLe reti 2G sono state sviluppate all’inizio degli anni ’90 e la principale soluzione tecnologica", "adottata è denominata GSM  (global system for mobile communications ) [GSM]. GSM utilizza \nbande “licenziate”, concesse cio è in uso dalle autorità governative, tipicamente a seguito di \nun’asta, nell’ambito delle frequenze di 900 MHz e 1800 MHz (nel Nord America sono state \nutilizzate bande di frequenza diverse, cio è nell’ambito delle frequenze di 1900 MHz). La tec -\nFigura 8.12 Rete di accesso FTTH nella soluzione Pt2Pt.OLT ODF SDF ONTCentrale\nlocale\nRete\nprimariaRete\nsecond ariaArmadiodi", "locale\nRete\nprimariaRete\nsecond ariaArmadiodi\ndistribuzione\nPattavinaReti2021.indb   417PattavinaReti2021.indb   417 14/01/2022   16:09:5414/01/2022   16:09:54418  Capitolo 8 – Accesso a Internet\nnologia GSM rende disponibili canali a 64 kbit/s per il trasporto del segnale vocale digitaliz -\nzato e canali per il trasporto di flussi dati fino alla frequenza di picco di 9,6 kbit/s utilizzando \nesclusivamente reti a commutazione di circuito. GSM adotta in modo combinato tecniche", "TDMA e FDMA; nello specifico, le frequenze portanti assegnate a un operatore vengono \ndivise in due blocchi, dei quali uno è utilizzato per trasmettere e uno per ricevere da parte \ndella stazione radio base, realizzando una soluzione FDD ( frequency division duplexing ). \nOgni portante, che impiega una larghezza di banda di 200 kHz, viene poi utilizzata con tec -\nnica TDM per trasportare in trame da 8 slot altrettanti canali vocali dalla stazione radio base \nal terminale mobile o viceversa.", "al terminale mobile o viceversa.\nLa tecnologia GSM si è diffusa moltissimo in Europa, meno in Asia, mentre nel Nord e \nSud America sono state utilizzate diverse tecnologie alternative basate sulla tecnica CDMA \n(code division multiple access ); con questa tecnica le diverse stazioni possono trasmettere \nnegli stessi canali radio utilizzando diverse codifiche del flusso dati nel segnale trasmesso. \nLa principale soluzione tecnologica sviluppata come servizio commerciale, inizialmente negli", "USA e successivamente in altri continenti, è denominata IS-95  e commercializzata con la \nsigla CDMAOne .\nL ’evoluzione della rete GSM, che in questa fase ha assunto la denominazione di “rete \n2.5G”, è stata realizzata attraverso la fornitura del servizio GPRS  (general packet radio servi -\nce) che ha offerto nuove funzionalità a livello applicativo, per esempio di messaggistica come \nil trasporto di SMS ( short message service ) e di MMS ( multimedia messaging service ). Questi", "nuovi servizi hanno aperto il mondo delle reti radiomobili ai servizi forniti utilizzando anche \nreti a commutazione di pacchetto. Si è reso così possibile il trasferimento di flussi dati fino \na 40 kbit/s utilizzando contemporaneamente più slot all’interno della stessa portante radio. \nLa Figura 8.13 mostra l’architettura semplificata della rete di accesso basata su tecnologia \nGPRS. Le stazioni radio base BTS ( base transceiver station ), che sono in comunicazione con", "i dispositivi mobili ( user equipment , UE) utilizzando canali radio preassegnati per questo \nservizio, sono collegate con il centro di controllo BSC ( base station controller ). Questo trasfe -\nrisce i flussi informativi degli utenti al nodo SG-GSN ( serving gateway - GPRS support node ) \nresponsabile dell’instradamento del traffico voce verso la rete a commutazione di circuito \ne verso la rete a commutazione di pacchetto per il traffico dati attraverso il nodo PG-GSN", "(packet gateway - GPRS support node ). È compito del nodo PG-GSN assegnare un indirizzo \nIP al terminale mobile per l’accesso alla rete a pacchetto. Il nodo SG-GSN è anche responsa -\nbile dell’autenticazione degli utenti, i cui profili di sottoscrizione sono conservati nel modulo \nHLR ( home location register ), nonché della mobilità dei terminali mobili. \nFigura 8.13 Architettura semplificata di rete 2G di tipo GPRS.PG-GSN\nSG-GSNReteacommu tazione\ndipacchetto\nReteacommutazione", "dipacchetto\nReteacommutazione\ndicircuitoBSCHLR\nBTSBTS\nBTS\nPattavinaReti2021.indb   418PattavinaReti2021.indb   418 14/01/2022   16:09:5414/01/2022   16:09:548.4 Accesso mediante rete radiomobile  419\nUlteriori progressi nell’ambito della trasmissione dati delle reti GSM sono stati conseguiti con \nla successiva evoluzione EDGE  (enhanced data rates for global evolution ), denominata anche \n“rete 2.75G”. In questo caso l’adozione di nuove tecniche di modulazione (in particolare la", "tecnica 8PSK) e di codifica (inserimento di bit di ridondanza) consentono di trasportare flussi \ndati fino a 384 kbit/s. \n8.4.2 Reti 3G\nLa richiesta sempre crescente di accesso ai servizi di rete per la fornitura di servizi multi -\nmediali, con milioni di apparecchiature in termini di quantità e con la capacità richiesta ai \ncanali in termini di qualità, è stata determinante nello sviluppo e nella realizzazione delle reti", "di terza generazione (reti 3G) che hanno avuto luogo all’inizio del nuovo secolo (anni ’00). La \nITU ( international telecommunication union ) ha svolto la funzione di guida per lo sviluppo \ndelle reti 3G, indicando i requisiti iniziali che queste reti dovevano soddisfare. La famiglia di \narchitetture di rete sviluppate nei vari continenti va sotto il nome di IMT-2000  (international \nmobile telecommunications in the year 2000 ).", "mobile telecommunications in the year 2000 ). \nL ’organizzazione che ha sviluppato tutti gli standard delle reti radiomobili a partire dalle \nreti 3G è denominata 3GPP ( 3rd generation partnership project ) [3GPP] e raccoglie tra i suoi \nmembri le principali organizzazioni mondiali che si occupano di standardizzazione nell’am -\nbito delle telecomunicazioni; ETSI ( European telecommunications standards institute ) è il", "partner europeo di 3GPP, ATIS ( alliance for telecommunications industry solutions ) è invece \nil partner USA. Tra gli obiettivi dell’organizzazione 3GPP risulta particolarmente importante \nlo sviluppo di standard innovativi per le reti di accesso in tecnologia radiomobile che garan -\ntissero, per quanto possibile, la compatibilità con le precedenti soluzioni tecnologiche presenti \nin campo. \nL ’innovazione principale introdotta nelle reti 3G rispetto alla generazione precedente con -", "siste nell’adozione di nuove soluzioni dell’interfaccia radio con i terminali mobili, mentre \nla doppia natura del servizio di trasporto a commutazione di circuito e a commutazione di \npacchetto viene mantenuta. Il termine UMTS  (universal mobile telecommunication system ) \nviene usato per indicare tutte le differenti soluzioni architetturali e tecnologiche proposte per \nla realizzazione di reti 3G.\nUMTS prevede l’adozione della tecnica di modulazione CDMA ( code division multiple", "access ) e di due diverse tecniche per la separazione dei canali uplink  (dal terminale mobile alla \nstazione radio base) e downlink  (dalla stazione radio base al terminale mobile):\n• FDD ( frequency division duplexing ): i due flussi trasmissivi sono separati con tecnica \nFDM, utilizzando cio è diverse bande di frequenza; questa tecnica è anche denominata \nW-CDMA ( wideband CDMA );\n• TDD ( time division duplexing ): i due flussi informativi sono trasmessi in diversi inter -", "valli temporali (time slot) utilizzando le stesse bande di frequenza.\nLe specifiche iniziali del 3GPP di una rete 3G (release 99, 2000) prevedevano di rendere dispo -\nnibili capacità di almeno 144 kbit/s in ambito rurale all’aperto e di almeno 2 Mbit/s al chiuso. \nSuccessive specifiche dello stesso organismo hanno portato la capacità massima downlink a \n13,4 Mbit/s (release 5, 2002) nelle reti 3G di tipo HSDPA  (high speed downlink packet access )", "e quella uplink a 5,4 Mbit/s (release 6, 2004) nelle reti 3G di tipo HSUPA  (high speed uplink \nPattavinaReti2021.indb   419PattavinaReti2021.indb   419 14/01/2022   16:09:5414/01/2022   16:09:54420  Capitolo 8 – Accesso a Internet\npacket access ). Ulteriori incrementi di capacità sono stati poi specificati nelle reti 3G di tipo \nHSPA+  utilizzando diverse tecniche di modulazione (64QAM nel canale downlink e 16QAM", "nel canale uplink) conseguendo capacità downlink di 21 Mbit/s e uplink di 11 Mbit/s (release \n7, 2007). Questo vertiginoso aumento dei flussi di dati resi disponibili ai terminali mobili \nnelle reti 3G è stato la chiave di successo della diffusione dei servizi Internet su smartphone. \nOccorre menzionare anche l’evoluzione negli USA della tecnologia CDMAOne, che ha \ndato luogo alla rete 3G denominata CDMA2000  e alla sua successiva evoluzione EV-DO", "(evolution-data optimized ) rendendo disponibili all’accesso canali di capacità simili a quelle \nrealizzate con tecnologie HSPA+. \n8.4.3 Reti LTE\nUn vero e proprio salto di generazione nelle reti radiomobili viene conseguito con l’avvento \ndella soluzione LTE  (long term evolution ) specificata dal 3GPP (release 8, 2008). Infatti da \nquel momento tutti i servizi, compresi quelli in tempo reale come servizi voce e video, saranno", "forniti utilizzando in rete la commutazione di pacchetto e il protocollo IP in particolare. Viene \nanche decisa l’unificazione dell’interfaccia radio adottando la sola modulazione OFDMA \n(orthogonal frequency division multiple access ) per le trasmissioni downlink e SC-FDMA \n(single carrier - frequency division multiple access ) per le trasmissioni uplink. Le reti LTE \nconsentono un enorme aumento della capacità di accesso al nucleo della rete grazie all’adozio -", "ne massiva di celle di dimensioni molto più piccole di quelle normalmente utilizzate nelle reti \n2G/3G: alla disponibilità di macrocelle con estensione dell’ordine di chilometri si affiancano \n“picocelle” e “femtocelle” con dimensione di centinaia e decine di metri, rispettivamente.\nCon le tecnologie LTE le stazioni radio base divengono veri e propri nodi di rete, denomi -\nnati eNodeB  (eNB), con capacità di elaborazione delle unità informative e di controllo delle", "funzioni di rete. Si afferma altresì una chiara separazione tra funzioni relative al trasferimento \ndelle unità informative in rete, relative al “piano dell’utente”, e funzioni di controllo delle \noperazioni di rete, relative al “piano di controllo”. L ’infrastruttura di trasporto utilizzata in reti \nLTE, che operano esclusivamente a commutazione di pacchetto, assume il nome di “ evolved \npacket core” (EPC). Con reti di tipo LTE le capacità rese disponibili ai terminali mobili sono", "dell’ordine di 300 Mbit/s downlink e 75 Mbit/s uplink.\nLa Figura 8.14 mostra una rappresentazione schematica delle reti LTE. L ’interfacciamento \nradio con i terminali mobili è realizzato dai nodi eNB disposti in configurazione cellulare \ntale da garantire la copertura di una data area geografica. I nodi sono mutuamente in contatto \ntramite messaggi di controllo per supportare la mobilità dei terminali attraverso le diverse", "celle. I moduli principali disponibili nella rete di trasporto EPC sono:  \n• SGW ( serving gateway ): svolge la funzione di instradamento dei datagrammi IP tra \nla sezione radio della rete di accesso e la rete a commutazione di pacchetto, e agisce \nda “punto di ancoraggio” per la gestione di mobilità tra nodi eNB, oppure tra un nodo \neNB e altri accessi 3GPP, come per esempio UMTS o GPRS;\n• PGW ( packet data network gateway ): svolge funzione di interconnessione tra EPC", "e le reti esterne IP a commutazione di pacchetto assegnando indirizzi IP e operando \ncontrolli di accesso alla rete a pacchetto; \nPattavinaReti2021.indb   420PattavinaReti2021.indb   420 14/01/2022   16:09:5514/01/2022   16:09:558.4 Accesso mediante rete radiomobile  421\n• MME ( mobility management entity ): modulo appartenente al piano di controllo che \ngestisce la mobilità e la sicurezza associata ai terminali mobili che ricevono servizio \ntramite eNB associati;", "tramite eNB associati;\n• HSS ( home subscriber server ): base di dati che contiene le informazioni riguardo \ni profili degli utenti, per consentirne l’autenticazione e registrare i servizi ai quali \nhanno accesso. \nLa release 8 del 3GPP costituisce un passo molto importante verso la standardizzazione di un \nunico tipo di rete radiomobile su base mondiale, in quanto la rete LTE rappresenta l’evoluzio -\nne sia dell’interfaccia UMTS nella versione W-CDMA definita dal 3GPP, sia della soluzione", "CDMA2000 sviluppata negli USA.\nIl successivo passo evolutivo delle reti radiomobili è rappresentato dalle reti LTE-advan -\nced (release 10, 2010), alle quali è stata associata per la prima volta la denominazione di “rete \n4G”. Le due principali innovazioni introdotte sono state l’aggregazione di portanti ( carrier \naggregation , CA) e l’uso contemporaneo di una molteplicità di antenne ( multiple input multi -\nple output , MIMO).", "ple output , MIMO). \nCon l’aggregazione delle portanti si rende possibile la definizione di canali radio di capaci -\ntà più grande unendo canali radio di minore larghezza di banda già assegnati all’operatore, la \ncui massima ampiezza è di 20 MHz. È previsto l’utilizzo contemporaneo di un massimo di 5 \ncanali radio base per ottenere una larghezza di banda di 100 MHz, che consente di conseguire \nun’analoga moltiplicazione della capacità in bit/s del canale radio base utilizzato.", "La tecnica MIMO prevede l’utilizzazione di una molteplicità di elementi di antenna per \ntrasmettere e ricevere contemporaneamente sulle stesse portanti sia dal lato della stazione \nradio, sia dal lato del terminale mobile. Con la disponibilità di più di un’antenna si posso -\nno adottare tecniche sofisticate di “beamforming”, cio è di generazione delle portanti radio, \nmediante le quali vengono regolate direzionalità e potenza del segnale radio trasmesso, così", "da minimizzare le interferenze in ricezione. La separazione tra i segnali radio ricevuti viene \neffettuata per mezzo di segnali di riferimento differenti in ogni portante utilizzata. Il numero \ndi antenne utilizzate determina l’aumento di capacità conseguibile con la tecnica MIMO; \nsoluzioni realizzate hanno utilizzato 2 (2x2 MIMO), 4 (4x4 MIMO), 8 (8x8 MIMO) antenne \ncontemporaneamente. \nUno degli obiettivi principali della tecnologia LTE-advanced è il conseguimento di un", "notevole aumento di capacità sull’interfaccia radio, i cui valori attesi sono dell’ordine delle \ncentinaia di Mbit/s per direzione (1000 Mbit/s downlink, 500 Mbit/s uplink). \nSi vogliono ora brevemente descrivere i protocolli di comunicazione adottati nell’ambito \ndella rete di accesso LTE che rendono possibile l’interazione tra un terminale mobile (UE) e Figura 8.14 Architettura semplificata di rete di accesso LTE.\nRetiIP SGWMME\neNBeNB\neNB\nPGWHSS\nEPC\nPiano dell’utentePianodicontrollo\nS11S6a\nS5", "EPC\nPiano dell’utentePianodicontrollo\nS11S6a\nS5\nS1-US1-MME\nPattavinaReti2021.indb   421PattavinaReti2021.indb   421 14/01/2022   16:09:5514/01/2022   16:09:55422  Capitolo 8 – Accesso a Internet\nun qualunque altro terminale remoto, fisso o mobile, dovunque posizionato. Come già accen -\nnato, con l’avvento delle reti 4G si attua una netta separazione tra le funzioni svolte per il \ncontrollo della rete (piano di controllo) e quelle svolte per trasferire unità informative dell’u -", "tente (piano dell’utente). Tale approccio, oltre a essere suggerito da una corretta progettazione \ndella rete che cerca di rendere più sicure le procedure di controllo della rete, consente anche \ndi dimensionare la quantità e il tipo di risorse necessarie ai volumi di traffico attesi per i due \npiani, cio è il piano di controllo e il piano dell’utente.\nUna rappresentazione schematica dei protocolli di comunicazione definiti nel piano di con -", "trollo per la connessione in rete di un terminale mobile è riportata in Figura 8.15, prendendo \nin considerazione i blocchi funzionali MME e HSS dell’ evolved packet core  coinvolti nello \nscambio di informazione. L ’interazione tra UE e nodo eNB che fornisce il servizio di connes -\nsione attraverso un canale radio utilizza differenti protocolli: MAC, RLC e PDCP nello strato \ndi collegamento dati e RRC nello strato superiore [TS36300].", "Il protocollo medium access control  (MAC) svolge funzioni di multiplazione di unità \ninformative di diversi canali logici su un unico portante trasmissivo, di correzione degli errori \ncon protocolli di tipo ARQ, di gestione di priorità tra diversi UE. Il protocollo radio link con -\ntrol (RLC) svolge funzioni di segmentazione/riassemblaggio delle unità informative ricevute \ndal livello superiore, rivelazione di errori di procedura nel protocollo, riordinamento delle", "unità informative ricevute prima della loro consegna al livello superiore. Il protocollo packet \ndata convergence protocol ( PDCP) svolge funzioni di compressione/espansione dell’header \ndelle unità informative, rivelazione e scarto delle unità informative duplicate. Il protocollo \nradio resource control  (RRC) gestisce le connessioni tra UE e nodi eNB, la mobilità di UE \ntra nodi eNB, la configurazione e il rilascio delle risorse radio, e svolge funzioni di sicurezza.", "Il nodo MME interagisce con diverse stazioni radio eNB in modo da garantire la mobilità \ndei terminali mobili, così che possano sempre interagire con lo specifico nodo eNB che offre \nle migliori qualità dei segnali radio trasmessi e ricevuti. I messaggi di segnalazione del pro -\ntocollo applicativo S1-AP sull’interfaccia S1-MME tra eNB e MME vengono trasportati per \nmezzo del protocollo stream control transmission protocol  (SCTP) [RFC4960] utilizzando", "datagrammi IP. L ’interazione tra MME e HSS all’interfaccia S6a avviene invece per mezzo del \nprotocollo applicativo diameter base protocol [RFC6733], sempre utilizzando il trasporto for -\nnito dal protocollo SCTP per mezzo di datagrammi IP. Infine, l’interazione tra MME e SGW \nFigura 8.15 Pila protocollare del piano di controllo nella rete di accesso LTE.UECanaleradio\neNB MME\n HSS\nPDCP\nRLC\nMAC\nFisico FisicoColega-\nmentoPDCP\nRLC\nMAC\nFisicoIPSCTPS1-AP\nFisicoCollega-\nmentoIPSCTPS1-AP", "FisicoIPSCTPS1-AP\nFisicoCollega-\nmentoIPSCTPS1-AP\nFisicoColle ga-\nmentoIPSCTPDiam eter\nFisicoCollega-\nmentoIPSCTPDiam eter\nS1-MME S6aRRC RRC\nPattavinaReti2021.indb   422PattavinaReti2021.indb   422 14/01/2022   16:09:5514/01/2022   16:09:558.4 Accesso mediante rete radiomobile  423\ne tra SGW e PGW nel piano di controllo avviene utilizzando gli stessi protocolli utilizzati nel \npiano dell’utente, come spiegato nel seguito.", "piano dell’utente, come spiegato nel seguito.\nUna rappresentazione schematica dei protocolli di comunicazione definiti nel piano di \nutente per la connessione in rete di un terminale mobile è riportata in Figura 8.16. Mentre i \nprotocolli utilizzati sul canale radio tra UE ed eNB sono gli stessi appena descritti per il piano \ndi controllo, una soluzione completamente diversa è stata prevista per il trasferimento di unità", "informative tra eNB e SGW all’interfaccia S1-U, come anche tra SGW e PGW all’interfaccia \nS55. In questo caso il protocollo utilizzato per il trasporto di unità informative di utente è il \nGPRS tunnelling protocol ( GTP) [TS29060], che utilizza il protocollo di trasporto UDP. Il \nprotocollo GTP rende disponibile un “tunnel” tra eNB e SGW, nonché tra SGW e PGW, per \nogni coppia di UE che interagisce utilizzando un accesso da rete radiomobile di tipo LTE. A", "ogni tunnel è associato uno specifico identificatore tunnel endpoint identifier  (TEI), univo -\ncamente associato al singolo UE interfacciato sul canale radio, così da mantenere separati i \nflussi relativi alle diverse coppie di sistemi terminali in mutua comunicazione che transitano \nnella stessa rete di accesso. L ’interfaccia S11 del piano di controllo tra MME e SGW è la stessa \ndell’interfaccia S1-U tra e-NB e SGW, utilizzando cio è il protocollo di tunnelling GTP con", "trasporto di tipo UDP. Risulta di estremo interesse osservare nella Figura 8.16 come, grazie \nal meccanismo di tunnelling realizzato nella rete di accesso, l’instradamento dei datagrammi \nIP attraverso la rete EPC sia assolutamente trasparente al sistema terminale, il cui indirizzo \nIP viene elaborato solo dal blocco PGW, che rappresenta il punto di accesso alla rete Internet.\nLe funzioni svolte sul canale radio dai protocolli MAC, RLC, PDCP sono le stesse già", "descritte con riferimento al piano di controllo.\n5  Se i nodi SGW e PGW che si scambiano unità informative appartengono a due diverse reti EPC, per esempio \ngestite da operatori diversi, allora l’interfaccia S5 assume il nome di interfaccia S8.Figura 8.16 Pila protocollare del piano dell’utente nella rete di accesso LTE.UECanale radio\neNB SGW\n PGW\nPDCP\nRLC\nMAC\nFisico FisicoCollega-\nment oIPTCP/UDPAppl.\nPDCP\nRLC\nMAC\nFisicoIPUDPGTP\nFisicoColleg a-\nment oIPUDPGTP\nFisicoCollega-\nmentoIPUDPGTP", "ment oIPUDPGTP\nFisicoCollega-\nmentoIPUDPGTP\nFisicoColleg a-\nmentoIPUDPGTPIP\nS1-U S5\nPattavinaReti2021.indb   423PattavinaReti2021.indb   423 14/01/2022   16:09:5614/01/2022   16:09:56424  Capitolo 8 – Accesso a Internet\n8.4.4 Reti 5G\nLa nuova generazione di reti radiomobili, denominata rete 5G , ha origine con la definizione \nda parte della ITU del quadro di riferimento iniziale dei futuri servizi abilitati da queste", "nuove reti e dai relativi parametri di prestazione [M.2083]. Sono state definite tre classi di \nservizi di rete che consentono l’accesso ad applicazioni di vario genere considerando i settori \ncivili e industriali che potrebbero maggiormente beneficiare di connessioni in rete di elevate \nprestazioni: “ enhanced mobile broadband ” (eMBB), “ ultra reliable and low latency commu -\nnications ” (URLLC) e “ massive machine-type communications ” (mMTC).", "La richiesta di servizi a banda larga in mobilità di tipo eMBB è destinata a crescere con la \nnascita di nuove aree applicative e la richiesta di migliori prestazioni di servizi a banda larga \ngià oggi forniti, come per esempio video ad alta definizione, immagini generate con algoritmi \ndi realtà virtuale o realtà aumentata. Servizi a banda larga in mobilità sono attesi sia in aree \nlimitate (hotspot), sia in aree di grande dimensione con utenti in mobilità. Nel primo caso,", "come per esempio in relazione a eventi speciali sul territorio con una grande concentrazione di \nutenti e limitata mobilità, occorre prevedere una grande quantità di traffico trasportato, men -\ntre nel secondo caso occorre prevedere la copertura di aree vaste con diversi gradi di mobilità \ndell’utente e con minori livelli di throughput di rete. \nI servizi di tipo URLLC hanno l’obiettivo di consentire l’accesso ad applicazioni in tempo", "reale, con prestazioni di ritardo caratterizzate da bassissima latenza e brevissimi tempi di \nrisposta. Esempi di applicazioni che possono trarre vantaggio da questi servizi sono le funzio -\nni di controllo dell’industria manifatturiera, la sicurezza dei sistemi di trasporto, la chirurgia \na distanza, i veicoli a guida autonoma. \nL ’area applicativa cui si rivolgono i servizi di tipo mMTC è quella dei milioni di dispositivi", "connessi in rete, oggi conosciuti come “Internet delle cose”, ognuno dei quali genera un pic -\ncolissimo volume di traffico (per trasferire informazioni rilevate in tempo reale sul territorio) \nche generalmente non pone vincoli sui tempi di latenza. L ’elaborazione coordinata di queste \ninformazioni facilita il conseguimento di progressi nelle aree più disparate delle attività civili \ne industriali, come per esempio con la “smart city”, la “smart agriculture”, la “smart factory”.", "Il quadro di riferimento dei servizi previsti per le reti 5G predisposto dall’ITU è accom -\npagnato dalla definizione dei principali parametri di prestazione attesi per rendere possibile \nla fruizione dei vari servizi eMBB, URLLC, mMTC. Questi sono stati definiti tenendo come \nriferimento i valori numerici degli stessi parametri definiti inizialmente dalla ITU per le reti \n4G, come mostrato nella Tabella 8.3.", "4G, come mostrato nella Tabella 8.3. \nI parametri chiave di prestazione per i servizi eMBB nelle reti 5G sono la capacità di picco , \nla capacità media attesa di una connessione e il throughput  per area, con valori attesi rispet -\ntivamente di 20 Gbit/s, 100 Mbit/s, 10 Mbit/s/m2; si richiede quindi un fattore di guadagno \nalmeno uguale a 10 rispetto alle reti 4G. Ci si aspetta inoltre una velocità massima  del termi -", "nale mobile di 500 km/h, riferita ai trasporti in treno ad alta velocità. Il parametro critico per \nservizi URLLC è ovviamente la latenza sull’interfaccia radio , cioè il tempo di trasferimento \ndelle unità informative delle apparecchiature a radiofrequenza, che ci si aspetta non ecceda \n1 ms, quindi ancora con un fattore 10 di guadagno. Per servizi di tipo mMTC il parametro \nprincipale è naturalmente la densità dei dispositivi per superficie unitaria, che ci si aspetta sia", "di un milione per chilometro quadrato, ancora con un fattore 10 di guadagno. Infine si stima \ndi poter migliorare l’ efficienza energetica  della rete di un fattore 100, ipotizzando una crescita \nPattavinaReti2021.indb   424PattavinaReti2021.indb   424 14/01/2022   16:09:5614/01/2022   16:09:568.4 Accesso mediante rete radiomobile  425\ndel traffico di 100 volte, così da mantenere costante il consumo energetico della rete radio di", "accesso, nonché di migliorare l’ efficienza nell’uso dello spettro elettromagnetico  disponibile \ndi un fattore 3.\nA fronte del quadro di riferimento così delineato, è compito del consorzio 3GPP la defini -\nzione di tutte le soluzioni tecnologiche e architetturali che possano rendere possibile lo svilup -\npo sul territorio di reti 5G. Il primo insieme completo di standard di rete 5G è stato rilasciato \nnel 2018 (release 15) e ulteriori aggiornamenti si susseguono trimestre dopo trimestre.", "La pervasività attesa delle comunicazioni radiomobili per servizi mMTC e le capacità di \ncomunicazioni attese, in special modo per servizi di tipo URLLC e eMBB, richiede la dispo -\nnibilità di nuove bande di frequenza rispetto a quelle utilizzate nelle reti di accesso 3G e 4G, e \nper questo gli organismi di standardizzazione stanno valutando l’allocazione di nuove bande. \nUna prima scelta ricade in una banda con ampiezza di 120-150 MHz nell’intorno dei 3,6 GHz.", "Tuttavia, dato l’interesse a rendere disponibili canali con velocità di picco dell’ordine dei Gbi -\nt/s, si rendono necessarie bande di frequenza più ampie, per esempio dell’ordine dei 400-800 \nMHz, la cui disponibilità può essere trovata solo nella porzioni di spettro elettromagnetico non \nancora utilizzate, per esempio nell’intorno dei 26 GHz e dei 47 GHz. \nNaturalmente il prezzo da pagare per l’utilizzazione di queste nuove bande, denominate “a", "onde millimetriche” dato che la lunghezza d’onda di un segnale di decine di GHz è dell’ordine \ndi alcuni millimetri, risiede nella complessità della tecnologia hardware richiesta per lo svi -\nluppo di apparecchiature e nella ridotta capacità di copertura elettromagnetica di un’area, dato \nil maggior grado di attenuazione con la distanza dei segnali trasmessi. Quindi la copertura \nelettromagnetica di una data area richiede la dislocazione sul territorio di un maggior numero", "di stazioni radio base (nodi eNB) rispetto alle reti 3G/4G, cosa che viene comunque richiesta \nnel momento in cui si vuole aumentare il throughput per area nelle reti 5G. Si considerino per \nesempio le aree cittadine densamente abitate, oppure i siti con alta concentrazione di termi -\nnali mobili (hotspot), per esempio in corrispondenza di specifici eventi sul territorio (incontri", "sportivi, manifestazioni, ecc.).Tabella 8.3 Requisiti di prestazione delle reti 5G rispetto alla generazione precedente.\nParametro 4G 5G Fattore di guadagno\nCapacità di picco 1 Gbit/s 20 Gbit/s 20\nCapacità media attesa 10 Mbit/s 100 Mbit/s 10\nThroughput 0,1 Mbit/s/m210 Mbit/s/m2100\nVelocità massima 350 km/h 500 km/h 1,5\nLatenza sull’interfaccia radio 10 ms 1 ms 10\nDensità dei dispositivi 105 dispositivi/km2106 dispositivi/km210\nEfficienza energetica della rete 100", "Efficienza energetica della rete 100\nEfficienza nell’uso dello spettro 3\nPattavinaReti2021.indb   425PattavinaReti2021.indb   425 14/01/2022   16:09:5614/01/2022   16:09:56PattavinaReti2021.indb   426PattavinaReti2021.indb   426 14/01/2022   16:09:5614/01/2022   16:09:569CAPITOLO Reti LAN cablate\n9CAPITOLO\nIn questo capitolo viene fornita una descrizione del progetto \nIEEE 802, che rappresenta il quadro di riferimento per la \nmaggior parte delle tecnologie di rete locale oggi utilizzate.", "In particolare, viene prima descritta l’architettura dei proto -\ncolli per reti in area locale, esaminando quindi in dettaglio \nle reti multipunto di tipo cablato Ethernet. La trattazione \nripercorre l’evoluzione delle diverse soluzioni sviluppate, \nmostrando come l’avvento di nuove tecnologie abbia sem -\npre consentito di migliorare le prestazioni delle reti locali, \npermettendo oggi il trasferimento di flussi di dati verso gli \nutenti con capacità dell’ordine delle decine di Gbit/s. Viene", "quindi esaminato il protocollo PPP come rappresentativo dei \nprotocolli adottati in reti di accesso con connessioni pun -\nto-punto. Viene infine descritto il protocollo ARP che for -\nnisce la corrispondenza tra indirizzi di rete e indirizzi di \nstrato di collegamento, necessaria per realizzare l’invio di \ndatagrammi attraverso una rete locale. La teoria relativa ai \nprotocolli di accesso in reti multipunto discussi in questo \ncapitolo è presentata nella Sezione B del Capitolo 3.", "9.1 Il progetto IEEE 802\nGli standard rappresentano la chiave di volta per garantire \nun’ampia diffusione di una tecnologia. Se esiste uno stan -\ndard, diversi costruttori possono realizzare lo stesso prodot -\nto e venderlo in concorrenza; gli utilizzatori possono sce -\ngliere fra i diversi costruttori, perché sanno che le interfacce \ndi apparecchi analoghi realizzati da costruttori diversi sono \nle stesse. Contrariamente a ciò che si potrebbe pensare, lo", "standard solitamente risulta essere determinato da un’azien -\nda o un pool di aziende che, credendo in una tecnologia, la \nrealizzano; se ha successo diventa uno standard. Questo è il \ncaso tipico delle reti locali ( local area networks , LAN).Argomenti\n9.1 Il progetto IEEE 802\n9.2 IEEE 802.3: le reti Ethernet\n9.3  IEEE 802.3: gli standard  \ndi rete Ethernet\n9.4 Il protocollo PPP\n9.5 Address resolution protocol", "9.5 Address resolution protocol\nPattavinaReti2021.indb   427PattavinaReti2021.indb   427 14/01/2022   16:09:5614/01/2022   16:09:56428  Capitolo 9 – Reti LAN cablate\nNell’ambito delle reti LAN, gli standard sono stati definiti da comitati dell’istituto IEEE \n(institute of electrical and electronics engineers ) sotto il nome di progetto IEEE 8021. Tra gli \nobiettivi costantemente perseguiti nel progetto e nella realizzazione delle reti locali possiamo", "citare la facile espandibilità della rete, i costi sempre molto contenuti e la semplicità delle \nsoluzioni definite. La particolarità delle LAN è che le soluzioni tecniche adottate sono molto \ndiverse da quelle che caratterizzano le reti di grande estensione, siano esse a lunga distanza o \ndi tipo regionale/metropolitano. \n9.1.1 Architettura generale\nIl modello di riferimento definito nel progetto IEEE 802, riportato nella Figura 9.1, definisce \ntre strati al di sotto dello strato di rete:", "tre strati al di sotto dello strato di rete:\n• logical link control ( LLC), il cui compito è la gestione di collegamenti logici di livello \n2;\n• medium access control ( MAC) , che governa le procedure di accesso al mezzo trasmis -\nsivo che nelle reti LAN è condiviso tra tutte le stazioni connesse alla rete;\n• physical , che definisce l’interfacciamento della stazione con il mezzo trasmissivo con \nannessi compiti di codifica/decodifica dei bit trasmessi/ricevuti; in alcune realizzazio -", "ni di reti LAN in cui le operazioni richieste siano particolarmente complesse, lo strato \nfisico può essere suddiviso in numerosi sottostrati. \nIn termini di equivalenza del modello di riferimento IEEE 802 con il corrispondente modello \na strati descritto nel Paragrafo 1.3, si può affermare che lo strato fisico IEEE 802 costituisce \nun sottoinsieme dello strato fisico del modello generale, in quanto una parte del livello MAC", "svolge funzioni correlate allo strato fisico adottato; quindi, la parte restante del livello MAC \ne il livello LLC svolgono nel loro insieme le funzioni tipiche dello strato di collegamento del \nmodello generale.  \n1 Gli standard della serie IEEE 802 sono anche pubblicati come standard ISO ( international organization for \nstandardization ) e IEC ( international electrotechnical commission ) sotto la serie ISO/IEC 8802 con analoga \nnumerazione.LLC\nMAC\nFisicoRete\nPhys ical802.11\nWireless", "MAC\nFisicoRete\nPhys ical802.11\nWireless\nLAN802.3\nCSMA/CD802.15\nWireless\nPAN802.16\nBroadband\nwireless802.2.Logicallinkcontrol\nUTP, STP, radio,fiber,etc.Higher layers\nIEEE 802Collegamen to\nFigura 9.1 Struttura del progetto IEEE 802.\nPattavinaReti2021.indb   428PattavinaReti2021.indb   428 14/01/2022   16:09:5614/01/2022   16:09:569.1 Il progetto IEEE 802  429\nIl progetto IEEE 802 definisce più architetture di reti LAN e queste si differenziano per", "le modalità di implementazione del livello fisico e del livello MAC, essendo il livello LLC \ncomune a tutte le reti. Tali standard sono indicati come IEEE 802.X e coprono tutti gli aspetti \ngenerali di sistema e di implementazione delle diverse architetture di rete locale; quelli tuttora \nutilizzati in apparecchiature, o ancora in via di sviluppo, sono:\n• IEEE 802.1, higher layer LAN protocols : descrive l’architettura generale del progetto \ne il modello di riferimento;", "e il modello di riferimento; \n• IEEE 802.2, logical link control (LLC): è uno standard ormai consolidato che defi -\nnisce protocolli e formati per la gestione delle connessioni logiche in una rete locale; \nsarà approfondito nel Paragrafo 9.1.2;\n• IEEE 802.3, wired LAN : specifica le caratteristiche della rete locale cablata più diffusa \nal mondo denominata “ Ethernet” ed è uno standard in continua evoluzione, come sarà \ndescritto nel Paragrafo 9.3;", "descritto nel Paragrafo 9.3;\n• IEEE 802.11, wireless LAN : definisce le modalità di interconnessione tra stazioni in \naree limitate utilizzando canali radio come mezzo trasmissivo; queste reti, conosciute \ncome “Wi-Fi”, identificano oggi uno degli ambiti di maggiore interesse per l’evolu -\nzione delle tecnologie di interconnessione in aree locali, grazie alla loro peculiarità di \nnon richiedere alcuna cablatura dell’area geografica coperta;", "• IEEE 802.15, wireless PAN : definisce le modalità di interconnessione tra stazioni in \naree molto piccole per le realizzazione di “reti personali” ( personal area network , \nPAN), utilizzando sempre i canali radio come mezzo trasmissivo; la realizzazione più \ndiffusa di queste reti è conosciuta con la denominazione “ Bluetooth”;\n• IEEE 802.16, wireless MAN : definisce le modalità di accesso a reti fisse attraverso", "canali radio con copertura di decine di chilometri, in modo da garantire una grande \ncapacità; questa tecnologia è conosciuta con la denominazione “WiMax”.\nLe reti LAN cablate ( wired LAN ) sono descritte nel seguito di questo capitolo, mentre le reti \nwireless LAN  e wireless PAN  vengono esaminate nel capitolo successivo.\nMolte altre soluzioni di reti LAN sono state studiate e inizialmente sperimentate durante", "gli ultimi decenni. Sono state descritte negli standard IEEE 802.X nel corso dell’ideazione e \ndello sviluppo, ma alla fine non hanno riscosso il consenso sperato dai promotori, necessario \nper diventare prodotti commerciali utilizzati nelle reti. A titolo di esempio, si citano di seguito \ndue standard che hanno subito questa sorte:\n• IEEE 802.4, token bus: è uno standard per reti con topologia a bus utilizzate preva -", "lentemente per automazione di fabbrica, con controllo di accesso realizzato mediante \ntrasferimento di permesso;\n• IEEE 802.6, distributed queue dual bus (DQDB): è stato il primo standard che aveva \ncome obiettivo la specifica di una rete a estensione metropolitana; la rete era costituita \nda due bus unidirezionali a cui accedono tutte le stazioni, così da realizzare la piena \nconnettività della rete; questa specifica non ha mai avuto una significativa ricaduta di \nsviluppo industriale.", "sviluppo industriale.\nPattavinaReti2021.indb   429PattavinaReti2021.indb   429 14/01/2022   16:09:5614/01/2022   16:09:56430  Capitolo 9 – Reti LAN cablate\n9.1.2 Strato LLC\nLo strato logical link control  (LLC) fornisce un’interfaccia unificata verso lo strato di rete e \nquindi maschera ai livelli superiori il modo in cui si accede al mezzo trasmissivo, cio è nascon -\nde il tipo di protocollo MAC utilizzato. Vengono specificati tre tipi di servizi che possono", "essere forniti dallo strato LLC: (i) servizio connectionless senza riscontro , in cui le unità infor -\nmative (UI) sono trasportate senza che il mittente abbia alcuna garanzia sulla loro avvenuta \nconsegna; (ii) servizio connection-oriented , in cui si instaura una connessione logica prima di \ntrasferire UI, la cui consegna è garantita grazie a meccanismi di numerazione e funzioni di \ncontrollo svolte; (iii) servizio connectionless con riscontro , in cui, senza preventiva instaura -", "zione di connessione, le UI ricevute con successo a destinazione sono riscontrate al mittente.\nPer la fornitura dei tre servizi descritti sono stati definiti tre protocolli LLC sostanzial -\nmente derivati, come sempre nel caso dei protocolli di strato di collegamento, dal protocollo \ndi linea HDLC (vedi Paragrafo 7.3). Questi protocolli usano il formato di unità informativa di \nlivello LLC, riportato nella Figura 9.2, che comprende i seguenti campi:", "• destination address, LLC DA  (1 byte), che indica il destinatario a livello LLC dell’UI; \nl’indirizzo è in realtà composto da 7 bit in quanto il primo bit del campo, denominato \nI/G, indica se l’indirizzo è individuale o di gruppo;\n• source address, LLC SA (1 byte), che indica il mittente a livello LLC dell’UI; anche in \nquesto caso l’indirizzo è in realtà composto da 7 bit in quanto il primo bit del campo, \ndenominato C/R, indica se l’UI è un comando o una risposta;", "• control ( 1 o 2 byte), che specifica il tipo di UI e le funzioni richieste; analogamente \nal protocollo HDLC con numerazione di tipo estesa, sono definite UI informative e \nsupervisive, in cui il campo di controllo è di 2 byte, mentre le UI non numerate sono \ncaratterizzate da un campo di controllo di 1 byte; la struttura di questo campo è ugua -\nle a quella del protocollo HDLC;\n• information , che contiene l’unità informativa del protocollo di livello superiore, cio è", "dello strato di rete. \nSi noti come, a differenza del protocollo HDLC, l’unità informativa di livello LLC non reca \nora i flag di apertura e di chiusura, né il campo di controllo FCS. Ciò non vuol dire che questi \ncampi diventano inutili o non servono; la delimitazione e il controllo di errore dell’UI sono \nfunzioni attuate dal protocollo di livello inferiore (MAC) che trasporta questa UI nel proprio \ncampo informativo, come mostrato nel paragrafo successivo. \n9.1.3 Strato MAC", "9.1.3 Strato MAC\nLo strato MAC provvede alla consegna delle unità informative di livello superiore (LLC) tra \nstazioni di origine e destinazione. Si è già detto che il mezzo trasmissivo è condiviso da tutte \nle stazioni della rete, dunque in questo caso l’unità informativa, anche se ricevuta fisicamente \nPayload LLCDAL LCSA\n11 variable ByteControl\n1/2\nFigura 9.2 Formato dell’UI di livello LLC.", "1/2\nFigura 9.2 Formato dell’UI di livello LLC.\nPattavinaReti2021.indb   430PattavinaReti2021.indb   430 14/01/2022   16:09:5614/01/2022   16:09:569.1 Il progetto IEEE 802  431\nda tutte le stazioni della rete, viene elaborata solo dalla stazione di destinazione in base all’in -\ndirizzo MAC dell’UI. La modalità di trasmissione broadcast sul mezzo trasmissivo consente \nanche di implementare facilmente comunicazioni di tipo multipunto o broadcast, rivolte cio è", "a un insieme di stazioni o a tutte le stazioni, utilizzando opportuni indirizzi MAC dedicati a \nquesto scopo. \nIl formato dell’unità informativa di livello MAC è riportato nella Figura 9.3 nei suoi ele -\nmenti fondamentali comuni a tutte le reti LAN (altri campi possono essere presenti a seconda \ndello specifico protocollo, come per esempio quelli che servono a delimitare l’UI e a sincro -\nnizzare l’apparecchiatura ricevente con quella trasmittente). Esso comprende i seguenti campi:", "• destination address, MAC DA  (6 byte), che indica il destinatario a livello MAC dell’UI; \n• source address, MAC SA  (6 byte), che indica il mittente a livello MAC dell’UI; \n• MAC payload , che contiene l’unità informativa del protocollo di livello superiore, e \nquindi dello strato LLC;\n• frame check sequence, FCS  (4 byte), che serve a verificare l’integrità dell’UI. \nOgnuno dei due campi address , che comprende 6 byte, serve a identificare una stazione sulla", "rete locale. Questo numero identifica in modo univoco la scheda di rete che realizza il proto -\ncollo di accesso ( network interface card , NIC); il numero è generalmente rappresentato come \nsequenza di dodici simboli esadecimali: i primi sei sono assegnati dall’IEEE all’organizzazio -\nne che produce la scheda ( organization unique identifier,  OUI), gli ultimi sei sono assegnati \ndal produttore come numero di serie ( serial number ) per contraddistinguere ciascuna scheda,", "come mostrato nella Figura 9.4. I primi due bit del campo address  svolgono una funzione \nparticolare. Il primo bit consente di distinguere tra “indirizzi singoli” ( unicast address ) e \n“indirizzi di gruppo” ( multicast address ); un indirizzo di destinazione di gruppo (primo bit \nposto a 1) può essere utilizzato, in aggiunta all’indirizzo singolo che individua una specifica \ndestinazione, per inviare una singola trama a più destinatari della stessa rete contemporane -", "amente. Il secondo bit specifica invece se si tratta di “indirizzo locale”, ossia significativo \nesclusivamente all’interno della specifica rete locale, oppure di “indirizzo globale”, cio è unico \nMAC\npayloadFCS MACDA MACSA\n6 6 variable 4 ByteLLC\nheaderLLC\npayloadLLC\nMAC\nFigura 9.3 Formato dell’UI di livello MAC.\n0 8 1 C F 3 2 A 0 5 0 E\nOUI4bit\nFigura 9.4 Esempio di indirizzo MAC.", "OUI4bit\nFigura 9.4 Esempio di indirizzo MAC.\nPattavinaReti2021.indb   431PattavinaReti2021.indb   431 14/01/2022   16:09:5714/01/2022   16:09:57432  Capitolo 9 – Reti LAN cablate\nin tutto il mondo; il secondo bit posto a 1 denota un indirizzo globale. L ’indirizzo esadecima -\nle2 FF-FF-FF-FF-FF-FF, cio è con bit tutti posti a 1, sta a indicare che l’UI è indirizzata a tutte \nle stazioni della rete locale ( broadcast address ).", "Si osservi che gli indirizzi LLC identificano i processi utilizzatori del servizio di trasfe -\nrimento di trame residenti nelle due stazioni i cui indirizzi fisici sono specificati dall’UI di \nlivello MAC. L ’ordine di trasmissione dei bit di ogni byte varia a seconda del protocollo; per \nesempio, il primo bit trasmesso è il meno significativo del byte nelle reti Ethernet (detto anche \nlittle endian ), il più significativo del byte in altre reti (detto anche big endian ).", "Per quanto riguarda la rivelazione degli errori, si adotta la stessa procedura di controllo \ndescritta nel Paragrafo 7.3.3 per il protocollo HDLC e basata sui codici a ridondanza ciclica \n(vedi la teoria relativa nel Paragrafo 3.11). Nei protocolli IEEE 802 si usano sempre 4 byte per \nil campo di controllo di errore FCS e il polinomio generatore utilizzato, denominato codice \nCRC-32 (vedi Tabella 3.4), è il seguente\nGx() x32x26x23x22x16x12x11x10x8x7x5x4x2x1 + + + + + + + + + + + + ++ = .", "9.1.4 Strato fisico\nSpesso una LAN si distingue da un’altra principalmente per il tipo di mezzo trasmissivo. Si \nconsideri per esempio la rete Ethernet che è stata concepita negli anni ’70 e si è evoluta nell’ar -\nco degli ultimi trent’anni. Inizialmente i mezzi trasmissivi della rete erano cavi coassiali o \ncanali radio. Le reti Ethernet che si realizzano oggi sono invece basate su doppini, ovviamente", "di qualità notevolmente migliore rispetto ai vecchi doppini che ancora oggi forniscono il ser -\nvizio di fonia nelle case, oppure su fibre ottiche. Le reti LAN utilizzano dunque una pluralità \ndi mezzi fisici, dalle fibre ottiche ai canali radio, ai cavi in rame UTP, scelti nella specifica \nrealizzazione a seconda delle esigenze di comunicazione da soddisfare. Per ognuna delle reti \ncablate trattate nel seguito si descriverà brevemente anche il mezzo fisico utilizzato.", "9.2 IEEE 802.3: le reti Ethernet\nEthernet [802.3] costituisce ormai la tecnologia di rete LAN più diffusa in tutto il mondo. \nQuesta rete è nata da un’idea di tre aziende con sede in California (Digital, Intel e Xerox), \nche negli anni ’70 hanno posto le fondamenta di questa tecnologia basata sulla condivisione \ndel mezzo trasmissivo e sull’adozione di una metodologia di accesso al mezzo completamente", "distribuita. Si descrivono ora le principali caratteristiche di una rete Ethernet, e cio è la topo -\nlogia di rete, il protocollo di accesso e il formato di trama adottati, facendo riferimento alle \nprime soluzioni realizzate.\n9.2.1 Topologia di rete\nLa rete Ethernet a 10 Mbit/s adotta uno dei protocolli CSMA/CD, descritti nel Paragrafo 3.6.3, \ncome tecnica di accesso al mezzo trasmissivo. Si ricorda che questa procedura, completamente", "distribuita, può dar luogo anche a collisioni tra trasmissioni, che tuttavia possono essere rile -\nvate dalle stazioni in trasmissione. \n2 La corrispondente notazione esadecimale viene rappresentata in modo sintetico come: 0xFFFFFFFF.\nPattavinaReti2021.indb   432PattavinaReti2021.indb   432 14/01/2022   16:09:5714/01/2022   16:09:579.2 IEEE 802.3: le reti Ethernet  433\nCome in ogni rete locale, il mezzo trasmissivo è sempre di tipo broadcast: l’unità infor -", "mativa emessa da una stazione viene ricevuta da tutte le altre stazioni della rete. Le prime \nrealizzazioni della rete Ethernet erano basate su una configurazione a bus passivo del mezzo \ntrasmissivo, inizialmente costituito da cavi coassiali, con le stazioni distribuite lungo il bus, \ncome mostrato in Figura 9.5a. L ’avvento del doppino UTP (vedi Paragrafo 1.2.1), caratte -\nrizzato da un’estrema semplicità nella operazioni di connettività tra stazioni, ha portato ad", "abbandonare le realizzazioni di topologie fisiche a bus per adottare topologie di rete a stella. \nCome mostrato in Figura 9.5b, le stazioni sono tutte connesse a un dispositivo, denominato \nhub, che agisce da punto di smistamento dei segnali inviati da ogni stazione verso tutte le \naltre. In ogni caso, nonostante la realizzazione fisica con topologia a stella, si usa dire che la \nrete Ethernet presenta una topologia “logica” a bus che ricorda meglio la natura broadcast del \nmezzo trasmissivo.", "mezzo trasmissivo.  \nLa topologia a stella consente anche di realizzare strutture gerarchiche di rete con hub \ndistribuiti su più livelli, come mostrato nella Figura 9.6, utilizzando quindi hub forniti di \nuna porta cosiddetta di “uplink”. L ’hub di primo livello (superiore) opera come descritto pre -\ncedentemente. Per quanto riguarda l’hub di secondo livello (inferiore), la ritrasmissione dei \nsegnali ricevuti avviene su tutte le porte, ivi compresa la porta “upstream” tra hub. La strut -\n(a)", "(a)\n(b)\nFigura 9.5 T opologia fisica di rete Ethernet: bus (a), stella (b).\nHub\nHub Hub\nA B C DE F\nFigura 9.6 Configurazione di rete Ethernet a più livelli.\nPattavinaReti2021.indb   433PattavinaReti2021.indb   433 14/01/2022   16:09:5714/01/2022   16:09:57434  Capitolo 9 – Reti LAN cablate\ntura a “doppia stella” ben si adatta alla cablatura di edifici, dove si utilizza un hub di secondo \nlivello per la “distribuzione orizzontale” sul piano, mentre la connessione tra piani diversi, o", "“distribuzione verticale”, si attua connettendo tra loro l’hub di primo livello con tutti quelli di \nsecondo livello. \n9.2.2 Protocollo di accesso\nLa rete Ethernet a 10 o 100 Mbit/s adotta un protocollo di accesso di tipo carrier sense multi-\nple access/collision detection ( CSMA/CD), che consente di rilevare eventuali collisioni che si \nstiano verificando. Per una classificazione completa delle procedure di accesso con questo tipo", "di protocollo, e per un confronto delle loro prestazioni di traffico, si rimanda ai Paragrafi 3.6.3 \ne 3.6.4. Come specificato dall’acronimo stesso, le funzioni svolte con il protocollo CSMA/CD \nsono principalmente due: \n1. controllo del canale  (carrier sense ): prima di iniziare a trasmettere, la stazione “ascol -\nta” il canale e la trasmissione avviene solo se è stato rilevato che non c’ è alcun altro", "segnale presente sul mezzo; il mezzo trasmissivo è condiviso, e quindi c’ è la possibi -\nlità che si verifichino conflitti di accesso al canale;\n2. rilevazione di collisioni ( collision detection ): durante la trasmissione, la stazione con -\ntinua a monitorare il segnale sul mezzo trasmissivo per assicurarsi che il solo segnale \npresente sia quello da essa generato e che quindi non siano avvenute collisioni.", "Qualora l’operazione di controllo del canale rilevi una trasmissione, la stazione si pone in \nattesa di uno stato di fine attività sul canale per poter iniziare la trasmissione. Nel caso in cui \nla stazione rilevi collisioni, essa interrompe la propria trasmissione ed emette un segnale par -\nticolare, noto come segnale di jam,  per un tempo di trasmissione di 32 bit. Questo segnale ha il \ncompito di notificare la collisione in atto a tutte le altre stazioni, così che esse possano scartare", "i bit ricevuti fino a quel momento. A questo punto il protocollo MAC della stazione si pone \nin attesa di riprovare la trasmissione applicando il cosiddetto “algoritmo di backoff”, basato \nsulla definizione di un’unità base temporale T, detta slot, che coincide con il tempo necessario \na trasmettere una trama Ethernet di lunghezza minima (vedi Paragrafo 9.2.3). Un diagramma \ndi flusso delle operazioni svolte dal protocollo CSMA/CD è mostrato nella Figura 9.7.", "L’algoritmo di backoff , denominato binary exponential backoff , prevede che la trasmis -\nsione venga ritardata scegliendo un tempo casuale di attesa compreso nell’intervallo [0, 2k – 1] \nslot, con k = min( n,10) essendo n il numero di collisioni consecutive avvenute. Sono ammessi \nal massimo 16 tentativi di trasmissione; dopo la sedicesima collisione il protocollo MAC \nsegnala il problema ai protocolli di più alto livello. Questo meccanismo è stato così definito", "nell’ipotesi che maggiore è il numero dei tentativi di trasmissione che hanno dato luogo a \nuna collisione, maggiore è il traffico in rete, e quindi è opportuno aumentare l’intervallo di \nscelta casuale del tempo d’attesa prima di ritrasmettere. Il ritardo massimo è dunque pari a \nK = 210 – 1 = 1023 volte il tempo di slot.\nRispetto a un generico protocollo CSMA/CD, come descritto nel Paragrafo 3.6.3, il pro -", "tocollo IEEE 802.3 che adotta questa procedura di accesso non prevede la trasmissione di un \nmessaggio di riscontro da parte della stazione ricevente. Ciò è giustificato dalla definizione \ndi una lunghezza minima dell’UI informativa che può garantire l’assenza di collisioni, a patto \nche la trasmissione sia stata completata senza rilevazione di collisioni.\nPattavinaReti2021.indb   434PattavinaReti2021.indb   434 14/01/2022   16:09:5714/01/2022   16:09:579.2 IEEE 802.3: le reti Ethernet  435", "Consideriamo l’esempio di Figura 9.8 in cui sono presenti cinque stazioni, delle quali A ed E \nsono situate alle due estremità della rete con topologia a bus. All’istante t0 la stazione A inizia \na trasmettere la propria UI e all’istante t1 la stazione B riceve una richiesta di invio di una \ntrama dal livello superiore. La funzione di “carrier sense” del canale effettuata all’istante t1 \nindica a questa stazione la necessità di differire la propria trasmissione per evitare una colli -", "sione. La stazione E, poco prima di ricevere l’UI in corso di trasmissione, all’istante t2 inizia la \ntrasmissione di una propria UI, dato che la funzione di “carrier sense” indica il canale libero. \nI due segnali si sovrappongono a partire dall’istante t3 e all’istante t4 la stazione E rileva la Unità dati\ndisponibile\nTrasmissione\ncomple taNoTrasmissione\nsegnal edi jamSì Collision e\nrilevataTrasmissione e\ncontrollo canaleSì Calcolo ma x\nritardo (K -1)T\nNoCanal e\noccupa toRitard oiT", "ritardo (K -1)T\nNoCanal e\noccupa toRitard oiT\nFigura 9.7 Procedura di accesso CSMA/CD.\nt0\nt2\nt4\nt7\ntt3BC DE A\nt5\nt6\ntt8\nt9t1\nFigura 9.8 Esempio di collisione in rete Ethernet.\nPattavinaReti2021.indb   435PattavinaReti2021.indb   435 14/01/2022   16:09:5814/01/2022   16:09:58436  Capitolo 9 – Reti LAN cablate\ncollisione. Questa interrompe quindi la trasmissione dell’UI e trasmette un segnale di “jam”", "per indicare a tutte le stazioni della rete di eliminare i dati ricevuti nell’ultima trasmissione, \nin quanto sicuramente corrotti. La trasmissione del segnale di “jam” da parte della stazione E \ntermina all’istante t5. All’altra estremità del bus, la stazione A rileva la collisione all’istante t6 e \nquindi interrompe la trasmissione della propria UI, emettendo a sua volta un segnale di “jam” \nfino all’istante t7. Questo segnale viene infine ricevuto nella stazione E nell’intervallo t8-t9.", "Si noti che la destinazione delle due UI emesse non ha alcuna influenza sugli eventi descritti, \nessendo il mezzo trasmissivo di tipo broadcast.\nOsservando il caso peggiore relativamente a quanto mostrato dalla Figura 9.8, la rivelazio -\nni di una collisione può quindi essere garantita a condizione che la stazione A, a un’estremità \ndel bus, non termini la propria trasmissione prima che possa essere ricevuto il primo bit di", "un’UI eventualmente trasmessa dalla stazione E posta all’altra estremità del bus. Quindi, la \nscelta della lunghezza minima Lmin dell’UI determina la massima estensione dmax del bus, data \nla capacità C della rete e il tempo di propagazione t da estremo a estremo del bus, secondo \nla relazione\n)9.1(Lmin\nC----------- 2τ2dmax\nv-------------- = =           \ndove v è la velocità di propagazione dei segnali sul mezzo trasmissivo. \n9.2.3 Formato di trama", "9.2.3 Formato di trama\nSecondo lo standard IEEE 802.3, la trama per una rete Ethernet a 10 o 100 Mbit/s definisce i \nseguenti campi, riportati nella Figura 9.9: Si vuole determinare la massima distanza dmax tra due stazioni di una LAN a bus ipotiz -\nzando i seguenti parametri per la rete:\n• lunghezza minima dell’UI, Lmin = 64 byte,\n• velocità di propagazione del segnale, v  = 200.000 km/s,\n• capacità della rete, C = 10 Mbit/s.", "• capacità della rete, C = 10 Mbit/s.\nIpotizzando che il mezzo trasmissivo sia dispiegato in modo rettilineo tra le due stazioni, \nl’Equazione (9.1) fornisce immediatamente\ndmaxLminv⋅\n2C------------------- 5,12 = =  km.Esempio 9.1\nPreamble Payload FCS DA SA\n1Type/\nLength64-1518byte\n6 76 20 -15004Pad\n0-46 ByteS\nF\nD\nFigura 9.9 Formato della trama Ethernet.", "F\nD\nFigura 9.9 Formato della trama Ethernet.\nPattavinaReti2021.indb   436PattavinaReti2021.indb   436 14/01/2022   16:09:5814/01/2022   16:09:589.2 IEEE 802.3: gli standard di rete Ethernet  437\n• preamble  (7 byte): consente la sincronizzazione trama per trama sul segnale ricevuto, \nessendo le trame generate da stazioni diverse, ognuna con il proprio cronosegnale \nlocale;\n• start frame delimiter, SFD  (1 byte): contiene il codice 10101011, protetto mediante vio -", "lazione del codice di Manchester (vedi Paragrafo 7.4.1) in trasmissione; esso svolge la \nstessa funzione del campo flag nella trama HDLC, la cui protezione è invece realizzata \nmediante il meccanismo “bit stuffing” (vedi Paragrafo 7.3.2);\n• destination address, DA  (6 byte): indica l’indirizzo della stazione destinataria della \ntrama;\n• source address, SA  (6 byte): indica l’indirizzo della stazione mittente della trama;", "• type/length  (2 byte): specifica, se non superiore al valore 1500, la lunghezza in byte \ndel campo informativo che segue; altrimenti indica il tipo di payload trasportato (per \nesempio, i codici esadecimali 0x0800, 0x0806, 0x86DD indicano rispettivamente i \nprotocolli IPv4, ARP, IPv6);\n• payload : rappresenta il campo informativo della trama e contiene l’unità informativa \ndel protocollo di livello superiore, con una lunghezza variabile da 0 a 1500 byte;", "• pad: serve a garantire una lunghezza minima della trama di 64 byte; a questo scopo \nil numero di byte del campo varia da 0 a 46, essendo 18 i byte sempre presenti nella \ntrama ( preamble  e SFD non contribuiscono a determinare la lunghezza minima);\n• frame check sequence, FCS  (4 byte): contiene il codice di controllo della trama, che \nconsente di rivelare errori di trasmissione che si verifichino nella trama (ad eccezione \ndei campi preamble  e SFD).", "dei campi preamble  e SFD). \nQuindi, trascurando i campo preamble  e SFD che svolgono funzione di sincronizzazione e \ndi delimitazione, una trama Ethernet ha una lunghezza minima di 64 byte e una massima di \n1518 byte. Le trame MAC sono prive di delimitatore di fine trama; il cosiddetto interframe  \ngap, IFG, ossia il tempo di attesa tra la fine della trasmissione di una trama e l’inizio della \nsuccessiva, svolge la funzione di delimitazione. Poiché la lunghezza minima della trama è di", "64 byte, il livello MAC di ogni stazione scarta le trame più corte della lunghezza minima.\n9.3 IEEE 802.3: gli standard di rete Ethernet\nLa rete Ethernet si è inizialmente sviluppata in modo significativo seguendo la specifica nota \ncome Ethernet v2.0 (chiamata anche “Ethernet DIX” dalle iniziali delle aziende ideatrici), non \nmolto diversa dalla versione odierna dello standard.\nLe diverse tipologie di rete sono denominate con l’acronimo “XBase-Y”, in cui la cifra X", "sta a indicare la capacità in Mbit/s della rete, il termine “Base” sta a indicare che la trasmis -\nsione del segnale è effettuata in banda base3, cioè con banda di frequenze a partire da f = 0, \nmentre la lettera Y specifica il tipo di mezzo trasmissivo4. \n3  A titolo di menzione storica, si ricorda che inizialmente è  stato anche definito uno standard 10Broad36 che \ndescriveva una rete a 10 Mbit/s su cavo di tipo CATV a 75 W con trasmissione in banda traslata ( broadband )", "con modulazione DPSK ( differential phase shift keying ).\n4  Nei primi standard delle reti Ethernet con mezzo trasmissivo in rame, Y indicava la copertura della rete in \ncentinaia di metri.\nPattavinaReti2021.indb   437PattavinaReti2021.indb   437 14/01/2022   16:09:5814/01/2022   16:09:58438  Capitolo 9 – Reti LAN cablate\n9.3.1 Ethernet a 10 Mbit/s\nLe più diffusa soluzione di rete Ethernet a 10 Mbit/s è quella denominata 10Base-T,  che uti -", "lizza il doppino in rame come mezzo trasmissivo, anche se gli standard sviluppati hanno \nprevisto anche la soluzione 10Base-FL  con fibra ottica come mezzo trasmissivo. Il tempo di \nslot e l’interframe gap assumono rispettivamente i valori T = 51,2 µ s e IFG  = 9,6 µ s. Nella \nTabella 9.1 si riportano le caratteristiche principali delle reti 10Base-T e 10Base-FL5 [802.3]. \nNella rete Ethernet la sincronizzazione tra stazioni non è ottenuta mediante procedure di sin -", "cronizzazione globali tra le stazioni. Ogni stazione è dotata di un proprio cronosegnale interno \nche usa per trasmettere, mentre per ricevere estrae la temporizzazione dal segnale in arrivo, \nasservendosi così al cronosegnale di chi sta trasmettendo. La tecnica di codifica adottata è la \nManchester, descritta nel Paragrafo 7.4.1: ogni bit è codificato con una coppia di segnali di \nvalore opposto, così che le transizioni di livello in ogni simbolo trasmesso facilitano l’estra -", "zione dell’informazione di temporizzazione in ricezione.\nNella rete Ethernet 10Base-T  viene utilizzato come mezzo trasmissivo il doppino intrec -\nciato non schermato UTP Cat. 3 con un minimo di due coppie per ogni cavo (la lettera T \nnella nomenclatura del 10Base-T sta proprio per twisted pair ). La connessione di stazioni con \ncablatura a doppino richiede l’uso di un dispositivo di rigenerazione del segnale, detto hub ,", "che è connesso a ogni stazione con due doppini (o coppie), una per la trasmissione e una per la \nricezione dei segnali. Poiché l’hub ritrasmette sulle porte in uscita tutti i segnali ricevuti sulle \nporte in ingresso, è come se tutte le stazioni fossero connesse a un unico bus. \nIl connettore standard per la rete 10Base-T è l’RJ 45 a 8 pin, dei quali se ne usano quattro: \ni pin 1 e 2 per la trasmissione, i pin 3 e 6 per la ricezione. La massima estensione del connet -", "tore stazione-hub è di 100 m con cavi UTP di categoria 3. Questa distanza può aumentare con \ncavi di categoria superiore (fino a 160 m con cavi UTP di categoria 5). Utilizzando un hub, il \nmeccanismo di rilevazione delle collisioni si semplifica, poiché è sufficiente che l’hub rilevi \nattività simultanea da parte di almeno due stazioni; ciò corrisponde alla presenza di segnale \nsu almeno due porte di ingresso dell’hub. In questo caso l’hub interrompe la ritrasmissione", "in corso ed emette semplicemente un segnale di collisione su tutte le porte in uscita, così che \ntutte le stazioni scarteranno la stringa di bit fino a quel momento ricevuta. \nÈ opportuno rilevare che l’utilizzazione in cascata di più hub, come mostrato in Figura 9.6 \nper l’interconnessione di due “segmenti” di rete, non limita le possibili collisioni a quelle che \n5  In realtà i primi due standard di rete Ethernet a 10 Mbit/s, che hanno dimostrato la semplicità di questa tecno -", "logia, sono stati 10Base5 e 10Base2, che definiscono rispettivamente reti Ethernet con cavo coassiale RG213 e \nRG58 e distanze coperte fino a 500 m e 185 m.Tabella 9.1 Caratteristiche delle reti Ethernet a 10 Mbit/s.\nCaratteristica 10Base-T 10Base-FL\nMezzo trasmissivo 2 UTP Cat. 3 2 fibre MMF in I finestra\nTopologia fisica Stella Punto-punto\nTecnica di codifica Manchester Manchester On-Off\nMassima lunghezza (1 segmento) 100 m 2000 m", "Massima lunghezza (1 segmento) 100 m 2000 m\nPattavinaReti2021.indb   438PattavinaReti2021.indb   438 14/01/2022   16:09:5814/01/2022   16:09:589.3 IEEE 802.3: gli standard di rete Ethernet  439\navvengono tra stazioni connesse allo stesso hub. Infatti, la funzione di semplice rigenerazione \ndel segnale svolta da un hub fa sì che collisioni possano aver luogo tra trame emesse da sta -\nzioni in diversi segmenti, interfacciate cio è da due hub diversi. Quindi, il vincolo di massima", "distanza tra due stazioni che consenta di rilevare collisioni si applica a due stazioni qualunque \ndi una rete Ethernet 10Base-T multisegmento. Si usa anche dire che una rete Ethernet compo -\nsta da più segmenti costituisce un unico “ dominio di collisione”. \nLo standard Ethernet 10Base-FL  descrive una configurazione di rete per collegamenti \npunto-punto in fibra ottica multimodo ( multimode fiber , MMF) su estensioni fino a 2 km. La", "tecnica di codifica di linea utilizzata nelle reti 10Base-FL è la Manchester di tipo unipolare \n(On-Off), poiché non si possono trasmettere segnali luminosi di valore negativo su una fibra \nottica. A differenza della rete 10Base-T, che interconnette un grande numero di stazioni uti -\nlizzando il protocollo di accesso CSMA/CD, la connessione punto-punto della rete 10Base-FL \nnon rende necessaria l’adozione di un protocollo a contesa di tipo CSMA. Quindi non esistono", "vincoli sull’estensione massima della rete come determinato dall’Equazione (9.1), se non quelli \ndeterminati dal tipo di mezzo trasmissivo utilizzato. \n9.3.2 Fast Ethernet\nIl principio su cui è stata concepita l’evoluzione dello standard IEEE 802.3 prevede il manteni -\nmento di alcuni elementi della rete di tecnologia precedente, in modo che sia possibile realiz -\nzare una nuova rete più veloce ed efficiente, ma comunque compatibile a ritroso. Per esempio,", "si sviluppa una nuova versione dello standard Ethernet che opera a una velocità superiore, ma \nsi cerca di mantenere cablatura e hardware della rete preesistente. Tra le soluzioni prospettate \nnegli anni ’90, quella di maggior successo è stata quella conosciuta oggi come Fast Ethernet , \ndivenuta standard nel 1995. \nLa rete Fast Ethernet [802.3], detta anche 100Base-T , è caratterizzata da una configurazio -", "ne fisica a stella e una capacità 10 volte superiore all’Ethernet originale: la nuova rete opera \ninfatti a 100 Mbit/s. Si è visto che il principio base della rete Ethernet è l’accesso condiviso al \nmezzo trasmissivo per mezzo del protocollo di accesso CSMA/CD. Adottare questo protocollo \nsignifica che, in assenza di collisioni, ogni segmento della rete ammette la propagazione del \nsegnale in un verso per volta (nel caso di rete 10Base-T dalla stazione verso l’hub, o viceversa),", "così da realizzare un trasferimento di informazioni di tipo half-duplex (HD). L ’innovazione \npiù significativa della rete Fast Ethernet è la possibilità di aumentare a dismisura la capacità \nglobale di traffico della rete mediante l’introduzione del trasferimento di tipo full-duplex  (FD), \nche consente il trasferimento contemporaneo dei segnali nelle due direzioni in ogni segmento \ndi rete.\nLa rete Fast Ethernet ha topologia sempre a stella, come mostrato nella Figura 9.10, e opera", "in modalità full-duplex, così che ogni collegamento stazione-hub diventa punto-punto, con \ntrasmissione bidirezionale simultanea. L ’apparecchiatura che funge da centro-stella, e assume \nil nome di switch , non agisce più come ripetitore, bensì come vero e proprio “commutatore” \ndelle trame sulla base del loro indirizzo. Quindi, ogni trama ricevuta dal commutatore viene \nritrasmessa sull’appropriata linea uscente solo se questa interfaccia la stazione destinataria.", "Eventuali conflitti per trasmissioni di trame indirizzate sullo stesso segmento sono gestite dal \ncommutatore, che dispone delle risorse di memorizzazione necessarie a evitare la perdita di \ntrame. Si noti che in una rete Fast Ethernet full-duplex il “dominio di collisione” è limitato a \nPattavinaReti2021.indb   439PattavinaReti2021.indb   439 14/01/2022   16:09:5914/01/2022   16:09:59440  Capitolo 9 – Reti LAN cablate", "ogni singolo segmento stazione-switch, ma le collisioni non avvengono poiché sia la stazione, \nsia lo switch utilizzano in trasmissione un doppino in modo esclusivo. \nSe trascuriamo la modalità di funzionamento full-duplex, Fast Ethernet non è altro che la rete \nEthernet dieci volte più veloce, cio è a 100 Mbit/s, che mantiene la stessa struttura di trama. \nQuindi, tutti gli intervalli di tempo della rete Ethernet diventano 10 volte più piccoli: il tempo", "tra due trasmissioni consecutive ( IFG) diventa 0,96 µ s e il tempo di slot è ora di 5,12 µ s. Dimi -\nnuire di 10 volte il tempo di trasmissione della trama implica anche che il tempo a disposizione \nper rilevare collisioni (in funzionamento half-duplex) diventa 10 volte più piccolo, essendo \nla velocità di propagazione dei segnali praticamente costante. Ne consegue che la rete Fast \nEthernet che adotta il protocollo CSMA/CD ha una massima estensione teorica 10 volte più", "piccola della rete Ethernet, quindi dell’ordine di 500 m (vedi Esempio 9.1). Come nella rete \nEthernet, nella realtà la massima distanza tra due stazioni in una rete Fast Ethernet non supera \nmai i 200 m, che corrisponde a cablare una rete a stella con 100 m di raggio (ogni segmento \nFast Ethernet ha un’estensione massima di 100 m).\nSono stati definiti diversi standard di rete Fast Ethernet [802.3], che differiscono sostan -", "zialmente per il mezzo trasmissivo adottato, come mostra la Figura 9.11: 100Base-X , che uti -\nlizza fibra ottica ( 100Base-FX ), oppure doppini di alta qualità ( 100Base-TX ), 100Base-T4  e \n100Base-T2 , entrambi concepiti per riutilizzare doppini UTP preesistenti. Una comparazione Ipotizzando tempi di propagazione trascurabili e assenza di collisioni, si vogliono confron -\ntare i valori della massima capacità di rete THRmax (massima quantità di traffico traspor -", "tato) per una LAN Ethernet 100Base-T con N stazioni equipaggiata con hub, oppure con \nswitch.\nUna rete 100Base-T con hub opera in modalità half-duplex, quindi una sola stazione \nalla volta può trasmettere. Sotto le predette ipotesi non possono essere trasmessi più di \nTHR max = C bit/s, dove C =  100 Mbit/s. L ’adozione di uno switch nella rete, invece dell’hub, \nimplica che la rete opera in modalità full-duplex, secondo la quale ognuna delle N stazioni", "può trasmettere a piena capacità ( C Mbit/s). Quindi THRmax = N · C Mbit/s, ossia N volte \nmaggiore di quella realizzabile con un hub. Esempio 9.2Switch\nA C D E B\nFigura 9.10 Rete Fast Ethernet di tipo full-duplex.\nPattavinaReti2021.indb   440PattavinaReti2021.indb   440 14/01/2022   16:09:5914/01/2022   16:09:599.3 IEEE 802.3: gli standard di rete Ethernet  441\nsintetica delle loro caratteristiche fisiche è riportata nella Tabella 9.2 (le tecniche di codifica", "ivi riportate sono descritte nel Paragrafo 7.4.2). \nLo standard 100Base-X definisce due opzioni per il mezzo trasmissivo: due doppini UTP Cat. \n5 oppure due doppini STP, secondo la specifica 100Base-TX , e due fibre ottiche multimodo \n(MMF) secondo la specifica 100Base-FX . I due supporti trasmissivi sono sempre utilizzati a \nogni interfaccia in una sola direzione, uno per trasmettere e l’altro per ricevere. La tecnica di", "codifica è 4B5B, che trasmette ogni insieme di 4 bit utilizzando una specifica configurazione \ndi 5 bit; ciò corrisponde a una frequenza di simbolo in linea di 100 · 5/4 = 125 Mbaud. Entram -\nbe le reti 100Base-TX e 100Base-FX ammettono l’opzione di funzionamento in full-duplex. \nIn modalità full-duplex un segmento 100Base-FX si può estendere fino a 2 km. Nel caso della \ntrasmissione su portante in rame il segnale viene ulteriormente codificato con tecnica MLT-", "3, che richiede una minore larghezza di banda e garantisce un livello minore di radiazione \nelettromagnetica. \nLo standard 100Base-T4 è stato concepito per riutilizzare il cablaggio pre-esistente di una \nrete Ethernet 10Base-T basato su doppini UTP Cat. 3. Si utilizzano quattro di questi doppini, \nsu cui si ripartisce il flusso informativo in modo che i 100 Mbit/s siano trasmessi utilizzando -Tabella 9.2 Caratteristiche delle reti Ethernet a 100 Mbit/s.", "Caratteristica 100Base-TX 100Base-FX 100Base-T4 100Base-T2\nMezzo trasmissivo2 UTP Cat. 5 o \n2 STP2 fibre MMF\nin II finestra4 UTP Cat. 3 2 UTP Cat. 3\nTopologia fisica StellaStella/ \nPunto-puntoStella Stella\nTecnica di codifica4B5B-NRZI-\nMLT -34B5B-NRZI 8B6T PAM5x5\nFrequenza di simbolo 125 Mbaud 125 Mbaud 25 Mbaud 25 Mbaud\nFull-duplex Sì Sì No Sì\nLunghezza massima \n(1 segmento)100 m (HD)400 m (HD)\n2 km (FD)100 m (HD) 100 m (HD)\nFast\nEthernet\n100Base-FX 100Base-TX100Base-X 100Base-T2 100Base-T4", "Figura 9.11 Classificazione delle reti Fast Ethernet.\nPattavinaReti2021.indb   441PattavinaReti2021.indb   441 14/01/2022   16:09:5914/01/2022   16:09:59442  Capitolo 9 – Reti LAN cablate\nne tre. In questo caso non è prevista l’opzione di trasmissione full-duplex. Essendo comunque \nla trasmissione sempre di tipo bidirezionale, due doppini vengono utilizzati con trasmissione \nunidirezionale ( simplex ) e due con trasmissione half-duplex. La tecnica di codifica adottata", "in questo caso è quella denominata 8B6T, che consiste nel codificare 8 bit con 6 simboli ter -\nnari che sono trasmessi a turno sui tre doppini disponibili. Quindi la frequenza di simbolo è \n(100 · 6/8)/3 = 25 Mbaud. \nLo standard 100Base-T2  prevede l’uso di due soli doppini UTP Cat. 3 per realizzare un \nsegmento Fast Ethernet. Per mantenere la frequenza di simbolo in linea nell’ambito consentito \nda questa categoria di doppini sono stati adottati due accorgimenti: si utilizzano entrambi i", "doppini in modo bidirezionale, così da dimezzare il flusso informativo su ognuno di essi, e si \nadotta una tecnica di codifica particolarmente efficiente, nota come PAM5x5. Quest’ultima \nconsiste nel codificare gruppi di 4 bit in due segnali a 5 livelli modulati in ampiezza e trasmes -\nsi sui due doppini, così da determinare una frequenza di simbolo per doppino di 25 Mbaud. La \nrete Fast Ethernet 100Base-T2 ammette l’opzione di funzionamento full-duplex.\n9.3.3 Gigabit Ethernet", "9.3.3 Gigabit Ethernet\nL ’ulteriore evoluzione della rete Fast Ethernet prende il nome di Gigabit Ethernet [802.3] ed è \ndivenuta standard nel 1998. Anche in questo caso la topologia è unicamente a stella ed è possi -\nbile operare con trasmissioni a 1 Gbit/s sia in modalità half-duplex usando hub, sia in modalità \nfull-duplex per mezzo di switch. L ’uso iniziale della rete Gigabit Ethernet ha riguardato la", "realizzazione di una rete “backbone” (struttura dorsale) veloce che collega switch (in moda -\nlità full-duplex) in sostituzione di una backbone Fast Ethernet. I vantaggi offerti sono quelli \ntipici di una rete Ethernet: la semplicità del metodo di accesso, un’alta scalabilità con diverse \nvelocità di trasmissione che vanno dai 10 ai 1000 Mbit/s, e infine la possibilità di rendere più \nveloci reti Ethernet già esistenti con investimenti molto contenuti tramite la sostituzione di", "alcuni apparati, come per esempio schede di rete ( network interface card , NIC), switch, hub. \nUn problema sorge tuttavia nell’uso della rete Gigabit Ethernet in modalità half-duplex, \nin quanto, se la dimensione della trama viene mantenuta inalterata, il dominio di collisione \ndiventa 10 volte inferiore rispetto ai 500 m della rete Fast Ethernet, scendendo a circa 50 m, \nuna distanza fin troppo modesta. Per superare la limitazione sulla massima estensione di", "rete in modalità half-duplex, il protocollo di rete Gigabit Ethernet definisce due modifiche al \nprotocollo di accesso:\n• carrier extension , che consiste nell’estendere la lunghezza minima di trama così da \navere una massima estensione di rete simile a quella dell’Ethernet a 100 Mbit/s;\n• frame bursting , che consente a una stazione di trasmettere più trame consecutive sepa -\nrate da IFG di durata minima occupati dalla trasmissione di “extension bit”, così da", "evitare l’uso dell’opzione “carrier extension” a partire dalla seconda trama del burst; \nquesta opzione consente di aumentare l’efficienza della rete nel caso di trasmissioni \nconsecutive di trame di piccola dimensione (la massima lunghezza del burst è di 8192 \nbyte). \nIl nuovo formato di trama utilizzato nelle reti Gigabit Ethernet in modalità half-duplex è \nriportato nella Figura 9.12; esso differisce dal formato della rete Ethernet, Fast Ethernet e", "Gigabit Ethernet full-duplex per un campo aggiuntivo di estensione della trama ( extension ) \nPattavinaReti2021.indb   442PattavinaReti2021.indb   442 14/01/2022   16:09:5914/01/2022   16:09:599.3 IEEE 802.3: gli standard di rete Ethernet  443\nla cui lunghezza va da 0 a 448 byte, così che la lunghezza minima della trama diventa ora di \n512 byte, rispetto ai 64 byte precedenti. La distanza teorica massima tra due stazioni è quindi", "dell’ordine dei 400 m, simile a quella di una rete Fast Ethernet. Nella pratica, considerando \nanche le limitazioni imposte dalle altissime velocità in gioco, la distanza massima tra stazioni \nè limitata a 200 m. La durata di uno slot, uguale al tempo minimo di trasmissione della trama, \ndiventa di 4,096 µ s e l’intervallo tra due trame consecutive (IFG) è di 96 ns. \nLo standard IEEE 802.3 [802.3] definisce diverse soluzioni di rete Gigabit Ethernet, delle", "quali la Figura 9.13 riporta quelle di maggiore successo: 1000Base-X , basate sull’adozione di \nfibre ottiche di diverso tipo, e 1000Base-T , che utilizza invece doppini UTP in rame6. \nLe reti 1000Base-SX,  1000Base-LX , 1000Base-EX  e 1000Base-ZX  operano in moda -\nlità full-duplex con due fibre ottiche. La codifica del segnale è realizzata con codice di tipo \n8B10B, seguito da un’ulteriore codifica di tipo NRZ. Le specifiche 1000Base-SX e 1000Base-", "LX, sempre operanti in full-duplex, prevedono l’uso di fibre multimodo ( multimode fiber , \nMMF) in I finestra (850 nm di lunghezza d’onda) e in II finestra (1310 nm), rispettivamente, \ncon una distanza tra stazione e switch fino a 550 m. Le specifiche 1000Base-LX e 1000Base-\nEX prevedono l’uso di fibre monomodo ( single mode fiber , SMF) in II finestra (1310 nm) con \n6  In realtà la specifica 1000Base-T non è stato l’unico standard di rete Ethernet a 1 Gbit/s in rame. Infatti è stato", "anche definito lo standard 1000Base-CX, che prevedeva l’uso di doppini schermati STP con un’estensione \nmassima di rete di 25 m. Questo standard è presto divenuto obsoleto a causa della concorrenza dello standard \n1000Base-T su doppini UTP, che consente di coprire distanze maggiori.164-1518byte\n6 7 6 2 0-1500 4 0-46Extension512-1518byte\n0-448 BytePreamble Payload FCS DA SAType/\nLengthS\nF\nDPad\nFigura 9.12 Formato della trama Gigabit Ethernet in modalità half-duplex.\nGigabi t\nEthernet", "Gigabi t\nEthernet\n1000Base -T\n1000Base -SX1000Base -X\n1000Base -LX 1000Base -EX 1000Base -ZX\nFigura 9.13 Classificazione delle reti Gigabit Ethernet.\nPattavinaReti2021.indb   443PattavinaReti2021.indb   443 14/01/2022   16:10:0014/01/2022   16:10:00444  Capitolo 9 – Reti LAN cablate\ndistanze coperte, rispettivamente, di 10 km e di 40 km. La specifica 1000Base-ZX si basa \ninvece sull’adozione di fibre ottiche monomodo in modalità full-duplex che operano in III", "finestra (1550 nm), consentendo di coprire con un singolo segmento di rete Ethernet distanze \nfino a 70 km. \nLa rete 1000Base-T  è basata su collegamenti in rame costituiti da 4 doppini UTP di cate -\ngoria 5 o superiore, utilizzati in modalità full-duplex. Il flusso di bit trasmesso a 1000 Mbit/s \nè diviso in 4 flussi, uno per doppino, dove è impiegato un codice di tipo 4D-PAM5 (codifica \nPAM a 5 livelli su 4 dimensioni), che codifica ogni coppia di bit con un simbolo a cinque", "livelli, di cui quattro utilizzati per la codifica dei bit e un quinto per inviare un’informazione \ndi correzione di errore in avanti (codice FEC). Quindi la frequenza di simbolo su ogni doppino \nè di 125 Mbaud con trasmissione bidirezionale simultanea. Ne consegue che occorre utiliz -\nzare un hardware adeguato per separare i due flussi negli switch e nelle stazioni. La massima \nestensione del collegamento è di 100 m.", "estensione del collegamento è di 100 m.\nLa Tabella 9.3 riporta una comparazione sintetica delle principali caratteristiche di queste \nreti Ethernet a 1 Gbit/s. \n9.3.4 10Gigabit Ethernet\nL ’evoluzione dello standard IEEE 802.3 ha consentito anche di definire le caratteristiche di reti \n10Gigabit Ethernet che operano alla velocità di 10 Gbit/s. Lo scopo è essenzialmente quello \ndi fornire connettività punto-punto ad altissima capacità per collegamenti dorsali con costi", "competitivi rispetto ad altre tecnologie. Le operazioni sono esclusivamente di tipo full-duplex \n(FD) e quindi non esistono limitazioni sulle distanze coperte con questa tecnologia, se non \nquelle determinate dai mezzi fisici impiegati e dalla qualità del segnale desiderata in ricezione. \nI principali standard di reti Ethernet a 10Gbit/s [802.3] sono mostrati nella Figura 9.14 . \nGli standard per realizzazioni in fibra ottica multimodo ( MMF) o monomodo ( SMF) pre -", "vedono di utilizzare la I finestra (850 nm), la II finestra (1310 nm) e la III finestra (1550 \nnm) nelle reti 10GBase-SR , 10GBase-LR , 10GBase-ER , rispettivamente, con coperture di Tabella 9.3 Caratteristiche delle reti Ethernet a 1 Gbit/s.\nCaratteristica 1000Base-SX 1000Base-LX 1000Base-EX 1000Base-ZX 1000Base-T\nMezzo \ntrasmissivo2 fibre MMF in \nI finestra2 fibre MMF/\nSMF in II \nfinestra2 fibre SMF \nin II finestra2 fibre SMF \nin III finestra4 UTP \nCat. 5\nTopologia", "in III finestra4 UTP \nCat. 5\nTopologia \nfisicaStella Stella Stella Stella Stella\nTecnica di \ncodifica8B10B-NRZ 8B10B-NRZ 8B10B-NRZ 8B10B-NRZ 4D-PAM5\nFrequenza di \nsimbolo1250 Mbaud 1250 Mbaud 1250 Mbaud 1250 Mbaud 125 Mbaud\nFull-duplex Si Si Si Si Si\nLunghezza \nmassima  \n(1 segmento)550 m (MMF)550 m (MMF) \n10 km (SMF)40 km (SMF) 70 km (SMF) 100 m\nPattavinaReti2021.indb   444PattavinaReti2021.indb   444 14/01/2022   16:10:0014/01/2022   16:10:009.3 IEEE 802.3: gli standard di rete Ethernet  445", "distanze crescenti dalla prima (300 m) all’ultima (40 km). Si noti come sia la qualità della fibra \nmonomodo a consentire estensioni di rete dell’ordine di chilometri, rispetto alla fibra multi -\nmodo. La tecnica di codifica utilizzata è 64B66B, che sostituisce gruppi di 64 bit con gruppi \ndi 66 bit, così da realizzare una frequenza di simbolo di (10.000 · 66)/64 = 10,312 Gbaud. Lo \nstandard 10GBase-LX4  prevede la suddivisione del flusso da inviare in 4 flussi trasmessi", "sulla fibra con multiplazione WDM. Avendo adottato una codifica 8B10B, ne consegue che la \nfrequenza di simbolo in linea per flusso è di 3,125 Gbaud. \nLa Tabella 9.4 riporta una comparazione sintetica delle specifiche delle reti 10Gigabit \nEthernet in fibra ottica. \nI principali standard di rete Ethernet a 10Gbit/s in rame sono: 10GBase-CX4 , 10GBase-KR , \n10GBase-KX4  e 10GBase-T . La specifica 10GBase-CX4  descrive una rete con mezzo tra -", "smissivo costituito da quattro linee in rame per direzione, che copre distanze fino a 15 m. \nLa codifica adottata è 8B10B, che determina una frequenza di simbolo di 3,125 Mbaud per \ncoppia. Le specifiche 10GBase-KR  e 10GBase-KX4  descrivono le interconnessioni Ethernet \nin rame a 10Gbit/s per applicazioni in backplane di server con estensioni fino a 1 m. La prima \nadotta la codifica 64B66B con frequenza di simbolo di 10,3 Gbaud. La seconda, grazie alla", "disponibilità sul circuito di quattro linee per direzione, utilizza la codifica 8B10B con frequen -Tabella 9.4 Caratteristiche delle reti Ethernet in fibra ottica a 10 Gbit/s.\nCaratteristica 10GBase-SR 10GBase-LR 10GBase-ER 10GBase-LX4\nMezzo trasmissivo2 fibre MMF  \nin I finestra2 fibre SMF  \nin II finestra2 fibre SMF \nin III finestra2 fibre MMF/SMF \nin II finestra\nTopologia fisica Punto-punto Punto-punto Punto-punto Punto-punto\nTecnica di codifica 64B66B 64B66B 64B66B 8B10B", "Tecnica di codifica 64B66B 64B66B 64B66B 8B10B\nFrequenza di simbolo 10,3 Gbaud 10,3 Gbaud 10,3 Gbaud 3,125 Gbaud\nModalità di accesso FD FD FD FD\nLunghezza massima  \n(1 segmento)300 m 10 km 40 km300 m (MMF) \n10 km (SMF)10Gigabi t\nEthernet\n10GBas e-KX4 10GBas e-KR 10GBas e-CX4 10GBas e-T 10GBas e-R/X\n10GBas e-ER 10GBas e-LX4 10GBas e-SR 10GBas e-LR\nFigura 9.14 Classificazione delle reti 10Gigabit Ethernet.", "PattavinaReti2021.indb   445PattavinaReti2021.indb   445 14/01/2022   16:10:0014/01/2022   16:10:00446  Capitolo 9 – Reti LAN cablate\nza di simbolo 3,125 Gbaud. L ’altissima frequenza in linea dello standard 10GBase-KR richiede \nanche l’adozione di una tecnica di correzione degli errori ( forward error correction , FEC) \nche consenta di ridurre il tasso di errori sul flusso binario trasmesso. Lo standard 10GBase-T", "prevede l’uso di quattro doppini UTP di categoria 6 o superiore per direzione. La tecnica di \ncodifica DSQ128 ( double square constellation ) è molto complessa e prevede la codifica di \n3 bit in ogni simbolo trasmesso. Ne consegue che frequenza di simbolo su ogni doppino è \n(10.000/3)/4 = 833 Mbaud.\nLa Tabella 9.5 riporta una comparazione sintetica delle specifiche delle reti 10Gigabit \nEthernet in rame. \n9.3.5 40Gigabit e 100Gigabit Ethernet", "9.3.5 40Gigabit e 100Gigabit Ethernet\nLa definizione di standard Ethernet a velocità superiore a 10 Gbit/s si basa sull’adozione \ncongiunta di una pluralità di sistemi trasmissivi a 10 Gbit/s che globalmente consentono il \ntrasporto di un flusso di capacità superiore. Infatti, inviando e ricevendo 4 o 10 flussi (detti \n“lanes ”) da 10 Mbit/s in parallelo è possibile conseguire il trasporto di flussi rispettivamente \ndi 40 Mbit/s o 100 Mbit/s.", "di 40 Mbit/s o 100 Mbit/s.\nIn accordo agli standard definiti per le reti Ethernet a 10 Gbit/s, sono stati definiti standard \nper reti a 40 Gbit/s e 100 Gbit/s [802.3] per le diverse tipologie di mezzo trasmissivo. Per le \nreti a 40 Gbit/s gli standard sono:\n• fibra ottica monomodo  (SMF): reti Ethernet 40GBase-LR4  e 40GBase-ER4,  che \nutilizzano 4 lanes  e coprono distanze fino a 10 km e 40 km, rispettivamente;", "• fibra ottica multimodo  (MMF): rete Ethernet 40GBase-SR4 , che utilizza 4 lanes  e \ncopre distanze fino a 100 m;\n• rame : reti Ethernet 40GBase-CR4  e 40GBase-KR4 , che utilizzano 4 lanes  e coprono \ndistanze fino a 7 m e 1 m, rispettivamente; 40GBase-T , che utilizza 4 lanes  di doppini \nin rame Cat. 8.\nGli standard per le reti a 100 Gbit/s sono:\n• fibra ottica monomodo  (SMF): reti Ethernet 100GBase-LR4  e 100GBase-ER4 , che", "utilizzano 4 lanes  WDM e coprono distanze fino a 10 km e 40 km, rispettivamente;Tabella 9.5 Caratteristiche delle reti Ethernet in rame a 10 Gbit/s.\nCaratteristica 10GBase-CX4 10GBase-KR 10GBase-KX4 10GBase-T\nMezzo trasmissivo4 linee in rame  \nper direzioneRame su \ncircuito stampato4 linee in rame \nsu circuito \nstampato4 UTP Cat. 6 \nper direzione\nTopologia fisica Punto-punto Punto-punto Punto-punto Punto-punto\nTecnica di codifica 8B10B 64B66B 8B10B DSQ128", "Tecnica di codifica 8B10B 64B66B 8B10B DSQ128\nFrequenza di simbolo 3,125 Gbaud 10,3 Gbaud 3,125 Gbaud 833 Mbaud\nModalità di accesso FD FD FD FD\nLunghezza massima  \n(1 segmento)15 m 1 m 1 m 100 m\nPattavinaReti2021.indb   446PattavinaReti2021.indb   446 14/01/2022   16:10:0014/01/2022   16:10:009.4 Il protocollo PPP  447\n• fibra ottica multimodo  (MMF): rete Ethernet 100GBase-SR10 , che utilizza 10 lanes  \ne copre distanze fino a 100 m;", "e copre distanze fino a 100 m;\n• rame : rete Ethernet 100GBase-CR10 , che utilizza 10 lanes  e copre distanze fino a 7 \nm.\n9.4 Il protocollo PPP\nEthernet rappresenta la principale soluzione di protocollo di linea per topologie di rete di \ntipo multipunto nell’ambito delle reti di accesso cablate. Tuttavia in alcuni casi, specialmente \nin ambito residenziale, vengono anche utilizzati collegamenti punto-punto nei quali occorre", "adottare specifici protocolli di linea che possano interlavorare con i protocolli di accesso \nEthernet. \nIl point-to-point protocol  (PPP) definisce le procedure per il trasferimento di unità infor -\nmative di livello 3 su un collegamento dati che può essere reso disponibile su una pluralità di \nlinee punto-punto, e cio è su linee dedicate oppure su linee commutate con l’uso di modem. \nSi prevede che il protocollo PPP possa funzionare su linee con trasferimento asincrono di", "byte (detto anche “start-stop”), oppure con trasferimento sincrono. Ne è prevista l’adozione \nanche su linee di tipo ADSL, oppure con trasferimento strutturato in trame di tipo SONET/\nSDH [G.707]. Caratteristica fondamentale del protocollo è la disponibilità di una connessione \nfull-duplex tra le due apparecchiature dove opera il protocollo PPP. \n9.4.1 Formato di trama\nIl protocollo PPP [RFC1662] definisce una struttura di trama basata su caratteri (byte), invece", "che su bit come il protocollo di linea più diffuso HDLC. Questo vuole dire che la lunghezza \ndi trama sarà sempre espressa in numero di byte. Il formato della trama PPP , mostrato nella \nFigura 9.15, comprende i seguenti campi:\n• flag (1 byte): presente all’inizio e alla fine della trama PPP con contenuto 01111110, \nrappresentato anche come 0x7E in formato esadecimale, svolge la funzione di delimi -\ntazione della trama;", "tazione della trama; \n• address  (1 byte): campo con tutti i bit posti a 1, che non svolge in realtà alcun ruolo \n(trattandosi di collegamento punto-punto) e che non richiede dunque la necessità di \nsvolgere la funzione di indirizzamento; \n• control  (1 byte): assume il valore di default esadecimale 0x03 in quanto normalmen -\nte non viene messo in opera alcun meccanismo di numerazione delle trame; solo in \ncondizioni di collegamenti rumorosi è possibile adottare la numerazione delle trame", "come funzione opzionale; \nFigura 9.15 Formato di trama del protocollo PPP.Flag Address Control Information FCS Flag\n1 variable 2/4 1Protocol\n1 1 1/2 Byte\nPattavinaReti2021.indb   447PattavinaReti2021.indb   447 14/01/2022   16:10:0014/01/2022   16:10:00448  Capitolo 9 – Reti LAN cablate\n• protocol (1 o 2 byte): specifica il tipo di payload della trama, cio è il protocollo di livello \n3 che utilizza le funzioni di collegamento dati svolte dal protocollo PPP;", "• information : rappresenta il payload della trama e contiene un numero di byte variabile \ncon un valore massimo che può essere negoziato al momento dell’instaurazione della \nconnessione; il suo valore di default è 1500 byte;\n• frame check sequence, FCS , (2 o 4 byte): svolge l’usuale funzione di rivelazione di \nerrori sui campi address, control, protocol, information , analogamente a quanto avviene \nnel protocollo HDLC, con lunghezza di default di 2 byte (una lunghezza doppia può", "essere concordata all’instaurazione della connessione). \nCome in ogni protocollo di livello 2, occorre garantire la funzione di “trasparenza” del tra -\nsferimento dati, evitando che si possa interpretare il contenuto di qualunque sequenza di 8 bit \ndella trama come flag. Questa funzione viene realizzata mediante bit stuffing  nei protocolli \nderivati da HDLC, che consiste nell’inserire un bit 0 dopo ogni sequenza di cinque simboli 1", "consecutivi, eccetto che nei flag (vedi Paragrafo 7.3.2). La procedura di bit stuffing può essere \nutilizzata anche nel protocollo PPP nel caso di trasmissione di tipo sincrono, dove cio è l’unità \nelementare di trasmissione è il bit.\nNel caso di un mezzo trasmissivo ove si opera con trasmissione di tipo asincrono, nella \nquale l’elemento informativo di base è il byte e non più il bit, viene operata una procedura", "detta di byte stuffing  che consiste nell’anteporre a ogni occorrenza all’interno della trama PPP \ndel carattere 0x7E, che rappresenta il flag, un carattere speciale 01111101, cio è 0x7D, detto \n“control escape”. Naturalmente, anche il carattere 0x7D potrebbe occorrere entro la trama e \nquindi anch’esso viene preceduto da un altro carattere 0x7D. In entrambi i casi di inserimento \ndi “control escape”, il carattere che segue è il risultato dell’operazione di OR esclusivo tra il", "carattere esadecimale originale da proteggere e il carattere 0x20. Quindi i caratteri 0x7E e \n0x7D che occorrono all’interno della trama vengono sostituiti rispettivamente dalle sequenze \n0x7D 0x5E e 0x7D 0x5D. \n9.4.2 Operazioni del protocollo PPP\nIl protocollo PPP definisce una procedura di instaurazione del collegamento mediante scam -\nbio di messaggi che trovano posto nel campo information  e sono identificati dal valore 0xC021", "del campo protocol . Questi messaggi definiscono il protocollo LCP ( link connection protocol ) \n[RFC1662], che descrive come negoziare i parametri della connessione e le diverse opzioni \nche possono essere esercitate. Tra queste ve ne è una di particolare importanza, che consente \nl’autenticazione degli utilizzatori del collegamento mediante scambio di password definito da \nun’apposita procedura denominata PAP ( password authentication protocol ).", "Una volta che il collegamento di livello 2 è stato instaurato con successo, eventualmente \nanche mediante autenticazione, viene attuato il protocollo NCP ( network control protocol ), \nche serve per rendere disponibile il collegamento PPP a un arbitrario protocollo di rete, defi -\nnendone le modalità di trasferimento delle relative unità dati. Le unità informative del proto -\ncollo NCP sono anch’esse trasportate nel campo information  e identificate con specifici codici", "del campo protocol . Se si utilizza il protocollo IP, NCP svolgerà tra l’altro il compito di nego -\nziare l’assegnazione di un indirizzo IP nel caso di connessione di una stazione terminale a un \nPattavinaReti2021.indb   448PattavinaReti2021.indb   448 14/01/2022   16:10:0114/01/2022   16:10:019.4 Il protocollo PPP  449\nservice provider di rete IP. Una volta assegnato l’indirizzo, il campo information  delle trame \nPPP trasporterà i datagrammi IP.", "PPP trasporterà i datagrammi IP. \nLa Figura 9.16 mostra il diagramma delle fasi secondo cui evolve il protocollo PPP. Dallo \nstato “chiuso” il protocollo effettua una transizione nello stato di “instaurazione”, a seguito \ndi riconoscimento della portante. In questa fase vengono svolte le operazioni di instaurazione \ndella connessione e di negoziazione dei relativi parametri, mediante scambio di messaggi", "secondo il protocollo LCP; se lo scambio non va a buon fine, si rientra nello stato di “chiuso”. \nUna volta stabilita la connessione, viene effettuata l’operazione opzionale di “autenticazione”, \nper esempio secondo il protocollo PAP. Se l’autenticazione ha successo si entra nello stato di \n“rete”, nel quale viene configurato il protocollo di rete desiderato, per esempio IP, mediante \nscambio di messaggi del protocollo NCP. Avviene quindi la transizione nello stato “aperto”,", "nel quale ha luogo il trasferimento di trame del protocollo PPP che trasportano nel loro paylo -\nad le unità informative di livello superiore, cio è i datagrammi IP, se questo è il protocollo di \nrete configurato nella fase precedente. In questo stato possono sempre essere trasferiti mes -\nsaggi dei protocolli LCP e NCP per eventuali modifiche di configurazioni del collegamento \no dei protocolli di rete supportati. La fase di “rilascio” viene attivata alla fine della sessione,", "oppure per cause legate alla qualità del collegamento, alla mancanza della portante, oppure \nsemplicemente per insuccesso dell’operazione di autenticazione, per entrare quindi nello stato \n“chiuso”. \n9.4.3 Trasporto di trame PPP\nIl protocollo PPP definisce lo scambio di unità informative di livello 2, senza naturalmente \nspecificare la modalità di trasmissione della stringa di bit nello strato fisico. Le opzioni più", "utilizzate sono l’uso di collegamenti con protocolli di livello fisico SONET/ SDH [G.707], \noppure il trasporto attraverso trame Ethernet o celle ATM. \nLe trame PPP sono trasportate mediante protocolli ATM (vedi Paragrafo 6.9) nel caso di \nlinee DSL. Ciò è dovuto al fatto che, al momento in cui queste soluzioni sono state pensate, \nuna significativa parte delle maggiori reti di trasporto era basata sui protocolli ATM. È sem -", "brato dunque naturale utilizzare anche sulle linee di accesso la stessa famiglia di protocolli \nper semplificare l’interlavoro tra gli apparati di concentrazione DSLAM posti nella centrale \nlocale e le reti WAN alle quali il traffico deve essere indirizzato. \nLa Figura 9.17 mostra le pile protocollari relative al trasferimento di dati tra una stazione \nterminale e un ISP utilizzando una connessione DSL. Dal lato utente troviamo un host con -\nInstaura zioneAutenticazioneRete", "Instaura zioneAutenticazioneRete\nChius oRilascioAperto\nSuccesso\nInsu ccesso\nInsu ccessoSuccesso\nFigura 9.16 Diagramma delle fasi del protocollo PPP.\nPattavinaReti2021.indb   449PattavinaReti2021.indb   449 14/01/2022   16:10:0114/01/2022   16:10:01450  Capitolo 9 – Reti LAN cablate\nnesso con protocollo MAC Ethernet a un modem che agisce da router locale, mentre dal lato \ncentrale troviamo un’apparecchiatura DSLAM che svolge la funzione di raccolta del traffico", "dati da inviare all’ISP per accesso a Internet attraverso connessioni ad alta velocità di tipo \nEthernet. La linea DSL viene utilizzata per il trasferimento delle unità informative di livello \n3 attraverso il protocollo PPP, che riceve servizio dal livello ATM attraverso il protocollo di \nadattamento AAL5 [RFC2364]. Quindi i datagrammi IP vengono prima incapsulati in trame \nPPP e poi in celle ATM attraverso una procedura di segmentazione dal lato trasmissione e", "riassemblaggio dal lato ricezione (vedi Paragrafo 6.9.3). \nLa grande diffusione di apparecchiature con porte Ethernet ha suggerito la definizione \ndi una modalità di uso del protocollo PPP con questo tipo di interfacce, che prevede quindi \nil trasporto di trame PPP per mezzo di trame Ethernet. Questa soluzione è nota anche come \nPPPoE ( PPP over Ethernet ) [RFC2516], e la sua pila protocollare è mostrata nella Figura", "9.18. Lo strato IP riceve servizio dal protocollo PPP, le cui trame possono essere trasportate \nnel payload delle trame Ethernet attraverso il “protocollo di adattamento” PPPoE. Per quanto \nriguarda gli strati inferiori, che naturalmente includono lo strato fisico, sono possibili diverse \nsoluzioni, dall’adozione di collegamenti punto-punto ad alta velocità con protocolli SONET/\nSDH [G.707] all’uso di linee a bassa velocità, come i doppini. In quest’ultimo caso è anche", "possibile utilizzare un collegamento DSL, con la conseguenza che la trama Ethernet viene \nincapsulata in un’unità informativa AAL5, che viene poi frammentata in celle ATM trasmesse \nsul mezzo fisico. \nISPEthernetDSLA M\nLineaDSLFisico DSLAAL5\nATMPPPIP\nMACLLC\nFisicoIP\nMACLLC\nFisico DSLAAL5\nATMPPPIP\nMACLLC\nFisicoIP\nMACLLC\nEthernetModem\nrouter\nFigura 9.17 Architettura di trasporto PPP su linea DSL.\nIP\nPPP\nPPPoE\nEthe rnet\nStra tiinferior i\nFigura 9.18 Pila protocollare del protocollo PPPoE", "PattavinaReti2021.indb   450PattavinaReti2021.indb   450 14/01/2022   16:10:0114/01/2022   16:10:019.5 Address resolution protocol  451\nLa Figura 9.19 mostra come una trama PPP venga incapsulata nel payload di una trama Ether -\nnet. La trama PPP viene fornita di un header di 2 byte denominato protocol ID  (che identifica \nPPP come il protocollo cui il payload si riferisce) e assume il nome di UI PPP, cio è unità", "informativa PPP. A sua volta la UI PPP rappresenta il payload di una trama PPPoE che include \ni seguenti campi: \n• version  (4 bit): versione del protocollo, che ora assume valore 1; \n• type (4 bit): tipo di protocollo PPP, che ora assume valore 1; \n• code  (8 bit): campo utilizzato per stabilire una sessione tra le due stazioni alle estre -\nmità del collegamento PPP; \n• session ID  (16 bit): insieme agli indirizzi MAC del protocollo Ethernet sottostante,", "identifica univocamente la sessione PPP tra le due apparecchiature che eseguono il \nprotocollo PPP; \n• length  (16 bit): indica la lunghezza in byte del campo informativo;\n• PPPoE payload  (variabile): campo informativo della trama PPPoE, dove trova posto \nla UI PPP. \nOccorre osservare che dall’incapsulamento della trama PPP in una trama Ethernet consegue \nche una trama PPP non possa essere più lunga di 1492 byte, data la lunghezza massima del", "payload Ethernet di 1500 byte e gli 8 byte di header richiesti (2 byte nella UI PPP e 6 byte \nnella trama PPPoE).\n9.5 Address resolution protocol\nIl fatto che la rete Internet definisca una modalità di interlavoro tra host e router basata su \nindirizzi IP, indipendente dalle reti fisiche che trasportano i datagrammi, rende necessario \nstabilire una corrispondenza tra indirizzi IP e indirizzi fisici della rete cui si accede. Se due", "router sono connessi da una linea punto-punto, ognuno di essi sa che, utilizzando la linea, \nraggiunge l’altro. Se invece il supporto fisico di trasmissione è una linea multipunto, quale \nVersion/\nTypeCode PPPo Epayload\n1v ariableSession\nID\n12 2 ByteLength\nDestinat ion\naddressSource\naddressInformationF CS\nvariable 4Type/\nLeng th\n11 2 BytePPPframe\nvariable 2 ByteProtocol\nID\nTrama\nEthernetTrama\nPPPoEUI\nPPP\nFigura 9.19 Trasporto di trame PPP attraverso trame Ethernet.", "PattavinaReti2021.indb   451PattavinaReti2021.indb   451 14/01/2022   16:10:0214/01/2022   16:10:02452  Capitolo 9 – Reti LAN cablate\nper esempio una rete LAN con mezzo trasmissivo condiviso, sorge il problema di associare \nl’indirizzo IP di un host/router all’indirizzo della rete fisica che ne consente la raggiungibili -\ntà; questo indirizzo, nel caso delle reti locali definite dallo standard IEEE 802, coincide con \nl’indirizzo a 48 bit (vedi Paragrafo 9.1.3) della scheda di rete (NIC).", "La corrispondenza tra indirizzi di rete IP e indirizzi fisici di rete viene realizzata utiliz -\nzando l’ address resolution protocol  (ARP) [RFC826]. Un host/router che desideri inviare un \ndatagramma a un altro host/router interfacciato sulla stessa sottorete invia a tutte le stazioni \ndella sottorete (comunicazione broadcast) un messaggio di richiesta ( ARP request ), il cui \nformato è rappresentato nella Figura 9.20, contenente l’indirizzo (hardware) di rete di 6 byte", "(sender hw address ) e l’indirizzo IP di 4 byte ( sender IP address ) del mittente. I campi HLEN  e \nPLEN  specificano la lunghezza di questi due campi, così da potere utilizzare lo stesso formato \ndi messaggio in reti con formati diversi degli indirizzi. I campi hardware type  e protocol type  \nindicano il tipo di interfaccia hardware e di protocollo di livello superiore che origina la richie -\nsta. Questo messaggio viene inviato in broadcast sulla rete Ethernet alla quale si interfaccia", "l’host, utilizzando l’indirizzo fisico costituito da tutti i bit posti a 1. La stazione della sottorete \nche riconosce il proprio indirizzo IP risponde inviando la stessa unità informativa ( ARP reply ), \ndopo avervi riportato i propri indirizzi hardware ( target hw address ) e IP ( target IP address ). I \nmessaggi di richiesta e di risposta si distinguono sulla base del contenuto del campo operation", "(operation  = 1 per ARP request e operation  = 2 per ARP reply). Il messaggio di risposta ARP \nviene inviato direttamente all’host richiedente (comunicazione punto-punto) per mezzo di una \ntrama inviata all’indirizzo Ethernet sender hw address  del messaggio ARP request. \n1\n2\n331 16 8 0\n4\n5Hardwaretype\nOperat ionProtocoltype\nPLEN HLEN\nSenderhwaddress(bytes0-3)Bit\n6\n7Senderhwaddress(bytes4-5)S enderIPaddress (bytes 0-1)\nSenderIPaddress(bytes2-3)T argethwaddress (bytes 0-1)", "Targethwaddress(bytes2-5)\nTargetIPaddr ess(bytes0-3)\nFigura 9.20 Formato del messaggio ARP.Con riferimento a una rete Ethernet di indirizzo 131.175.48.0/24, si vuole rappresentare un \nesempio di impiego del protocollo ARP in cui un router con indirizzo IP 131.175.48.254 e \nindirizzo MAC 00 -FF-85-E7-D9-90 ottiene l’indirizzo hardware (MAC address) dell’host \ncon indirizzo IP 131.175.48.75. \nLa Figura 9.21 mostra la successione delle trame inviate rappresentando gli elementi con", "notazione esadecimale. Il router invia sulla rete un messaggio ARP di tipo 1 (ARP request), \nrecante il proprio indirizzo IP 131.175.48.254 (corrispondente all’indirizzo esadecimale Esempio 9.3\nPattavinaReti2021.indb   452PattavinaReti2021.indb   452 14/01/2022   16:10:0214/01/2022   16:10:029.5 Address resolution protocol  453\nAllo scopo di rendere più efficiente l’associazione tra indirizzi hardware e IP, ogni computer", "memorizza in una memoria cache  le coppie di indirizzi <IP, hardware> utilizzate, in modo \nda non dover attivare la procedura ARP per ogni datagramma IP da inviare sulla sottorete. Le \nvoci sono inserite nella memoria non solo dall’host/router che origina la procedura ARP (alla \nricezione della risposta), ma anche da quello che risponde a un messaggio ARP (alla ricezione \ndella richiesta). È infatti estremamente probabile che la stazione interrogata riceverà un mes -\n00-00-00-00-00-0006 04", "00-00-00-00-00-0006 04\n00-FF-85-E7-D9 -90\n83-AF-30-FE\n83-AF-30-4B\nPreamble FCS 08-060001 0800\n0001\nS\nF\nDPreamble FCSF F-FF-FF-FF-FF-FF 08-0600-FF-85-E7-D9-90S\nF\nD\n131.175.48.254\n00-FF-85-E7-D9-90C A-FF-28-78-B2-C1131.175.48.75\n00-FF-85-E7-D9 -9083-AF-30-4BCA-FF-28-78-B2-C1\n83-AF-30-FECA-F F-28-78-B2-C1 00-FF-85-E7-D9-90\n06 040001 0800\n0002", "06 040001 0800\n0002\nFigura 9.21 Recupero di indirizzo MAC con protocollo ARP secondo l’Esempio 9.3.0x83-AF-30-FE) e il proprio indirizzo hardware 0x00 -FF-85-E7-D9-90, con indirizzo IP \ndi destinazione 131.175.48.75 (corrispondente all’indirizzo esadecimale 0x83 -AF-30-4B). I \ncodici 0x0001 e 0x0800 indicano Ethernet come protocollo di livello 2 e IP come protocollo \ndi livello 3. Il messaggio ARP viene incapsulato in una trama Ethernet broadcast, quindi", "con indirizzo di destinazione 0xFF-FF-FF-FF-FF-FF, di tipo 0x0806, che indica il messag -\ngio ARP come payload e reca l’indirizzo hardware sorgente del router. L ’host con indirizzo \n131.175.48.75, ricevendo la trama, riconosce nel payload un messaggio ARP che indica il \nproprio indirizzo IP come destinazione. Viene quindi generato un nuovo messaggio ARP di \ntipo 2 (ARP reply), che reca gli indirizzi hardware e IP dell’host e del router nelle posizioni", "previste. Questo messaggio viene incapsulato in una trama Ethernet con indirizzo di desti -\nnazione 0x00 -FF-85-E7-D9-90 e indirizzo sorgente 0xCA -FF-28-78-B2-C1, quindi viene  \ninviato in modo esplicito al router che ha inoltrato la richiesta con il protocollo A R P. \nPattavinaReti2021.indb   453PattavinaReti2021.indb   453 14/01/2022   16:10:0214/01/2022   16:10:02454  Capitolo 9 – Reti LAN cablate\nA B R1R2IP\nFisicoMAC\nEthernet\nFisicoATMIP\nFisicoMAC\nEthe rnetTCPAppl.\nIP\nFisicoATM\nFisicoPPP", "Ethe rnetTCPAppl.\nIP\nFisicoATM\nFisicoPPP\nFisicoPPPIPTCPAppl .\nLLC AAL LLC AAL\nEthernet ReteATM Lineapunto-punto\nFigura 9.22 Interlavoro tra reti secondo l’Esempio 9.4.saggio IP al quale dovrà fornire una risposta. Inoltre, dato che i messaggi di richiesta ARP \nviaggiano sulla rete Ethernet in broadcast, ogni host sulla rete può memorizzare la coppia di \nindirizzi <IP, hardware> che viaggia sui messaggi di risposta. Naturalmente, per evitare che", "le informazioni diventino obsolete, è prevista la cancellazione di una voce dalla memoria se \nessa non viene utilizzata per un dato periodo di tempo, per esempio 15-20 minuti. L ’adozione \ndella memoria cache suggerisce che all’atto dell’attivazione di un host, anche a seguito di una \nsostituzione della scheda di rete, questo comunichi con un messaggio ARP in broadcast la \npropria coppia di indirizzi Ethernet e IP. \nEsempio 9.4", "Esempio 9.4\nSi vuole descrivere, per mezzo dei protocolli coinvolti, la modalità di scambio di messaggi \ntra due host A e B connessi, rispettivamente, a una rete Ethernet e a una linea punto-punto \ncon protocollo PPP (vedi Paragrafo 9.4); si ipotizza che la rete Ethernet e la linea punto-pun -\nto siano connesse per mezzo di una rete ATM (vedi Paragrafo 6.9); si suppone che venga \nutilizzato il protocollo di trasporto TCP con connessione già instaurata e che non venga", "effettuata frammentazione a livello IP del segmento dati TCP inviato. \nLa cascata delle reti descritte è mostrata nella Figura 9.22, dove sono rappresentati anche \ni protocolli coinvolti nell’interazione tra i due host. Indichiamo con R1 e R2 i router della \nrete ATM che interfacciano la LAN Ethernet da una parte e la linea punto-punto dall’altra. \nIl segmento TCP originato nell’host A viene incapsulato con indirizzo di rete IPA in un", "datagramma IP che deve essere consegnato alla stazione B con indirizzo di rete IPB. La sta -\nzione A, confrontando gli indirizzi IPA e IPB, verifica che deve realizzare un inoltro indi-\nretto del datagramma, cio è attraverso uno o più router, e quindi trova nella propria tabella \ndi instradamento l’indirizzo Internet IPR1 del router R1 da utilizzare come “next-hop”. Il \ndatagramma viene quindi incapsulato in una trama Ethernet il cui indirizzo hardware di", "destinazione EthR1 (cioè l’indirizzo hardware della porta del router R1 sulla rete Ethernet), \nse non presente nella cache, viene reperito con la procedura ARP. La trama trasmessa dalla \nstazione A viene ricevuta con successo nel router R1, che ne estrae il datagramma e deter -\nmina che il next-hop router è R2, raggiungibile attraverso una rete ATM. Il datagramma,", "PattavinaReti2021.indb   454PattavinaReti2021.indb   454 14/01/2022   16:10:0314/01/2022   16:10:039.5 Address resolution protocol  455\nSi verificano spesso situazioni in cui un host, per esempio l’host A, al quale è assegnato un \ndato indirizzo IP nella rete N1, non risulta immediatamente raggiungibile da altri host della \nstessa rete con procedura ARP. Ciò può accadere per esempio a causa di un partizionamento", "della rete N1 in sottoreti con tecnica VLSM/CIDR con router interposti, oppure perché l’host \nsi trova in mobilità presso un’altra rete N2 da cui ha ricevuto un altro indirizzo (temporaneo) \ndi rete. In questi casi, la tecnica che si adotta per raggiungere l’host in questione consiste \nnell’assegnare a un router della rete N1 la funzione di “ proxy router”. Questo router avrà il \ncompito di rispondere a messaggi ARP di richiesta dell’indirizzo hardware dell’host A fornen -", "do l’indirizzo hardware della propria interfaccia di rete, così che i datagrammi inviati all’host \nA saranno ricevuti dal proxy router che, ovviamente, è a conoscenza della posizione effettiva \ndell’host A cui inoltrerà i datagrammi ricevuti. Ciò avviene utilizzando l’indirizzo dell’host \nA nella sua sottorete di appartenenza, oppure attraverso un “tunnel” stabilito dal proxy router \nall’host A in mobilità presso la rete N2 (vedi Paragrafo 10.3). Questa funzione svolta dal proxy", "router è denominata proxy ARP . il cui header viene opportunamente aggiornato nei campi TTL e checksum , viene quindi \ntrasferito attraverso questa rete utilizzando il protocollo ATM. Una volta che il router R2 \nriceve il datagramma, che ha attraversato un numero arbitrario di nodi ATM sotto forma \ndi una sequenza di pacchetti di tipo ATM, determina che deve effettuare un inoltro diretto  \nverso  IPB, in quanto l’indirizzo IPB dell’host di destinazione ha lo stesso net-id  (e lo stesso", "subnet-id , se si usa subnetting) dell’interfaccia del router R2 sulla linea punto-punto. Il \ndatagramma viene dunque aggiornato e ritrasmesso sulla linea punto-punto utilizzando il \nprotocollo di collegamento PPP. La stazione B riceve infine la trama, estrae il datagram -\nma, il cui payload viene consegnato alla porta di destinazione TCP indirizzata. Si ricorda \nche i controlli degli errori vengono effettuati su ogni unità informativa ricevuta a livello", "2 (campo FCS nella trama Ethernet, campo HEC nel pacchetto ATM), a livello 3 ( header \nchecksum  nel datagramma IP) e a livello 4 ( checksum  nel messaggio TCP).\nPattavinaReti2021.indb   455PattavinaReti2021.indb   455 14/01/2022   16:10:0314/01/2022   16:10:03PattavinaReti2021.indb   456PattavinaReti2021.indb   456 14/01/2022   16:10:0314/01/2022   16:10:0310CAPITOLO Reti wireless  \ne mobilità10CAPITOLO\nQuesto capitolo è dedicato alla presentazione delle varie", "soluzioni di rete LAN wireless e delle modalità con cui si \nrealizza la mobilità di un terminale connesso in rete. Facen -\ndo riferimento alla classificazione delle reti secondo il pro -\ngetto IEEE 802, introdotta nel capitolo precedente, vengono \nprima descritte le soluzioni di rete wireless LAN, note come \nreti Wi-Fi. Ne vengono esaminati gli aspetti di topologia di \nrete, di protocolli di accesso e la loro caratterizzazione nello", "strato fisico. A seguire, come principale soluzione per la rea -\nlizzazione di rete wireless PAN viene presentato lo standard \nBluetooth. Infine si affronta il tema del rendere possibile la \nmobilità di un terminale attraverso più reti, senza compro -\nmetterne la continuità di servizio. La teoria relativa ai proto -\ncolli di accesso in reti multipunto discussi in questo capitolo \nè presentata nella Sezione B del Capitolo 3.\n10.1  IEEE 802.11:  \nle reti wireless LAN", "10.1  IEEE 802.11:  \nle reti wireless LAN\nLe reti LAN di tipo wireless rispondono a un’esigenza molto \nsentita al giorno d’oggi, cio è quella di disporre di connettivi -\ntà in rete senza dover prestabilire con esattezza la posizione \nentro un’area limitata dove ciò deve avvenire. L ’accesso via \nradio non predefinisce infatti il punto esatto di posiziona -\nmento dell’apparecchiatura terminale, anche se deve garan -\ntire che l’accesso sia effettivamente possibile in tutta l’area", "di potenziale interesse. Ciò deve avvenire inoltre senza \nandare a detrimento della capacità di trasferimento delle \ninformazioni in rete. In poche parole, si vuole realizzare la \n“mobilità” del terminale garantendo una determinata qualità \nal servizio di comunicazione nella rete. Occorre osservare \nche in questo scenario sorgono nuovi problemi legati alla \nbassa qualità del mezzo trasmissivo utilizzato, cio è il canale Argomenti\n10.1  IEEE 802.11:  \nle reti wireless LAN\n10.2  IEEE 802.15:", "le reti wireless LAN\n10.2  IEEE 802.15:  \nle reti wireless PAN\n10.3 Mobilità IP\n10.4  Mobilità con accesso da rete \nradiomobile\nPattavinaReti2021.indb   457PattavinaReti2021.indb   457 14/01/2022   16:10:0314/01/2022   16:10:03458  Capitolo 10 – Reti wireless  e mobilità\nradio, rispetto a quello in cavo. Basti pensare ai problemi creati dai disturbi e dalle interfe -\nrenze elettromagnetiche che colpiscono il segnale trasmesso, alla piccola quantità di spettro", "elettromagnetico a disposizione che limita a priori la capacità del canale radio, alla variabilità \ndella potenza del segnale nell’area di copertura, alla necessità di gestire accuratamente le sor -\ngenti di energia (le batterie) disponibili nei terminali mobili. \nI primi sviluppi di reti wireless LAN hanno avuto luogo facendo uso di porzioni di spettro \nnon soggette per definizione a regolamentazione, quindi utilizzabili da chiunque, raggruppate", "nelle bande denominate ISM ( instrumental, scientific, medical ) nell’ambito dei 900 MHz, 2,4 \nGHz, 5 GHz. L ’immediata disponibilità di queste bande ha comportato tuttavia lo svantaggio \ndella convivenza con interferenze da altre apparecchiature già operanti in questa banda, per \nesempio i forni a microonde. Nel seguito si farà riferimento esclusivamente alle realizzazio -\nni di rete wireless LAN che rientrano nell’ambito del progetto IEEE 802, specificate nelle", "raccomandazioni IEEE 802.11; ormai tutti i dispositivi e le apparecchiature di rete wireless \ndisponibili sono basati sulle soluzioni descritte in queste raccomandazioni.\n10.1.1 Struttura della rete\nA seconda delle funzionalità di comunicazione disponibili, si distinguono due diverse con -\nfigurazioni di stazioni organizzate nel servizio radiomobile base  e nel servizio radiomobile \nesteso  [802.11]. Nel servizio base le stazioni, che costituiscono un basic service set (BSS), pos -", "sono comunicare tra loro senza restrizioni; se presente, un’altra stazione denominata access \npoint  (AP) agisce da stazione radio base che consente la comunicazione di queste stazioni \nradiomobili con altre apparecchiature remote di rete. Se l’AP non è presente, la rete prende il \nnome di rete ad-hoc . Più insiemi BSS, ognuno con servizio base e dotato di AP, possono essere \nconfigurati in modo da fornire un servizio radiomobile esteso che consente le comunicazioni", "tra tutte le stazioni; questa configurazione è denominata extended service set  (ESS) ed è rea -\nlizzata mediante l’interconnessione degli AP tramite un sistema di distribuzione ( distribution \nsystem , DS), tipicamente una LAN cablata (per esempio una rete Ethernet), come mostrato \nin Figura 10.1 nel caso di tre BSS. Data la natura mobile dei terminali, a seconda della loro \nposizione essi entrano a far parte di uno specifico BSS con una procedura di associazione. \nAP APAPDS", "AP APAPDS\nFigura 10.1 Extended service set in reti radiomobili.\nPattavinaReti2021.indb   458PattavinaReti2021.indb   458 14/01/2022   16:10:0314/01/2022   16:10:0310.1 IEEE 802.11: le reti wireless LAN   459\nLa natura del mezzo trasmissivo, implicitamente condiviso tra tutti gli utilizzatori non cablati, \nrichiede un intenso utilizzo dello spettro elettromagnetico, imponendo il ricorso a frequenze \nfinora inutilizzate sempre più alte che però implicano l’adozione di tecniche di modulazione", "sempre più complesse. Si verificano interferenze anche con apparecchiature utilizzate nella \nvita civile. Ciò implica che il tasso di errore nelle trasmissioni in una rete wireless è nettamen -\nte superiore rispetto a quello che caratterizza le reti cablate. Per questo motivo si prevede che \nle trame dati di lunghezza superiore a una data soglia, adattabile dinamicamente, debbano \nessere inviate sotto forma di una sequenza di frammenti consecutivi. In questo modo la per -", "dita di (piccole) trame a causa di errori di trasmissione consente di limitare la ritrasmissione \ndelle informazioni dell’utente. \n10.1.2 Protocollo di accesso\nLo standard IEEE 802.11 prevede due funzionalità per l’accesso al canale radio condiviso: \n• distributed coordination function  (DCF): procedura di accesso sempre disponibile \nnelle stazioni della rete, che definisce la modalità base di accesso al mezzo secondo il \nprotocollo di accesso CSMA/CA, che può dare luogo a collisioni;", "• point coordination function  (PCF): procedura aggiuntiva che può essere utilizzata \nopzionalmente da un access point, che coordina l’accesso al mezzo trasmissivo, evi -\ntando l’occorrenza di collisioni.\nIl protocollo CSMA/CA utilizzato per accedere al mezzo trasmissivo condiviso è descritto nel \nParagrafo 3.6.5. Ci si limita qui a ricordare la successione delle operazioni che danno luogo \nalla trasmissione di una trama:", "alla trasmissione di una trama:\n1. la stazione A che desidera trasmettere una trama, avendo verificato la disponibilità \ndel mezzo trasmissivo secondo un opportuno algoritmo, invia alla stazione di desti -\nnazione B una trama di richiesta di autorizzazione RTS ( request to send ), in cui viene \nspecificato l’intervallo di tempo ( network allocation vector , NAV) di occupazione \nprevista del canale;Ipotizzando una probabilità di errore p costante nella trasmissione del singolo bit, si vuole", "determinare la percentuale di trame di lunghezza massima equivalente a quella delle trame \nEthernet che vengono ritrasmesse per le due probabilità di errore p = 10-4, p = 10-6. \nIl trasferimento di una trama attraverso il mezzo trasmissivo avviene con successo se \ntutti i bit sono ricevuti correttamente e quindi la probabilità che una trama di L bit venga \nscartata per errore è data da P = 1 _ (1 _ p)L. Nel caso di una trama di lunghezza L = 1518", "byte, la probabilità di ritrasmissione è P = 0,703 con un alto tasso di errore p = 10-4, mentre \nP = 0,012 con un minore tasso di errore p = 10-6. Quindi, a seconda della qualità del canale \ntrasmissivo, il numero di trame da ritrasmettere varia dal 70% all’1%. Naturalmente, trame \npiù corte fanno diminuire drasticamente queste percentuali. Infatti per una trama con lun -\nghezza L = 64 byte la quantità di trame da ritrasmettere varia dal 5% a meno di una ogni", "mille per i due tassi di errore considerati.Esempio 10.1\nPattavinaReti2021.indb   459PattavinaReti2021.indb   459 14/01/2022   16:10:0414/01/2022   16:10:04460  Capitolo 10 – Reti wireless  e mobilità\n2. la stazione di destinazione B, ricevendo con successo la trama RTS, cio è senza l’oc -\ncorrenza di collisioni, invia alla stazione A una trama di accettazione CTS ( clear to \nsend ), in cui viene ripetuto l’intervallo di tempo NAV previsto per l’occupazione del \ncanale;", "canale; \n3. la stazione A, ricevendo con successo la trama CTS, cio è senza l’occorrenza di colli -\nsioni, procede all’invio della propria trama dati;\n4. la stazione B, ricevendo la trama dati senza errori, invia una trama ACK di riscontro \nalla stazione A.\nOccorre osservare che la trasmissione dell’informazione NAV nelle due trame RTS e CTS \nconsente di risolvere il problema della “stazione nascosta” nelle reti wireless (vedi Paragrafo \n3.6.5).", "3.6.5).\nLo standard IEEE 802.11 si basa sulla differenziazione dei tempi di ritardo per fornire \npriorità nell’accesso al mezzo trasmissivo rilevato libero. Vengono infatti definiti tre diffe -\nrenti intervalli minimi di tempo tra trasmissioni di trame consecutive, detti interframe space  \n(IFS)1: \n• short interframe space  (SIFS): è il tempo di attesa più breve dopo la rilevazione della \nfine della trasmissione di una trama, e quello usato prima di trasmettere trame ad alta", "priorità come quelle di autorizzazione alla trasmissione (CTS), di riscontro (ACK), di \nrisposta a interrogazioni da parte dall’AP, la prima trama dati autorizzata alla trasmis -\nsione, nonché i frammenti successivi di trame dati delle quali uno o più frammenti \nsono stati già trasmessi con successo;\n• PCF interframe space  (PIFS): è un intervallo di tempo intermedio ed è utilizzato per \ngarantire priorità di accesso al mezzo nella modalità PCF che evita a priori le contese,", "a differenza della DCF che utilizza invece il protocollo CSMA/CA soggetto a contese;\n• DCF interframe space  (DIFS): è l’intervallo di tempo più lungo ed è adottato dalle \nstazioni che operano in modalità DCF per trasmettere il primo frammento delle trame \ndati e trame di gestione.\nSi osserva che SIFS, l’intervallo di attesa più breve che precede la trasmissione di trame di \ncontrollo CTS, ACK e dei differenti frammenti di una trama dati, svolge il compito di evitare", "collisioni quando una stazione completa con successo la procedura di richiesta di autorizza -\nzione a trasmettere. \nLa Figura 10.2, che mostra come i tre intervalli siano calcolati a partire dalla fine dello \nstato di occupazione del canale, mette in evidenza come al più lungo dei tre ritardi (DIFS) \nsegua un intervallo di tempo, detto finestra di contesa , utilizzato dalle stazioni che operano \nin modalità DCF per conquistare l’accesso al canale secondo il protocollo CSMA/CA. Questo", "intervallo è definito come multiplo di un tempo base t , detto tempo di slot, e viene utilizzato \nper determinare il tempo di ritardo ( tempo di backoff ) per trasmettere da parte di una stazione \nche ha rilevato il mezzo trasmissivo occupato. Il valore di t dipende dallo specifico protocollo \ndi strato fisico utilizzato; comunque il suo ordine di grandezza è di 5-50 m s. \n1  Lo standard IEEE 802.11 definisce anche altri intervalli di ritardo ( arbitration interframe space , AIFS, ed", "extended interframe space , EIFS), utilizzati per svolgere funzioni relative al trasporto di unità informative con \ndifferenti livelli di qualità di servizio. \nPattavinaReti2021.indb   460PattavinaReti2021.indb   460 14/01/2022   16:10:0414/01/2022   16:10:0410.1 IEEE 802.11: le reti wireless LAN   461\nNella modalità DCF le reti locali wireless di tipo IEEE 802.11 adottano il protocollo CSMA/\nCA per prevenire le collisioni (vedi Paragrafo 3.6.5). Secondo questo protocollo l’asse dei", "tempi è diviso in cicli, ognuno dei quali ha inizio con un intervallo di durata fissa (SIFS, PIFS \no DIFS) la cui entità varia a seconda del tipo di accesso, cio è a contesa (SIFS o DIFS), oppure \ncon controllo centralizzato (PIFS). Se t indica il tempo di propagazione tra le due stazioni \npiù distanti nella rete, allora SIFS, PIFS, DIFS hanno durata minima data rispettivamente da \nt, 2t, 3t. \nNella modalità PCF , che può essere usata opzionalmente in alternativa alla modalità DCF,", "una stazione agisce da coordinatore ( point coordinator , PC) e controlla in modo centralizzato \nl’accesso al mezzo trasmissivo. Ciò avviene mediante una procedura di interrogazione simile \na quella attuata nel protocollo HDLC con modalità NRM in configurazione multipunto (vedi \nParagrafo 7.3.6). Ne consegue che nella modalità PCF non possono verificarsi collisioni a prio -\nri. La modalità PCF viene attivata da parte del PC, che risiede nell’AP in un BSS, inviando una", "trama speciale dopo un tempo PIFS dall’ultima occupazione del canale. Tra l’invio di trame di \ninterrogazione ( poll) da parte del PC e la risposta da parte della stazione intercorre un inter -\nvallo SIFS. Non possono dunque avere luogo trasmissioni di nuove trame con il protocollo \nCSMA/CA da parte delle stazioni del BSS, dato il maggiore intervallo di tempo (DIFS) che \ndevono attendere prima di iniziare la trasmissione. La modalità di accesso PCF viene chiusa", "dal PC inviando una trama speciale. \n10.1.3 Formato di trama\nNel protocollo IEEE 802.11 sono previsti tre tipi di trame: di gestione, di controllo e dati. Le \ntrame di gestione sono utilizzate per svolgere funzioni di autenticazione, di associazione della \nstazione con l’AP, di sincronizzazione. Le trame di controllo servono a coordinare il trasferi -\nmento di trame dati tra stazioni; tra queste rientrano le trame RTS, CTS, ACK già introdotte.", "Le trame dati, naturalmente, trasportano i dati dell’utente.\nIl formato della trama nel protocollo IEEE 802.11 è mostrato nella Figura 10.3; contiene \nquattro campi di indirizzo di 48 bit ognuno, la cui funzione viene spiegata nel seguito, e i \nseguenti campi:\n• frame control, FC  (2 byte):\n –protocol version  (2 bit): specifica la versione del protocollo (la versione corrente è \nla 0);\n –type (2 bit): distingue tra tipi di trama: di gestione (00), di controllo (01) e dati (10);", "–subtype  (4 bit): specifica ulteriormente il tipo di trama, per esempio trama di asso -\nciazione (gestione), trama RTS (controllo);tSIFSPIFSDIFS DIFS\nFinestra di\ncontes a SIFSPIFSDIFS\nFigura 10.2 T emporizzazioni nel protocollo CSMA/CA.\nPattavinaReti2021.indb   461PattavinaReti2021.indb   461 14/01/2022   16:10:0414/01/2022   16:10:04462  Capitolo 10 – Reti wireless  e mobilità\n –to DS  (1 bit): specifica, insieme al campo successivo, come interpretare i tre campi \ndi indirizzo;", "di indirizzo;\n –from DS  (1 bit): specifica, insieme al campo precedente, come interpretare i tre \ncampi di indirizzo;\n –more fragments  (1 bit): indica alla stazione di destinazione che deve attendere altri \nframmenti della stessa trama; \n –retry (1 bit): specifica se la trama è la ritrasmissione di una trama già inviata; \n –power management  (1 bit): indica lo stato attivo, oppure di risparmio di energia, \ndella stazione radiomobile;", "della stazione radiomobile;\n –more data  (1 bit): indica alla stazione in stato di risparmio di energia che altre \ntrame sono in attesa nell’AP indirizzate alla stessa stazione;\n –protected frame  (1 bit): indica che l’informazione della trama è stata modificata con \nun algoritmo crittografico;\n –+HTC/order  (1 bit): in una trama di gestione indica la presenza nella trama del \ncampo HT Control , mentre in una trama dati indica alla stazione ricevente che le", "trame devono essere elaborate nell’ordine di ricezione; \n• duration/ID  (2 byte): indica normalmente la durata di occupazione prevista del canale \n(NAV), espressa in microsecondi; nel caso di trame di controllo per interrogazio -\nne (poll), indica invece l’identificazione della stazione sorgente della trama che sta \nrispondendo a una interrogazione in modalità PCF;\n• sequence control  (0 oppure 2 byte): indica con i primi 4 bit il numero del frammento", "della trama in corso di trasmissione e con i successivi 12 bit il numero di sequenza (tra \n0 e 4095) della trama scambiata tra le due stazioni; naturalmente il numero di trama \nresta lo stesso nel caso di trama spezzata in più frammenti;\n• QoS control  (0 oppure 2 byte): definisce le operazioni da svolgere in relazione al livello \ndi qualità del servizio ( quality of service , QoS) atteso nel trasferimento di dati;", "• HT control  (0 oppure 4 byte): consente a due stazioni di scambiarsi informazioni sulla \nqualità dello scambio dati al fine di massimizzare il throughput entro una data qualità \ndel servizio;\n• information  (lunghezza variabile tra 0 e 2312 byte): contiene l’unità informativa del \nprotocollo di livello superiore;FCS\n66 4 Byte 22 variableInformation\n6 2Se\nCtrAddress\n4\n6Address\n3Address\n2Address\n1Du/\nIDF\nC\nBit 1 1 1 1 1 1 1 1 4 2 2Prot\nversTypeSub\ntypeTo\nDSFrom\nDSMore\nfragRetryPwr\nmngMore", "typeTo\nDSFrom\nDSMore\nfragRetryPwr\nmngMore\ndataProt\nfrm+HTC\nOrder2QS\nCtr\n4HT\nCtr\nFigura 10.3 Formato della trama nel protocollo IEEE 802.11.\nPattavinaReti2021.indb   462PattavinaReti2021.indb   462 14/01/2022   16:10:0514/01/2022   16:10:0510.1 IEEE 802.11: le reti wireless LAN   463\n• frame check sequence, FCS  (4 byte): contiene il codice di controllo della trama che \nconsente di rivelare errori di trasmissione, basato sullo stesso polinomio generatore", "usato per le trame Ethernet (vedi Paragrafo 9.1.3). \nI diversi significati dei quattro campi di indirizzo dipendono dalla configurazione della cop -\npia di bit to DS  e from DS  che specificano le apparecchiature sorgente e di destinazione della \ntrama trasmessa. In tutti i casi “indirizzo sorgente” e “indirizzo di destinazione” identificano \nl’indirizzo MAC a 48 bit della stazione che origina la trama e di quella destinataria ultima", "della trama stessa. Ogni stazione esamina il campo “indirizzo di destinazione” per verificare \nse una trama ricevuta è indirizzata a se stessa. Il campo “indirizzo sorgente” identifica anche \nil destinatario della trama di riscontro (ACK) utilizzata nel caso di corretta ricezione di una \ntrama informativa. \nLe quattro configurazioni, indicate come A, B, C e D, sono illustrate nella Tabella 10.1 e \ncorrispondono alle seguenti situazioni:", "corrispondono alle seguenti situazioni:\n• Caso A : il trasferimento della trama avviene all’interno di un BSS, il cui identificatore \n(address 3 ) è specificato nella trama, che reca naturalmente l’indirizzo MAC delle \nstazioni sorgente ( address 2 ) e di destinazione ( address 1 ) della trama. \n• Caso B : una trama, entrante dal sistema di distribuzione (DS) in un BSS, reca l’iden -\ntificatore dell’AP trasmittente ( address 2 ), l’indirizzo MAC di destinazione ( address", "1) all’interno del BSS, nonché l’indirizzo MAC ( address 3 ) dell’apparecchiatura che \nha generato la trama.\n• Caso C : una trama, uscente da un BSS verso il sistema di distribuzione, reca l’indiriz -\nzo MAC della stazione sorgente ( address 2 ), l’identificatore dell’AP ricevente nel BSS \n(address 1 ), nonché l’indirizzo MAC ( address 3 ) dell’apparecchiatura di destinazione \ndella trama.\n• Caso D : una trama viene trasferita tra stazioni di BSS differenti; ora, oltre agli indiriz -", "zi MAC delle stazioni sorgente ( address 4 ) e di destinazione ( address 3 ), sono presenti \nanche gli identificatori dell’AP trasmittente ( address 2 ) e dell’AP ricevente ( address 1 ). \nQuindi il campo address 1  indica sempre l’apparecchiatura che deve ricevere fisicamente la \ntrama, mentre il campo address 2  identifica sempre l’apparecchiatura che trasmette fisicamen -\nte la trama.\nTabella 10.1 Significato dei campi di indirizzo nella trama del protocollo IEEE 802.11.\nCaso To  \nDSFrom", "Caso To  \nDSFrom \nDSAddress 1 Address 2 Address 3 Address 4 Tipo di \ntrama\nA 0 0Indirizzo di \ndestinazioneIndirizzo \nsorgenteIdentificatore \ndi BSS-All’interno del \nBSS\nB 0 1Indirizzo di \ndestinazioneAP \ntrasmittenteIndirizzo \nsorgente-Entrante nel \nBSS\nC 1 0 AP riceventeIndirizzo \nsorgenteIndirizzo di \ndestinazione-Uscente dal \nBSS\nD 1 1 AP riceventeAP \ntrasmittenteIndirizzo di \ndestinazioneIndirizzo \nsorgenteDa BSS a \nBSS", "destinazioneIndirizzo \nsorgenteDa BSS a \nBSS\nPattavinaReti2021.indb   463PattavinaReti2021.indb   463 14/01/2022   16:10:0514/01/2022   16:10:05464  Capitolo 10 – Reti wireless  e mobilità\n10.1.4 Strato fisico\nLe funzioni svolte dallo strato fisico nelle reti wireless sono molto complesse in quanto si \nrichiede l’impiego di tecniche di modulazione e di codifica capaci di contrastare la degrada -\nzione del segnale durante l’attraversamento dei canali radio. Il problema diventa ancora più", "complesso se consideriamo che lo spettro disponibile per queste comunicazioni è sempre limi -\ntato, a differenza di quello disponibile per esempio in una fibra ottica. Risulta quindi evidente \nche il progredire delle tecnologie da una parte e la continua richiesta di capacità sempre più \ngrandi nei canali radio dall’altra, rendano la complessità dello strato fisico preponderante su \nquella degli altri strati in una rete wireless.", "quella degli altri strati in una rete wireless. \nNell’ambito dello strato fisico viene definita un’ulteriore unità informativa che trasporta \nla trama del protocollo IEEE 802.11 e vi aggiunge due nuovi campi di controllo (vedi Figu -\nra 10.4); questi sono utilizzati per attuare tutte le procedure necessarie per l’interazione tra \ndue apparati radio, i quali selezionano in modo ottimale tutti i parametri fisici richiesti dalla \ncomunicazione sulla base dello stato del canale radio:", "• PHY preamble , che realizza la funzione di sincronizzazione in ricezione e segnala \nl’inizio della trama;\n• PHY header , che specifica i parametri utilizzati nella trasmissione, come per esempio \nla frequenza in trasmissione, la lunghezza del payload trasportato, e fornisce anche \nfunzionalità di controllo degli errori. \nSi noti che l’header qui definito svolge funzioni specifiche e addizionali rispetto a quelle svol -", "te a livello MAC. Le funzionalità di sincronizzazione e di segnalazione di inizio trama, qui \ndefinite nel preambolo, erano però già presenti in altri standard, anche se definite all’interno \ndello strato MAC (come per esempio per le reti Ethernet).\nNell’ambito dello strato fisico si specificano le caratteristiche del mezzo trasmissivo e le \nmodalità della sua utilizzazione. Le bande di frequenze inizialmente impiegate dal protocollo", "IEEE 802.11 sono all’interno delle frequenze ISM, e sono specificamente le due bande 2,4 \nGHz e 5,8 GHz. Nel corso degli anni si sono succeduti diversi standard per la realizzazio -\nne dello strato fisico, tutti definiti dallo IEEE nell’ambito del progetto IEEE 802: 802.11b, \n802.11a, 802.11g, 802.11n, 802.1ac, 802.11ax (Figura 10.5). Parallelamente allo sviluppo di \nquesti standard è stato autorizzato l’ampliamento della banda nell’intorno di 5,8 GHz dagli", "iniziali 150 MHz fino a occupare 700 MHz della banda 5-6 GHz. \nLo standard IEEE 802.11b  [802.11], il primo a essere accettato e commercializzato, si \nbasa sulla modulazione DSSS2 (direct sequence spread spectrum ) nella banda ISM di 2,4 \n2  Le soluzioni inizialmente adottate per le reti wireless sono state tre, e cio è frequency hopping spread spectrum  \n(FHSS), direct sequence spread spectrum (DSSS) e infrared . Lo standard IEEE 802.11 rappresenta l’evoluzione", "della tecnica DSSS.MACpayload FCSMAC\nheader\nPHYpayloadPHY\nheaderPHY\npreamble\nFigura 10.4 Relazione tra unità informative nel protocollo IEEE 802.11.\nPattavinaReti2021.indb   464PattavinaReti2021.indb   464 14/01/2022   16:10:0514/01/2022   16:10:0510.1 IEEE 802.11: le reti wireless LAN   465\nGHz. Sono definite quattro capacità per il flusso numerico che viene trasferito: 1, 2, 5,5 e 11 \nMbit/s. Il valore effettivamente utilizzato viene adattato dinamicamente alla qualità del canale", "rilevata. Vengono utilizzate modulazioni BPSK ( binary phase shift keying ) e QPSK ( quadra -\nture phase shift keying ) per le capacità minori, CCK ( complementary code keying ) per quelle \npiù elevate su canali radio di ampiezza 20 MHz. L ’adozione di diverse tecniche trasmissive \nrichiede che l’header di livello fisico consenta di commutare dinamicamente da una all’altra e \ndi adattarle alle caratteristiche del canale trasmissivo. A titolo di esempio, il protocollo IEEE", "802.11b adotta un preambolo di due differenti lunghezze: 144 bit con modulazione DSSS e 72 \nbit con modulazione CCK, così da fornire una maggiore efficienza in trasmissione in quest’ul -\ntimo caso. Il campo PHY header  contiene in ogni caso 6 byte.\nLo standard IEEE 802.11a  [802.11] utilizza una diversa banda ISM, intorno ai 5 GHz, e \nsi basa su una trasmissione multiportante denominata OFDM ( orthogonal frequency division", "multiplexing ) su canali radio di ampiezza 20 MHz con una codifica a correzione di errore \n(forward error correction , FEC). Consente la trasmissione di flussi numerici fino a 54 Mbit/s, \nanche se sono previsti diversi valori per la capacità del canale a partire da 6 Mbit/s. Utilizza \nuna modulazione PSK ( phase shift keying ) per velocità fino a 18 Mbit/s, QAM ( quadrature \namplitude modulation ) per velocità superiori. L ’uso della banda di 5 GHz comporta un raggio", "di copertura di ogni apparecchiatura radio minore rispetto allo standard 802.11b, che utilizza \nla banda di 2,4 GHz.\nLo standard IEEE 802.11g  [802.11] utilizza ancora una trasmissione OFDM, ma questa \nvolta nella banda ISM di 2,4 GHz, così da essere compatibile con apparecchiature realizzate \nsecondo lo standard 802.11b, operando naturalmente alla velocità prevista da queste ultime. \nUtilizza modulazioni di tipo PSK (BPSK, QPSK) e QAM (16QAM, 64QAM). Anche questo", "standard utilizza canali radio di 20 MHz e consente di raggiungere capacità fino a 54 Mbit/s.\nIl successivo standard IEEE 802.11n [802.11], sempre con trasmissione OFDM, ha intro -\ndotto l’adozione delle tecniche MIMO ( multiple-input multiple-output ), che prevedono l’uso \ndi più antenne per trasmettere più flussi in parallelo (fino a quattro) in direzione downlink (da \nAP a terminale mobile) e un raddoppio della banda per canale radio (da 20 MHz a 40 MHz),", "aumentando così la capacità sia in trasmissione che in ricezione. Adotta le stesse modulazioni \ndello standard 802.11g. Il suo uso è previsto in entrambe le bande ISM di 2,4 GHz e 5 GHz e \nconsente di raggiungere capacità di 600 Mbit/s. \nLo standard IEEE 802.11ac [802.11], utilizzato nella sola banda ISM di 5 GHz, adotta \ncanali radio di maggiore ampiezza (fino a 80 MHz e 160 MHz) e un maggior numero di flussi", "downlink in parallelo (fino a otto). La capacità teorica della rete raggiunge valori di diversi \nGbit/s, anche se nelle applicazioni reali si conseguono flussi di centinaia di Mbit/s. Rispetto al \nprecedente standard 802.11n è stato ottimizzato il formato delle unità informative e si prevede 802.11b802.11PHY\n802.11a 802.11g 802.11n 802.11ax 802.11ac\nFigura 10.5 Realizzazione dello strato fisico nel protocollo IEEE 802.11.", "PattavinaReti2021.indb   465PattavinaReti2021.indb   465 14/01/2022   16:10:0514/01/2022   16:10:05466  Capitolo 10 – Reti wireless  e mobilità\nl’adozione di tecniche di codifica e di trasmissione più sofisticate, inclusa la modulazione \n256QAM.\nA differenza del precedente standard IEEE 802.11ac, nelle reti Wi-Fi IEEE 802.11ax sono \nutilizzate entrambe le bande ISM 2,4 GHz e 5 GHz [802.11ax]. In futuro sarà anche utilizzata", "una banda non licenziata nell’intorno dei 6 GHz, con una ampiezza massima di 1200 MHz. La \ntecnica di invio di più flussi paralleli, grazie alla disponibilità di più antenne, viene adottata \nanche nel canale uplink (da terminale mobile a AP) e si adottano tecniche di modulazione \npiù complesse, quali la modulazione 1024QAM. Queste soluzioni tecnologiche consentono di \nottenere capacità effettive maggiori rispetto allo standard IEEE 802.11ac.\n10.2 IEEE 802.15: le reti wireless PAN", "10.2 IEEE 802.15: le reti wireless PAN\nLe reti di tipo wireless personal area network  (PAN) svolgono la funzione di consentire la \ncomunicazione tra dispositivi molto vicini tra loro, tipicamente nel raggio di 10/100 centimetri \nutilizzando canali radio come mezzo di comunicazione. Gli ambiti di applicazione di queste \nreti sono moltissimi; basti pensare all’ambiente domestico per il controllo remoto di disposi -", "tivi motorizzati, di apparecchi elettronici, di impianti di illuminazione, oppure all’ambiente \nindustriale per la comunicazione tra dispositivi/apparecchiature di qualunque dimensione o \ncomplessità (dal robot industriale al sensore miniaturizzato). Senza naturalmente dimenticare \nl’ambito dell’individuo che oggigiorno può indossare moltissimi dispositivi (orologio, brac -\ncialetti, cuffie, rilevatore di pressione o di battito cardiaco, ecc.) che possono mutuamente", "comunicare scambiandosi informazioni periodicamente (per esempio per l’invio di un dato di \ntemperatura) o in modo continuo (per esempio per l’ascolto di un canale musicale).\nLa tecnologia più diffusa per lo sviluppo e la realizzazione di reti wirelss PAN è oggi \nconosciuta come Bluetooth, dal nome del re di Danimarca Harald Blatand, “Bluetooth” vissuto \nnel secolo X. Soluzioni basate su Bluetooth rendono possibile il trasferimento di dati e audio", "di alta qualità tra dispositivi vicini con tecnologie particolarmente economiche. La prima \nspecifica dello standard Bluetooth (Bluetooth 1.1 [802.15.1]), datata 2002 e denominata basic \nrate (BR), ha definito solo trasmissioni a 1 Mbit/s, mentre la successiva specifica (Bluetooth \n2.0) del 2004, indicata come extended data rate  (EDR), ha previsto trasmissioni anche a 2 \nMbit/s e 3 Mbit/s. Il cambiamento più significativo nello standard Bluetooth è avvenuto con", "la definizione nel 2010 dello standard Bluetooth low energy (LE), detto anche Bluetooth smart  \n(Bluetooth 4.0). Successive evoluzioni dello standard Bluetooth sono state definite nel 2016 \n(Bluetooth 5.0) e nel 2019 (Bluetooth 5.1). Tutte le specifiche degli standard Bluetooth a partire \nda Bluetooth 2.0 sono reperibili in rete [Bluetooth].\n10.2.1 Topologia di rete Bluetooth\nLa struttura base di rete Bluetooth prende il nome di piconet  e comprende un numero massimo", "di otto dispositivi “attivi”; uno di questi agisce da master , mentre gli altri prendono il nome \ndi slave . Lo scambio di unità informative (UI) avviene esclusivamente tra master e slave, non \npotendo due dispositivi slave comunicare direttamente. Una piconet può comunque compren -\ndere fino a 255 dispositivi slave, dei quali tuttavia non più di sette possono essere “attivi” ( acti-\nve), mentre gli altri sono “a riposo” ( parked ). Il dispositivo master dispone dinamicamente lo", "stato attivo o a riposo dei singoli dispositivi, in funzione della necessità di invio o ricezione \nPattavinaReti2021.indb   466PattavinaReti2021.indb   466 14/01/2022   16:10:0514/01/2022   16:10:0510.2 IEEE 802.15: le reti wireless PAN  467\ndi UI verso/dal singolo dispositivo. Un risparmio di energia nello stato attivo viene ottenuto \ndefinendo per un dispositivo anche lo stato “intermittente” ( sniff), in cui il dispositivo si attiva", "per l’ascolto del canale solo in predeterminati slot, cio è a intervalli regolari predeterminati. A \nogni dispositivo viene associato un indirizzo, così da identificare la connessione logica lungo \nla quale viene trasferita l’unità informativa.\nLe singole reti piconet possono anche essere mutuamente connesse in una topologia deno -\nminata scatternet , a condizione che alcuni dispositivi siano in grado di comunicare contempo -", "raneamente in più di una piconet. La Figura 10.6 mostra un esempio di 3 piconet che formano \nuna scatternet, grazie alla presenza di due dispositivi slave che sono in grado di comunicare con \ndue diversi master. In tutte le tre piconet sono presenti dispositivi slave sia attivi, sia a riposo. \n10.2.2 Architettura di un dispositivo Bluetooth\nL ’architettura protocollare di un dispositivo che comunica con protocollo Bluetooth, mostrata", "in Figura 10.7, è molto diversa dalla pila protocollare TCP/IP, dovendo rispondere al principio \ndi definire un’architettura di comunicazione particolarmente semplice. Nella parte hardware/\nfirmware esistono tre moduli principali che definiscono il blocco Bluetooth controller : \n• radio Tx/Rx , responsabile della generazione e ricezione dei segnali a radiofrequenza \nche trasportano le unità informative;", "che trasportano le unità informative;\n• link controller , responsabile della codifica/decodifica delle unità informative trasferite \nsul canale radio;\n• link manager , responsabile di creazione, modifica e rilascio della connessioni logiche \ne dell’aggiornamento dei parametri del collegamento fisico tra dispositivi Bluetooth; il \nprotocollo che trasporta i relativi messaggi di controllo prende il nome di link mana -\nger protocol ( LMP).", "ger protocol ( LMP). \nL ’interlavoro tra i moduli Bluetooth host  e Bluetooth controller  (host controller interface ) \nviene definito in modo da fornire un’interfaccia uniforme del controller verso le applicazioni, \ncosì da rendere agevole l’accesso all’hardware Bluetooth. Tra host e controller sono scambia -\nte due diverse tipologie di flussi dati: flussi asincroni  con struttura di trama ( asynchronous", "and framed traffic ), adottati per il trasferimento di segnalazione e dati tra dispositivi, e flussi \nmast er\nactive slav e\nparked slave\nFigura 10.6 Esempio di piconet e scatternet.\nPattavinaReti2021.indb   467PattavinaReti2021.indb   467 14/01/2022   16:10:0614/01/2022   16:10:06468  Capitolo 10 – Reti wireless  e mobilità\nsincroni  privi di struttura di trama ( synchronous unframed traffic ), utilizzati per il trasporto", "di segnali audio. Nel primo caso le UI possono essere scambiate in assenza o in presenza \ndell’instaurazione di connessione logica tra dispositivi, mentre la connessione logica è sempre \nnecessaria per inizializzare lo scambio di flussi informativi nel secondo caso. \nIl blocco Bluetooth  host, tipicamente implementato in software, comprende, in aggiunta \nai moduli applicativi e agli altri moduli associati per la definizione dei servizi end-to-end, il", "modulo logical link control and adaptation protocol ( L2CAP). Esso consente l’interoperabilità \ntra dispositivi Bluetooth e realizza le funzioni di multiplazione, segmentazione e riassemblag -\ngio delle UI, la negoziazione e il controllo della qualità del servizio della comunicazione tra \ndispositivi. La funzione di frammentazione si rende necessaria in quanto si assume, nell’ottica \ndi ridurre al massimo il costo dell’hardware, che il controller sia dotato di una limitata capa -", "cità di memorizzazione di dati rispetto all’host. Risulta importante osservare come il modulo \nL2CAP sia interessato solo dal flusso asincrono di unità informative (informazioni di con -\ntrollo dell’interazione tra dispositivi e trasferimenti di dati tra host). Infatti i flussi di traffico \nsincroni, che caratterizzano i servizi forniti in tempo reale (per esempio i servizi audio) non \nnecessitano delle funzioni svolte dal modulo L2CAP.\n10.2.3 Operazioni di un dispositivo Bluetooth", "10.2.3 Operazioni di un dispositivo Bluetooth\nBluetooth utilizza la banda 2402-2480 MHz, cio è una delle bande ISM ad accesso non rego -\nlamentato e quindi soggetta a potenziali interferenze con altri servizi che operano nella stessa \nbanda; si consideri che le reti Wi-Fi che operano secondo i protocolli IEEE 802.11b/g/n/ax \nutilizzano la stessa banda ISM di 2,4 GHz. Nello standard Bluetooth vengono definiti 79", "canali radio di ampiezza 1 MHz utilizzati nella stessa piconet sotto il controllo del dispositivo \nmaster, e la trasmissione di unità informative avviene mediante la tecnica del “frequency hop -\nping” con frequenza fh = 1600 s-1, cioè cambiando canale 1600 volte al secondo. Ciò implica \nche il tempo di trasmissione (slot) di un’UI non può eccedere 1/1600 = 625 m s. La sequenza \ndi frequenze utilizzate nella piconet viene scelta e modificata dinamicamente dal dispositivo", "master, cosi da minimizzare l’interferenza con segnali emessi da altri dispositivi/apparec -\nchiature, per esempio apparecchiature Wi-Fi. La modulazione utilizzata secondo la specifica \niniziale Bluetooth BR è di tipo GFSK ( Gaussian frequency shift keying ).Bluetooth\nhost\nBluetooth\ncontrollerSynchron ous\nunfram edtraffic\nRadioTx/RxLinkcontrollerL2CAP\nLinkmanage rAsyn chronous and\nfram edtrafficApplications\nOthe rmodules\nHostcontrollerinterface\nFigura 10.7 Pila protocollare di Bluetooth.", "Figura 10.7 Pila protocollare di Bluetooth.\nPattavinaReti2021.indb   468PattavinaReti2021.indb   468 14/01/2022   16:10:0614/01/2022   16:10:0610.2 IEEE 802.15: le reti wireless PAN  469\nLa costituzione di una piconet è un processo dinamico che dipende dai dispositivi Blueto -\noth che possono attivarsi o disattivarsi nell’area. La scoperta da parte di un dispositivo master \ndi un nuovo dispositivo Bluetooth disponibile a comunicare avviene con l’invio periodico di", "un messaggio di “ricerca”, che reca un codice di accesso noto a tutti i dispositivi Bluetooth, su \nuna sequenza predeterminata di canali radio. Un dispositivo in ascolto che riceve il messaggio \ninvia una risposta, diventa attivo con il ruolo di slave nella piconet e riceve un indirizzo. La \nsequenza delle frequenze da utilizzare per lo scambio di UI viene comunicata dal master a \ntutti gli slave nella stessa piconet. Un dispositivo slave che appartenga a due piconet riceverà", "dai due dispositivi master le rispettive sequenze di frequenze da utilizzare. \nLa comunicazione tra dispositivo master e dispositivo slave attivo avviene mediante una \nprocedura di interrogazione e risposta. Il dispositivo master invia periodicamente interroga -\nzioni sulla presenza nella stessa piconet di dispositivi slave che hanno necessità di comunicare. \nLa risposta del dispositivo slave a un’interrogazione, che può includere dati dell’utente, viene", "sempre trasmessa nello slot immediatamente successivo a quello utilizzato per l’interrogazio -\nne. Lo scambio di dati applicativi può anche aver luogo in modalità “connection oriented”, cio è \ndopo che una connessione logica è stata instaurata da parte del dispositivo master verso un \ndispositivo slave di cui si specifica l’indirizzo, sempre mediante procedura di interrogazione \ne risposta.\nLa trasmissione di unità informative da parte di un dispositivo può avvenire occupando un", "solo slot, oppure tre o cinque slot consecutivi. Naturalmente, nel caso di UI multislot il canale \ninizialmente occupato viene mantenuto per l’intera durata della trasmissione, senza alterare la \nsequenza dei canali che saranno utilizzati dopo la trasmissione dell’UI. La Figura 10.8 riporta \nun esempio di scambio di UI tra un dispositivo master e uno slave in cui entrambi i dispositivi \ninviano UI di diversa lunghezza, che quindi occupano uno, tre o cinque slot. Si osservi come", "il canale utilizzato all’inizio della trasmissione rimanga costante per tutta la durata della tra -\nsmissione nel caso di occupazione di più slot. \nL ’unità informativa inizialmente definita nello standard Bluetooth è rappresentata in Figu -\nra 10.9. Essa definisce i seguenti campi: \n• access code : identifica uno specifico dispositivo Bluetooth, oppure indica un messag -\ngio di interrogazione/ricerca;", "gio di interrogazione/ricerca;\n• header : reca l’identificatore del dispositivo ricevente cui l’unità informativa è indiriz -\nzata, specificando quindi il canale logico di trasporto utilizzato;\n• payload : trasporta i messaggi del protocollo LMP, le trame L2CAP o altri dati di \nutente. \nSlotMast er\nTx\nSlave\nTxFreque ncy\nkfk\nk+1fk+1\nk+2 k+3 k+4fk+2\nk+5 k+6 k+7 k+8fk+7\nk+9 k+10 k+11fk+10\nk+12k+13fk+13\nFigura 10.8 Esempio di scambio di UI tra dispositivi Bluetooth.", "PattavinaReti2021.indb   469PattavinaReti2021.indb   469 14/01/2022   16:10:0614/01/2022   16:10:06470  Capitolo 10 – Reti wireless  e mobilità\nSono stati previsti tre livelli di potenza in trasmissione per i dispositivi Bluetooth, in funzione \ndella distanza tra dispositivi che devono comunicare:\n• Classe 1: potenza emessa tra 1 mW e 100 mW, che consente di coprire distanze tra \ndispositivi fino a 100 m;\n• Classe 2: potenza emessa tra 0,25 mW e 2,5 mW, che permette la comunicazione tra", "dispositivi distanti fino a 10 m;\n• Classe 3: potenza emessa fino a 1 mW, che consente l’interazione tra dispositivi \ndistanti fino a 1 m.\nLa scelta della potenza da utilizzare in un dispositivo dipende quindi dall’applicazione e dal \ncontesto di rete nel quale il dispositivo Bluetooth è destinato a operare.\n10.2.4 Standard Bluetooth\nLo standard iniziale basic rate  (BR) di Bluetooth consente il trasferimento di flussi con capa -", "cità fino a 433,9 kbit/s per collegamenti simmetrici. In collegamenti asimmetrici, utilizzando \nUI che occupano 5 slot si possono conseguire capacità di 723,2 kbit/s in una direzione e di \n57,6 kbit/s nella direzione opposta. \nLa successiva specifica di Bluetooth, denominata extended data rate (EDR), ha consentito \ndi incrementare il throughput realizzabile fino a 2,1 Mbit/s. Questo risultato viene conseguito \nutilizzando un diverso formato di UI e una diversa modulazione sul canale radio.", "Il nuovo formato dell’unità informativa mostrato nella Figura 10.10a prevede due sezioni \nseparate da un tempo di guardia. La prima sezione, che include i campi access code e header , \ncoincide con quella dell’UI di Bluetooth BR e viene ancora trasmessa con modulazione GFSK. \nDato che la seconda parte dell’UI verrà trasmessa con una diversa modulazione, cio è di tipo \nDPSK ( differential phase shift keying ), si prevede un tempo di guardia ( guard ) seguito da una", "stringa di sincronizzazione ( synch ) per consentire ai due dispositivi di sincronizzarsi mutua -\nmente. Il campo aggiuntivo payload header  che precede il payload  viene utilizzato nel caso di \nuna molteplicità di canali logici definiti sullo stesso canale di trasporto tra dispositivi, mentre \nil campo trailer  consente di identificare esplicitamente l’ultimo bit del payload. \nIl nuovo standard Bluetooth low energy (LE), detto anche Bluetooth smart , nasce con", "l’esplicito obiettivo di minimizzare l’energia richiesta per la comunicazione tra dispositi -\nvi limitrofi; ciò consente di realizzare dispositivi di dimensioni molto piccole che possono \noperare continuativamente, anche per anni, senza richiedere la sostituzione della batteria. \nL ’applicazione tipica di questa tecnologia è il solo trasferimento dati, per esempio nel campo \ndella sensoristica. \nBluetooth LE utilizza la stessa banda ISM di Bluetooth BR/EDR, e lo stesso meccanismo", "di “frequency hopping”, anche se definisce una diversa struttura dei canali radio. Ne vengono PayloadAcce ss\ncodeHeader\n68-725 40 -274 5 Bit\nFigura 10.9 Unità informativa definita nello standard Bluetooth BR.\nPattavinaReti2021.indb   470PattavinaReti2021.indb   470 14/01/2022   16:10:0714/01/2022   16:10:0710.2 IEEE 802.15: le reti wireless PAN  471\ninfatti definiti 40, ognuno di ampiezza 2 MHz, dei quali tre sono dedicati a operazioni di", "segnalazione tra dispositivi. La modulazione utilizzata è solo GFSK. \nLa necessità di introdurre semplicità nella soluzione Bluetooth LE ha suggerito di optare \nper una topologia di rete esclusivamente a stella, analoga alla piconet, eliminando la defini -\nzione di reti interconnesse (scatternet). A differenza delle versioni BR/EDR, ora una piconet \ninclude solamente due dispositivi attivi, cio è un master e uno slave, che condividono uno", "stesso pattern di sequenza di slot determinato dalla stazione master. Quindi un dispositivo che \nagisca da master rispetto a due diversi dispositivi slave definisce due diverse reti piconet con \ndiverse sequenze di canali per attuare la tecnica del “frequency hopping”. Il numero di dispo -\nsitivi slave attivi che possono essere contemporaneamente collegati a un dispositivo master \ndipende dall’applicazione e non è più limitato a sette.", "Al fine di minimizzare il consumo di energia, Bluetooth LE prevede che un dispositivo \npossa inviare autonomamente i propri dati dell’utente senza necessità di essere interrogato. \nPiù specificamente, un dispositivo che desideri inviare una unità informativa, indicato come \nadvertiser , utilizza a questo scopo uno dei tre canali di segnalazione. Ogni altro dispositivo \nche riceve l’UI, indicato come scanner , può richiedere sullo stesso canale ulteriori informazio -", "ni al dispositivo advertiser che può così rispondere, sempre sullo stesso canale. \nNaturalmente ciò non impedisce che una connessione logica tra dispositivi possa essere \ninstaurata per uno scambio di informazioni più prolungato. Un dispositivo indicato come ini -\ntiator  che desideri instaurare una connessione logica con un dispositivo advertiser utilizza lo \nstesso canale di segnalazione per richiedere la connessione logica tra dispositivi. I dispositivi", "initiator e advertiser assumono dunque rispettivamente il ruolo di dispositivi master e slave. \nAl fine di minimizzare ulteriormente il consumo di energia di un dispositivo è anche \npossibile selezionare una lista di dispositivi advertiser, scanner o initiator da cui ricevere UI, \nindipendentemente dalla necessità o meno di fornire una risposta. Questa lista viene gestita \nnel blocco host controller . \nIl formato dell’unità informativa di Bluetooth LE, riportato in Figura 10.10b, comprende i", "seguenti campi:\n• preamble : consente la sincronizzazione tra trasmettitore e ricevitore;\n• access code : identifica uno specifico dispositivo Bluetooth, oppure indica un messag -\ngio di interrogazione/ricerca;\n• payload header : reca l’identificatore del dispositivo ricevente al quale è indirizzata l’u -\nnità informativa, specificando quindi il canale logico di trasporto utilizzato, e anche PayloadAcce ss\ncodeHeader\n72 54 0-8168 BitGuard Sync\n30Payload\nheader\n16Trailer\n6GFSK DPSK", "30Payload\nheader\n16Trailer\n6GFSK DPSK\nPayload PreambleAccess\ncode\n83 20 -296 BitPayload\nheader\n16CRC\n24(a)\n(b)\nFigura 10.10 Unità informativa definita nello standard Bluetooth EDR (a) e Bluetooth LE (b).\nPattavinaReti2021.indb   471PattavinaReti2021.indb   471 14/01/2022   16:10:0714/01/2022   16:10:07472  Capitolo 10 – Reti wireless  e mobilità\nl’identificatore del canale logico in caso di più canali logici utilizzati nello stesso \ndispositivo;", "dispositivo;\n• payload : trasporta le trame L2CAP o altri dati di utente e può contenere fino a 37 byte;\n• cyclic redundance check, CRC : reca un codice di controllo per la verifica di integrità \ndel payload dell’unità informativa.\nSi noti la capacità del payload di soli 296 bit, di molto inferiore a quella delle precedenti \nspecifiche Bluetooth, anche se la capacità di trasmissione è di 1 Mbit/s, uguale a quella di", "Bluetooth BR. Ciò risponde all’esigenza di sviluppare una tecnologia per il trasporto di piccole \nunità informative a basso consumo energetico, anche se ciò risulta in un throughput massi -\nmo di circa 0,3 Mbit/s, tenendo conto degli intervalli temporali che separano trasmissioni \nconsecutive.\nLe successive specifiche Bluetooth 5.0 e 5.1 hanno previsto la trasmissione di unità infor -\nmative a 2 Mbit/s, raddoppiando così la capacità di trasferimento dati rispetto al precedente", "standard Bluetooth 4.0. Viene prevista anche la possibilità per i dispositivi advertiser di inviare \nle proprie UI periodicamente a intervalli predefiniti, consentendo così un risparmio energetico \nnei dispositivi scanner che possono quindi attivarsi solo in corrispondenza della ricezione di \nqueste UI. Il formato dell’UI viene modificato così da avere un payload che può trasportare \nfino a 255 byte, che consente di conseguire un throughput massimo di 1,4 Mbit/s.\n10.3 Mobilità IP", "10.3 Mobilità IP\nLa mobilità dei sistemi terminali, siano essi computer portatili o smartphone, ha assunto un \nruolo fondamentale nella società attuale dove i servizi di rete devono essere sempre dispo -\nnibili, anche se le apparecchiature che li rendono disponibili sono in movimento. A rendere \nla problematica intrigante dal punto di vista tecnico è la considerazione che la mobilità deve \nessere intesa nella forma più generale possibile. Si vogliono cio è comprendere gli spostamenti", "limitati dell’apparecchiatura terminale all’interno di una stanza, di un edificio o in un’area \ncircoscritta all’aperto, fino all’altro estremo di mobilità a bordo di un treno o di un’automobile \nche viaggia anche a centinaia di km/h.\nLe soluzioni tecniche che garantiscono la continuità dei servizi di rete è chiaramente \ndipendente dal tipo di mobilità. Nel caso di spostamenti in aree limitate può essere sufficiente", "l’utilizzazione dei protocolli che supportano la mobilità, quali le reti Wi-Fi che non richiedono \nfunzionalità aggiuntive per garantire la continuità della connessione. Se invece la mobilità \ndell’apparecchiatura terminale riguarda l’attraversamento di aree servite da diversi sistemi di \naccesso alla rete, la soluzione tecnica deve necessariamente rispondere alla necessità di garan -\ntire un sistema di indirizzamento a livello di rete che cambia man mano che l’apparecchiatura", "si muove. Ricordiamo infatti che la connettività tra sistemi terminali richiede di associare a \nessi un insieme di indirizzi (indirizzo IP e numero di porta TCP/UDP) riferiti alla rete che \nfornisce il servizio e ai terminali mobili che interagiscono.\nPattavinaReti2021.indb   472PattavinaReti2021.indb   472 14/01/2022   16:10:0714/01/2022   16:10:0710.3 Mobilità IP  473\n10.3.1 Indirizzamento\nFacciamo qui riferimento per semplicità alla gestione della mobilità di un’apparecchiatura", "radiomobile che riceve connettività di rete utilizzando il protocollo di accesso IEEE 802.11. Il \nterminale mobile, una volta attivato, riceve servizio dalla rete di accesso nella quale si trova \nposizionato sulla base di un accordo con l’ISP locale, attraverso un indirizzo IP permanente, \noppure un indirizzo IP temporaneo (assegnato per esempio mediante il protocollo DHCP, \nvedi Paragrafo 6.6.2). Questa rete viene denominata home network  (rete domestica), mentre la", "rete dove si troverà successivamente il terminale mobile viene indicata come foreign network  \n(rete visitata). Si osserva che il problema di garantire la continuità del servizio di rete si pone \nogniqualvolta il prefisso di rete della home network differisce dal prefisso di rete della foreign \nnetwork, anche se le due reti sono rese disponibili dallo stesso ISP.\nIl modello base qui utilizzato per descrivere la gestione della mobilità [RFC5944] definisce \nle seguenti entità:", "le seguenti entità:\n• mobile host  (MH): host mobile che ha ottenuto una registrazione per accesso alla rete \nnella propria home network;\n• correspondent host  (CH): “host corrispondente” di un’altra rete con cui il mobile host \ndesidera comunicare;\n• home agent  (HA): processo, generalmente residente in un router, che gestisce la mobi -\nlità di un mobile host registrato presso la propria home network che si reca in una \nforeign network;", "foreign network;\n• foreign agent  (FA): processo, generalmente residente in un router, che gestisce la \nmobilità di un mobile host presente nella foreign network visitata.\nI processi HA e FA, anche se definiti come residenti nei router, sono programmi applicativi \nche utilizzano il servizio di trasporto fornito dal protocollo UDP.\nGarantire la continuità dei servizi di rete di un host mobile che si sposta da una rete a un’al -", "tra richiede l’intervento congiunto dell’home agent nella rete domestica e del foreign agent \nnella rete visitata. La procedura si articola in due fasi: agent discovery  e MH registration . \nNella prima fase l’host mobile, che è dotato di un indirizzo IP permanente ( home address ), \nviene a conoscenza della disponibilità nella propria rete domestica di un home agent, acqui -\nsendone l’indirizzo IP. Una volta giunto nella rete visitata, l’host mobile acquisisce l’indirizzo", "IP del foreign agent e da questi un nuovo indirizzo IP denominato care-of address  (COA) nella \nrete visitata; home address e care-of address vengono associati l’uno all’altro nella seconda \nfase in modo che l’host mobile possa inviare e ricevere datagrammi nella rete visitata come se \nsi trovasse nella propria rete domestica. \nL ’indirizzo IP COA rappresenta il punto terminale di un “tunnel” tra HA e FA utilizzato", "per inoltrare i datagrammi inviati al MH che vengono ricevuti nella rete domestica. L ’indi -\nrizzo COA fornito dal foreign agent può essere associato a una pluralità di host mobili. Nel \ncaso in cui la rete visitata non disponga di servizi forniti dal foreign agent, sarà lo stesso host \nmobile ad agire da FA, disponendo dell’applicazione relativa. In questo caso l’indirizzo IP \ntemporaneo nella rete visitata sarà recuperato dall’insieme di indirizzi disponibili nella rete,", "per esempio tramite protocollo DHCP, e sarà denominato co-located care-of address . In que -\nsto caso, lo stesso host mobile diventa il punto terminale del tunnel che ha origine nell’home \nagent. \nPattavinaReti2021.indb   473PattavinaReti2021.indb   473 14/01/2022   16:10:0714/01/2022   16:10:07474  Capitolo 10 – Reti wireless  e mobilità\n10.3.2 Inizializzazione\nCome già delineato, per garantire la continuità del servizio di rete di un host che si muove da", "una rete a un’altra si rendono necessarie le funzionalità di un home agent nella rete domestica \ne di un foreign agent nella rete visitata. Questi hanno il compito di intercettare i datagrammi \nindirizzati al MH, che vengono ricevuti nella rete domestica, e di inoltrarli al MH presente \nnella rete visitata. La successione dei messaggi scambiati per attuare la mobilità IP è rappre -\nsentata nella Figura 10.11.", "sentata nella Figura 10.11. \nNella fase agent discovery , un host mobile che riceve un indirizzo IP nella propria rete di \nappartenenza (home network) deve verificare la disponibilità di un home agent della stessa \n(sotto)rete prima di muoversi verso un’altra rete. Ciò richiede che l’host mobile invii un mes -\nsaggio Agent solicitation  sulla rete dove è connesso utilizzando il proprio indirizzo IP perma-", "nente. Il messaggio di risposta (denominato Agent advertisement ) del router che agisce come \nHA conferma all’host mobile la sua disponibilità ad agire da home agent consentendone, se \nrichiesto, la mobilità verso altre reti. \nIl mobile host, appena raggiunta un’altra rete inoltra un messaggio Agent solicitation  per \nrichiedere la continuità del servizio di connessione alla rete iniziato presso la propria rete", "domestica, basandosi sul servizio di mobilità IP. Questo messaggio viene trasportato da un \ndatagramma IP con indirizzo speciale sorgente 0.0.0.0 (vedi Paragrafo 6.4.1), in quanto l’host è \nsprovvisto di indirizzo IP nella rete visitata. Un router presente nella rete visitata che fornisce \nservizio di FA risponde con un messaggio Agent advertisement proponendo al MH un nuovo \nindirizzo IP valido nella rete visitata, denominato care-of address (COA).", "Il formato del messaggio Agent solicitation  è identico al messaggio ICMP Router solicita -\ntion (type = 10) (vedi Paragrafo 6.6.1) con la sola differenza che il campo TTL del datagramma \nche trasporta il messaggio viene posto uguale a 1. Ciò implica che il servizio di home agent o \nHA\nMHinForeig n\nnetwor kMHHome\nnetworkFA\nMHForeign\nnetwork\nFigura 10.11 Realizzazione della mobilità di un terminale mobile nel protocollo IP.", "PattavinaReti2021.indb   474PattavinaReti2021.indb   474 14/01/2022   16:10:0814/01/2022   16:10:0810.3 Mobilità IP  475\nforeign agent deve essere fornito da un router che si interfaccia sulla stessa rete domestica o \nvisitata dell’host mobile. \nIl messaggio di risposta Agent advertisement inviato da un router interfacciato sulla stessa \nrete del MH è mostrato in Figura 10.12, e si compone di due parti. La prima coincide con il", "messaggio ICMP Router advertisement (type = 9) (vedi Paragrafo 6.6.1) che specifica l’indi -\nrizzo del router che origina la risposta sull’interfaccia utilizzata per l’invio. La seconda, deno -\nminata Mobility agent extension ( type = 16), specifica le funzioni svolte dall’agent e segnalate \ndai flag: \n• R (1 bit): registrazione dell’host mobile richiesta per ricevere servizio come FA;\n• B (1 bit): registrazione non accettata come FA;\n• H (1 bit): servizio fornito come home agent (HA);", "• F (1 bit): servizio fornito come foreign agent (FA);\n• M, G (1 bit): tipo di incapsulamento disponibile per i datagrammi scambiati tra mobile \nhost e correspondent host che vengono trasferiti lungo il tunnel tra HA e FA;\n• r, T, U, X, I  (1 bit): utilizzati per altre funzioni.\nI campi Sequence number  e Registration lifetime  indicano rispettivamente il numero sequenzia -\nle del messaggio inviato dall’agente dopo la sua inizializzazione e la massima durata in secon -", "di di una registrazione che l’agente è disposto ad accettare. Se l’agente agisce come foreign \nagent ( F = 1), il messaggio contiene almeno un indirizzo IP care-of address  (COA) proposto ai \nMH. Il numero di indirizzi COA presenti è specificato con il campo Length . \nIl messaggio di risposta Agent advertisement viene inviato come payload di un datagram -\nma IP che reca sempre TTL = 1 e viene incapsulato in una trama con indirizzo di destinazione", "di livello 2 uguale all’indirizzo sorgente della trama che ha trasportato il messaggio di richiesta \nAgent solicitation . Si consideri, comunque, che il messaggio Agent advertisement viene emes -\nso periodicamente dal router che svolge funzione di HA e/o di FA, indipendentemente dalla \nricezione di solleciti; in questo caso il messaggio è inviato dal router in broadcast sulle (sotto)\nreti interfacciate con indirizzo speciale di destinazione “broadcast limitato” 255.255.255.255", "(vedi Paragrafo 6.4.1). \nUna volta associato all’host mobile un indirizzo IP (COA) anche nella rete visitata, ha inizio \nla fase denominata MH registration  che si articola attraverso lo scambio di quattro messaggi:\n1\n2\nRouteraddress3Lifetime31 16 8 0\nChecksum Type Code\n4Bit\nNum.addr.A ddr.entrysize\nSequencenumber Type Length\nRegistra tionlifetime Reserved RBHFMGr\nCare-ofaddress [1,2,...]1\n2 UXIT\nFigura 10.12 Formato del messaggio Agent advertisement.", "PattavinaReti2021.indb   475PattavinaReti2021.indb   475 14/01/2022   16:10:0814/01/2022   16:10:08476  Capitolo 10 – Reti wireless  e mobilità\n1. l’host mobile invia un messaggio Registration request  al foreign agent da cui ha rice -\nvuto l’indirizzo COA;\n2. il foreign agent elabora la richiesta di registrazione e la inoltra all’home agent della \nrete domestica;\n3. l’home agent invia un messaggio di risposta Registration reply  comunicando l’accet -", "tazione o il diniego della richiesta di mobilità;\n4. il foreign agent elabora la risposta ricevuta e la rilancia all’host mobile.\nI messaggi di controllo Registration request e Registration reply sono trasportati dal protocollo \ndi trasporto UDP, utilizzando la porta 434 come porta di destinazione dei messaggi di richie -\nsta e come porta sorgente per i messaggi di risposta, mentre l’altra porta viene selezionata \narbitrariamente.", "arbitrariamente.\nIl formato del messaggio Registration request, generato dall’host mobile e inoltrato dal FA, \nè mostrato nella Figura 10.13a. Esso definisce i seguenti campi:\n• type (8 bit): tipo di messaggio, posto uguale a 1 per messaggio di richiesta di \nregistrazione;\n• flags (8 bit): modalità di inoltro e incapsulamento dei datagrammi IP inviati dall’HA \nal FA;\n• lifetime  (8 bit): intervallo di tempo, espresso in secondi, prima che scada la registra -\nzione per la mobilità IP;", "zione per la mobilità IP;\n• home address  (32 bit): indirizzo IP dell’host mobile presso la sua rete domestica;\n• home agent  (32 bit): indirizzo IP permanente dell’home agent ;\n• care-of address  (32 bit): indirizzo IP temporaneo del MH nella rete visitata;\nSBDMGrTX 1\n2\n331 16 8 0\n4Bit\n4\n5Homeaddress\nHomeagen t\nCare-ofaddress\nIdentificationLifetime Type\n1\n2\n331 16 8 0\nLifetime TypeBit\n4\n5Homeaddress\nHomeagen tCode\nIdentification(a)\n(b)", "5Homeaddress\nHomeagen tCode\nIdentification(a)\n(b)\nFigura 10.13 Formato dei messaggi Registration request (a) e Registration reply (b).\nPattavinaReti2021.indb   476PattavinaReti2021.indb   476 14/01/2022   16:10:0914/01/2022   16:10:0910.3 Mobilità IP  477\n• identification  (64 bit): numero generato dall’host mobile che serve ad associare il mes -\nsaggio Registration reply atteso con il messaggio Registration request inviato.", "Si noti che l’indirizzo IP del foreign agent che invia il messaggio all’home agent viene ricavato \ndirettamente dal datagramma che trasporta il messaggio.\nIl formato del messaggio Registration reply, generato dall’HA e inoltrato dal FA, è mostra -\nto nella Figura 10.13b. I campi lifetime , home address , home agent , identification  hanno lo stesso \nsignificato del messaggio di richiesta. Il campo type assume ora valore 3, mentre i flag del", "messaggio di richiesta sono sostituiti dal campo code  il cui valore indica accettazione \n(code  = 0) o diniego della richiesta di mobilità (diversi codici specificano la ragione per la \nmancata accettazione). \n10.3.3 Gestione della mobilità IP\nSi vuole qui rimarcare come la mobilità IP resa possibile con la procedura e lo scambio di \nmessaggi descritti sopra sia completamente trasparente a ogni altro host/router presente nella", "rete che desideri comunicare con un host mobile all’interno di una foreign network. Conside -\nriamo l’esempio rappresentato nella Figura 10.16 in cui l’host mobile (MH) A con indirizzo \nIP 131.175.1.4 nella propria home network si sposta in una foreign network dove riceve un Con riferimento alla Figura 10.14 si vuole rappresentare lo scambio di messaggi che avviene \ndurante la registrazione del mobile host A presso il foreign agent FA assumendo che l’inter -", "faccia wireless del router abbia indirizzo IP 32.2.4.6 con intervallo di validità di 2 ore, che il \nforeign agent abbia fornito un indirizzo COA valido 30 minuti, richiedendo l’uso dell’incap -\nsulamento di tipo base e che il mobile host abbia richiesto una registrazione per 15 minuti. \nLo scambio di messaggi tra agenti e host mobile è mostrato in Figura 10.15. L ’host mobile \nrichiede inizialmente un indirizzo IP che viene fornito dal foreign agent unitamente alle", "indicazioni per richiedere il servizio di mobilità IP, e cio è l’indirizzo IP COA, la massima \ndurata della sessione di mobilità. L ’host mobile richiede dunque l’attivazione del servizio \nper 15 minuti fornendo gli indirizzi IP richiesti, e cio è il proprio indirizzo IP permanente \ne l’indirizzo IP dell’home agent nella sua rete domestica. La richiesta viene ricevuta dal \nforeign agent che la rilancia all’home agent specificato, che risponde accettando la richie -", "sta. Questa risposta, ricevuta dal foreign agent nella rete visitata, viene rilanciata verso \nl’host mobile. Esempio 10.2\nHA\nMHAHome network\n131.1 75.0. 0\nFA\nMHAForeignnetwork\n32.0.0.0\nInternet\n131.175.1.4COA: 32.1.12.6 131.175.8.254 32.2.3.254\nFigura 10.14 Registrazione di un MH presso una rete visitata secondo l’Esempio 10.2.\nPattavinaReti2021.indb   477PattavinaReti2021.indb   477 14/01/2022   16:10:0914/01/2022   16:10:09478  Capitolo 10 – Reti wireless  e mobilità", "indirizzo IP COA 32.1.12.6, per poi attivare con successo la procedura di mobilità IP. Un cor -\nrespondent host (CH) B, dovunque posizionato in Internet con indirizzo 201.12.6.77 invia un \ndatagramma all’host A, quindi all’indirizzo IP 131.175.1.4 che viene instradato verso la rete \n131.175.0.0 (passo 1, Figura 10.16). \nPer garantire la completa trasparenza della mobilità dell’host mobile, l’home agent si inca -", "rica di “catturare” i datagrammi indirizzati all’host mobile A e di inoltrarglieli presso la rete \nvisitata 32.0.0.0, nella quale è registrato con indirizzo COA 32.1.12.6. Ciò è possibile configu -\nrando dell’home agent come “proxy router” (vedi Paragrafo 9.5) per il MH A. Il datagramma \nricevuto viene “incapsulato” all’interno di un altro datagramma che reca come indirizzo IP \nsorgente l’indirizzo IP associato all’interfaccia di uscita dell’HA, e quindi inoltrato verso l’in -", "dirizzo IP di destinazione 32.1.12.6 (passo 2, Figura 10.16). In questo modo il trasferimento tra \nHA e FA avviene mediante la tecnica del “tunneling” già introdotta per l’interazione tra host \nIPv6 attraverso una rete IPv4 (vedi Figura 6.36). \nMHA FA\nType=10\nType=9\nLifetime =7200\nRouteraddress=32.2.4.6\nType=16\nRegistrationlifetime =1800\nR=1,B=0,H=0,F=1,M=0,G=0\nCare-ofaddress =32.1.12.6\nType=1\nLifetime=900\nHomeaddress=131.175.1.4\nHomeagen t=131.175.8.254\nCare-ofaddress =32.1.12.6", "Care-ofaddress =32.1.12.6\nIdentifica tion=12702Agentsolicitation\nAgen tadvertisement+extension\nRegistrationrequest\nHA\nType=1\nLifetime=900\nHomeaddress=131.175.1.4\nHomeagen t=131.175.8.254\nCare-ofaddress =32.1.12.6\nIdentifica tion=12702Regist rationrequ est\nType=3\nCode=0\nLifetime =900\nHomeaddress=131.175.1.4\nHomeagent=131.175.8.254\nIdentifica tion=12702Registra tionreply\nType=3\nCode=0\nLifetime =900\nHomeaddress=131.175.1.4\nHomeagen t=131.175.8.254\nIdentifica tion=12702Registra tionreply", "Identifica tion=12702Registra tionreply\nFigura 10.15 Scambio di messaggi nella registrazione di mobilità IP secondo l’Esempio 10.2.\nHA\nMHAHome network\n131.1 75.0. 0\nFA\nMHAForeignnetwork\n32.0.0.0\nCHB\nInternet\n131.175.1.4COA: 32.1.12.6\n201.12.6.77131.175.8.254 32.2.3.254\nFigura 10.16 Esempio di trasferimento dati tra host mobile A e host corrispondente B.\nPattavinaReti2021.indb   478PattavinaReti2021.indb   478 14/01/2022   16:10:1014/01/2022   16:10:1010.3 Mobilità IP  479", "Il datagramma con indirizzo di destinazione 32.1.12.6 ricevuto all’interfaccia di ingresso del \nforeign agent con indirizzo 32.2.3.254, che rappresenta il punto terminale del tunnel, viene \nelaborato per estrarre il datagramma originario inviato dall’host corrispondente B all’host \nmobile A. Questo datagramma viene quindi inviato per mezzo di una trama con indirizzo di \ndestinazione di livello 2 che il FA ha memorizzato al momento dello scambio di dati con l’host", "mobile A durante la registrazione (passo 3, Figura 10.16).\nL ’invio di un datagramma dall’host mobile A presente nella foreign network verso l’host \ncorrispondente B non risente della mobilità attuata dal MH. Infatti il datagramma con indi -\nrizzo IP sorgente 131.175.1.4 e indirizzo IP di destinazione 201.12.6.77 viene trasportato in una \ntrama verso il router che agisce da FA, e da questo instradato con procedura standard verso", "l’host corrispondente B (passo 4, Figura 10.16). Questo datagramma reca naturalmente l’indi -\nrizzo IP di destinazione dell’host corrispondente B e l’indirizzo IP sorgente dell’host mobile \nA nella propria rete domestica. \nL ’operazione di incapsulamento di un datagramma “catturato” svolta dall’home agent con-\nsiste nel generare un nuovo datagramma IP, che contiene il datagramma catturato nel payload \ne viene dotato di un nuovo header. Il meccanismo base previsto dallo standard [RFC2003]", "consiste nell’aggiungere un nuovo header IP che reca naturalmente come indirizzi IP sorgente \ne di destinazione gli indirizzi associati alle interfacce di ingresso e di uscita dal tunnel tra \nHA e FA, e cio è 131.175.8.254 e 32.2.3.254 nell’esempio di Figura 10.16, mentre il campo \nprotocol  del datagramma IP assume valore 4, così da identificare il protocollo IP-in-IP  adot -\ntato. Come rappresentato nella Figura 10.17, il datagramma catturato occupa il payload del", "nuovo datagramma con l’unico cambiamento del decremento di una unità del campo TTL \n(se questo assume valore 0 il datagramma viene ovviamente scartato e un messaggio ICMP \nTime exceeded  è inviato all’host sorgente). Il foreign agent ricevente svolge naturalmente il \ncompito inverso di estrazione del datagramma iniziale dal datagramma ricevuto per il suo \ninoltro diretto verso l’host mobile B. Sono anche previste due diverse forme di incapsulamento", "denominate minimum encapsulation  [RFC2004] e generic routing encapsulation  [RFC1701], \nla cui disponibilità da parte di HA/FA viene segnalata, rispettivamente, con i bit M e G del \nmessaggio Agent advertisement e la cui adozione viene richiesta con gli stessi bit nel messag -\ngio Registration request.\nLa Figura 10.18 mostra l’insieme dei protocolli coinvolti nell’interazione tra host mobile \nA e host corrispondente B attraverso home agent e foreign agent. Si osserva come la realiz -", "zazione del tunnel tra HA e FA richieda l’uso dell’intera pila protocollare dallo strato fisico \nfino allo strato di applicazione. Il protocollo di trasporto utilizzato per il trasferimento dei \nmessaggi applicativi è UDP. Inoltre l’host corrispondente interagisce a livello IP non solo con \nl’host mobile, ma anche con l’home agent che si interpone per rendere possibile l’inoltro dei \ndatagrammi verso la foreign network. Analogamente l’host mobile interagisce a livello IP, \nHeader\nSrc:CHB", "Header\nSrc:CHB\nDst:MHAPayloadHeader\nSrc:HA\nDst:FADatagrammainizialeNuovo datagramma\nFigura 10.17 Incapsulamento di datagramma per il trasporto tra HA e FA.\nPattavinaReti2021.indb   479PattavinaReti2021.indb   479 14/01/2022   16:10:1114/01/2022   16:10:11480  Capitolo 10 – Reti wireless  e mobilità\noltre che con l’host corrispondente attraverso il proprio indirizzo IP, anche con il foreign agent \nda cui ha ricevuto un nuovo indirizzo IP nella rete visitata (COA).", "Lo spostamento dell’host mobile verso una nuova rete richiede la ripetizione della pro -\ncedura di ricerca del nuovo foreign agent presso la nuova rete, così da ricevere un nuovo \nindirizzo IP COA che sarà utilizzato per attivare una nuova procedura di registrazione con \ni messaggi Registration request e Registration reply. La nuova registrazione sarà completata \nin un intervallo di tempo che, anche se limitato, può comportare la perdita di datagrammi", "inviati dall’home agent verso il foreign agent della rete abbandonata dall’host mobile prima \nche il nuovo foreign agent sia registrato presso la rete domestica. Questa perdita può avvenire \nanche durante il passaggio dalla home network alla prima foreign network . Naturalmente sarà \ncompito dei protocolli di più alto livello (trasporto o applicazione) recuperare il payload dei \ndatagrammi perduti durante il passaggio dell’host mobile alla nuova rete.", "L ’host mobile, appena rilevato il suo ritorno nella home network, invia all’home agent un \nmessaggio di Registration request con lifetime  = 0 che l’home agent dovrà confermare con \nmessaggio Registration reply.\nSi vuole qui rimarcare il fatto che con la procedura descritta l’host mobile non riceve nella \nrete visitata un nuovo indirizzo IP in uso esclusivo, in quanto uno stesso indirizzo IP COA \npuò essere assegnato a più MH presso la rete visitata. Il foreign agent che ha assegnato l’in -", "dirizzo IP COA potrà inoltrare i datagrammi IP ricevuti dai vari HA presso cui i MH sono \nregistrati utilizzando l’indirizzo di livello 2 degli host mobili. L ’invio di datagrammi dai MH \nverso host remoti non crea problemi in quanto ogni host mobile utilizza il proprio indirizzo IP \npermanente. Il vantaggio di questo approccio sta nel non dover assegnare un nuovo indirizzo \nIP in uso esclusivo a ogni host mobile che entra nella rete visitata, dato il problema riguar -", "dante l’utilizzazione di indirizzi IPv4, la cui scarsa disponibilità è stata già commentata (vedi \nParagrafo 6.7). \nLa procedura di supporto della mobilità IP ora descritta ha come conseguenza che mentre \nil percorso dei datagrammi dall’host mobile A all’host corrispondente B è diretto, il percorso \nCHB FA HA\n MHA\nFisicoCollega-\nment oIPUDPAppl.HA\nFisicoCollega-\nment oIP\nFisicoCollega-\nment oIPTCP/UDPAppl.\nFisicoCollega-\nment oIPUDPAppl.FA\nFisicoCollega-\nmentoIP\nFisicoColleg a-", "FisicoCollega-\nmentoIP\nFisicoColleg a-\nmentoIPIPTCP/UDPAppl.\nIP\nFigura 10.18 Pila protocollare nell’interazione tra host mobile e host corrispondente.\nPattavinaReti2021.indb   480PattavinaReti2021.indb   480 14/01/2022   16:10:1114/01/2022   16:10:1110.3 Mobilità IP  481\ninverso richiede sempre il passaggio attraverso la home network, quindi con un percorso più \nlungo. Si consideri il caso limite degli host A e B presenti nella stessa (sotto)rete: in questo", "caso i datagrammi inviati dall’host mobile A all’host corrispondente B sono trasferiti con \ninoltro diretto dal router che agisce da FA, mentre i datagrammi inviati in direzione opposta, \ncioè da B ad A, compiono un “doppio attraversamento” di Internet dalla rete visitata alla rete \ndomestica e viceversa. A questa situazione viene dato il nome di triangle routing.\nL ’inoltro diretto di datagrammi da MH verso CH non è sempre possibile, in quanto il router", "che agisce da foreign host  potrebbe attuare la funzione di filtraggio dei datagrammi ricevuti \ncon la verifica della “correttezza topologica” degli indirizzi IP, confrontando il prefisso di rete \ndell’indirizzo IP sorgente con quello della rete dove il datagramma è stato trasferito. Il FA \nscarterebbe dunque il datagramma ricevuto in quanto il MH ha un prefisso di rete diverso da \nquello della rete visitata dove il datagramma viene trasmesso. Questa limitazione può essere", "superata adottando la procedura di “reverse tunneling” che consiste nell’utilizzare il tunnel da \nHA a FA anche in direzione inversa, cio è da FA a HA [RFC3024]. Ciò richiede naturalmente \nche il foreign agent esegua l’incapsulamento del datagramma in modo analogo a quanto fa \nl’home agent in direzione opposta. La funzionalità di reverse tunneling viene segnalata e atti -\nvata utilizzando il bit T dei messaggi Agent advertisement e Registration request.", "10.3.4 Mobilità IP con il protocollo IPv6\nUna delle principali caratteristiche del protocollo IP versione 6, rispetto alla precedente ver -\nsione 4, è l’adozione di un meccanismo di indirizzamento IP a 128 bit anziché a 32. L ’enorme \nnumero di indirizzi IP che si rendono disponibili (vedi Paragrafo 6.7) non rende più necessaria \nla condivisione di indirizzi IP COA da parte di più host mobili. Con il protocollo IPv6, dun -", "que, la funzione svolta dal foreign agent può essere assunta direttamente dall’host mobile, che \nprovvede a recuperare l’indirizzo IP COA una volta entrato in una foreign network.\nCon il protocollo IPv6 la mobilità IP viene gestita completamente all’interno dello strato di \nrete, quindi senza più richiedere l’intervento di un protocollo di trasporto (UDP) in supporto \nalla procedura di registrazione della mobilità di un host. Le entità coinvolte sono l’home agent", "e il mobile host. I messaggi scambiati sono trasportati come extension header  del protocollo \nIPv6, e in particolare attraverso un nuovo header denominato mobility header  [RFC6275] \nUn host mobile, una volta rilevata la propria posizione all’interno di una nuova rete, recu -\npera un indirizzo IP COA, utilizzando per esempio il protocollo DHCP, e invia un messaggio \nBinding update  all’home agent della propria rete domestica. Il messaggio specifica l’indirizzo", "IP permanente e il nuovo indirizzo IP care-of address dell’host mobile. L ’home agent registra i \ndue indirizzi IP e risponde all’host mobile confermandone l’associazione ( IP address binding ) \nattraverso un messaggio Binding acknowledgment . \nUna volta stabilita l’associazione tra i due indirizzi IP, come nel caso del protocollo IPv4 \nl’home agent intercetta i datagrammi ricevuti nella home network e indirizzati all’host mobile,", "rilanciandoli al nuovo indirizzo COA appena registrato. L ’inoltro avviene attraverso il tunnel \nstabilito tra HA e MH mediante incapsulamento con un nuovo header IPv6, seguito eventual -\nmente da altri extension header  come mostrato in Figura 10.19. Questa volta sarà compito \ndello stesso host mobile estrarre l’header IPv6 aggiunto dall’home agent prima di elaborare il \ndatagramma originario.", "datagramma originario. \nPattavinaReti2021.indb   481PattavinaReti2021.indb   481 14/01/2022   16:10:1114/01/2022   16:10:11482  Capitolo 10 – Reti wireless  e mobilità\nIl trasferimento di datagrammi tra MH e CH può aver luogo secondo due procedure. La prima \nconsiste semplicemente nell’utilizzare il “tunnel bidirezionale” instaurato tra HA e MH, così \nche l’home agent rilancia i datagrammi ricevuti da CH e da MH rispettivamente verso l’host", "mobile e l’host corrispondente. L ’inefficienza dovuta al “triangle routing” che si verifica così \nin entrambe le direzioni può essere superata con la seconda procedura di inoltro dei datagram -\nmi definita nel supporto alla mobilità con protocollo IPv6, realizzata mediante scambio diretto \ndi messaggi, oppure attraverso HA, tra MH e CH:\n• l’host mobile invia due messaggi all’host corrispondente, dei quali uno (messaggio", "Care-of test init ) direttamente e l’altro (messaggio Home test init ) attraverso l’home \nagent (passo 1, Figura 10.20);\n• l’host corrispondente risponde con due messaggi lungo gli stessi percorsi, cio è il \nprimo (messaggio Care-of test ) direttamente e l’altro (messaggio Home test ) attraverso \nl’home agent (passo 2, Figura 10.20). \nQuesto scambio di messaggi, che comprende lo scambio di chiavi, consente al correspondent", "host di accettare in sicurezza il messaggio di binding  (Binding update ) tra home address e \ncare-of address inviato dall’host mobile (passo 3, Figura 10.20); tale associazione viene dun -\nque memorizzata in una cache nel CH. In questo modo il correspondent host potrà utilizzare \ndirettamente l’indirizzo IP COA per inviare datagrammi all’host mobile (passo 4, Figura \n10.20), senza richiedere l’attraversamento del tunnel tra HA e MH. Anche i datagrammi da", "host mobile a host corrispondente seguono la via diretta senza attraversare l’home agent. \n(passo 5, Figura 10.20).\nSi vuole qui rimarcare la completa trasparenza della funzione di mobilità rispetto ai pro -\ntocolli di più alto livello realizzata utilizzando gli extension header  definiti nel formato del \ndatagramma IPv6. Per i datagrammi inviati da MH a CH ciò si realizza utilizzando l’header \ndestination options  che contiene l’home address dell’host mobile. Così l’host corrispondente,", "una volta ricevuto il datagramma con indirizzo di sorgente IP COA, può sostituire quest’ul -\ntimo con l’home address presente nell’estensione. In questo modo il datagramma sembra IPv6\nheaderPayl oadIPv6\nextension\nheaderDatagramma inizialeNuovo datagramma\nIPv6\nhead er\nFigura 10.19 Incapsulamento di datagramma IPv6 per il trasporto tra HA e MH.\nHA\nMHAHome network\nMHAForeignnetwork\nCHB\nInternet\nFigura 10.20 Esempio di trasferimento dati tra mobile host e correspondent host..", "PattavinaReti2021.indb   482PattavinaReti2021.indb   482 14/01/2022   16:10:1214/01/2022   16:10:1210.4 Mobilità con accesso da rete radiomobile  483\nprovenire dalla home network. I datagrammi inviati da CH a MH invece recano l’indirizzo \nhome address nell’header routing header , così che l’host mobile, una volta ricevuto il data -\ngramma con il proprio COA come indirizzo di destinazione, sostituisce quest’ultimo con l’ho -", "me address presente nell’header. In questo modo il datagramma sembra essere stato ricevuto \ndall’host mobile nella sua rete domestica.\n10.4 Mobilità con accesso da rete radiomobile\nL ’accesso ai servizi di rete disponibili in Internet utilizzando un terminale mobile di tipo \nsmartphone rende il problema della continuità di servizio più complesso rispetto al caso di un \ncomputer/tablet che viene attivato quando si trova in una rete diversa da quella presso cui è", "registrato. Infatti, oltre al problema dell’assegnazione di un indirizzo IP che consenta all’ap -\nparecchiatura di operare nella rete visitata, occorre anche garantire la qualità dei segnali radio \ninviati e ricevuti dall’apparecchiatura in movimento. La mobilità del terminale richiede quindi \nche l’operatore di rete radiomobile possa fornire continuità di accesso ai servizi di rete mentre \nil terminale si muove da una cella all’altra nel territorio, consentendo quindi il coinvolgimento", "in successione di diversi nodi della rete radio di accesso per fornire al terminale mobile con -\nnettività alla rete Internet senza interruzioni.\nSi vogliono qui descrivere brevemente le procedure attuate durante il movimento di un ter -\nminale mobile ( user equipment , UE) che richiede la procedura di handover  (HO) tra due nodi", "eNB per fornire la continuità di servizio al terminale radiomobile in una rete 4G. La Figura Si consideri l’interazione tra host mobile A (MH A) e host corrispondente B (CH B) attra -\nverso il protocollo UDP in cui l’host mobile si trova in una foreign network e la procedura \ndi address binding  tra home address e care-of address dell’host mobile è stata completata \npresso l’host corrispondente. Si vogliono rappresentare i datagrammi ricevuti ed elaborati", "dai due host con il protocollo IPv6 prima e dopo l’elaborazione degli extension header .\nI datagrammi inviati dal mobile host al correspondent host recano COA A come indirizzo \nsorgente e CH B come indirizzo di destinazione e recano un extension header  con codice \nnext header  = 60 che trasporta l’home address dell’host mobile (Figura 10.21a). Il successivo \nheader, indicato con next header  = 17, denota il protocollo UDP come payload del data -", "gramma. L ’host corrispondente può quindi predisporre per l’elaborazione da parte dei pro -\ntocolli di più alto livello un nuovo datagramma IP senza estensioni con l’indirizzo sorgente \nassegnato dalla home network (Figura 10.21b). In direzione opposta, l’host mobile riceve \nun datagramma dall’host corrispondente con indirizzo di destinazione COA A (Figura \n10.21c) che reca un successivo header con codice next header  = 43 per indicare la presenza", "dell’home address dell’host mobile. Questo procede dunque alla sostituzione dell’indirizzo \ndi destinazione COA A con l’indirizzo permanente MH A, rimuovendo l’ extension header , \nprima di procedere all’elaborazione del datagramma (Figura 10.21d). Si può notare come \ni datagrammi privi di estensione da elaborare appaiono come generati e ricevuti dall’host \nmobile nella sua home network, garantendo dunque la piena trasparenza dell’attuazione", "della mobilità per quanto riguarda i protocolli di livello superiore.Esempio 10.3\nPattavinaReti2021.indb   483PattavinaReti2021.indb   483 14/01/2022   16:10:1214/01/2022   16:10:12484  Capitolo 10 – Reti wireless  e mobilità\n10.22 mostra un terminale mobile che si muove sul territorio e durante il tragitto richiede che \nil nodo eNB che fornisce servizio, SeNB ( source eNB ), sia sostituito dal nodo eNB della cella", "adiacente, TeNB ( target eNB ). Si ipotizza che in questa procedura di handover entrambi i nodi \nSeNB e TeNB siano serviti dalla stessa unità MME che gestisce le operazioni di mobilità e \ndallo stesso router SGW che fornisce la connettività dati nella medesima zona di rete EPC, \ntrattandosi quindi di HO di tipo “intra-MME/SGW”. \nLa Figura 10.23 mostra l’interazione del terminale mobile con MME e SGW attraverso il", "nodo iniziale SeNB, per poi proseguire utilizzando il nodo finale TeNB, che si articola attra -\nverso le seguenti fasi3 [TS36300]; \n1. il nodo SeNb richiede una misura del livello del segnale ricevuto dal terminale, e il \nterminale la fornisce;\n2. sulla base delle misure ricevute, il nodo SeNB decide di attivare la procedura di han -\ndover ( HO planning );\n3 I messaggi del piano di controllo sono rappresentati per mezzo di linee tratteggiate, quelli del piano dati con", "linee continue.UDPsegmentSrc:COAA\nDst:CHB\nNext header:60IPv6header\nNext header:17\nHomeaddres:MHAExtension head er\nDestinationoptionsPayload\nIPv6header Payload\nUDPsegmen tSrc:MHA\nDst:CHB\nNext header:17\nUDPsegmentSrc:CHB\nDst:COAA\nNext header:43IPv6header\nNext header:17\nHomeaddres:MHAExtension head er\nRoutingPayload\nUDPsegmen tSrc:CHB\nDst:MHA\nNext header:17IPv6header Payload(a)\n(c)(b)\n(d)\nFigura 10.21 Datagrammi ricevuti ed elaborati da CH (a, b) e da MH (c, d).\nPGWSeNBEPC\nTeNB\nSGWHSS MMEUE", "PGWSeNBEPC\nTeNB\nSGWHSS MMEUE\nInternetPiano dell’utentePianodicontrol lo\nFigura 10.22 Handover di tipo intra-MME/SGW in rete 4G.\nPattavinaReti2021.indb   484PattavinaReti2021.indb   484 14/01/2022   16:10:1314/01/2022   16:10:1310.4 Mobilità con accesso da rete radiomobile  485\n3. il nodo SeNB richiede HO al nodo TeNB che, se dispone delle risorse radio necessarie \nper attivare la nuova connessione, riscontra positivamente la richiesta che darà luogo", "all’inoltro dei dati memorizzati da SeNB a TeNB ( HO execution );\n4. il nodo SeNB comunica allo UE le informazioni relative al nuovo canale radio \ndownlink, DL, (da eNB a UE) da utilizzare;\n5. il nodo SeNB inoltra al nodo TeNB le unità informative memorizzate e in transito;\n6. il nodo TeNB comunica allo UE le informazioni relative al nuovo canale radio uplink, \nUL, (da UE a eNB) da utilizzare, completando così la procedura di handover con \nriferimento allo UE;", "riferimento allo UE; \n7. il nodo TeNB comunica all’unità MME che il terminale UE ha cambiato cella e questa \nunità, a sua volta, richiede al nodo SGW un nuovo percorso dati tra TeNB e SGW;\n8. il nodo SGW instaura il nuovo percorso dati verso il nodo TeNB che consente lo scam -\nbio bidirezionale di unità informative tra TeNB e SGW;\n9. l’avvenuto cambio di canale viene riscontrato dal nodo SGW all’unità MME, che a", "sua volta invia il riscontro al nodo TeNB, il quale chiede al nodo SeNB di rilasciare \nle risorse radio fino a quel momento utilizzate per fornire connettività radio allo UE;\nSource eNB\n UE TargeteNB\n1a.Measure controlPacket data\n1b.Measur ereport\n2.HOdecision\n3a.HOrequest\n3b.Admission control\n3c.HOrequest ack\n4.DLallocation\n5a.Deliver buffered and\nintransi tpackets toTeNBPacket data\n5b.Dataforwa rding\nPacketdata Packet data\n7a.Pathswitchreq.\n7b.Modify bearerreq.\n8.SwitchDLdata path", "7b.Modify bearerreq.\n8.SwitchDLdata path\n9a.Modifybearerack\n9b.Pathswitch ack\n9c.UEcontext release\n10.S eNBresource release5c.Bufferpackets\nfromSeNB\nMME SGW\nPacket data\nFigura 10.23 Scambio di messaggi durante il processo di handover di tipo intra-MME/SGW.\nPattavinaReti2021.indb   485PattavinaReti2021.indb   485 14/01/2022   16:10:1414/01/2022   16:10:14486  Capitolo 10 – Reti wireless  e mobilità\n10. il nodo SeNB rilascia le risorse radio utilizzate per lo UE completando così la proce -", "dura di handover ( HO completion ). \nSi vuole ora mostrare come un terminale mobile possa ricevere servizi di rete con connettività \na Internet nel momento in cui si muove in una rete visitata ( foreign network ) diversa da quella \ndomestica ( home network ) presso la quale lo UE è registrato. La Figura 10.24a mostra l’inte -\nrazione tra le diverse unità coinvolte nelle due reti utilizzando linee tratteggiate per i messaggi", "nel piano di controllo e linee continue per i flussi dati dell’utente4: \n1. il nodo eNB presso cui lo UE si è attivato comunica all’unità MME responsabile della \nmobilità dei terminali l’identificazione dello UE e il servizio richiesto;\n2. l’unità MME richiede l’autorizzazione a fornire il servizio richiesto all’unità HSS \ndella rete domestica, che contiene tutte le informazioni relative agli UE registrati e al \nprofilo del loro abbonamento;", "profilo del loro abbonamento;\n3. una volta autorizzata, l’unità MME scambia messaggi con il nodo SGW della rete \nvisitata, con il nodo eNB e con il nodo PGW della rete domestica, così da instaurare \nattraverso il protocollo GTP un primo tunnel tra eNB e SGW e un secondo tunnel tra \nSGW della rete visitata e PGW della rete domestica;\n4. lo UE può quindi ricevere la connettività verso la rete Internet attraverso la propria", "rete domestica utilizzando il canale radio instaurato con il nodo eNB e i due tunnel \neNB-SGW e SGW-PGW. \nLa procedura appena descritta per fornire accesso a Internet in mobilità (roaming) va sotto il \nnome di “ home routed” (HR) [GTI2016], dato che è la stessa home network a trasferire i dati \ndell’utente tra la rete Internet e lo UE che si trova nella foreign network. Una diversa proce -", "4 I protocolli utilizzati alle interfacce S1-MME, S1-U, S11, S6a, S5, S8 sono descritti nel Paragrafo 8.4.3.Internet\nPGWHSSHome networ k\neNBForeign network\nSGWMME\nUE\nS8S1-MME\nS1-US11S6aPiano dell’utentePianodicontrollo\nPGWeNBForeign network\nInternet\nSGWMME\nUE\nHSSHome networ k\nS5\nS1-US6a\nS11S1-MMEPiano dell’utentePianodicontrollo(a)\n(b)\nFigura 10.24 Procedura di roaming di tipo HR (a) e LBO (b) tra diversi operatori di rete.", "PattavinaReti2021.indb   486PattavinaReti2021.indb   486 14/01/2022   16:10:1414/01/2022   16:10:1410.4 Mobilità con accesso da rete radiomobile  487\ndura denominata “ local breakout” (LBO), mostrata nella Figura 10.24b, è prevista nel caso si \nvoglia fare in modo che lo UE acceda a Internet attraverso il nodo PGW della foreign network \n[GTI2016]. La differenza con il caso precedente consiste nel configurare il secondo tunnel tra", "SGW e PGW della stessa foreign network. Naturalmente la procedura di autenticazione del \nterminale non cambia, in quanto per ricevere l’autorizzazione a fornire i servizi richiesti dal \nterminale mobile nella foreign network viene sempre consultato il modulo HSS della home \nnetwork.", "network.\nPattavinaReti2021.indb   487PattavinaReti2021.indb   487 14/01/2022   16:10:1414/01/2022   16:10:14PattavinaReti2021.indb   488PattavinaReti2021.indb   488 14/01/2022   16:10:1414/01/2022   16:10:1411CAPITOLO Interconnessione  \ndi reti LAN11CAPITOLO\nQuesto capitolo descrive i principi che regolano la definizio -\nne di una configurazione di rete basata sull’interconnessione \ndi più reti locali (LAN), siano esse cablate o wireless. Si", "introducono dapprima le apparecchiature che si utilizzano \nper realizzare l’interconnessione, specificandone le funzio -\nni svolte. Quindi si descrive il protocollo che si adotta in \nqueste configurazioni di rete, denominato “spanning tree \nprotocol”, che garantisce l’assenza di replicazioni indeside -\nrate delle unità informative in presenza di topologie chiuse. \nInfine si introduce il concetto di LAN virtuale, che introdu -\nce flessibilità nella gestione di una configurazione di LAN", "interconnesse.\n11.1 Apparati di interconnessione\nLa limitata estensione geografica della copertura di una rete \nlocale, determinata dalla tecnologia impiegata, rende molto \nspesso necessario utilizzare più di una rete per consentire le \ncomunicazioni all’interno di una determinata area, e anche \nda questa verso la rete Internet. Le apparecchiature utiliz -\nzate a questo scopo possono essere classificate in base al \nlivello dell’architettura protocollare su cui agiscono. Vengo -", "no denominate repeater, bridge , router  le apparecchiature \ndi interconnessione che operano rispettivamente nello strato \nfisico, di collegamento e di rete dell’architettura protocol -\nlare. Nel seguito si comparano le funzioni svolte da queste \napparecchiature per poi approfondire le modalità di inter -\nconnessione tramite bridge. \nUn repeater  viene interposto tra apparati di rete omoge -\nnei essenzialmente per estendere a livello fisico la copertura", "geografica realizzata da sistemi di rete che usano gli stessi \nprotocolli e che forniscono gli stessi servizi. Come tale, un \nrepeater agisce sulla formazione dei segnali e opera even -\ntualmente la conversione di formato dei segnali stessi tra i Argomenti\n11.1 Apparati di interconnessione\n11.2  Interconnessione tramite \nbridge\n11.3 Spanning tree protocol\n11.4 LAN virtuali", "11.3 Spanning tree protocol\n11.4 LAN virtuali\nPattavinaReti2021.indb   489PattavinaReti2021.indb   489 14/01/2022   16:10:1414/01/2022   16:10:14490  Capitolo 11 – Interconnessione  di reti LAN\nsegmenti di rete che vengono interconnessi. Si noti che il repeater non ha alcuna cognizione \ndella strutturazione della sequenza dei bit ricevuti in unità informative, come trame o pacchet -\nti. Il repeater è un dispositivo attivo e agisce come “rigeneratore” del segnale: riceve il segnale,", "lo decodifica e lo ritrasmette, riducendo così l’effetto del rumore sulle lunghe tratte. Uno dei \npiù noti esempi di repeater è l’hub, descritto nel Paragrafo 9.2.1, storicamente adottato in \nreti Ethernet 10Base-T per connettere più stazioni. \nIl bridge  rappresenta un dispositivo ben più complesso del repeater, in quanto oltre a ope -\nrare l’interfacciamento fisico tra reti, esegue anche l’elaborazione delle unità informative di", "livello 2, cio è le trame , che vengono ricevute. Un bridge può interconnettere sia reti che hanno \nlo stesso protocollo di livello 2, cio è lo stesso protocollo MAC, sia reti che utilizzano protocolli \nMAC diversi. Operando a livello 2, i bridge ricevono le trame su un’interfaccia, ne analizzano \nl’header e, se necessario, decidono di inoltrarle su altre interfacce. Per questo si può dire che \nil bridge svolge funzioni di inoltro di tipo store and forward  (S&F) già descritte nel Paragrafo", "2.3.1, anche se la logica di instradamento utilizzata è di norma molto più semplice di quella \ndei dispositivi che operano a livello 3. La pila protocollare che interconnette due host connes -\nsi a segmenti LAN diversi attraverso un bridge è rappresentata nella Figura 11.1, che mostra \nl’interconnessione tra una rete Ethernet e una rete Wi-Fi. \nSe il bridge interconnette LAN con protocolli MAC diversi, esso deve consentire l’inter -", "lavoro tra le reti che operano secondo protocolli caratterizzati da parametri diversi, come per \nesempio:\n• la capacità della rete,\n• la dimensione massima del campo informativo della trama,\n• l’ordine di trasmissione dei bit di ogni byte della trama,\n• differenti meccanismi di gestione di priorità e di riscontro delle trame.\nLa semplicità di funzionamento di un bridge rende però difficile l’interconnessione di reti con", "protocolli di accesso che prevedono diverse lunghezze massime delle unità informative. Non \nessendo prevista nel bridge alcuna funzionalità di segmentazione, l’interlavoro tra reti può ope -\nTrasporto\nRete\nCollegam ento\nFisicoApplicazione\nBridgeColl.\nFisicoTraspo rto\nRete\nCollega mento\nFisicoApplicazio ne\nColl.\nFisico\nEthernetWi-Fi\nFigura 11.1 Interconnessione tramite bridge.", "Figura 11.1 Interconnessione tramite bridge.\nPattavinaReti2021.indb   490PattavinaReti2021.indb   490 14/01/2022   16:10:1514/01/2022   16:10:1511.  Apparati di interconnessione  491\nrare solo se la dimensione massima del campo informativo delle trame è accettabile per tutti i \nprotocolli di accesso utilizzati. Se ciò non fosse possibile, l’unica soluzione è scartare le trame \ncon payload di dimensione superiore a quella ammessa dal protocollo di accesso da utilizzare.", "Le prime realizzazioni di bridge erano solo di tipo software, mentre le soluzioni odierne \nsono prevalentemente hardware, specialmente nel caso di bridge che adottano un unico proto -\ncollo di accesso. È il caso dello switch Ethernet descritto nel Paragrafo 9.3.2, che realizza l’in -\nterconnessione tra stazioni adottando lo stesso protocollo CSMA/CD su tutte le sue porte. Uno \nswitch Ethernet opera tipicamente in hardware, effettuando anche l’inoltro di tipo cut-through", "(vedi Paragrafo 2.3.4), che non richiede quindi la memorizzazione dell’intera trama nell’appa -\nrato; quest’ultima operazione è invece necessaria nel caso del bridge che svolge le funzioni di \nelaborazione per l’inoltro delle trame tipicamente in software.\nDefiniamo dominio di broadcast  l’insieme delle stazioni di una rete che ricevono una \ntrama con indirizzo broadcast generata da una qualunque delle stazioni stesse. In una rete", "LAN di tipo Ethernet a 10 Mbit/s, il dominio di broadcast coincide naturalmente con l’intera \nrete e con il dominio di collisione , che definisce l’insieme delle stazioni le cui trasmissioni \npossono dare luogo a collisioni. Un bridge consente di interconnettere tra loro reti Ethernet \nper costituire un unico dominio di broadcast, senza tuttavia unire i domini di collisione. La \nFigura 11.2  mostra un esempio di interconnessione di due reti per mezzo di un bridge: una rete", "Ethernet 10BaseT e una rete wireless Wi-Fi. Anche se l’insieme delle reti costituisce un unico \ndominio di broadcast, le operazioni del bridge sono tali per cui i domini di collisione sono \nconfinati alle singole reti. Naturalmente, nel caso specifico le collisioni possono aver luogo \nall’interno di ognuna delle due reti. \nUn’interconnessione tramite router  richiede lo svolgimento di funzioni sempre più com -", "plesse per l’attuazione dell’interlavoro tra reti, poiché , a differenza dei casi precedenti, viene \nelaborata anche l’unità informativa dello strato di rete (livello 3), cio è il pacchetto . Ne deriva \nche il compito del router è anche quello di instradare le unità informative affinché possano \nraggiungere la rete di destinazione, indipendentemente dai protocolli di strato fisico e di colle -", "gamento utilizzati. L ’interlavoro tra reti mediante router si basa sul protocollo IP descritto nel \nParagrafo 6.3. La Figura 11.3 evidenzia l’interazione protocollare che si verifica ai vari livelli \nnel caso di due stazioni terminali connesse a reti diverse tramite un router. Le reti interconnes -\nse sono del tutto arbitrarie (per esempio una LAN e una WAN), quindi i protocolli impiegati \nBridge\nHub AP\nDominiod i broa dcastDominiod icollision eD ominio dicollision e", "Figura 11.2 Configurazione di rete con interconnessione tramite bridge.\nPattavinaReti2021.indb   491PattavinaReti2021.indb   491 14/01/2022   16:10:1514/01/2022   16:10:15492  Capitolo 11 – Interconnessione  di reti LAN\ndal router nell’interfacciarsi con le due reti possono essere anche completamente diversi. Una \ndelle due reti può anche collassare in un collegamento punto-punto, sul quale il trasferimento", "di unità informative è realizzato da uno specifico protocollo di collegamento, come per esem -\npio il protocollo PPP (vedi Paragrafo 9.4). \nÈ interessante osservare come l’utilizzazione di un router in sostituzione di un bridge per \nl’interconnessione di reti locali abbia una conseguenza importante sull’estensione del dominio \ndi broadcast, cio è di quella porzione delle reti entro la quale una trama con indirizzo broadcast", "viene trasmessa per essere ricevuta da tutte le stazioni attive. La Figura 11.4 mostra un esem -\npio di tre reti mutuamente connesse tramite un router, cio è una rete Ethernet 10Base-T, una \nrete Fast Ethernet e una rete wireless che utilizzano, rispettivamente, un hub, uno switch e un \naccess point. A differenza di quanto visto nel caso della Figura 11.2, ora per ognuna delle tre \nreti viene definito un dominio di broadcast che è limitato alla rete stessa. In particolare, questo", "dominio coincide con il dominio di collisione per le reti con hub e con access point, mentre \nnel caso della rete con switch i domini di collisione sono limitati a ogni singolo collegamento \nstazione-switch, che quindi è privo di collisioni. Trasporto\nRete\nCollegam ento\nFisicoApplicaz ione\nRout erColl.\nFisicoTraspo rto\nRete\nCollega mento\nFisicoApplicazio ne\nRete\nColl.\nFisicoRete\nFigura 11.3 Interconnessione tramite router.\nDominiod i broa dcast Dominiod i broa dcastRouter\nHubAP", "HubAP\nDominiod i broa dcastDominiod icollision eD ominio dicollision eSwitc h\nFigura 11.4 Configurazione di rete con interconnessione tramite router.\nPattavinaReti2021.indb   492PattavinaReti2021.indb   492 14/01/2022   16:10:1514/01/2022   16:10:1511.3 Interconnessione tramite bridge  493\n11.2 Interconnessione tramite bridge\nIl compito fondamentale del bridge è quello di consentire il trasferimento di trame tra reti", "svolgendo operazioni di indirizzamento e filtraggio, inoltrando cio è da una rete all’altra solo \nle trame effettivamente indirizzate a quest’ultima. Per attuare questo compito, il bridge dispo -\nne di una tabella di inoltro nella quale memorizza l’associazione tra l’identificatore di una \nstazione (indirizzo MAC) e la porta del bridge attraverso cui la stazione può essere raggiun -\nta. Questa informazione consente al bridge di inoltrare selettivamente una trama ricevuta", "con indirizzo di destinazione presente in tabella, evitando una trasmissione in flooding . Per \nevitare la crescita incontrollata della dimensione della tabella, a ogni voce presente è asso -\nciato un campo “età” che consente di eliminare le voci che non vengono aggiornate entro un \nintervallo di tempo predeterminato (età massima), per esempio 10 minuti. Dunque, ogni voce \ndella tabella di inoltro contiene tre campi: indirizzo MAC della stazione, porta del bridge che", "consente di raggiungere la stazione, età corrente della voce. La Figura 11.5 mostra la sequenza \ndelle operazioni che vengono svolte nel bridge per ogni trama ricevuta, che possono essere \nraggruppate in due fasi sequenziali: fase di inoltro e f ase di apprendimento . \nNella fase di inoltro , dopo aver verificato l’assenza di errori nella trama per mezzo del \ncampo di controllo degli errori (FCS), il bridge esamina l’indirizzo di destinazione (DA) della", "trama stessa. Se questo non è presente in tabella, oppure se coincide con l’indirizzo broadcast \n(vedi Paragrafo 9.1.3), le trama viene inoltrata su tutte le porte del bridge ( flooding ) eccetto \nquella, n, su cui è stata ricevuta. Se invece nella tabella di inoltro è presente una voce per l’in -\ndirizzo DA, la trama viene inoltrata solo sulla porta relativa, per esempio k , a meno che essa \ncoincida con la porta n su cui la trama è stata ricevuta. In quest’ultimo caso, naturalmente", "la trama deve essere scartata in quanto la stazione di destinazione è stata già raggiunta dalla \ntrama appena ricevuta.\nIl riempimento della tabella di inoltro avviene in modo automatico nella fase di appren -\ndimento  esaminando il campo dell’indirizzo sorgente (SA) di ogni trama ricevuta. Se questo \nnon è presente in tabella, viene creata una nuova voce che associa l’indirizzo SA alla porta \nn del bridge su cui la trama è stata ricevuta. Se invece è già presente in tabella una voce con", "l’indirizzo SA, l’identificatore della porta viene aggiornato al valore n , qualora sia diverso. Ciò \npuò accadere nel caso la stazione che ha emesso la trama sia stata spostata fisicamente da una \nrete a un’altra. In ogni caso si provvede ad aggiornare il valore del campo età della voce in \nquestione, anche nel caso in cui la voce fosse già presente in tabella. Quindi, se non vengono \nricevute altre trame dalla stazione con indirizzo SA entro un tempo uguale al parametro “età", "massima”, la voce verrà rimossa dalla tabella. \n11.3 Spanning tree protocol\nL ’interconnessione di più reti locali tramite bridge potrebbe dar luogo a topologie chiuse con la \npresenza di cicli ( loop), che naturalmente devono essere eliminati nelle normali condizioni di \noperatività delle reti; la presenza di loop renderebbe infatti necessaria l’attuazione di ulteriori \nmeccanismi di filtraggio per evitare la ritrasmissione indefinita delle unità informative. La", "rimozione dei loop da un insieme di reti interconnesse da bridge si attua mediante la costru -\nzione dello spanning tree , che consiste nell’etichettare opportunamente le porte dei bridge in \nPattavinaReti2021.indb   493PattavinaReti2021.indb   493 14/01/2022   16:10:1514/01/2022   16:10:15494  Capitolo 11 – Interconnessione  di reti LAN\nmodo che alcune di esse possano essere “disabilitate”, con il risultato di identificare un albero", "(tree) che connette tutti i bridge. In seguito al verificarsi di eventi di guasto, le porte bloccate \npossono comunque essere riconfigurate come attive per ripristinare l’albero e ricostituire la \npiena connettività della rete.\nCiascun bridge è individuato tramite un identificatore (ID) unico, e si definisce root bridge  \nquello con ID più basso. Le porte di ogni bridge possono assumere uno tra i seguenti ruoli:", "• root, R, che individua il percorso più breve che porta dal bridge al root bridge;Tramaricevuta\nsuportan\nSì\nInoltr otrama\nsuportakNoErrore nella\ntrama\nNo\nSìIndiri zzo DA\nconosc iuto\nElaborazione\ntramacomplet aTrama\nscartataSì\nNoDAassoci ato\naportan\nNoIndiri zzoSA\nconosc iutoInseriment oSA in\ntabell adiinoltro\nRese tcampo età\nperindirizzoSANoSAassoci ato\naportanAggiornament o\nportaassocia ta\naSAInoltr otrama  in\nfloodin geccetto\nportan\nSì\nSì\nApprendiment oI noltro", "portan\nSì\nSì\nApprendiment oI noltro\nFigura 11.5 Elaborazione della trama ricevuta nel bridge.\nPattavinaReti2021.indb   494PattavinaReti2021.indb   494 14/01/2022   16:10:1614/01/2022   16:10:1611.3 Spanning tree protocol  495\n• designated , D, che indica il percorso più breve dalla LAN interfacciata al root bridge;\n• blocked, B, che identifica una porta disabilitata.\nSi noti che il root bridge ha solo porte di tipo D e che, se più bridge interfacciano una stessa", "LAN, solo in uno di essi la porta verso quella LAN è etichettata come D. Una volta configura -\nto lo spanning tree con le porte dei bridge etichettate, la ritrasmissione in flooding delle trame \npuò aver luogo: se l’indirizzo di destinazione della trama non è presente nella tabella di inoltro \ndel bridge, questo ritrasmette la trama ricevuta da porte R o D verso tutte le porte attive del \nbridge diverse da quella su cui la trama stessa è stata ricevuta.", "La costruzione dello spanning tree è realizzata mediante lo spanning tree protocol  (STP) \n[802.1D]. Esso definisce lo scambio di apposite unità informative, denominate bridge protocol \ndata unit (BPDU), che ha come risultato l’identificazione del root bridge e l’etichettatura delle \nporte di tutti i bridge della rete. La Figura 11.6 mostra i quattro campi principali che compon -\ngono una generica BPDU:", "gono una generica BPDU: \n• root identifier, RI  (8 byte): identificatore (ID) del root bridge secondo il bridge che \nemette la BPDU;\n• root path cost, RPC  (4 byte) : costo della via dal bridge che emette la BPDU al (pre -\nsunto) root bridge RI, espresso con opportuna metrica (per esempio, il costo di attra -\nversamento di una rete è inversamente proporzionale alla velocità della rete stessa1);\n• bridge identifier, BI  (8 byte): identificatore (ID) del bridge che emette la BPDU;", "• port identifier, PI  (2 byte): identificatore della porta su cui la BPDU viene trasmessa. \nOgnuno dei campi RI e BI include due sottocampi: “bridge priority” di 2 byte e “MAC address” \ndi 6 byte. Poiché l’indirizzo MAC è quello assegnato al bridge dal produttore, il campo bridge \npriority, il cui valore di default è 32768, può essere utilizzato dall’amministratore di rete per \nselezionare il root bridge. Basterà infatti assegnare a questo bridge il valore più piccolo del", "campo di bridge priority tra tutti i bridge presenti nella rete. \nAnche il campo PI si compone di due sottocampi: “port priority” e “port number”, entram -\nbi di un byte. Il campo di priorità, di valore 128 di default, può essere utilizzato dall’ammini -\nstratore di rete per determinare la configurazione dello spanning tree. Si osserva che il campo \nPI può determinare una differente priorità tra BPDU emesse a parità dei valori degli altri tre \ncampi.", "campi.\nLo spanning tree protocol si compone di tre fasi:\n1. elezione del root bridge, che consiste nell’individuare la radice dell’albero (cio è il bri -\ndge con maggiore priorità) che si vuole andare a costruire;\n1  Una regola comunemente adottata consiste nel porre il costo di attraversamento di una rete con capacità C bit/s \nuguale al valore 1000/ C. Quindi l’attraversamento di LAN Ethernet 10Base-T, Fast Ethernet, Gigabit Ethernet \nha un costo di 100, 10, 1, rispettivamente.Root", "ha un costo di 100, 10, 1, rispettivamente.Root\nidentifierRoot\npathcost\n84Bridge\nidentifier\n8Port\nidentifier\n2 Byte\nFigura 11.6 Formato di BPDU.\nPattavinaReti2021.indb   495PattavinaReti2021.indb   495 14/01/2022   16:10:1614/01/2022   16:10:16496  Capitolo 11 – Interconnessione  di reti LAN\n2. selezione della root port, che consiste nell’individuare tra le porte del generico bridge \nquella che raggiunge il root bridge a costo minimo;", "3. selezione delle designated port , che consiste nell’individuare per ogni LAN la porta \nutilizzata per la ricezione e la trasmissione delle trame (ogni LAN deve interfacciare \nuna e una sola “designated port”).\nInizialmente, ogni bridge ritiene di essere il root bridge, e quindi emette su tutte le porte \n(inizialmente etichettate come D) una BPDU del tipo ( x,0,x,p), dove  x è l’identificatore del", "bridge in questione e p è l’identificatore della porta dalla quale la trasmissione ha luogo. L ’e -\nmissione delle BPDU avviene periodicamente con un intervallo di tempo definito da un timer \ndenominato “hello time”, che per default vale 2 secondi. Un bridge che riceve su una porta \nuna BPDU in cui il valore di RI è più piccolo del proprio BI, cessa l’emissione delle proprie \nBPDU ( x,0,x,p) sulle sue porte poiché evidentemente il root bridge è un altro, e ritrasmette la", "“migliore” BPDU ricevuta, aggiornandone alcuni campi come spiegato in seguito. Invece, nel \ncaso in cui il valore di RI ricevuto sia più grande del proprio BI, il bridge continua a generare e \ntrasmettere le sue BPDU. Alla fine della procedura, solo il root bridge genererà BPDU proprie.\nUna volta eletto il root bridge, è  necessario che tutti gli altri bridge stabiliscano quale \nporta, denominata porta root  (R), sia la più “vicina” in termini di costo al root bridge stesso.", "Per determinare la porta R di ogni bridge è necessario confrontare la priorità di ogni BPDU \nricevuta dopo averne aggiornato solo il campo RPC con il costo dell’ultima rete attraversata \nda parte della BPDU stessa. Una BPDU ha priorità maggiore di un’altra se:\n• il suo valore di RI è minore,\n• il suo valore di RPC è minore, a parità di RI,\n• il suo valore di BI è minore, a parità di RI, RPC,\n• il suo valore di PI è minore, a parità di RI, RPC, BI.", "La porta sulla quale il bridge riceve la BPDU con priorità maggiore diventa la root port  e viene \netichettata come R: una porta etichettata come R smette di trasmettere BPDU, mentre le altre \nrimangono nello stato D, continuando a ritrasmettere la BPDU ricevuta a maggiore priorità, \naggiornandone il campo RPC (incrementandolo del costo della rete su cui la BPDU è stata \nricevuta), il campo BI (con il proprio ID) e il campo PI (inserendo il valore PI di ritrasmissione).", "Terminata la fase di individuazione della porta R, che deve essere unica per ogni bridge \nche non sia il root bridge (questa fase richiede un certo tempo affinché lo scambio di BPDU \nvada a regime e si propaghi l’informazione relativa alla radice dell’albero con i relativi costi), \nè necessario selezionare le porte “designated” (D): può accadere infatti che più di un bridge \ninterfacci la stessa LAN con porte D; in questo caso si verificano dei loop (percorsi chiusi) di", "LAN e bridge che, se non rimossi, provocherebbero un “broadcast storm” di trame che ven -\ngono ritrasmesse e replicate dai bridge senza limitazioni. Per rimuovere un loop, occorre che \nper ogni LAN vi sia un solo bridge abilitato a scambiare trame con altre LAN; questo bridge \nrappresenta la via a costo minimo che raggiunge la radice dell’albero. Per determinare se una \nporta rimane nello stato D, oppure viene bloccata nello stato B, è necessario confrontare in", "ogni bridge generico e per ogni porta etichettata come D il valore della BPDU emessa con \nquello delle BPDU ricevute (in questo caso senza aggiornarne il valore RPC, come invece \navveniva nel passo precedente). Se la BPDU trasmessa ha priorità maggiore rispetto a tutte \nquelle ricevute (utilizzando le stesse regole precedenti), allora la porta è etichettata come \nPattavinaReti2021.indb   496PattavinaReti2021.indb   496 14/01/2022   16:10:1614/01/2022   16:10:1611.3 Spanning tree protocol  497", "“designated” (D), altrimenti viene disabilitata e posta nello stato “blocked” (B). La porta resta \nnaturalmente nello stato D se non si riceve alcuna BPDU.\nNaturalmente una porta B, che non ritrasmette le trame dati, continua a inoltrare tutti i \nmessaggi STP per permettere una riconfigurazione dinamica dello spanning tree.\nSi vuole applicare la procedura dello spanning tree protocol alla rete di Figura 11.7, che", "comprende cinque LAN (A, B, C, D, E) e quattro bridge (B1, B2, B3, B4), per ricavare lo \nstato di tutte le porte dei bridge il cui BI sia uguale al rispettivo indice numerico, assumendo \nunitario il costo di attraversamento di ognuna delle reti. \nL ’applicazione dello spanning tree protocol è mostrata nella Tabella 11.1. Nella colonna con \netichetta x,y è riportato lo stato corrente della porta y ( y = 1,2,3) del bridge x ( x = 1,2,3,4) e", "le BPDU che vi transitano in trasmissione (Tx-BPDU) e in ricezione prima dell’aggiorna -\nmento (Rx-BPDU) e dopo l’aggiornamento (Rx-BPDU cost-updated) del campo RPC. Nello \nstato iniziale ( stato 1 ) tutte le porte sono etichettate D. Il bridge x emette sulle LAN inter -\nfacciate una BPDU del tipo ( x,0,x,p), che viene quindi ricevuta dagli altri bridge sulle stesse \nLAN. Nello stato successivo ( stato 2 ), sulla base delle BPDU ricevute con costi aggiornati,", "il bridge B1 rimane root bridge poiché riceve BPDU con RI più grandi. Il bridge B2 ricono -\nsce il bridge B1 come root bridge ed elegge come sua porta “root” (R) la porta numero 1, \npoiché su quella ha ricevuto la BPDU con priorità più alta (1,1,1,3) e come “designated” (D) \nle altre porte, emettendo su queste ultime le BPDU (1,1,2,2) e (1,1,2,3), che indicano cio è il \nbridge B1 come root bridge con un costo RPC = 1 per raggiungerlo. Il bridge B4 si comporta", "in modo analogo, eleggendo la porta numero 1 come porta “root” (R) e l’altra come porta \n“designated” (D). Il bridge B3 ritiene invece che il bridge B2 sia il root bridge ed emette dun -\nque sulla sua porta numero 1, etichettata come D, la relativa BPDU (2,1,3,1) (la porta nume -\nro 2 è stata eletta porta R). Nello stato successivo ( stato 3 ) il bridge B3 riconosce che il root \nbridge è in realtà il bridge B1 avendo ricevuto su entrambe le sue porte BPDU recanti questa", "indicazione. Esso mantiene dunque la porta numero 2 come porta “root”, avendo ricevuto \nsu questa la BPDU con priorità maggiore e trasmette sulla sua porta numero 1 la nuova \nBPDU (1,2,3,1). Gli altri bridge mantengono la stessa configurazione dello stato precedente. \nNello stato finale ( stato 4 ) si procede all’individuazione delle porte da bloccare, cosa che Esempio 11.1\nD\nB3A\nC\nEB\nB11\n2\n3\nB2\nB41\n2\n3\n11\n22\nFigura 11.7 Configurazione di rete iniziale secondo l’Esempio 11.1.", "PattavinaReti2021.indb   497PattavinaReti2021.indb   497 14/01/2022   16:10:1614/01/2022   16:10:16498  Capitolo 11 – Interconnessione  di reti LAN\nD\nB3A\nC\nEB\nB11\n2\n3\nB2\nB41\n2\n3\n11\n22D\nD\nD\nRD\nDR\nR\nB B\nFigura 11.8 Stato della rete dopo l’esecuzione del protocollo STP secondo l’Esempio 11.1.Tabella 11.1 Costruzione dello spanning tree secondo l’Esempio 11.1.\nPorta 1,1 1,2 1,3 2,1 2,2 2,3 3,1 3,2 4,1 4,2\nStato 1 D D D D D D D D D D", "Stato 1 D D D D D D D D D D\nTx-BPDU 1,0,1,1 1,0,1,2 1,0,1,3 2,0,2,1 2,0,2,2 2,0,2,3 3,0,3,1 3,0,3,2 4,0,4,1 4,0,4,2\nRx-BPDU \ncost-updated- 4,1,4,1 2,1,2,1 1,1,1,3 3,1,3,2 3,1,3,1 2,1,2,3 2,1,2,2 1,1,1,2 2,1,2,2\n4,1,4,2 4,1,4,2 3,1,3,2\nStato 2 D D D R D D D R R D\nTx-BPDU 1,0,1,1 1,0,1,2 1,0,1,3 - 1,1,2,2 1,1,2,3 2,1,3,1 - - 1,1,4,2\nRx-BPDU\ncost-updated- - - 1,1,1,3 1,2,4,2 2,2,3,1 1,2,2,3 1,2,2,2 1,1,1,2 1,2,2,2\n1,2,4,2\nStato 3 D D D R D D D R R D", "1,2,4,2\nStato 3 D D D R D D D R R D\nTx-BPDU 1,0,1,1 1,0,1,2 1,0,1,3 - 1,1,2,2 1,1,2,3 1,2,3,1 - - 1,1,4,2\nRx- BPDU- - - 1,0,1,3 1,1,4,2 1,2,3,1 1,1,2,3 1,1,2,2 1,0,1,2 1,1,2,2\n1,1,4,2\nStato 4 D D D R D D B R R B\nTx-BPDU 1,0,1,1 1,0,1,2 1,0,1,3 - 1,1,2,2 1,1,2,3 - - - -richiede il confronto delle BPDU trasmesse e ricevute su ogni porta, senza aggiornamento \ndei costi di queste ultime (Rx-BPDU). In questo modo si individua per ogni LAN il bridge", "che conduce al root bridge a costo minimo e solo la porta relativa mantiene l’etichetta D, \nmentre tutte le altre porte di bridge sulla stessa LAN vengono bloccate, venendo etichettate \ncome porte B. Nella nostra configurazione di reti la LAN D raggiunge il root bridge attra -\nverso i bridge B2 e B3, ma con costo inferiore attraverso il primo. Quindi la porta numero 3 \ndel bridge B2 mantiene lo stato di “designated” (D), mentre la porta numero 1 del bridge B3", "diviene “blocked” (B). La LAN E raggiunge il root bridge attraverso i bridge B2 e B4 con \nuguale costo, ma il valore inferiore del campo BI del primo determina lo stato D per la porta \nnumero 2 del bridge B2 e lo stato B per la porta numero 2 del bridge B4. La configurazione \ndella rete con porte dei bridge etichettate è riportata nella Figura 11.8, che evidenzia l’albero \nche connette i bridge B2, B3 e B4 alla radice B1.", "che connette i bridge B2, B3 e B4 alla radice B1.\nPattavinaReti2021.indb   498PattavinaReti2021.indb   498 14/01/2022   16:10:1714/01/2022   16:10:1711.3 Spanning tree protocol  499\nIl protocollo STP per la costruzione dell’albero, definito negli anni ’90, è stato successivamen -\nte migliorato [802.1W] per incorporare nuove funzioni e ha preso il nome rapid spanning tree \nprotocol  (RSTP) [802.1D]. Questo nuovo protocollo, oltre a mantenere la piena compatibilità", "con la precedente versione, introduce miglioramenti ed estensioni quali:\n• nuove etichette di porta e quindi nuove funzioni svolte, per esempio porta “alternate” \ne porta “backup”,\n• rapida convergenza dell’algoritmo di costruzione dell’albero,\n• rapida sostituzione di una porta “root” con una porta “alternate” in caso di guasto.\nA\nC\nD\nEBXV\nQY\nWZ\nRT SU\nB3B1\nB2\nB41\n2\n3\n1\n2\n31 1\n12\n22B5", "EBXV\nQY\nWZ\nRT SU\nB3B1\nB2\nB41\n2\n3\n1\n2\n31 1\n12\n22B5\nFigura 11.9 Reti Ethernet interconnesse tramite bridge secondo l’Esempio 11.2.Si consideri la configurazione di cinque LAN (A, B, C, D, E) interconnesse da cinque brid -\nge (B1, B2, B3, B4, B5) mostrata in Figura 11.9, con spanning tree già determinato, che inter -\nconnette dieci stazioni (Q, R, S, T, U, V, W, X, Y, Z). Si vuole trovare lo stato delle tabelle", "di inoltro dei cinque bridge (omettendo il campo età), ipotizzando che tutte le tabelle siano \ninizialmente vuote e che siano state trasmesse con successo nell’ordine solo nove trame con \nle coppie sorgente-destinazione (SA-DA): Q-S, R-X, S-R, T-V, V-Y, W-U, X-W, Y-R, Z-X.  \nSe le tabelle di inoltro dei bridge sono vuote, ogni trama viene inoltrata in flooding da tutti \ni bridge a meno che la destinazione richiesta non abbia già emesso una trama. Ciò si verifica", "per le trame inviate dalle stazioni Q, R, T, V, W, la cui raggiungibilità viene appresa da tutte \nle stazioni. La presenza delle stazioni S, X, Y, Z, ognuna delle quali emette una trama verso \nuna destinazione già conosciuta da tutti i bridge, viene registrata nella tabella di inoltro di \nun bridge solo se esso viene attraversato dalla trama che procede verso la destinazione. \nInfatti, la conoscenza della destinazione di una trama da parte di un bridge richiede l’inoltro", "selettivo verso una specifica porta di uscita, così che la trama potrebbe attraversare solo \nalcuni dei bridge presenti nella rete. Lo stato finale della tabella di inoltro di tutti i bridge \nè mostrata nella Tabella 11.2. Esempio 11.2\nPattavinaReti2021.indb   499PattavinaReti2021.indb   499 14/01/2022   16:10:1714/01/2022   16:10:17500  Capitolo 11 – Interconnessione  di reti LAN\n11.4 LAN virtuali", "11.4 LAN virtuali\nL ’enorme diffusione e popolarità di reti LAN e la necessità di interconnetterle in grandi strut -\nture è stata soddisfatta dalla disponibilità di apparecchiature quali bridge e switch, che con -\nsentono la crescita modulare di queste strutture; nel caso di reti Ethernet viene anche tenuto \nsotto controllo il problema della crescita dei domini di collisione. In queste grandi configu -Tabella 11.2 Tabelle di inoltro dei bridge secondo l’Esempio 11.2.\nB1B2B3B4B5", "B1B2B3B4B5\nIndirizzo Porta Indirizzo Porta Indirizzo Porta Indirizzo Porta Indirizzo Porta\nQ 3 Q 3 Q 1 Q 1 Q 1\nR 3 R 2 R 1 R 1 R 1\nT 3 S 2 T 1 T 1 T 1\nV 1 T 2 V 1 V 1 V 1\nW 3 V 1 W 1 W 1 W 1\nX 1 W 1 X 1 Y 1\nY 2 X 1 Y 1 Z 1\nZ 2 Y 1\nPartendo dalla configurazione di reti dell’Esempio 11.2 e dallo stato finale delle tabelle di \ninoltro dei bridge, si consideri che tre stazioni vengano disconnesse dalla rispettiva LAN", "di appartenenza per essere riconnesse in rete su una LAN diversa. In particolare: la sta -\nzione Q passa dalla LAN D alla LAN B, la stazione T passa dalla LAN E alla LAN C, la \nstazione V passa dalla LAN A alla LAN D. Vengono quindi inviate altre quattro trame con \nle coppie sorgente-destinazione (SA-DA): Q-W, R-V, V-Z, U-T. Si vuole indicare se queste \ntrame raggiungono la destinazione richiesta e mostrare come vengono a cambiare le tabelle \ndi inoltro dei cinque bridge.", "di inoltro dei cinque bridge.  \nLa nuova configurazione di LAN e stazioni connesse è riportata in Figura 11.10. La prima \ntrama inviata da Q a W giunge a destinazione determinando la modifica delle tabelle dei \nbridge B1 e B2, che registrano la nuova porta di raggiungibilità della stazione Q. La seconda \ntrama inviata da R a V viene invece persa, in quanto il bridge B2 attua un inoltro seletti -\nvo sulla porta numero 1, mentre la stazione V è ora raggiungibile attraverso la sua porta", "numero 3. La terza trama inviata da V a Z giunge a destinazione attraverso il bridge B2, che \neffettua il flooding, e il bridge B1, che attua invece l’inoltro selettivo in base al contenuto \ndella propria tabella di inoltro. Questi due bridge provvedono anche all’aggiornamento della \nposizione della stazione V nelle rispettive tabelle di inoltro. Infine, la quarta trama inviata \nda U a T giunge a destinazione dato che le due stazioni si interfacciano sulla stessa LAN", "C, anche se i bridge B1 e B2 operano l’inoltro selettivo verso la LAN E. I bridge B1, B2, e \nB4 aggiornano la loro tabella di inoltro aggiungendo la voce corrispondente alla stazione U \nche ha generato la trama. Lo stato finale della tabella di inoltro di tutti i bridge è mostrata \nnella Tabella 11.3 con i nuovi contenuti delle tabelle indicati con sfondo grigio. Esempio 11.3", "PattavinaReti2021.indb   500PattavinaReti2021.indb   500 14/01/2022   16:10:1714/01/2022   16:10:1711.3 LAN virtuali  501\nrazioni di rete vengono tuttavia a manifestarsi ulteriori esigenze, tra le quali le più impellenti \nsono la necessità di poter partizionare in flussi distinti il traffico che transita nella rete (per \nesigenze di sicurezza, ad esempio) e la possibilità di poter associare dinamicamente le singole", "stazioni della rete a uno solo dei diversi flussi. Definire flussi distinti consente anche di con -\ntrollare meglio il livello di traffico di ogni flusso per evitare fenomeni di congestione, il cui \neffetto sulla degradazione delle prestazioni è ben noto. \nL ’insieme delle stazioni che accedono a reti LAN tra loro interconnesse viene dunque \nopportunamente partizionato in sottoinsiemi che rispondano alle mutue esigenze di comuni -", "cazione tra stazioni. Le stazioni che appartengono a uno qualunque di questi sottoinsiemi sono \nmutuamente connesse in una LAN virtuale , (virtual LAN , VLAN), che dunque definisce il \nproprio dominio di broadcast come disgiunto da quello delle altre VLAN. Come sarà spiegato \nnel seguito, una VLAN alla quale è assegnato uno specifico identificatore ( VLAN identifier , A\nC\nD\nEBXV\nQY\nWZ\nRT SU\nB3B1\nB2\nB41\n2\n3\n1\n2\n31 1\n12\n22B5VQ\nT", "QY\nWZ\nRT SU\nB3B1\nB2\nB41\n2\n3\n1\n2\n31 1\n12\n22B5VQ\nT\nFigura 11.10 Reti Ethernet interconnesse tramite bridge secondo l’Esempio 11.3.\nTabella 11.3 Tabelle finali di inoltro dei bridge secondo l’Esempio 11.3.\nB1B2B3B4B5\nIndirizzo Porta Indirizzo Porta Indirizzo Porta Indirizzo Porta Indirizzo Porta\nQ 2 Q 1 Q 1 Q 1 Q 1\nR 3 R 2 R 1 R 1 R 1\nT 3 S 2 T 1 T 1 T 1\nV 3 T 2 V 1 V 1 V 1\nW 3 V 3 W 1 W 1 W 1\nX 1 W 1 X 1 Y 1\nY 2 X 1 Y 1 Z 1\nZ 2 Y 1 U 1\nU 3 U 1", "Y 2 X 1 Y 1 Z 1\nZ 2 Y 1 U 1\nU 3 U 1\nPattavinaReti2021.indb   501PattavinaReti2021.indb   501 14/01/2022   16:10:1714/01/2022   16:10:17502  Capitolo 11 – Interconnessione  di reti LAN\nVLAN ID) è assolutamente indipendente dalla configurazione fisica della struttura di rete \nLAN. È quindi possibile effettuare lo spostamento di una stazione da una VLAN a un’altra \nsenza dover operare alcuna modifica di cablatura fisica della stazione stessa.", "La Figura 11.11 mostra un esempio con due VLAN: VLAN 1 con sette stazioni e VLAN \n2 con cinque stazioni. La prima soluzione (Figura 11.11a) utilizza due bridge, connessi con \nlinea punto-punto, ognuno dei quali interfaccia due hub. La seconda soluzione (Figura 11.11b) \nè basata su due switch, anch’essi connessi con linea punto-punto, ognuno dei quali interfaccia \ndirettamente sei stazioni. Nella soluzione basata su bridge, una trama emessa su una VLAN,", "per esempio la VLAN 1 nella LAN H1, viene trasmessa selettivamente dai due bridge alle \nLAN H2, che interfaccia stazioni di entrambe le VLAN, e H4, in quanto la LAN H3 inter -\nfaccia solo stazioni della VLAN 2. In questo modo, a causa del funzionamento “broadcast” \ndell’hub, anche alcune stazioni della VLAN 2 ricevono la trama in questione. La soluzione \nbasata su switch garantisce invece la separazione completa tra VLAN, poiché solo le stazioni", "di una VLAN ricevono le trame emesse sulla VLAN stessa. Quindi, una trama emessa da una \nqualunque della sette stazioni della VLAN 1 può essere ricevuta esclusivamente dalle altre sei \nstazioni della stessa VLAN. \nEF G AB CD\nRS T PQB1\nH1B2\nH2 H3 H4\nVLAN 1\nVLAN 2\nVLAN 1\nVLAN 2S1 S2\nE FG AB C D\nRS T PQ12 34 567\n1\n23457\n6(a)\n(b)\nFigura 11.11 Configurazione di VLAN con bridge (a) o con switch (b).", "PattavinaReti2021.indb   502PattavinaReti2021.indb   502 14/01/2022   16:10:1814/01/2022   16:10:1811.4 LAN virtuali  503\nPer definire una LAN virtuale è dunque necessario che i dispositivi di interconnessione tra \nLAN, e cio è bridge e switch, siano in grado di effettuare l’operazione di inoltro non più solo \nin base alla raggiungibilità fisica di una stazione su una determinata porta, bensì anche in", "base all’appartenenza della stazione o dell’unità informativa trasportata alla specifica LAN \nvirtuale. Le singole porte dei dispositivi possono quindi essere definite come appartenenti a \nuna specifica VLAN, oppure a più di una VLAN. Quindi, tutte le stazioni raggiungibili da \nuna specifica porta devono appartenere alla stessa VLAN; ciò non è vero nel caso della LAN \nH2 nella configurazione con bridge/hub di Figura 11.11a. Evidentemente questo problema non", "sussiste in configurazioni con switch come nel caso di Figura 11.11b. Una porta configurata \nper appartenere a più di una VLAN è denominata “trunk port”. \nL ’associazione di una porta a una VLAN può essere realizzata secondo diversi criteri, che non \nsono mutuamente esclusivi:\n• per indirizzo MAC della stazione interfacciata;\n• per indirizzo di sottorete del pacchetto trasferito sull’interfaccia;\n• per tipo di protocollo di livello 3 utilizzato sull’interfaccia.", "Con l’associazione per indirizzo MAC, la tabella di inoltro del bridge/switch specifica per \nogni indirizzo MAC la VLAN cui questo appartiene. Nell’associazione per indirizzo di sot -\ntorete viene specificato l’insieme degli indirizzi IP ammissibili per la specifica VLAN, come Esempio 11.4\nSi consideri la rete di Figura 11.11b, in cui la configurazione delle porte prevede che: \n• le porte numero 1, 2, 3, 6 di S1 e le porte numero 1, 2, 3 di S2 appartengano alla \nVLAN 1;", "VLAN 1;\n• le porte numero 4, 5 di S1 e le porte numero 4, 5, 6 di S2 appartengano alla VLAN 2; \n• le “trunk port” numero 7 appartengano a entrambe le VLAN. \nSi assume che la tabella di inoltro di S1 contenga cinque voci corrispondenti alle stazioni A, \nB, D, P, Q, mentre le quattro voci corrispondenti alle stazioni R, T, E, G sono presenti nella \ntabella di inoltro di S2. Si vuole determinare quali trame vengono trasferite se S1 riceve sulla", "porta numero 2 una trama indirizzata alla stazione G e S2 riceve sulla porta numero 5 una \ntrama indirizzata alla stazione T.\nLa prima trama emessa dalla stazione B e ricevuta in S1 viene inviata in flooding su tutta \nle porte della VLAN 1 di appartenenza della stazione B, in quanto la destinazione G non \nè presente nella tabella di inoltro. La trama viene ricevuta anche da S2 attraverso la “trunk \nport” numero 7 e quindi inoltrata selettivamente solo sulla porta numero 1, in base al con -", "tenuto della tabella di inoltro di S2. La seconda trama emessa dalla stazione S viene invece \ninoltrata selettivamente attraverso la porta numero 4 verso la stazione T, senza quindi esse -\nre ricevuta dallo switch S1 che interfaccia altre stazioni della stessa VLAN 2. L ’indirizzo \nMAC della stazione sorgente S viene anche registrato nella tabella di inoltro di S2 associato \nalla sua porta numero 5.", "alla sua porta numero 5.\nPattavinaReti2021.indb   503PattavinaReti2021.indb   503 14/01/2022   16:10:1814/01/2022   16:10:18504  Capitolo 11 – Interconnessione  di reti LAN\nper esempio quelli della sottorete 200.7.128.0/22. Nell’associazione per protocollo di livello \n3, occorre esaminare il payload della trama per capire a quale VLAN questa appartiene; per \nesempio, il protocollo IP potrebbe identificare una specifica VLAN. Le porte di uscita dei", "dispositivi di interconnessione saranno allora etichettate come riservate alla trasmissione di \ntrame che recano specifici indirizzi MAC, specifici indirizzi IP o specifici payload. Si osservi \nche gli ultimi due tipi di associazione costituiscono una violazione del principio di stratifica -\nzione dei protocolli, in quanto si userebbe un’informazione di livello 3 per un’operazione di \ninoltro effettuata a livello 2.", "inoltro effettuata a livello 2. \nIn una VLAN tutte le unità informative che vengono trasmesse alle stazioni indirizzate \nsono filtrate in base ai criteri di associazione delle porte corrispondenti. Viene previsto, per \nragioni di sicurezza, che il dispositivo di interconnessione possa anche filtrare le trame rice -\nvute su ogni porta in base alla rispondenza del criterio di associazione della porta alla relativa \nVLAN.", "VLAN.\nLa necessità di associare una trama a una specifica VLAN ha richiesto una modifica \ndel formato di trama Ethernet [802.1Q]. Il nuovo formato di trama Ethernet compatibile con \nVLAN è riportato in Figura 11.12. Rispetto al formato standard di reti Ethernet e Fast Ethernet \nvengono aggiunti due campi, ognuno di due byte. Il primo, VLAN protocol , serve a specificare \nche si sta utilizzando il formato di protocollo VLAN. Poiché il suo codice (esadecimale) è", "0x8100, che è superiore rispetto alla massima lunghezza (1500 byte) di una trama Ethernet, \nnon vi è possibilità di interpretarlo ambiguamente come campo length . La seconda coppia di \nbyte contiene i seguenti campi:\n• priority  (3 bit); consente di associare un livello di priorità a un flusso di traffico e quin -\ndi permettere una differenziazione nel grado di servizio per il trasporto delle unità \ninformative;", "informative;\n• canonical format indicator, CFI  (1 bit): specifica il tipo di formato del campo indirizzo; \nse posto a 0 indica il formato di una trama Ethernet, se posto a 1 indica che è utilizzato \nun altro formato;\n• VLAN identifier, VLAN ID  (12 bit): indica la VLAN cui appartiene la trama, con valori \nammessi da 1 a 4094 (i valori 0x000 e 0xFFF sono riservati). \nCome conseguenza della definizione di questi due nuovi campi, la massima lunghezza della", "trama VLAN Ethernet diventa di 1522 byte. \nLa specifica della VLAN di appartenenza della trama mediante campi aggiuntivi della \ntrama stessa rende non più necessaria la configurazione manuale delle porte di uno switch \nPreamble Payload FCS DA SA\n1Len.64-1522byte\nSFD\n6 76 20 -1500 4Pad\n0-42 ByteVLAN\nprot.\nCFIPr.VLANID2 2\nFigura 11.12 Formato di trama Ethernet 802.1Q per VLAN.\nPattavinaReti2021.indb   504PattavinaReti2021.indb   504 14/01/2022   16:10:1814/01/2022   16:10:1811.4 LAN virtuali  505", "Ethernet che interfaccia solo stazioni VLAN compatibili. Tuttavia, si osservi che la maggior \nparte delle schede Ethernet oggi utilizzate non è compatibile, anche se si auspica che tutte \nquelle di nuova realizzazione lo possano essere; lo stesso vale per le apparecchiature bridge \ne switch. Ne consegue che in una VLAN normalmente coesistono stazioni e apparecchiature \nVLAN compatibili e non compatibili, ed è necessario convertire il formato di trama da LAN", "a VLAN o viceversa durante il trasferimento di trame tra due apparecchiature non omogenee. \nQuindi il caricamento manuale della configurazione delle porte deve essere comunque effet -\ntuato per le stazioni che non siano VLAN compatibili. Nel caso di apparecchiature VLAN \ncompatibili, la fase di apprendimento del processo di inoltro delle trame consente al bridge \ndi costruire e aggiornare dinamicamente la propria tabella di inoltro, in cui ognuna delle voci", "specifica ora anche l’identificatore della LAN virtuale ( VLAN ID ) di appartenenza [802.1Q].\nEsempio 11.5\nSi consideri uno switch Fast Ethernet con otto porte, numerate da 1 a 8, che sia stato con -\nfigurato come segue:\n• le porte numero 1-3 appartengono alla LAN virtuale VLAN ID =  1 e possono inter -\nfacciare solo stazioni VLAN non compatibili;\n• le porte numero 4-5 appartengono alla LAN virtuale VLAN ID =  2 e interfacciano \nsolo stazioni VLAN compatibili;", "solo stazioni VLAN compatibili;\n• le porte numero 6-8 appartengono alla LAN virtuale VLAN ID =  3 riservata a data -\ngrammi con indirizzi IP della sottorete 10.23.64.0/20.\nSi vuole descrivere il comportamento dell’apparecchiatura se riceve una trama Ethernet \npriva di identificatore VLAN sulla porta numero 1, numero 4 o numero 8. \nLa trama ricevuta sulla porta numero 1 viene elaborata in quanto compatibile con il tipo di", "porta, e se l’indirizzo MAC di destinazione è presente nella tabella di inoltro della VLAN \n1 se ne opera l’inoltro sulla porta indicata. Se invece non è presente si effettua l’inoltro \nin flooding sulle porte numero 2-3 della stessa VLAN 1. La trama ricevuta sulla porta \nnumero 4 viene scartata in quanto solo trame Ethernet 802.1Q che identificano una VLAN \npossono essere ricevute su quella porta. La trama ricevuta sulla porta numero 8 richiede di", "esaminare gli indirizzi IP sorgente e di destinazione presenti nel payload per verificare se \nappartengono alla sottorete definita per le porte numero 6-8. Se sì, viene operato l’inoltro \nselettivo sulla porta indicata nella tabella, oppure in flooding sulle porte 6-7 della VLAN 3, \na seconda della presenza o meno dell’indirizzo MAC di destinazione nella tabella di inoltro \ndi VLAN 3. Se no, la trama viene scartata.", "di VLAN 3. Se no, la trama viene scartata. \nPattavinaReti2021.indb   505PattavinaReti2021.indb   505 14/01/2022   16:10:1814/01/2022   16:10:18PattavinaReti2021.indb   506PattavinaReti2021.indb   506 14/01/2022   16:10:1814/01/2022   16:10:18Bibliografia\n[3GPP] 3rd Generation Partnership Project, “The mobile broadband standard”, https://\nwww.3gpp.org/technologies\n[802.3] IEEE, “Project 802, Part 3: Carrier sense multiple access with collision detection", "(CSMA/CD) access method and physical layer specifications, 2018.\n[802.11] IEEE, “Project 802, Part 11: Wireless LAN medium access control (MAC) and \nphysical layer (PHY) specifications, 2016.\n[802.11ax] IEEE, “Part 11: Wireless LAN medium access control (MAC) and physical layer \n(PHY) specifications. Amendment 1: enhancements for high efficiency WLAN, \n2021.\n[802.15.1] IEEE, “Project 802, Part 15.1: Wireless medium access control (MAC) and phys-", "ical layer (PHY) specifications for wireless personal area networks (WPANs)”, \n2005.\n[802.1D] IEEE, “Project 802, Media access control (MAC) bridges”, 2004.\n[802.1Q] IEEE, Project 802, Bridges and bridged networks”, 2018.\n[802.1W] IEEE, “Project 802, Part 3: Media access control (MAC) bridges - Rapid recon-\nfiguration”, 2001.\n[Bluetooth] Bluetooth special interest group, “Specification of the Bluetooth system”, http://\nwww.bluetooth.com/English/Technology/Building/Pages/Specification.aspx", "[ATM99] ATM forum technical committee traffic managament working group, “ATM fo-\nrum traffic management specification version 4.1, Mar. 1999.\n[G.704] International Telecommunication Union - Telecommunication sector, “Synchro-\nnous frame structures used at 1544, 6312, 2048, 8448 and 44 736 kbit/s hierarchi-\ncal levels”, ITU-T Rec. G.704, Oct. 1998.\n[G.707] International Telecommunication Union - Telecommunication sector, “Network", "node interface for the synchronous digital hierarchy (SDH)”, ITU-T Rec. G.707, \nJan 2007.\n[G.9701] International Telecommunication Union - Telecommunication sector, “Fast ac-\ncess to subscriber terminals (G.fast) – Physical layer specification”, ITU-T Rec. \nG.9701, Feb. 2019.\n[G.984.1] International Telecommunication Union - Telecommunication sector, “Giga-\nbit-capable passive optical networks (GPON): general characteristics”, ITU-T \nRec. G.984.1, Mar. 2008.", "Rec. G.984.1, Mar. 2008.\n[G.987] International Telecommunication Union - Telecommunication sector, “10-Giga-\nbit-capable passive optical network (XG-PON) systems: Definitions, abbrevia-\ntions and acronyms”, ITU-T Rec. G.987, June 2012.\n[G.991.1] International Telecommunication Union - Telecommunication sector, “High bit \nrate digital subscriber line (HDSL) transceivers”, ITU-T Rec. G.991.1, Oct. 1998.\n[G.991.2] International Telecommunication Union - Telecommunication sector, “Single-pair", "high-speed digital subscriber line (SHDSL) transceivers”, ITU-T Rec. G.991.2, \nDec. 2003.\nPattavinaReti2021.indb   507PattavinaReti2021.indb   507 14/01/2022   16:10:1814/01/2022   16:10:18508  Bibliografia\n[G.992.1] International Telecommunication Union - Telecommunication sector, “Asym-\nmetric digital subscriber line (ADSL) transceivers”, ITU-T Rec. G.992.1, June \n1999.\n[G.992.2] International Telecommunication Union - Telecommunication sector, “Split-", "terless asymmetric digital subscriber line (ADSL) transceivers”, ITU-T Rec. \nG.992.2, June 1999.\n[G.992.3] International Telecommunication Union - Telecommunication sector, “Asym-\nmetric digital subscriber line transceivers 2 (ADSL2)”, ITU-T Rec. G.992.3, \nApr. 2009.\n[G.992.4] International Telecommunication Union - Telecommunication sector, “Split-\nterless asymmetric digital subscriber line transceivers 2 (splitterless ADSL2)”, \nITU-T Rec. G.992.4, July 2002.", "ITU-T Rec. G.992.4, July 2002.\n[G.992.5] International Telecommunication Union - Telecommunication sector, “Asym-\nmetric digital subscriber line (ADSL) transceivers - Extended bandwidth \nADSL2 (ADSL2plus)”, ITU-T Rec. G.992.5, Jan. 2009.\n[G.993.1] International Telecommunication Union - Telecommunication sector, “Very \nhigh speed digital subscriber line transceivers (VDSL)”, ITU-T Rec. G.993.1, \nJune 2004.\n[G.993.2] International Telecommunication Union - Telecommunication sector, “Very", "high speed digital subscriber line transceivers 2 (VDSL2)”, ITU-T Rec. G.993.2, \nFeb. 2019.\n[GSM] European Telecommunications Standards Institute, “GSM technical specifica-\ntions”, https://www.etsi.org/standards.\n[GTI2016] Global TD-LTE initiative, “Global roaming for LTE only operators”, http://gti-\ngroup.org, Dec. 2016.\n[Hammond] J.L. Hammond, P .J.P . O’Reilly, Performance analysis of local computer net-\nwork s, Addison Wesley, Reading, MA, 1986.", "work s, Addison Wesley, Reading, MA, 1986.\n[HTTP3] M. Bishop, “Hypertext Transfer Protocol Version 3 (HTTP/3)”, Internet Engi-\nneering Task Force, draft-ietf-quic-http-34, Feb. 2021.\n[I.150] International Telecommunication Union - Telecommunication sector, “B-ISDN \nasynchronous transfer mode functional”, ITU-T Rec. I.150, Feb. 1999.\n[I.321] International Telecommunication Union - Telecommunication sector, “B-ISDN \nprotocol reference model and its application layer specification”, ITU-T Rec.", "I.321, Apr. 1991.\n[I.361] International Telecommunication Union - Telecommunication sector, “B-ISDN \nATM layer specification”, ITU-T Rec. I.361, Feb. 1999.\n[I.363.1] International Telecommunication Union - Telecommunication sector, “B-ISDN \nATM adaptation layer specification: type 1 AAL ”, ITU-T Rec. I.363.1, Aug. \n1996.\n[I.363.2] International Telecommunication Union - Telecommunication sector, “B-ISDN \nATM adaptation layer specification: type 2 AAL ”, ITU-T Rec. I.363.2, Nov. \n2000.", "2000.\n[I.363.3] International Telecommunication Union - Telecommunication sector, “B-ISDN \nATM adaptation layer specification: type 3/4 AAL ”, ITU-T Rec. I.363.3, Aug. \n1996.\n[I.363.5] International Telecommunication Union - Telecommunication sector, “B-ISDN \nATM adaptation layer specification: type 5 AAL ”, ITU-T Rec. I.363.5 Aug. \n1996.\n[ISBUL] M. Decina, S. Bregni, R.Casale, G. Cerquozzi, P . Giacomazzi, G. Maier, R.", "Melen, A. Pattavina, “Infrastrutture di rete fissa NGAN”, Rapporto finale pro-\ngramma AGCOM ISBUL, Nov. 2009.\nPattavinaReti2021.indb   508PattavinaReti2021.indb   508 14/01/2022   16:10:1814/01/2022   16:10:18Bibliografia  509\n[Keiser] G. Keiser, Local area networks, McGraw Hill, New Y ork, 2002.\n[Kleinrock] L. Kleinrock, Queueing systems - V olume 1: Theory, John Wiley & Sons, New \nY ork, 1975.\n[Leon-Garcia] A. Leon-Garcia, I. Widjaja, Communication networks, Second edition, McGraw", "Hill, New Y ork, 2004.\n[M.2083] ITU-R recommendation M2083-0, “IMT Vision – Framework and overall ob-\njectives of the future development of IMT for 2020 and beyond”, ITU, Geneva, \nSept. 2015.\n[Pattavina] A. Pattavina, Switching theory: architecture and performance of broadband \nATM networks, John Wiley & Sons, Chichester, 1998.\n[RFC768] J. Postel, “User Datagram Protocol”, Internet Engineering Task Force RFC 768, \nAug. 1980.", "Aug. 1980.\n[RFC791] Information Sciences Institute, University of Southern California, “Internet \nProtocol”, Internet Engineering Task Force, RFC 791, Sept. 1981.\n[RFC792] J. Postel, “Internet Control Message Protocol”, Internet Engineering Task Force \nRFC 792, Sept. 1981.\n[RFC793] Information Sciences Institute, University of Southern California, “Transmis-\nsion Control Protocol”, Internet Engineering Task Force RFC 793, Sept. 1981.", "[RFC821] J.B. Postel, “Simple Mail Transfer Protocol”, Internet Engineering Task Force \nRFC 821, Aug. 1982.\n[RFC822] D.H. Crocker, “Standard for the Format of ARPA Internet Text Messages”, In-\nternet Engineering Task Force RFC 822, Aug. 1982.\n[RFC826] D.C. Plummer, “Ethernet Address Resolution Protocol or Converting Network \nProtocol Addresses to 48.bit Ethernet Address for Transmission on Ethernet \nHardware”, Internet Engineering Task Force RFC 826, Nov. 1982.", "[RFC950] J. Mogul, J. Postel, “Internet Standard Subnetting Procedure”, Internet Engi-\nneering Task Force RFC 950, Aug. 1985.\n[RFC959] J. Postel, J. Reynolds, “File Transfer Protocol”, Internet Engineering Task Force \nRFC 959, Oct. 1985.\n[RFC1034] P . Mockapetris, “Domain names - concepts and facilities”, Internet Engineering \nTask Force RFC 1034, Nov. 1987.\n[RFC1035] P . Mockapetris, “Domain names - implementation and specification”, Internet \nEngineering Task Force RFC 1035, Nov. 1987.", "Engineering Task Force RFC 1035, Nov. 1987.\n[RFC1058] C. Hedrick, “Routing Information Protocol”, Internet Engineering Task Force \nRFC 1058, June 1988.\n[RFC1256] S. Deering, “ICMP Router Discovery Messages”, Internet Engineering Task \nForce RFC 1256, Sept. 1991.\n[RFC1323] V . Jacobson, R. Braden, D. Borman, “TCP Extensions for High Performance”, \nInternet Engineering Task Force RFC 1323, May 1992. \n[RFC1519] V . Fuller, T. Li, J. Yu, K. Varadhan, “Classless Inter-Domain Routing (CIDR):", "an Address Assignment and Aggregation Strategy”, Internet Engineering Task \nForce RFC 1519, Sept. 1993.\n[RFC1583] J. Moy, “OSPF Version 2”, Internet Engineering Task Force RFC 1583, Mar. \n1994.\n[RFC1631] K. Egevang, P . Francis, “The IP Network Address Translator (NAT)”, Internet \nEngineering Task Force RFC 1631, May 1994.\n[RFC1662] W . Simpson, “PPP in HDLC-like Framing”, Internet Engineering Task Force \nRFC 1662, July 1994.", "RFC 1662, July 1994.\n[RFC1700] J. Reynolds, J. Postel, “Assigned Numbers”, Internet Engineering Task Force \nRFC 1700, Oct. 1994.\nPattavinaReti2021.indb   509PattavinaReti2021.indb   509 14/01/2022   16:10:1814/01/2022   16:10:18510  Bibliografia\n[RFC1701] S. Hanks, T. Li, D. Farinacci, P . Traina, “Generic Routing Encapsulation (GRE)”, \nInternet Engineering Task Force RFC 1701, Oct. 1994.\n[RFC1752] S. Bradner, A. Mankin, “The Recommendation for the IP Next Generation Pro-", "tocol”, Internet Engineering Task Force RFC 1752, Jan. 1995.\n[RFC1812] F . Baker, “Requirements for IP Version 4 Routers”, Internet Engineering Task \nForce RFC 1812, June 1995.\n[RFC1930] J. Hawkinson, T. Bates, “Guidelines for creation, selection, and registration of \nan Autonomous System (AS)”, Internet Engineering Task Force RFC 1930, \nMar. 1996.\n[RFC1939] J. Mayers, M. Rose, “Post Office Protocol - Version 3”, Internet Engineering \nTask Force RFC 1939, May 1996.", "Task Force RFC 1939, May 1996.\n[RFC2001] W . Stevens, “TCP Slow Start, Congestion Avoidance, Fast Retransmit, and Fast \nRecovery Algorithms”, Internet Engineering Task Force RFC 2001, Jan. 1997.\n[RFC2003] C. Perkins, “IP Encapsulation within IP”, Internet Engineering Task Force RFC \n2003, Oct. 1996.\n[RFC2004] C. Perkins, “Minimal Encapsulation within IP”, Internet Engineering Task \nForce RFC 2004, Oct. 1996.\n[RFC2018] M. Mathis, J. Mahdavi, S. Floyd, A. Romanw, “TCP Selective Acknowledgment", "Options”, Internet Engineering Task Force RFC 2018, Oct. 1996.\n[RFC2026] S. Bradner, “The Internet Standards Process -- Revision 3”, Internet Engineer -\ning Task Force RF 2026, Oct. 1996.\n[RFC2045] N. Freed, “Multipurpose Internet Mail Extensions (MIME) Part One: Format \nof Internet Message Bodies”, Internet Engineering Task Force RFC 2045, Nov. \n1996.\n[RFC2046] N. Freed, N. Borenstein, “Multipurpose Internet Mail Extensions (MIME) Part", "Two: Media Types”, Internet Engineering Task Force RFC 2046, Nov. 1996.\n[RFC2047] K. Moore, “MIME (Multipurpose Internet Mail Extensions) Part Three: Mes-\nsage Header Extensions for Non-ASCII Text”, Internet Engineering Task Force \nRFC 2047, Nov. 1996.\n[RFC2049] N. Freed, N.Borenstein, “Multipurpose Internet Mail Extensions (MIME) Part \nFive: Conformance Criteria and Examples”, Internet Engineering Task Force \nRFC 2049, Nov. 1996.", "RFC 2049, Nov. 1996.\n[RFC2131] R. Droms, “Dynamic Host Configuration Protocol”, Internet Engineering Task \nForce RFC 2131, Mar. 1997.\n[RFC2132] S. Alexander, R. Droms, “DHCP Options and BOOTP Vendor Extensions”, In-\nternet Engineering Task Force RFC 2132, Mar. 1997.\n[RFC2328] J. Moy, “OSPF Version 2”, Internet Engineering Task Force RFC 2328, Apr. \n1998.\n[RFC2364] G. Gross, M. Kaycee, A. Lin, A. Malis, J. Stephens, “PPP over AAL5”, Internet \nEngineering Task Force RFC 2364, July 1998.", "Engineering Task Force RFC 2364, July 1998.\n[RFC2453] G. Malkin, “RIP Version 2”, Internet Engineering Task Force RFC 2453, Nov. \n1998.\n[RFC2460] S. Deering, R. Hinden, “Internet Protocol, Version 6 (IPv6) Specification”, In-\nternet Engineering Task Force RFC 2460, Dec. 1998.\n[RFC2463] A. Conta, S. Deering, “Internet Control Message Protocol (ICMPv6) for the In-\nternet Protocol Version 6 (IPv6) Specification”, Internet Engineering Task Force \nRFC 2463, Dec. 1998.", "RFC 2463, Dec. 1998.\n[RFC2474] K. Nichols, S. Blake, F . Baker, D. Black, , “Definition of the Differentiated Ser -\nvices Field (DS Field) in the IPv4 and IPv6 Headers”, Internet Engineering Task \nForce RFC 2474, Dec. 1998.\nPattavinaReti2021.indb   510PattavinaReti2021.indb   510 14/01/2022   16:10:1814/01/2022   16:10:18Bibliografia  511\n[RFC2516] L. Mamakos, K. Lidl, J. Evarts, D. Carrel, D. Simone, R. Wheeler, “A method", "for transmitting PPP over Ethernet (PPPoE)”, Internet Engineering Task Force \nRFC 2516, Feb. 1999.\n[RFC2616] R. Fielding, J. Gettys, J.C. Mogul, H. Frystyk, L. Masinter, P . Leach, T. Bern-\ners-Lee, “Hypertext Transfer Protocol -- HTTP/1.1”, Internet Engineering Task \nForce RFC 2616, June 1999.\n[RFC2663] P . Srisuresh, M. Holdrege, “IP Network Address Translator (NAT) Terminology \nand Considerations”, Internet Engineering Task Force RFC 2663, Aug. 1999.", "[RFC3022] P . Srisuresh, K. Egevang, “Traditional IP Network Address Translator (Tradi-\ntional NAT)”, Internet Engineering Task Force RFC 3022, Jan. 2001.\n[RFC3024] G. Montenegro, “Reverse Tunneling for Mobile IP , revised”, Internet Engineer -\ning Task Force RFC 3024, Jan. 2001.\n[RFC3031] E. Rosen, A. Viswanathan, N. Callon, “Multiprotocol Label Switching Archi-\ntecture”, Internet Engineering Task Force RFC 3031, Jan. 2001.", "[RFC3032] E. Rosen, D. Tappan, G. Fedorkow, Y . Rekhter, D. Farinacci, T. Li, “MPLS Label \nStack Encoding”, Internet Engineering Task Force RFC 3032, Jan. 2001.\n[RFC3168] K Ramakrishnan, S. Floyd, D. Black, “The Addition of Explicit Congestion No-\ntification (ECN) to IP”, Internet Engineering Task Force RFC 3168, Sept. 2001.\n[RFC3232] J. Reynolds, “Assigned Numbers: RFC 1700 is Replaced by an On-line Data-\nbase”, Internet Engineering Task Force RFC 3232, Jan. 2002.", "[RFC3261] J. Rosenberg, H. Schulzrine, G. Camarillo, A. Johnston, J. Peterson, R. Sparks, \nM. Handley, E. Schooler, “SIP: Session Initiation Protocol”, Internet Engineer -\ning Task Force RFC 3261, June 2002.\n[RFC3501] M. Crispin, “Internet Message Access Protocol - Version 4rev1”, Internet Engi-\nneering Task Force RFC 3501, Mar. 2003.\n[RFC3550] H. Schulzrinne, S. Casner, R. Frederick, V . Jacobson, “RTP: A Transport Pro-", "tocol for Real-Time Applications”, Internet Engineering Task Force RFC 3550, \nJuly 2003.\n[RFC4271] Y . Rekhter, T. Li, S. Hares, “A Border Gateway Protocol 4 (BGP-4)”, Internet \nEngineering Task Force RFC 4271, Jan. 1996.\n[RFC4289] N. Freed, J. Klensin, “Multipurpose Internet Mail Extensions (MIME) Part \nFour: Registration Procedures”, Internet Engineering Task Force RFC 4289, \nDec. 2005.\n[RFC4960] R. Stewart, “Stream Control Transmission Protocol”, Internet Engineering Task", "Force RFC 4960, Sept. 2007.\n[RFC5321] J. Klensin, “Simple Mail Transfer Protocol”, Internet Engineering Task Force \nRFC 5321, Oct. 2008.\n[RFC5322] P . Resnick, “Internet Message Format”, Internet Engineering Task Force RFC \n5322, Oct. 2008.\n[RFC5681] M. Allman, V . Paxson, E. Blanton, “TCP Congestion Control”, Internet Engi-\nneering Task Force RFC 5681, Sept. 2009.\n[RFC5925] J. Touch, A. Mankin, R. Bonica, “The TCP Authentication Option”, Internet \nEngineering Task Force RFC 5925, June 2010.", "Engineering Task Force RFC 5925, June 2010.\n[RFC5944] C. Perkins, “IP Mobility Support for IPv4, Revised”, Internet Engineering Task \nForce RFC 5944, Nov. 2010.\n[RFC6265] A. Barth, “HTTP State Management Mechanism”, Internet Engineering Task \nForce RFC 6265, Apr. 2011.\n[RFC6275] C. Perkins, D. Johnson, J. Arkko, “Mobility Support in IPv6”, Internet Engi-\nneering Task Force RFC 6275, July 2011.\n[RFC6298] V . Paxson, M. Allman, J. Chu, M. Sargent, “Computing TCP’ s Retransmission", "Timer”, Internet Engineering Task Force RFC 6298, June 2011.\nPattavinaReti2021.indb   511PattavinaReti2021.indb   511 14/01/2022   16:10:1814/01/2022   16:10:18512  Bibliografia\n[RFC6582] T. Hendersen, S. Floyd, A. Gurtov, Y . Nishida, “The NewReno Modification to \nTCP’ s Fast Recovery Algorithm”, Internet Engineering Task Force RFC 6582, \nApr. 2012.\n[RFC6733] V . Fajardo, J. Arkko, J. Loughney, G. Zorn, “Diameter Base Protocol”, Internet \nEngineering Task Force RFC 6733, Oct. 2012.", "Engineering Task Force RFC 6733, Oct. 2012.\n[RFC6838] N. Freed, J. Klensin, T. hansen, “Media Type Specifications and Registration \nProcedures”, Internet Engineering Task Force RFC 6838, Jan. 2013.\n[RFC7323] D. Borman, B. Braden, V . Jacobson, R. Scheffenegger, “TCP Extensions for \nHigh Performance”, Internet Engineering Task Force RFC 7323, Sept. 2014.\n[RFC7540] M. Belshe, R. Peon, M.Thomson, “Hypertext Transfer Protocol Version 2 \n(HTTP/2)”, Internet Engineering Task Force RFC 7540, May 2015.", "[RFC8201] J. McCann, S. Deering, J. Mogul, R. Hinden, “Path MTU Discovery for IP ver -\nsion 6”, Internet Engineering Task Force RFC 8201, July 2017.\n[RFC8312] I. Rhee, L. Xu, S. Ha, “CUBIC for Fast Long-distance Networks”, Internet En-\ngineering Task Force RFC 8312, Feb. 2018.\n[RFC9000] Y . Iyengar, M. Thomson, “QUIC: A UDP-Based Multiplexed and Secure”, In-\nternet Engineering Task Force RFC 9000, May 2021.", "ternet Engineering Task Force RFC 9000, May 2021.\n[Stallings] W . Stallings, Data and computer communications, 7th edition, Prentice Hall, NJ, \n2004.\n[TS29060] 3rd Generation Partnership Project, “ GPRS Tunnelling Protocol (GTP) across the \nGn and Gp interface (Release 15)”, 3GPP TS 29.060, Sept. 2017.\n[TS36300] 3rd Generation Partnership Project, “LTE; Evolved Universal Terrestrial Ra-\ndio Access (E-UTRA) and Evolved Universal Terrestrial Radio Access Net-", "work (E-UTRAN); Overall description; Stage 2, Release 15”, 3GPP TS 36.300 \nV15.3.0, Sept.. 2018.\nPattavinaReti2021.indb   512PattavinaReti2021.indb   512 14/01/2022   16:10:1814/01/2022   16:10:18Esercizi\n1 Introduzione\nEsercizio 1.1 Le bande di frequenze utilizzate nelle reti radiomobili sono nell’intorno delle frequenze f1 = 900 \nMHz, f2  =  2,4 GHz, f3  =  5 GHz, Si chiede di determinare le lunghezze d’onda che corrispondono a queste \nfrequenze.", "frequenze. \nEsercizio 1.2 Un client accede a un server tramite un canale radio reso disponibile da un satellite geostaziona-\nrio. Si chiede di determinare il tempo totale T richiesto per ricevere una risposta dal server a un’interrogazione da \nparte del client, ipotizzando trascurabile il tempo di trasmissione delle UI.\nEsercizio 1.3 Si ipotizza di voler effettuare il trasferimento di un file di L byte da Shannon in Irlanda a New", "Y ork negli Stati Uniti. Assumendo che il collegamento abbia capacità C = 10 Gbit/s e sia realizzato attraverso un \ncavo transatlantico in fibra ottica di lunghezza d = 5000 km, si chiede quale deve essere la dimensione del file \naffinché quando il primo bit del file giunge a New Y ork l’ultimo bit del file viene trasmesso da Shannon.\nEsercizio 1.4 Si rappresenti mediante un’ipotetica architettura a quattro strati la successione delle azioni che", "hanno luogo nell’ambito di un viaggio in aereo da Roma a Auckland che preveda lo scalo nell’aeroporto di Sin-\ngapore per un cambio di aereo.\nEsercizio 1.5 Con riferimento alla pila protocollare di Figura 1.11, si chiede di determinare la quota parte di \noverhead richiesto per trasportare UI attraverso una rete, assumendo che l’header aggiunto negli strati di trasporto \ne di rete sia, rispettivamente, del 20% e del 5% del payload trasportato dall’UI, mentre lo strato di collegamento", "aggiunge un header fisso di 20 byte.\nEsercizio 1.6 Si assume che un’applicazione locale trasferisca un messaggio di L = 500 byte a un’applicazione \nremota e che l’header aggiunto all’unità dati generata a ogni livello della pila protocollare di Figura 1.11 sia \nfisso di dimensione Lh = 20 byte. Se il codice di linea adottato nello strato fisico è 8B10B, che trasmette in linea \n10 bit ogni 8 bit della trama da inviare, si vuole calcolare la percentuale di overhead richiesto per trasportare il", "messaggio attraverso la rete.\nEsercizio 1.7 Si consideri il trasferimento di un messaggio di 1000 byte da un host A a un host B attraverso una \nrete. Se ognuno dei livelli protocollari definiti nella Figura 1.11 aggiunge un overhead del 20% per generare la \npropria UI sulla base di quella ricevuta dal livello superiore, si determini quanti bit vengono trasferiti al livello \nfisico da A a B.", "fisico da A a B.\nEsercizio 1.8 Si assume che il livello di rete di un’architettura a strati preveda l’utilizzazione di UI di lunghezza \nfissa L3 = 550 byte in cui l’header ha una lunghezza uguale al 10% del payload. Se il livello sottostante di colle-\ngamento dati prevede UI di lunghezza massima L2max = 250 byte che include un header fisso di 15 byte, si chiede \nquanti byte saranno trasmessi per trasferire un messaggio di D = 3200 byte dall’host A all’host B, ipotizzando", "overhead nullo negli strati superiori al livello 3.\nPattavinaReti2021.indb   513PattavinaReti2021.indb   513 14/01/2022   16:10:1914/01/2022   16:10:19514  Esercizi\nEsercizio 1.9 Due host connessi alla rete Internet attraverso i rispettivi ISP di accesso interagiscono grazie \nalla connettività resa disponibile da due ISP regionali, uno per ognuna delle due regioni dove si trovano gli host,", "e un ISP di primo livello. Assumendo che in ogni ISP vengano attraversati non più di due router, si chiede di \ndeterminare il numero di volte Ni (i = 1,...,5) in cui vengono svolte le operazioni relative a ognuno dei cinque \nlivelli protocollari del modello a strati (lo strato di applicazione viene indicato convenzionalmente come strato \nnumero 5).\nEsercizio 1.10 Si assume che un ISP renda disponibili tra Roma e Milano collegamenti di diversa capacità C,", "e cioè C1 = 1 Gbit/s, C2 = 100 Mbit/s, C3 = 10 Mbit/s, che possono essere affittati da clienti che ne chiedono \nla disponibilità. V olendo trasferire tra due siti di una stessa azienda localizzati nelle due città un flusso costante \ndi 400 Mbit/s, si vogliono valutare gli effetti delle diverse soluzioni di affitto dei collegamenti disponibili in \ntermini di prestazioni di trasferimento e efficienza di utilizzazione delle risorse affittate. Si assume che i flussi", "in parallelo non possano essere più di 13.\n2 Concetti base nelle reti\nEsercizio 2.1 Si disegni il profilo di traffico di una sorgente ON-OFF periodica caratterizzata dai seguenti \nparametri:\n• frequenza di picco, P = 1 Mbit/s,\n• frequenza media, A = 100 kbit/s,\n• capacità di un blocco dati (dati emessi nello stato di sorgente attiva), L = 200 kbit.\nEsercizio 2.2 Si disegni il profilo di traffico di una sorgente ON-OFF periodica caratterizzata dai seguenti \nparametri:", "parametri:\n• frequenza media, A = 105 bit/s,\n• capacità di un blocco dati (dati emessi nello stato di sorgente attiva), L = 500 byte,\n• periodo di inattività, TOFF = 20 ms.\nEsercizio 2.3 Si disegni il profilo di traffico di una sorgente ON-OFF periodica caratterizzata dai seguenti \nparametri:\n• frequenza media, A = 150 kbit/s,\n• fattore di burstiness, B = 0,25,\n• quantità totale di dati emessi nello stato di sorgente attiva, Ltot = 30 kbyte,\n• numero di blocchi dati emessi, Nb = 4,", "• numero di blocchi dati emessi, Nb = 4,\n• istante di inizio stato ON, t = 0,4 s.\nEsercizio 2.4 Si disegni il profilo di traffico di una sorgente ON-OFF periodica caratterizzata dai seguenti \nparametri:\n• rapporto tra durata dei periodi di attività e di inattività, R =  TON/TOFF = 4,\n• intervallo di tempo che intercorre tra due transizioni consecutive della sorgente dallo stato di ON \nallo stato di OFF, T = 50 ms,", "allo stato di OFF, T = 50 ms,\n• quantità totale di dati emessi in un intervallo di t = 250 ms, Ltot = 250 kbyte.\nEsercizio 2.5 Si chiede di calcolare il tempo di trasferimento di un file di D =  100 Mbyte attraverso una rete \ndi comunicazione da una sorgente A a una destinazione B, connesse via radio, rispettivamente, ai nodi di ac-\ncesso X e Y della rete con collegamenti di lunghezza da = 3 km e capacità fa = 10 Mbit/s. Si ipotizza che il per -", "corso da X a Y preveda l’attraversamento di tre nodi di transito lungo collegamenti in fibra ottica di lunghezza \nPattavinaReti2021.indb   514PattavinaReti2021.indb   514 14/01/2022   16:10:1914/01/2022   16:10:19Esercizi  515\ndn = 200 km e capacità fn = 1 Gbit/s ognuno. Il tempo di elaborazione del file in ogni nodo di transito è Tp = 10 \nms, mentre è nullo nei nodi di accesso. \nEsercizio 2.6 Si consideri una rete elementare costituita da due collegamenti in serie X-Y e Y -Z di capacità", "CX = 100 Mbit/s e CY = 60 Mbit/s, rispettivamente. Alla rete vengono offerte due relazioni di traffico: X-Z da \nuna sorgente A di tipo CBR connessa al nodo X e Y -Z da una sorgente B di tipo VBR connessa al nodo Y . La \nsorgente CBR trasmette alla frequenza di picco PA = 40 Mbit/s, mentre la sorgente VBR è caratterizzata da \nun fattore di burstiness BB = 0,25 e da una frequenza di picco PB1 = 56 Mbit/s nell’intervallo di tempo (t0, t1)", "e PB2 = 88 Mbit/s nell’intervallo di tempo (t1, t2). Si chiede di calcolare il throughput dei due collegamenti e \nquello complessivo della rete nei due intervalli di tempo, esprimendo anche il traffico eventualmente perso.\nEsercizio 2.7 Si consideri una rete ad anello unidirezionale costituita da quattro nodi X, Y , Z, W , connessi in \nserie. I collegamenti X-Y , Y -Z, Z-W , W-X tra nodi adiacenti hanno una capacità C bit/s. Ipotizzando che ogni", "nodo riceva traffico da una sorgente CBR e che tutte le sorgenti offrano traffico con stessa frequenza di picco P, \nsi vuole determinare il throughput massimo THRmax che caratterizza questa rete e la frequenza massima Pmax \nche non determina perdita di traffico.\nEsercizio 2.8 Si determini la dimensione ottimale del payload Lp di pacchetto che minimizzi il tempo totale \ndi trasferimento di un messaggio lungo Lm = 1800 byte tra due terminali attraverso una rete a commutazione di", "pacchetto ipotizzando: (i) che si attraversino N = 4 nodi, (ii) che il payload di ogni pacchetto sia di lunghezza \ntale da generare pacchetti tutti di uguale lunghezza Lo, (iii) che l’header abbia lunghezza fissa Lh = 8 byte. Si \nassume che tutti i collegamenti operino alla capacità di C (bit/s) e che ognuno di essi abbia lunghezza d (m) con \nvelocità di propagazione del segnale v (m/s). \nEsercizio 2.9 Si consideri un host che accede a un server tramite un ISP che fornisce un collegamento di", "accesso dedicato in fibra ottica di capacità Ca = 1 Gbit/s e lunghezza d = 1000 km. La rete garantisce la rag-\ngiungibilità del server con un ritardo costante t = 100 ms, rendendo disponibile all’host un throughput costante \nTHR =  100 Mbit/s. Si vuole trasferire dall’host al server un file di Lm = 10.000 byte adottando la commutazione \ndi pacchetto. Si chiede di determinare il minimo tempo di trasferimento T del file assumendo che ogni pacchet-\nto abbia un header fisso di Lh = 10 byte.", "to abbia un header fisso di Lh = 10 byte.\nEsercizio 2.10 Due stazioni terminali, A e B, sono collegate in rete tramite un nodo a commutazione di \npacchetto X. Il collegamento A-X, realizzato su fibra ottica, è lungo dA = 10 km e ha capacità fA = 1 Gbit/s. Il \ncollegamento X-B, realizzato via radio, è lungo dX = 3 km e ha capacità fX = 100 Mbit/s. Le UI scambiate tra \nle stazioni terminali, comprensive di header, includono L = 10.000 byte. Si chiede di calcolare il ritardo totale", "di trasferimento TA-B di un’UI da A a B supponendo che non vi sia ritardo di elaborazione né di accodamento \nnel nodo intermedio, nonché la lunghezza L' delle UI per la quale il ritardo di trasmissione è uguale al ritardo \ndi propagazione nella tratta X-B.\nEsercizio 2.11 Una sorgente A emette un flusso di UI ottenuto codificando un segnale vocale CBR a frequen-\nza di picco PA = 64 kbit/s mediante soppressione dei silenzi. Per semplicità si assume che le pause di silenzio", "(di durata costante TOFF-A) si alternino agli intervalli di parlato (di durata costante TON-A) e ciascuna pausa di \nsilenzio comporti l’eliminazione di Ls = 80 kbyte dal flusso di dati. A risulta quindi una sorgente di tipo VBR \nON-OFF periodica con fattore di burstiness BA = 0,375. La sorgente è connessa mediante un collegamento di \nlunghezza trascurabile a un nodo X di trasmissione a pacchetto. Le UI ricevute da A, dopo un ritardo di elabo-", "razione uguale a 2/3 di TON-A, vengono ritrasmesse da X come pacchetti verso la destinazione B senza aggiunta \ndi alcun overhead e senza alcun ritardo di accodamento. X trasmette a una velocità di picco PX = 128 kbit/s. B è \nun modulo spaziale in orbita intorno alla Luna e si trova a una distanza da X approssimativa dX = 400.000 km. \nSi chiede di calcolare il tempo totale Ttot di trasferimento da A a B delle UI emesse dalla sorgente nell’interval-", "PattavinaReti2021.indb   515PattavinaReti2021.indb   515 14/01/2022   16:10:1914/01/2022   16:10:19516  Esercizi\nlo [0,40] s, rappresentando anche graficamente con i corretti rapporti di scala: (i) il flusso di UI emesso da A \n(TxA), (ii) il flusso di UI emesso da X (TxX), (iii) il flusso di UI ricevuto da B (RxB).\nEsercizio 2.12 ll nodo A trasmette verso il nodo B comportandosi come una sorgente di tipo VBR ON-OFF", "periodica con fattore di burstiness BA tale che 1/BA = 6 e TOFF-A = 25 ms. In ogni burst il nodo A emette \nLA = 180 byte. Il nodo B, che è connesso ad A mediante un cavo in fibra ottica di lunghezza dA = 2 km, ritra-\nsmette le UI ricevute da A verso il nodo C senza aggiungere header (si assumano nulli i ritardi di elaborazione \ne accodamento). Il gestore di rete deve decidere con quale trasmettitore equipaggiare l’uscita di B sulla linea", "verso C. Vi sono quattro modelli disponibili sul mercato con velocità di trasmissione X1 = 41 Mbit/s, X2 = 72 \nMbit/s, X3 = 87 Mbit/s, X4 = 124 Mbit/s. Il costo dei modelli è all’incirca proporzionale alla velocità di trasmis-\nsione. Il nodo B è connesso a C mediante un collegamento in rame di lunghezza dB = 3 km. Si vuole identificare \nquale trasmettitore tra i quattro convenga scegliere al gestore al fine di minimizzare il costo. Si chiede quindi", "di calcolare il tempo totale Ttot di trasferimento da A a C dei primi 4 burst emessi dalla sorgente a partire dall’i-\nstante di inizio attività t = 0, rappresentando anche graficamente con i corretti rapporti di scala: (i) il flusso di \nUI emesso da A (TxA), (ii) il flusso di UI emesso da B (TxB), (iii) il flusso di UI ricevuto da C (RxC). \nEsercizio 2.13 Due stazioni terminali A e B sono in connessione mediante collegamenti in cavo che attraver -", "sano due nodi X e Z a commutazione di pacchetto con i seguenti valori numerici: \n• capacità dei due collegamenti di accesso A-X e Z-B, fa = 1 Mbit/s,\n• capacità del collegamento internodo X-Z, fi = 2 Mbit/s,\n• lunghezza dei due collegamenti di accesso A-X e Z-B, da = 1 km,\n• lunghezza del collegamento internodo X-Z, di = 100 km,\n• tempi di elaborazione nei nodi X e Z, Tp = 10 ms.\nAssumendo una capacità infinita di memorizzazione nei nodi e che nessun’altra unità dati attraversi i nodi X e", "Z, si vuole calcolare il ritardo totale end-to-end Ttot richiesto per la trasmissione di un’unità dati di 10.000 byte \nda A a B, ipotizzando che la rete non possa trasferire unità dati (pacchetti) con payload maggiore di 1500 byte \ncon un header di pacchetto Lh = 100 byte; si utilizzi il minimo numero di pacchetti con il vincolo che solo uno \ndi essi (l’ultimo) può avere il payload parzialmente riempito.", "Esercizio 2.14 Si chiede di ripetere l’Esercizio 2.13 assumendo ora che la capacità del collegamento inter -\nnodo X-Z sia fi = 350 kbit/s, che il tempo di elaborazione nei nodi sia nullo e che il buffer dei nodi X e Z sia in \ngrado di immagazzinare solo un pacchetto oltre a quello in fase di trasmissione. Si richiede di calcolare la quota \nparte dell’unità dati consegnata a destinazione e il tempo totale impiegato.", "Esercizio 2.15 Due stazioni terminali A e B siano in connessione mediante collegamenti che attraversano due \nnodi X e Z a commutazione di pacchetto con i seguenti valori numerici:\n• capacità dei due collegamenti di accesso A-X e Z-B, fa = 1 Mbit/s,\n• capacità del collegamento internodo X-Z, fi = 5 Mbit/s,\n• lunghezza dei due collegamenti di accesso A-X e Z-B, da = 1 km,\n• lunghezza del collegamento internodo X-Z, di = 100 km,", "• velocità di propagazione del segnale su tutti i collegamenti, v = 200.000 km/s,\n• tempi di elaborazione nei nodi X e Z, TpX = 10 ms e TpZ = 30 ms.\nAssumendo una capacità infinita di memorizzazione nei nodi, si vuole calcolare il ritardo totale end-to-end \nTtot richiesto per la trasmissione da A a B di un’unità dati di 10.000 byte, che viene spezzata in due pacchetti \ndi uguale lunghezza con un header di pacchetto Lh = 100 byte (nessun’altra unità dati attraversa i nodi X e Z).", "Esercizio 2.16 Si chiede di ripetere l’Esercizio 2.15 con le seguenti ipotesi:\n• capacità del collegamento di accesso A-X, fA = 1 Mbit/s,\nPattavinaReti2021.indb   516PattavinaReti2021.indb   516 14/01/2022   16:10:1914/01/2022   16:10:19Esercizi  517\n• capacità del collegamento internodo X-Z, fi = 5 Mbit/s,\n• capacità del collegamento di accesso Z-B, fB = 3 Mbit/s.\nEsercizio 2.17 Si determini l’espressione simbolica analoga all’Equazione 2.6 che fornisce il tempo totale ri-", "chiesto per trasmettere e ricevere (completamente) una sequenza di N pacchetti di uguale lunghezza da una sor -\ngente S a una destinazione D lungo un percorso che attraversa H nodi, N1,...,NH. Tutti i nodi siano caratterizzati \ndagli stessi parametri Tt (tempo di trasmissione di un pacchetto), Tp (tempo di elaborazione di un pacchetto), \ncosì come tutti i collegamenti siano caratterizzati dallo stesso ritardo t. Si assume che i nodi abbiano capacità", "di memorizzazione infinita e nessun’altra unità dati attraversi i nodi.\nEsercizio 2.18 Si chiede di ripetere l’Esercizio 2.17 ipotizzando che il nodo i sia caratterizzato da un tempo \ndi trasmissione di un pacchetto Tti, da un tempo di elaborazione di un pacchetto Tpi e che il ritardo sul colle-\ngamento uscente dal nodo i sia ti (per i parametri della stazione sorgente si utilizzi il pedice 0). Si ipotizza che \nTti > Tt(i + 1)  (i = 0,1,...,H _ 1).", "Tti > Tt(i + 1)  (i = 0,1,...,H _ 1).\nEsercizio 2.19 Si determini l’espressione simbolica analoga all’Equazione 2.6 che fornisce il tempo totale \nrichiesto per trasmettere e ricevere (completamente) una sequenza di N pacchetti di uguale lunghezza da una \nsorgente S a una destinazione D lungo un percorso che attraversa H nodi, N1,...,NH. Si assume che il nodo Ni sia \ncaratterizzato da un tempo di trasmissione di un pacchetto Tti, da un tempo nullo di elaborazione di un pacchetto", "e che il ritardo sul collegamento uscente dal nodo i sia ti (per i parametri della stazione sorgente si utilizzi il \npedice 0). Si ipotizza che Tti < Tt0  (i = 1,2,...,k _ 1,k + 1,...,H) e si chiede di determinare l’espressione del ritardo \nper un valore arbitrario del tempo di trasmissione Ttk di un pacchetto in uscita dal nodo Nk con 1 < k < H.\nEsercizio 2.20 Si consideri una cascata di tre nodi A, B, C a commutazione di pacchetto collegati via cavo e", "caratterizzati dai seguenti parametri sui rispettivi collegamenti uscenti: fA = 10 Mbit/s, dA-B = 100 km, fB = 5 \nMbit/s, dB-C = 200 km. Il nodo A emette pacchetti di lunghezza costante L = 500 byte alla frequenza di 1000 \npacchetti/s. Ipotizzando che il nodo B inizi a ritrasmettere un pacchetto immediatamente dopo averlo ricevuto \ncompletamente e che il suo tempo di elaborazione sia nullo, si chiede di calcolare il ritardo complessivo per la \ntrasmissione da A a C di tre pacchetti.", "trasmissione da A a C di tre pacchetti. \nEsercizio 2.21 Si consideri una cascata di tre nodi A, B, C a commutazione di pacchetto che interagiscono tra-\nmite collegamenti radio e sono caratterizzati dai seguenti parametri: fA = 300 kbit/s, dA-B = 3000 km, fB = 100 \nkbit/s, dB-C = 1000 km. Il nodo A emette pacchetti di lunghezza costante L = 1500 byte alla frequenza di 20 \npacchetti/s. Ipotizzando che il nodo B inizi a ritrasmettere un pacchetto dopo averlo ricevuto completamente", "con un tempo di ritardo tp = 3 ms/byte, si chiede di calcolare il ritardo complessivo per la trasmissione da A a \nC di tre pacchetti. \nEsercizio 2.22 Si consideri il trasferimento di un file di D = 9000 byte da una sorgente a una destinazione \nattraversando due nodi di rete con collegamenti tutti di capacità f = 10 Mbit/s. Si vogliono confrontare i tempi di \ntrasferimento richiesti utilizzando le tecniche di commutazione a circuito (CS) per la sola fase dati, a pacchetto", "di tipo store and forward (S&F) e di tipo cut-through (CT), ipotizzando che con commutazione a pacchetto il \nfile venga frammentato in tre UI di Lp byte ognuna e che l’header di ogni pacchetto sia costituito da un numero \ndi byte Lh = Lp/4. Si ipotizza che il tempo richiesto per l’elaborazione di un pacchetto sia Tp = 80 ms e che i \nritardi di propagazione siano trascurabili.\nEsercizio 2.23 Si consideri una connessione virtuale tra due apparecchiature terminali attraverso N nodi di", "rete. Si trascurino gli overhead e i ritardi relativi alle funzioni di livello 2 e si considerino le risorse trasmissive \nsempre disponibili. Si chiede di esprimere simbolicamente il ritardo end-to-end Te relativo al trasferimento di \nun messaggio di Lm bit in una rete a commutazione di pacchetto di tipo store and forward (S&F) con servizio \ncircuito virtuale, utilizzando i seguenti simboli:", "PattavinaReti2021.indb   517PattavinaReti2021.indb   517 14/01/2022   16:10:1914/01/2022   16:10:19518  Esercizi\n• Lp:  lunghezza fissa, comprensiva di header, del pacchetto (bit),\n• Lh:  lunghezza dell’header di ogni pacchetto (bit),\n• C: capacità di ogni collegamento tra nodi (bit/s),\n• Tp:  tempo di elaborazione in ogni nodo (s),\n• d: lunghezza di ogni collegamento tra nodi (m),\n• v: velocità di propagazione (m/s).", "• v: velocità di propagazione (m/s).\nEsercizio 2.24 Si chiede di ripetere l’Esercizio 2.23 nel caso di commutazione cut-through (CT).\nEsercizio 2.25 Si consideri la topologia di rete a sei nodi e nove rami di Figura 2.19, che fornisce servizi di \nconnessione a circuito virtuale in cui ogni nodo dispone di una tabella di inoltro con otto voci. Si vogliono in-\nstaurare nell’ordine le seguenti connessioni virtuali: C-E, F-B, B-D, A-C, F-C, B-D, E-C, F-E, C-E, C-D, B-C,", "B-D, A-E, E-B. L ’instradamento delle connessioni avviene secondo il percorso con minimo numero di rami \nattraversati. Nel caso di più di un percorso con lo stesso numero di rami, si sceglie quello in cui è maggiore il \nnumero cumulativo di connessioni virtuali già instaurate. Il numero di canale logico assegnato su ogni colle-\ngamento sia il più piccolo possibile a partire dal valore 0, a condizione di non creare conflitti con connessioni \nvirtuali preesistenti.", "virtuali preesistenti.\nEsercizio 2.26 Si consideri una topologia di rete a commutazione di pacchetto a sei nodi (A, B, C, D, E, F) \ne sette rami (A-B, B-C, C-D, D-E, F-A, B-E, C-F) con servizio circuito virtuale in cui sono attive le seguenti \nconnessioni virtuali:\n 1 H-A-B-C-H\n 2 H-A-B-C-D-H\n 3 H-F-C-D-H\n 4 H-E-B-C-D-H\n 5 H-D-C-B-A-H\n 6 H-E-B-A-H\nSi riempiano le tabelle di inoltro dei nodi ipotizzando che:\n• le connessioni siano state instaurate nell’ordine della lista,", "• l’identificatore di canale logico abbia a disposizione 2 bit,\n• il numero di canale logico assegnato da ogni nodo/host sia quello più piccolo disponibile. \nEsercizio 2.27 Si consideri la configurazione di rete della Figura 2.20 in cui una sorgente di traffico A con \nfrequenza di picco PA invia dati a un server B attraverso due nodi a commutazione di pacchetto di tipo cut-throu-\ngh X e Y . Si ipotizza ora che la capacità dei collegamenti A-X e X-Y sia f0 bit/s, mentre il collegamento Y -B è", "caratterizzato da una capacità f0/c bit/s, con c > 1. Se il sistema terminale A si comporta come una sorgente di \ntraffico VBR, si chiede di individuare la condizione sul traffico emesso dalla sorgente e sulla caratteristica dei \nnodi affinché non si abbia perdita di unità informative lungo la rete.\nEsercizio 2.28 Si chiede di graficare la funzione che rappresenta il fattore di sottodimensionamento S in fun-", "zione del numero di sorgenti N di un multiplatore statistico per i valori di traffico offerto per sorgente Aos = 0,1, \n0,2, 0,3, 0,4, 0,5 Erl con una probabilità di perdita Pp non superiore all’1% utilizzando le Equazioni 2.11 e 2.12; \nsi giustifichi l’andamento ottenuto.\nEsercizio 2.29 Si chiede di determinare l’intensità in Erlang del traffico offerto a un multiplatore statistico se-", "condo il modello descritto nel Paragrafo 2.4.4 caratterizzato dai parametri: frequenza in uscita fm = 100 Mbit/s, \nlunghezza media delle UI Lm = 100 bit, tempo medio di attraversamento del multiplatore statistico T = 10 ms.\nEsercizio 2.30 Un multiplatore sincrono S-TDM genera un flusso in uscita di frequenza fm = 1314 kbit/s, \ntrame di periodo Tm = 500 ms che comprendono 36 time slot di traffico ciascuna, ognuno di capacità n bit, e un", "PattavinaReti2021.indb   518PattavinaReti2021.indb   518 14/01/2022   16:10:1914/01/2022   16:10:19Esercizi  519\ntime slot di allineamento la cui capacità è la metà di quella disponibile in uno slot di traffico. Si determini la \nlunghezza Lm della trama e la capacità fc disponibile in ogni time slot di traffico.\nEsercizio 2.31 Un multiplatore sincrono è alimentato da N = 16 tributari con frequenza ft = 2,048 Mbit/s e ge-", "nera una struttura di trama con UI costituite da due byte ognuna. La frequenza di cifra in uscita dal multiplatore \nè fm = 35,328 Mbit/s. Si chiede di calcolare il periodo di trama Tm del flusso multiplato e la percentuale della \ncapacità impegnata dal canale di servizio.\nEsercizio 2.32 Si consideri la configurazione di rete della Figura 2.32 che mostra una sorgente S che of-\nfre traffico a un server D attraverso tre nodi, X, Y , Z, e due collegamenti via radio, X-Y , Y -Z con i seguenti", "parametri:\n• capacità dei collegamenti X-Y e Y-Z, fX = 20 Mbit/s e fY = 40 Mbit/s\n• lunghezza dei collegamenti X-Y e Y-Z, d = 180 km,\n• unità informative di lunghezza fissa, L = 5 kbyte,\n• tempo di elabor azione trascurabile in tutti i nodi.\nIl nodo Y riceve traffico da numerosi nodi a monte con un traffico totale offerto Ao Erl diretto al nodo a valle \nZ. Si chiede di determinare il livello massimo del traffico offerto sul collegamento Y -Z tale che il tempo medio", "totale di trasferimento delle UI da S a D non ecceda Tmax = 8 ms.\n3 Teoria dei protocolli\n3A Collegamenti punto-punto\nEsercizio 3.1 Due stazioni A e B sono collegate da un sistema di trasmissione dati bidirezionale il cui proto-\ncollo di linea ARQ sia caratterizzato dai seguenti parametri:\n• dimensione fissa delle UI, il cui header si considera trascurabile, Lu = 280 byte,\n• dimensione fissa dei riscontri, La = 40 byte,\n• tempo di elaborazione di UI e di riscontro trascurabile, Tp0≅.", "La trasmissione dati tra le due stazioni è realizzata mediante un sistema radio che rende disponibile un canale \ndi comunicazione così caratterizzato:\n• distanza tra le due stazioni, d = 35 km,\n• capacità del collegamento, C = 34,368 Mbit/s.\nSi considera la trasmissione da A a B di un segmento dati di lunghezza Ltot = 28.000 byte. Si chiede di valutare \nil tempo totale di trasferimento TS&W del segmento dati e il throughput THRS&W conseguito con il protocollo", "stop and wait in assenza di errori di trasmissione.\nEsercizio 3.2 Si chiede di ripetere l’Esercizio 3.1 con riferimento al protocollo stop and wait in presenza di \nerrori, nel caso le UI numero 23 e 74 vadano perse per errori di trasmissione, supponendo che il time-out assu-\nma il minimo valore possibile per la configurazione in atto.\nEsercizio 3.3 Nelle UI di un protocollo di linea l’intervallo di valori ammesso per la numerazione delle UI è", "0 ≤ n ≤ 16383. Si chiede di indicare l’apertura delle finestre di trasmissione (Ws) e di ricezione (Wr) (espresse \nin numero di UI) nel caso dei protocolli:\n• stop and wait,\n• go-back-n,\n• selective repeat.\nPattavinaReti2021.indb   519PattavinaReti2021.indb   519 14/01/2022   16:10:1914/01/2022   16:10:19520  Esercizi\nEsercizio 3.4 Due stazioni A e B sono collegate da un sistema di trasmissione dati bidirezionale il cui proto-\ncollo di linea ARQ sia caratterizzato dai seguenti parametri:", "• dimensione fissa delle UI, il cui header si considera trascurabile, Lu = 40 byte,\n• dimensione fissa dei riscontri, La = 10 byte,\n• tempo di elaborazione di UI e di riscontro trascurabile, Tp0≅.\nLa trasmissione dati tra le due stazioni è realizzata mediante un sistema radio che rende disponibile un canale \ndi comunicazione così caratterizzato:\n• distanza tra le due stazioni, d = 15 km,\n• capacità del collegamento, C = 155 Mbit/s.", "• capacità del collegamento, C = 155 Mbit/s.\nSia inoltre operante un meccanismo di controllo di flusso a finestra con parametri:\n• apertura della finestra di trasmissione, Ws = 20,\n• finestra di ricezione di apertura arbitrariamente grande,\n• time-out per inizio di ritrasmissione, To = 40 m s.\nSe si adotta il protocollo go-back-n, si vuole valutare in assenza di errori di trasmissione il tempo totale di tra-", "sferimento TGBN da A a B di un segmento dati di lunghezza Ltot = 4000 byte, il throughput THRGBN realizzato \ne l’efficienza di utilizzazione del collegamento hGBN.\nEsercizio 3.5 Si chiede di ripetere l’Esercizio 3.4 per il protocollo go-back-n in presenza di errori nel caso \nche l’UI numero 25 trasmessa da A sia persa per errore di trasmissione, assumendo che la distanza tra le due", "stazioni sia dieci volte più piccola della precedente, e cioè d = 1,5 km. Si chiede inoltre di calcolare l’apertura \nottimale della finestra di trasmissione che massimizza il throughput sul collegamento.\nEsercizio 3.6 Due stazioni terrestri A e B sono connesse tramite una coppia di collegamenti ponte radio sim-\nplex così caratterizzati: (i) collegamento diretto A-B di lunghezza du = l = 711 km e capacità Cu = 2,048 Mbit/s;", "(ii) collegamento B-A costituito da due tratte connesse tramite un riflettore radio R con lunghezza di ciascuna \ntratta dd = l e capacità del collegamento Cd = 64 kbit/s. \nIl protocollo che controlla la trasmissione delle UI su questo collegamento sia di tipo ARQ così caratterizzato:\n• dimensione variabile delle UI, che dipende dalla dimensione del pacchetto trasportato, fino a una \nlunghezza massima Lumax = 526 byte, dei quali Lh = 6 byte costituiscono l’header,", "• dimensione fissa dei riscontri, La = 6 byte,\n• tempo di elaborazione trascurabile nelle stazioni A e B per UI e riscontri.\nSi utilizza il protocollo selective repeat con time-out To = 10 ms e uguale apertura delle finestre di trasmissione \ne di ricezione Ws = Wr = 3. Si vuole trasferire da A a B un segmento di dati di lunghezza D = 3355 byte, impo-\nnendo che le UI utilizzate abbiano lunghezza massima, tranne eventualmente l’ultima. Si chiede di calcolare in", "assenza di errori sul collegamento il tempo di trasferimento TSR del segmento di dati, il throughput dati effettivo \ndella connessione THRSR, misurato in [bit/s], e quanto questo valga in percentuale rispetto al massimo throu-\nghput raggiungibile in teoria sul canale A-B (efficienza hSR). Si determini anche la dimensione ottimale della \nfinestra di trasmissione Ws-ott che massimizza il throughput di questo collegamento.", "Esercizio 3.7 Con riferimento alla configurazione di linea definita nell’Esercizio 3.6, si consideri ora il pro-\ntocollo selective repeat soggetto a errori che si possono verificare sul collegamento da A a B. In particolare, si \nconsideri il caso in cui la quinta UI trasmessa da A vada persa e non venga ricevuta da B. Si calcoli il nuovo \ntempo T'SR richiesto per completare con successo il trasferimento del segmento di dati.", "Esercizio 3.8 Si vuole disegnare il diagramma di flusso al trasmettitore e al ricevitore per il protocollo ARQ \ncon flusso dati unidirezionale e soli riscontri positivi.\nPattavinaReti2021.indb   520PattavinaReti2021.indb   520 14/01/2022   16:10:1914/01/2022   16:10:19Esercizi  521\nEsercizio 3.9 Si considerino i dati dell’Esercizio 3.1 nel caso di adozione di un protocollo ARQ con soli", "riscontri positivi, in cui cioè il trasmettitore interpreta come riscontro negativo (NACK) lo scadere del time-out \nsenza che sia stato ricevuto il riscontro atteso. Sia inoltre operante un meccanismo di controllo di flusso a fi-\nnestra con parametri:\n• apertura della finestra di trasmissione, Ws = 7,\n• apertura unitaria della finestra di ricezione, Wr = 1,\n• time-out per inizio di ritrasmissione, To = 500 ms.", "Si chiede di valutare il tempo totale di trasferimento del segmento dati e il throughput conseguito nel caso che \nl’UI numero 21 trasmessa da A sia persa per errore. Si chiede anche di valutare l’apertura ottimale della finestra \ndi trasmissione che massimizza il throughput sul collegamento.\nEsercizio 3.10 Due stazioni A e B sono collegate da un sistema di trasmissione dati bidirezionale il cui pro-\ntocollo di linea ARQ è caratterizzato dai seguenti parametri:", "• dimensione fissa delle UI, Lu = 540 byte, dei quali 40 byte costituiscono header di UI,\n• dimensione fissa dei riscontri, La = 40 byte,\n• tempo di elaborazione di UI e di riscontro trascurabile,\n Tp0≅.\nLa trasmissione dati tra le due stazioni è realizzata mediante un sistema radio che rende disponibile un canale \ndi comunicazione così caratterizzato:\n• distanza tra le due stazioni, l = 55 km,\n• capacità del collegamento, C = 150 Mbit/s.", "• capacità del collegamento, C = 150 Mbit/s.\nSia inoltre operante un meccanismo di controllo di flusso a finestra con parametri\n• apertura della finestra di trasmissione, Ws = 7,\n• finestra di ricezione di apertura arbitrariamente grande,\n• time-out per inizio di ritrasmissione, To = 2 ms.\nSi considera la trasmissione da A a B di un segmento dati di lunghezza Ltot = 5000 byte. Si chiede di valutare", "il tempo totale di trasferimento del segmento dati e il throughput conseguito con un protocollo ARQ con soli \nriscontri positivi, in cui cioè il trasmettitore interpreta come riscontro negativo (NACK) lo scadere del time-out \nsenza che sia stato ricevuto il riscontro atteso, assumendo che l’UI numero 3 trasmessa da A veda persa per er -\nrore. Si chiede anche di valutare l’apertura ottimale della finestra di trasmissione che massimizza il throughput", "sul collegamento, espressa questa volta in byte.\nEsercizio 3.11 Due stazioni A e B sono in comunicazione attraverso un collegamento dati su cavo di lunghez-\nza d = 8 km e capacità C = 40 Mbit/s. Il protocollo che regola il trasferimento dei dati sul collegamento è di tipo \nARQ go-back-n con UI di lunghezza fissa Lu = 300 byte e riscontri di lunghezza La = 150 byte. Si assume che \nil flusso informativo di UI sia unidirezionale dalla stazione A alla stazione B, con riscontri positivi o negativi", "inviati in direzione opposta. Al tempo t = 0 la stazione A inizia la trasmissione senza interruzione di 11 UI, \nmentre la stazione B invia 7 riscontri, che possono essere positivi o negativi, con inizio trasmissione agli istanti \nt = 100, 160, 280, 340, 400, 460, 520, 580, 640 ms. Le UI sono numerate con un modulo di numerazione N = 2b \nil più piccolo possibile. Sapendo che il collegamento è soggetto a errori che possono colpire solo le UI ma non", "i riscontri, si chiede di identificare le UI e i riscontri avendo numerato la prima UI trasmessa con il numero 2 \ne di identificare l’apertura minima della finestra in trasmissione Wsmin compatibile con questo scambio di UI. \nEsercizio 3.12 Si chiede di ripetere l’Esercizio 3.11 con riferimento al protocollo ARQ di tipo selective repeat \nsapendo che i tempi di inizio trasmissione dei 9 riscontri sono ora: t = 100, 280, 310, 340, 400, 460, 520, 580,", "640 ms, che la prima UI emessa dalla stazione A è la numero 5 e che l’apertura delle finestre in trasmissione e \nPattavinaReti2021.indb   521PattavinaReti2021.indb   521 14/01/2022   16:10:1914/01/2022   16:10:19522  Esercizi\nin ricezione non limita alcuna operazione del protocollo. Di queste due finestre si vogliono determinare i valori \nminimi di apertura Wsmin e Wrmin compatibili con la successione delle trasmissioni in atto.", "Esercizio 3.13 Si chiede di ripetere l’Esercizio 3.11 con riferimento al protocollo ARQ con soli riscontri po-\nsitivi con time-out To = 120 ms, sapendo che i tempi di inizio trasmissione dei 7 riscontri sono ora: t = 100, 160, \n280, 340, 400, 580, 640 ms, che la prima UI emessa dalla stazione A è la numero 3 e che l’apertura delle finestre \nin trasmissione e in ricezione non limita alcuna operazione del protocollo. Di queste due finestre si vogliono", "determinare i valori minimi di apertura Wsmin e Wrmin compatibili con la successione delle trasmissioni in atto. \n3B Reti multipunto\nEsercizio 3.14 Si consideri una rete multipunto caratterizzata dai seguenti parametri:\n• numero di stazioni, N = 100,\n• capacità della rete, C = 100 Mbit/s,\n• tempo medio tra due istanti di generazione di UI in ogni stazione, T = 50 ms,\n• lunghezza fissa delle UI generate, L = 1000 byte.", "Si assume che la probabilità di trasmissione senza errori delle UI sia Ps = 0,999 e che mediamente un’UI ogni \n5000 venga scartata per saturazione del buffer in ricezione. Si chiede di calcolare il traffico offerto e il traffico \nperso per questa rete. \nEsercizio 3.15 Con riferimento a una rete multipunto con N = 20 stazioni con protocollo di accesso a canaliz-\nzazione TDMA o FDMA si chiede di individuare quale valore di throughput garantisce che il tempo medio di", "ritardo normalizzato non sia superiore a Dn = 20. \nEsercizio 3.16 Si calcolino i valori del throughput massimo consentito dal protocollo a prenotazione, nei due \ncasi di tutte le stazioni attive e una sola stazione attiva con i seguenti parametri:\n• numero di stazioni, N = 100,\n• capacità della rete, C = 10 Mbit/s,\n• durata di un minislot, R = 1 ms. \nSi ipotizza che ogni stazione possa prenotare la trasmissione di uno specifico numero di byte per ciclo con un", "valore minimo bmin = 256 byte e un valore massimo bmax, così come consentito dalla capacità del minislot, e \nche la lunghezza delle UI sia uniformemente distribuita nell’intervallo [bmin, bmax] .\nEsercizio 3.17 Si determini l’espressione del throughput massimo di un protocollo a prenotazione con tutte le \nstazioni attive, trame a lunghezza fissa con una trasmissione per ciclo e una fase di prenotazione in cui le N sta-", "zioni accedono ad un solo minislot utilizzando lo stesso meccanismo a contesa del protocollo slotted ALOHA; \nsi ipotizza che una stazione centralizzata riscontri le prenotazioni ricevute con successo (senza collisioni) in un \ntempo trascurabile su un canale di ritorno dedicato.\nEsercizio 3.18 Si chiede di ripetere l’Esercizio 3.17 nel caso di una sola stazione attiva.\nEsercizio 3.19 Si chiede di ripetere l’Esercizio 3.17 nel caso di un numero infinito di stazioni attive.", "Esercizio 3.20 Si chiede di determinare la minima estensione di una rete ad anello con trasferimento di per -\nmesso (token) per un mezzo trasmissivo in rame con le seguenti caratteristiche:\n• capacità dell’anello, C = 4 Mbit/s,\n• numero di stazioni uniformemente distribuite lungo l’anello, N = 4,\n• lunghezza minima dell’unità informativa, Lmin = 24 bit,\n• latenza di stazione, Bs = 2.\nPattavinaReti2021.indb   522PattavinaReti2021.indb   522 14/01/2022   16:10:1914/01/2022   16:10:19Esercizi  523", "Esercizio 3.21 Si vuole calcolare il throughput massimo conseguibile in una rete multipunto con protocollo \ndi accesso ALOHA nel caso di un numero N finito di stazioni con una probabilità p che una generica stazione \nsia in trasmissione in un intervallo di tempo uguale al tempo di trasmissione T di un’UI. Facendo poi tendere N \nall’infinito, si verifichi che il massimo throughput è quello ricavato nell’Esempio 3.11.", "Esercizio 3.22 Si chiede di ripetere l’Esercizio 3.21 nel caso di protocollo di accesso slotted ALOHA, rica-\nvando in questo caso il valore di throughput massimo calcolato nell’Esempio 3.12.\nEsercizio 3.23 Si generi un grafico analogo a quello della Figura 3.50 per il protocollo non-persistent CSMA \nper i tre valori di a in figura (a = 1, 0,1, 0,01).\nEsercizio 3.24 Si determini analiticamente il valore del throughput massimo e il corrispondente valore del", "traffico offerto per il protocollo non-persistent CSMA per i valori a = 1, 0,1, 0,01.\nEsercizio 3.25 Si chiede di ripetere l’Esercizio 3.24 per il protocollo slotted non-persistent CSMA. \nEsercizio 3.26 Si consideri una rete locale di capacità C = 100 Mbit/s con topologia a stella con tre stazioni \nconnesse all’hub H che agisce da centro stella: le stazioni A e C collegate al centro stella con cavi in rame di", "lunghezza dA-H = 800 m e dC-H = 1,6 km, la stazione B con collegamento all’hub di lunghezza trascurabile. Le \nstazioni adottano un protocollo di accesso CSMA di tipo 1-persistent. Le stazioni A, B, C ricevono dal proprio \nprocesso utente le seguenti unità informative (UI) da trasmettere di cui si specificano lunghezza (byte), istante \ndi arrivo e destinazione:\nstazione lunghezza istante di arrivo destinazione\n A LA = 100 tA = 2 ms B\n B L B = 75 tB = 0 ms C\n C LC = 150 tC = 10 ms A", "B L B = 75 tB = 0 ms C\n C LC = 150 tC = 10 ms A\nSi chiede di disegnare un diagramma spazio-tempo, analogo a quello della Figura 3.45, con i tempi di propaga-\nzione e di trasmissione riportati nel corretto rapporto di scala. Si determini il tempo totale Ttot che si impiega \nper completare il trasferimento di tutte le UI, specificando anche se qualcuna di queste non viene ricevuta \ncorrettamente a destinazione in assenza di errori di trasmissione.", "Esercizio 3.27 Si chiede di ripetere l’Esercizio 3.26 nel caso in cui nella rete locale sia adottato il protocollo \ndi accesso CSMA/CD, assumendo che il tempo richiesto per rilevare la collisione e per inviare un segnale di jam \nsia tc = 2 ms e che le UI ricevute dai processi utente che devono essere trasferite siano:\nstazione lunghezza istante di arrivo destinazione\n A LA = 100 tA = 2 ms C\n B LB = 75 tB = 0 ms A\n C LC = 150 tC = 10 ms B", "B LB = 75 tB = 0 ms A\n C LC = 150 tC = 10 ms B\nNel caso una stazione rilevi una collisione dell’UI che sta trasmettendo, si assume che la stazione ritrasmetta la \nstessa UI non appena si rilevi che il mezzo trasmissivo è libero. \nEsercizio 3.28 Nel caso della rete a stella descritto nell’Esercizio 3.26 potrebbero verificarsi delle collisioni \nche non vengono rilevate, così che non vi è certezza della corretta consegna delle UI a destinazione in assenza", "di errori di trasmissione. Si chiede di determinare quali accorgimenti andrebbero presi per evitare ciò.\nEsercizio 3.29 Si chiede di disegnare il diagramma dell’occupazione del canale con protocollo slotted CSMA \nnon-persistent e 1-persistent con la stessa sequenza di arrivi considerati nella Figura 3.47, ipotizzando ora che \nl’UI abbia lunghezza fissa con tempo di trasmissione T = 4 slot. \nEsercizio 3.30 Si chiede di disegnare il diagramma dell’occupazione del canale con protocollo slotted", "CSMA/CD non-persistent e 1-persistent con la stessa sequenza di arrivi considerati nella Figura 3.52, ipotiz-\nPattavinaReti2021.indb   523PattavinaReti2021.indb   523 14/01/2022   16:10:1914/01/2022   16:10:19524  Esercizi\nzando ora che l’UI abbia lunghezza fissa con tempo di trasmissione T = 4 slot e che l’intervallo di collisione \nabbia durata g = 2 slot. \nEsercizio 3.31 Si chiede di esprimere il valore del minimo tempo di ritardo richiesto per trasferire un’UI", "mono-frammento nel protocollo CSMA/CA.\n3C Protocolli di instradamento\nEsercizio 3.32  Si chiede di ripetere l’Esempio 3.17, nel caso in cui un’UI venga generata ora nel nodo F con \ndestinazione nel nodo C determinando il numero di UI generate a ogni passo di evoluzione dell’algoritmo floo-\nding nei due casi di controllo interno attuato con: (i) un contatore del numero di salti operati dall’UI, che viene", "inizializzato a N = 3; (ii) un identificatore dell’UI che consente a ogni nodo di scartare le UI già transitate nel \nnodo.\nEsercizio 3.33 Si consideri una rete a maglia completa di N =  12 nodi con collegamenti bidirezionali in rame \ndi lunghezza 200 km alla velocità C = 4 Mbit/s; la rete adotta la tecnica di instradamento flooding con scarto \nattuato mediante l’identificazione dei pacchetti basata sul nodo sorgente e sulla numerazione progressiva dei", "pacchetti emessi dal nodo. Ipotizzando che la tecnica di inoltro sia di tipo cut-through con tempo di elaborazio-\nne nel nodo trascurabile, si calcoli il numero Ki di pacchetti in transito in rete all’istante ti con t1 = 2 ms, t2 = 3,5 \nms, t3 = 5 ms, se la trasmissione di un pacchetto di lunghezza L = 1000 byte inizia all’istante t = 0.\nEsercizio 3.34 In una rete ad anello con N nodi e collegamenti bidirezionali che adotta la tecnica di instrada-", "mento flooding, si esprima il diametro della rete, definito come la massima distanza tra nodi espressa in numero \ndi salti (lungo il percorso più breve).\nEsercizio 3.35 Si chiede di determinare la tabella di instradamento dei nodi B e F della rete a sei nodi e nove \nrami della Figura 3.60 per i primi quattro passi di aggiornamento dell’algoritmo distance vector, assumendo che \ni vettori delle distanze siano trasmessi tra nodi negli stessi istanti e che l’aggiornamento in ogni nodo avvenga", "una volta sola per passo considerando i vettori di tutti i nodi adiacenti.\nEsercizio 3.36 Si consideri la rete a sei nodi A, B, C, D, E, F e dieci rami, di costo 1 per A-B, C-E, di costo 2 \nper B-C, D-E, di costo 3 per A-F , B-F , di costo 4 per C-F , E-F , di costo 5 per A-E, C-D, che opera con l’algoritmo \ndi instradamento di tipo distance vector. Si chiede di applicare l’algoritmo di Bellman-Ford per determinare", "l’albero dei cammini minimi per i nodi A e C, ricavando anche le relative tabelle di instradamento.\nEsercizio 3.37 Si consideri una rete a quattro nodi, A, B, C, D, con collegamenti a costi unitari tra nodi A-B, \nB-C, C-A, C-D che adotta l’algoritmo distance vector con split horizon. All’istante t = 0 la rete sia perfetta-\nmente funzionante, con il collegamento C-D che va fuori servizio all’istante t = 0,5 s. Si ipotizza uno scambio", "dei vettori delle distanze tale che ogni nodo riceve i vettori degli altri nodi ogni 3 secondi con il primo vettore \nricevuto all’istante t = 1 s nel nodo B, t = 2 s nel nodo C, t = 3 s nel nodo A. Si chiede di compilare una tabella \nche rappresenti il contenuto delle tabelle di instradamento nei nodi A, B, C con riferimento alla destinazione D \nfino all’istante t = 7 s, analogamente a quanto rappresentato in Figura 3.66.", "Esercizio 3.38 Si consideri una rete a sei nodi i cui LSP emessi, mostrati nella Figura 3.68, vengono ricevuti \nnel nodo B nell’ordine dai nodi E, D, A, F , C. Si vuole ricavare l’albero dei cammini minimi del nodo B. \nEsercizio 3.39 Per la topologia di rete ricavata nell’Esercizio 3.38 si chiede di applicare l’algoritmo di Dijk-\nstra ricavando la tabella di instradamento del nodo B.", "Esercizio 3.40 Per la topologia di rete ricavata nell’Esercizio 3.38 si chiede di applicare l’algoritmo di Dijk-\nstra ricavando l’albero dei cammini minimi del nodo E. \nEsercizio 3.41 Si consideri una rete a nove nodi (A, B, C, D, E, F , G, H, I) e diciassette rami i cui costi sono:\nPattavinaReti2021.indb   524PattavinaReti2021.indb   524 14/01/2022   16:10:1914/01/2022   16:10:19Esercizi  525\n costo ramo\n 1 F-G, F-I, G-H\n 2 A-B, B-D\n 3 B-C, C-D, E-F\n 4 A-H, D-E, E-I\n 5 D-I\n 6 A-G, H-I", "4 A-H, D-E, E-I\n 5 D-I\n 6 A-G, H-I\n 7 D-H, G-I\n 8 B-H\nSi chiede di applicare l’algoritmo di Dijkstra ricavando l’albero dei cammini minimi per il nodo H. \nEsercizio 3.42 Si consideri la Figura 3.73 definita nell’Esempio 3.23 che mostra una rete con due livelli di \ngerarchia; comprende tre regioni A, B, C, delle quali la prima è suddivisa in tre territori, A.1, A.2, A.3, ognuno \ncon sei nodi. Le due regioni B e C includono cinque e sei nodi, rispettivamente. Si chiede di determinare le ta-", "belle di instradamento dei nodi A.1.b, B.5, C.1 con instradamento gerarchico, ipotizzando che il costo dei colle-\ngamenti sia unitario e che l’instradamento tra regioni sia diretto, non prevedendo quindi transiti in altre regioni. \n3D Controllo degli errori\nEsercizio 3.43 Si chiede di determinare il numero minimo di errori che in una sequenza di bit protetta con \nun codice di parità bidimensionale può risultare in una rilevazione erronea di assenza di errore nella sequenza \nricevuta.", "ricevuta.\nEsercizio 3.44 Si chiede di determinare il codice di errore bidimensionale associato alla stringa “Internet” \nadottando una codifica ASCII a 7 bit, mostrando anche la sequenza di bit generata che include i bit di parità.\nEsercizio 3.45 Si chiede di determinare la stringa di checksum di k = 16 bit che viene generata a partire dalla \nsequenza esadecimale 0xAF0ECB180BA10B4F .\nEsercizio 3.46 Si chiede di rilevare la presenza di errori nella sequenza 0xAF0ECB180BA10B4F57 sapendo", "che la stringa di checksum include 16 bit. \nEsercizio 3.47 Per la sequenza 0xC5CB0C0783AFC90E4F4B nell’Esempio 3.26 è stata calcolata la check-\nsum 0x9223. La stringa, completa di checksum, viene inviata a una stazione che riceve la sequenza 0xC4CB-\n0C0787AFC80E4F4B9023; essa differisce in 4 bit dalla sequenza inviata. Si chiede di verificare la presenza \ndi errori.\nEsercizio 3.48 Per la stringa di 10 bit 1001110001 si vuole determinare il codice di controllo a ridondanza", "ciclica CRC assumendo che il polinomio generatore sia G(x) = x5 + x + 1.\nEsercizio 3.49 In un collegamento tra le stazioni A e B la stazione B riceve la stringa di 15 bit 101000110101010. \nSapendo che il polinomio generatore è G(x) =  x5 + x4 + x2 + 1, si chiede di determinare se la stringa ricevuta \nindica l’occorrenza di errori di trasmissione o meno.\nEsercizio 3.50 Per la stringa di 10 bit 1001110001 si è determinato nell’Esercizio 3.48 il codice di controllo", "a ridondanza ciclica CRC = 01001 in base al polinomio generatore G(x) =  x5 + x + 1. Gli n +  k bit che sono \ntrasmessi vengono ricevuti come stringa 100011011101001, che contiene quindi tre bit errati. Si chiede di veri-\nficare se il codice di controllo presente negli ultimi 5 bit consente di rivelare la presenza di errori, giustificando \nil risultato ottenuto.\nEsercizio 3.51 Si chiede di dimostrare che gli errori a burst (cioè consecutivi) su meno di k bit sono sempre ri-", "levabili in un codice a ridondanza ciclica con polinomio generatore di grado k che contiene almeno due termini.\nEsercizio 3.52 Si chiede di dimostrare che gli errori su un numero dispari di bit sono sempre rilevabili in un \ncodice a ridondanza ciclica con polinomio generatore che contiene il fattore x +1.\nPattavinaReti2021.indb   525PattavinaReti2021.indb   525 14/01/2022   16:10:1914/01/2022   16:10:19526  Esercizi\n3E Controllo del flusso e della congestione", "3E Controllo del flusso e della congestione\nEsercizio 3.53 Si consideri una rete a sei nodi, etichettati A, B, C, D, E, F , e otto rami di lunghezza 20 km per \nA-B, 12 km per B-C, 10 km per C-D, 40 km per D-E, 10 km per E-F , 5 km per F-A, 35 km per A-C, 40 km per \nB-F . Tutti i collegamenti sono in fibra ottica e hanno capacità C = 20 Mbit/s. I nodi della rete si comportano co-\nme commutatori di tipo store and forward ideali: ogni ritardo di elaborazione e accodamento è trascurabile, e un", "pacchetto in transito viene ritrasmesso solo dopo averlo interamente ricevuto. Sulla rete agisce un meccanismo \ndi controllo di flusso di tipo isaritmico, che opera tra i nodi di accesso. L ’ingresso in rete di un pacchetto “con-\nsuma” un permesso nel nodo di ingresso. L ’uscita dalla rete di un pacchetto genera nel nodo di uscita un nuovo \npermesso che viene ritrasmesso a ritroso al nodo di ingresso lungo lo stesso percorso utilizzato dal pacchetto.", "In assenza di permessi, il nodo di ingresso mantiene i pacchetti ricevuti dalla sorgente in un buffer in attesa di \navere a disposizione nuovi permessi. Si assume che:\n• i pacchetti che vengono immessi in rete sono tutti di uguale lunghezza Lu (byte) e hanno payload \ndi Lp = 100 byte, cui viene aggiunto un overhead Lh = Lp/2;\n• i permessi vengono trasportati da pacchetti di controllo che hanno lunghezza La con La/Lp = 1/2.", "Sono attivi due circuiti virtuali, il primo dal nodo C al nodo B e il secondo dal nodo C al nodo A che vengono \ninstradati lungo il percorso più breve. Si consideri il caso in cui C riceva dalle sorgenti dei due circuiti virtuali \nla seguente sequenza contigua di pacchetti informativi: due per B, tre per A, tre per B. All’istante t = 0 il nodo \nC ha ricevuto interamente dalle sorgenti tutti i pacchetti che devono essere trasmessi; inoltre, all’istante t = 0", "sono presenti N = 4 permessi nel nodo C. Si chiede di determinare il tempo complessivo di trasferimento dei \npacchetti dal nodo C alle rispettive destinazioni. \nEsercizio 3.54 Si consideri la rete definita nell’Esercizio 3.53 e si supponga ora che sia attivo un solo circuito \nvirtuale con origine nel nodo C, che riceve dalla sorgente del circuito virtuale una sequenza contigua di pac-\nchetti senza termine con destinazione in un nodo generico H, e che nel nodo C sia sempre presente un pacchetto", "in attesa di trasmissione. All’istante t = 0 sono presenti N permessi nel nodo C. Si chiede di esprimere N in \nfunzione dei tempi di trasmissione Tp, Ta e dei tempi di propagazione dei collegamenti attraversati, in modo che \nil nodo C possa trasmettere senza interruzione.\nEsercizio 3.55 Si consideri una sorgente VBR periodica, la cui attività per un periodo di 3 s sia così \ncaratterizzata:\n• frequenza di picco della sorgente, Ps = 1 Mbit/s,", "• periodi di attività e inattività a durata costante, TON = 0,8 s e TOFF = 1 s, con inizio attività all’i -\nstante t0 = 0,2 s,\n• UI emesse dalla sorgente a lunghezza fissa, Lp = 25.000 byte.\nSi chiede di ricavare l’andamento del flusso in uscita da un leaky bucket e da un token bucket in modalità store \nand forward (S&F) con le seguenti caratteristiche:\n• frequenza in uscita dal bucket, Pb = 1 Mbit/s,\n• frequenza di arrivo dei permessi, ν = 2,5 (s-1),", "• istante di primo arrivo del permesso, t0 = 100 ms,\n• capacità del buffer nel leaky bucket, Wu = 10 UI,\n• capacità del buffer nel token bucket, Wp = 10 permessi. \nEsercizio 3.56 Si chiede di ripetere l’Esercizio 3.55 con i seguenti parametri modificati:\n• frequenza in uscita dal bucket, Pb = 4 Mbit/s,\n• periodo di interarrivo dei permessi, 1/ν  = 300 ms.\nPattavinaReti2021.indb   526PattavinaReti2021.indb   526 14/01/2022   16:10:1914/01/2022   16:10:19Esercizi  527", "Esercizio 3.57 Si chiede di ripetere l’Esercizio 3.55 ipotizzando la modalità di commutazione cut-through \n(CT), assumendo che l’header dell’UI sia di lunghezza trascurabile e che il tempo di elaborazione del flusso \nentrante nel dispositivo sia nullo.\nEsercizio 3.58 Un nodo di accesso alla rete, X, è collegato verso gli utenti via radio e alla rete di trasporto \ntramite un dispositivo di controllo di flusso a frequenza. Il nodo riceve blocchi di dati da due terminali utente. I", "due terminali iniziano la trasmissione delle UI esattamente allo stesso istante. Il primo terminale, A, si trova alla \ndistanza dA = 15 km da X, e trasmette per un tempo TA = 12 ms alla velocità di trasmissione PA = 16 Mbit/s. \nIl secondo terminale, B, si trova alla distanza dB = 6 km da X, e trasmette per un tempo TB = 9 ms alla velocità \ndi trasmissione PB = 64 Mbit/s. Il nodo X ritrasmette semplicemente verso il controllore di flusso i messaggi", "generati dalle stazioni dell’utente così come da queste li ha ricevuti, senza modificare le velocità di trasmissione \no aggiungere né togliere informazioni. Si ipotizza che il controllo di flusso venga effettuato da un leaky bucket \ncon buffer dati infinito. Il generatore dei permessi del leaky bucket si attiva all’istante ts = 6 s. Al nodo X deve \nessere garantita una velocità media non superiore a AX = 13,71 Mbit/s. Il leaky bucket emette in uscita UI di", "Lp = 12 byte a una velocità di trasmissione di picco costante PX = 32 Mbit/s. Si chiede di determinare il profilo \ndi traffico ELB(t) in uscita dal leaky bucket e il corrispondente livello di riempimento QLB(t) del suo buffer.\nEsercizio 3.59 Si chiede di ripetere l’Esercizio 3.58 nel caso in cui, invece del leaky bucket, il controllo di \nflusso venga effettuato da un token bucket con buffer dati e buffer di permessi infinito. La frequenza di tra-", "smissione del token bucket e la lunghezza delle UI emesse sono le stesse del leaky bucket. Anche la sequenza \ndi arrivo dei permessi è la stessa, con primo permesso della sequenza all’istante ts e tempo di interarrivo dei \npermessi r. Per 0 <  t < ts il token bucket non emette pacchetti. All’avvio del token bucket, per t = ts, prima di \nricevere il primo permesso della sequenza sono presenti già due permessi nel buffer dei permessi, risultanti da", "precedenti periodi di attività del token bucket. Si chiede di determinare il profilo di traffico ETB(t) in uscita dal \ntoken bucket e il livello di riempimento QTB(t) del suo buffer.\nEsercizio 3.60 Si consideri una sorgente non periodica, la cui frequenza Ps (costante) di emissione delle UI \nè così caratterizzata: Ps = 0 per 0 <  t ≤ 1 s, Ps = 100/s per 1 <  t ≤ 2 s, Ps = 200/s per 2 <  t ≤ 3 s, Ps = 300/s per", "3 < t ≤ 5 s, frequenza linearmente decrescente da Ps = 200/s a Ps = 0 per 10 <  t ≤ 14 s. La sorgente alimenta \nun dispositivo di controllo di flusso di tipo leaky bucket con tempo di interarrivo dei permessi 1/ν = 10 ms a \npartire da t = 0 e dimensione della memoria (buffer) delle unità informative Wu = 300 UI. Si chiede di ricavare \nil diagramma temporale che rappresenta la frequenza in uscita fout dal dispositivo, il livello di riempimento", "della memoria Lb, nonché il numero delle UI perse Np, assumendo che il dispositivo non aggiunga overhead.\nEsercizio 3.61 Si chiede di ripetere l’Esercizio 3.60 nel caso in cui il dispositivo che esercita il controllo di \nflusso sia ora un token bucket con buffer dei permessi di capacità tale da non andare mai in saturazione.\nEsercizio 3.62 Si consideri un dispositivo di controllo di flusso di tipo leaky bucket che riceve un flusso di", "UI così caratterizzato:  fin = 0 per 0 <  t ≤ 2 s, frequenza linearmente crescente da fin = 0 per t = 2 s a fin = 400/s \nper t =  6 s, fin = 400/s per 6 <  t ≤ 8 s, frequenza linearmente decrescente da fin = 400/s a fin = 0 per 8 <  t ≤ 10 s, \nfin = 200/s per 10 <  t ≤ 13 s, fin = 500/s per 13 <  t ≤ 14 s, fin = 400/s per 14 <  t ≤ 15 s, fin = 100/s per 15 <  t ≤ 17 s, \nfin = 600/s per 17 <  t ≤ 18 s. La frequenza di arrivo dei permessi al leaky bucket è ν  = 200 s-1 a partire da t = 0 e", "la dimensione della memoria (buffer) delle unità informative è Wu = 400 UI. Si chiede di ricavare il diagramma \ntemporale che rappresenta la frequenza in uscita fout dal dispositivo, il livello di riempimento della memoria Lb, \nnonché il numero delle UI perse Np, assumendo che il dispositivo non aggiunga overhead.\nEsercizio 3.63 Si chiede di ripetere l’Esercizio 3.62 nel caso il dispositivo di controllo di flusso adottato fosse", "un token bucket con buffer dei permessi di capacità tale da non andare mai in saturazione.\nPattavinaReti2021.indb   527PattavinaReti2021.indb   527 14/01/2022   16:10:2014/01/2022   16:10:20528  Esercizi\nEsercizio 3.64 Si chiede di ripetere l’Esempio 3.36 nel caso il dispositivo per il controllo di flusso sia ora un \ntoken bucket con buffer dei permessi di capacità Wp = 400, riportando questa volta anche il livello di riempi-\nmento Lp del buffer dei permessi.\n4 Strato di applicazione", "4 Strato di applicazione\nEsercizio 4.1 Con riferimento alla gerarchia DNS riportata in Figura 4.7, si chiede di suddividere in zone il \ndominio ac.nz in modo che il numero di interrogazioni (query) richiesto per la risoluzione del nome ocean.\nphysics.auckland.ac.nz da parte di un host esterno al dominio ac.nz sia esattamente 4 e il numero di zone sia il \nminimo possibile.\nEsercizio 4.2 Si chiede di ripetere l’Esercizio 4.1 individuando il numero minimo di interrogazioni richieste", "con il vincolo che una zona può includere solo nodi di due livelli adiacenti. \nEsercizio 4.3 Con riferimento alla gerarchia DNS riportata in Figura 4.7, si chiede di determinare il numero \ndi interrogazioni richiesto per la risoluzione del nome sea.math.auckland.ac.nz da parte di un NS esterno al \ndominio ac.nz assumendo che ogni zona possa includere un solo nodo.\nEsercizio 4.4 Si chiede di individuare una diversa ripartizione del dominio B di Figura 4.9 in tre zone oppure", "in due zone, in modo che il numero di interrogazioni richieste per risolvere un nome di un dato livello nel do-\nminio B sia sempre lo stesso. \nEsercizio 4.5 Con riferimento all’Esempio 4.2, ipotizzando che il name server locale ns.math.auckland.ac.nz \nsia dotato di cache e che i record relativi alla precedente interrogazione per l’host flower.deib.polimi.it siano \nancora nella cache, si chiede quante interrogazioni siano necessarie per ottenere l’indirizzo IP dell’host tree.", "deib.polimi.it con risoluzione ricorsiva e con risoluzione iterativa.\nEsercizio 4.6 Si ripeta l’Esercizio 4.5 nel caso in cui l’host remoto abbia il nome grass.unibo.it con risoluzio-\nne ricorsiva e con risoluzione iterativa.\nEsercizio 4.7 Si chiede di rappresentare graficamente lo scambio di messaggi che ha luogo tra due MTA \nutilizzando il protocollo SMTP per trasferire dal client ducato.com al server fiorino.com un’e-mail con mittente", "Andrea all’indirizzo andre@scudo.com e destinatario Mariangela all’indirizzo mari@guelfo.com. Il messaggio \nha come soggetto “Buon compleanno” e contiene le righe di testo “Tanti auguri”, “da tutti noi”, “i cugini”.\nEsercizio 4.8 Si chiede di rappresentare graficamente lo scambio di messaggi che ha luogo da un processo \nUA a un processo MTA secondo il protocollo SMTP per trasferire da Piergiorgio con indirizzo pigi@river.eu", "a Giovanni con indirizzo gianni@mountain.eu e Adalberto con indirizzo albi@coast.nl un’e-mail che ha come \nsoggetto “Top secret” e contiene quattro file. Si ipotizza che Giovanni abbia la mailbox bloccata e che il mes-\nsaggio venga poi rigettato dal server poiché eccede la memoria allocata nel server.\nEsercizio 4.9 Si chiede di rappresentare graficamente l’accesso dell’utente Stefano con mailbox “stefi” e", "password “sole” alla propria mailbox con il protocollo POP3, assumendo che la mailbox contenga 4 e-mail \ndi dimensione 170 byte, 135 byte, 340 byte e 200 byte. Il client, dopo l’autenticazione, chiede lo stato della \nmailbox e quindi chiede di ricevere la mail numero 3, cancellandola dalla mailbox. Alla successiva richiesta di \nelencare le mail presenti, segue la richiesta di ripristino della mail cancellata e verifica dello stato della mailbox. \nIl client chiude quindi la comunicazione.", "Il client chiude quindi la comunicazione. \nEsercizio 4.10 Si chiede di rappresentare graficamente l’accesso dell’utente Linda a un server FTP . Dopo \nl’autenticazione con password “Hello”, Linda chiede di ricevere il file lastnews.pdf dalla directory /home/news/\nupdates. Il server risponde che il file richiesto non si trova nella directory indicata. Quindi Linda chiede l’elen-\nPattavinaReti2021.indb   528PattavinaReti2021.indb   528 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  529", "co dei file nella directory e scopre che il file di suo interesse si chiama last-updates.pdf. Ne chiede dunque il \ndownload che viene effettuato con successo e lascia il collegamento FTP aperto. \nEsercizio 4.11 Proseguendo l’attività descritta nell’Esercizio 4.10, Linda, avendo le credenziali, vuole so-\nstituire il file last-updates.pdf con una versione più attuale. Chiede dunque di effettuare l’upload, ma il server", "risponde che la memoria non è sufficiente. Allora decide di caricare il file attention.pdf di piccole dimensioni \nnella directory superiore per segnalare il problema all’amministratore. L ’upload ha successo e quindi Linda \nchiude il collegamento FTP .\nEsercizio 4.12 Un client accede a un server tramite una rete dorsale che mette a disposizione un canale \ndedicato di capacità C = 100 Mbit/s e la distanza lungo il canale tra client e server è d = 300 km. Si chiede di", "determinare il tempo totale T di recupero dal server di una pagina HTML di 1000 byte che contiene 8 immagini \ndi 25 kbyte ognuna adottando connessioni non persistenti, oppure persistenti. Si assume che la dimensione dei \nmessaggi di controllo del protocollo HTTP sia trascurabile e che la chiusura di una connessione TCP possa \nessere attuata in un tempo trascurabile.\nEsercizio 4.13 Si chiede di ripetere l’Esercizio 4.12 nel caso in cui gli oggetti possano essere richiesti in", "parallelo con un’operazione di “pipelining”.\nEsercizio 4.14 Un client accede a un server utilizzando il protocollo HTTP per scaricare una pagina web \nHTML di dimensione LH = 2,5 kbyte che contiene nO = 20 elementi grafici, ognuno di LO = 10 kbit. La rete che \nconnette il client con il server garantisce un trasferimento dei dati a velocità costante C = 1 Mbit/s. Assumendo \nche tutti i messaggi di controllo dei protocolli HTTP e TCP abbiano dimensione costante Lc = 500 bit e trascu-", "rando i ritardi di propagazione si chiede di determinare il tempo totale richiesto per completare il trasferimento \ndella pagina web con tutti gli elementi grafici nelle ipotesi di: (i) modalità persistente del protocollo HTTP , \n(ii) modalità non persistente del protocollo HTTP , (iii) modalità non persistente del protocollo HTTP , ma con \nrichiesta in parallelo al server di recupero degli elementi grafici.", "Esercizio 4.15 Si chiede di disegnare la successione di messaggi HTTP di richiesta e di risposta che vengono \nscambiati tra un client e un server, in cui il client inizialmente chiede l’accesso alla pagina www.deib.polimi.\nit/esami-oggi.html che è stata spostata in modo permanente. Successivamente il client chiede il regolamento \ndi iscrizione agli esami all’indirizzo www.deib.polimi.it/esami/regolamento-iscrizioni.html, specificando che", "la lingua richiesta è quella italiana e che il messaggio richiesto è di tipo “text/plain”. Il server risponde che il \nclient non è autorizzato. Il client quindi invia le proprie credenziali e il file richiesto viene inviato con successo \ndal server. Infine il client chiede l’elenco delle date di esame contenute nella pagina www.deib.polimi.it/esami/\ndate-esami.html a condizione che questo sia stato modificato dopo le ore 21:00 del 15 Dicembre 2018. Il server", "indica in risposta l’assenza di modifiche. \nEsercizio 4.16 Si consideri la configurazione di rete di Figura 4.23 che mostra due proxy server localizzati \nnella rete locale e nel sito dell’ISP . Si assume che la ricerca di file in rete per il download sia effettuata in se-\nquenza prima nel proxy server locale, poi nel proxy server dell’ISP e infine nell’origin server. La rete sia così \ncaratterizzata:", "caratterizzata:\n• tempo totale di propagazione per l’attraversamento della rete Internet dall’invio di una richiesta da \nparte del proxy server locale all’origin server fino alla ricezione della relativa risposta, RTT  = 200 ms,\n• lunghezza del collegamento in fibra ottica dall’ISP alla rete locale, d = 6 km,\n• estensione della rete locale trascurabile,\n• capacità della rete locale, CLAN 100 Mbit/s,\n• capacità del collegamento dal router della rete locale al router dell’ISP, CISP = 8 Mbit/s,", "• capacità della rete Internet disponibile per l’accesso all’origin server, CInt = 1 Gbit/s.\nPattavinaReti2021.indb   529PattavinaReti2021.indb   529 14/01/2022   16:10:2014/01/2022   16:10:20530  Esercizi\nUn client nella rete locale richiede il download di un file di D = 50 kbyte. Ipotizzando che le necessarie connes-\nsioni TCP siano già instaurate con connessioni di tipo persistente, e che i messaggi del protocollo HTTP abbia-", "no una dimensione Lc = 200 byte, si chiede di calcolare il tempo totale Ttot richiesto dall’invio della richiesta al \nproxy server alla completa ricezione del file nei seguenti casi: (i) il file è disponibile nel proxy server locale; (ii) \nil file è disponibile solo nel proxy server dell’ISP; (iii) il file è disponibile solo nell’origin server.\nEsercizio 4.17 Si faccia riferimento a una content delivery network (CDN), che opera secondo il paradigma", "client-server, caratterizzata da un server centrale con capacità di upload Cs = 1 Gbit/s che fornisce servizio a \nuna popolazione di N = 40 utenti, ognuno dei quali caratterizzato da interfacce di accesso alla rete con capacità \ndi download Cd = 50 Mbit/s. Si vuole determinare il tempo totale T di trasferimento a tutti i client di un video \ndi dimensione D = 1,5 Gbyte nei due casi in cui la distribuzione del file avvenga in modo sequenziale (seq), \noppure in parallelo (par), a tutti gli utenti.", "oppure in parallelo (par), a tutti gli utenti.\nEsercizio 4.18 Con riferimento alla CDN descritta nell’Esercizio 4.17, si vuole determinare il tempo di tra-\nsferimento del video con architettura di rete peer-to-peer, ipotizzando che la capacità di upload di ogni peer sia \nCu = 10 Mbit/s e che il file sia inizialmente disponibile in un solo peer, nei due casi di file scambiato come unica \nentità (int) e di file frammentato (frag) in k = 50 frammenti.", "Esercizio 4.19 In un’architettura peer-to-peer di N peer con N potenza di 2 e capacità di upload Cu minore \ndella capacità di download Cd, si vuole individuare la condizione sul numero di frammenti k che determina una \nriduzione di almeno un fattore F del tempo totale di distribuzione di un file di dimensione D byte rispetto al \ncaso di file non frammentato. \nEsercizio 4.20 Si vuole determinare la capacità minima Cu di upload di una rete peer-to-peer di N peer che", "determina un tempo di distribuzione di un file di D byte minore dell’analogo tempo che caratterizza una rete di \ntipo client-server di N client con capacità Cd di download (Cd > Cu). Si determini anche la capacità di download \nrichiesta nel caso di una rete caratterizzata da N = 1000, D = 500 Mbyte, Cd = 100 Mbit/s nei due casi di assenza \ndi frammentazione e k = 100 frammenti nella rete P2P .\n5 Strato di trasporto", "5 Strato di trasporto\nEsercizio 5.1 Un messaggio UDP rappresentato dalle tre lettere “SOS” è stato inviato con socket sorgente \n<131.175.201.14, 2048> e socket di destinazione <197.203.12.7, 161>, come descritto nell’Esempio 5.3. Si \nchiede di calcolare il valore decimale del campo di checksum per un messaggio UDP di risposta rappresentato \ndalle due lettere “OK”. \nEsercizio 5.2 Il segmento UDP ricevuto in un sistema terminale è costituito dalla stringa esadecimale 0x00-", "35-10-40-00-11-00-00-47-6F-6F-64-62-79-65. Si chiede di identificare il contenuto decimale di tutti i campi \ndell’intestazione e la stringa contenuta nel payload. \nEsercizio 5.3 Con riferimento all’Esercizio 5.2, se l’indirizzo IP del router mittente è 36.8.24.192 e l’indi-\nrizzo IP del terminale ricevente è 24.16.16.16, si chiede di calcolare la stringa esadecimale ricevuta nel campo \nchecksum  in assenza di errori di trasmissione, se la funzione di rivelazione di errore fosse utilizzata.", "Esercizio 5.4 Si mostri lo pseudoheader e il segmento TCP con socket sorgente <10.0.0.1, 8191>, socket di \ndestinazione <192.168.255.17, 1539>, SN = 17.000, AN = 152, window  = 1000, payload “Dante” e tutti gli altri \ncampi posti a zero, che vengono utilizzati per il calcolo del checksum , determinandone anche il valore decimale \nottenuto. \nPattavinaReti2021.indb   530PattavinaReti2021.indb   530 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  531", "Esercizio 5.5 Si consideri una connessione TCP tra un client A e un server B connessi tramite un collegamen-\nto wireless di lunghezza d = 3 km e capacità C = 100 Mbit/s. I segmenti di richieste inviati dal client hanno di-\nmensione Lq = 100 byte, mentre le risposte del server sono inviate con segmenti di dimensione La = 5000 byte. \nSi chiede di determinare la dimensione minima Wmin della finestra TCP in trasmissione del client A affinché", "l’invio di richieste consecutive da parte del client A possa avvenire senza interruzione.\nEsercizio 5.6 Si chiede di ripetere l’Esercizio 5.5 nel caso in cui il server B non disponga delle informazioni \nrichieste dal client e che devono essere richieste dal server B a un server remoto S, raggiungibile attraverso un \ncollegamento in fibra ottica di lunghezza dS = 100 km e capacità CS = 1 Gbit/s.", "Esercizio 5.7 Si consideri una connessione TCP che adotta il valore MSS di default e MSL = 2 min. Si vuole \ndeterminare la massima capacità C di un flusso IP che supporta la connessione TCP , affinché non possano mai \ntrovarsi in rete due byte con lo stesso numero ipotizzando che i datagrammi IP abbiano un header di 20 byte.\nEsercizio 5.8 Si calcoli il massimo throughput dati (in byte/s) consentito a livello di trasporto da una con-", "nessione TCP tra due host attraverso una rete Fast Ethernet di capacità C = 100 Mbit/s con un tempo di ritardo \nstimato RTT  = 5 ms, assumendo che la receiver window abbia dimensione Rwnd = 8192.\nEsercizio 5.9 Si consideri il trasferimento di dati tra due stazioni, A e B, attraverso una connessione TCP \ncon le seguenti ipotesi: (i) solo la stazione A riceve dalla propria applicazione dati da inviare e in particolare", "un primo blocco di 4500 byte all’istante t = 0 e un secondo blocco di 4000 byte all’istante t1 = 3,5·Ts, dove il \ntempo di trasmissione Ts di un segmento di dimensione massima MSS = 1500 byte è dato da Ts = 1,5·t e t = 10 \nms è il ritardo di propagazione tra le due stazioni; (ii) il secondo segmento inviato dalla stazione A non viene \nricevuto dalla stazione B; (iii) il tempo di trasmissione di un riscontro è Ta = Ts/2; (iv) la numerazione iniziale", "è ISNA = 1000 e ISNB = 500. Si chiede di determinare per questo caso il valore del time-out To oltre il quale la \nprocedura fast retransmit consente di ritrasmettere più velocemente il segmento perduto.\nEsercizio 5.10 Si chiede di disegnare il diagramma temporale dello scambio di segmenti TCP descritto \nnell’Esempio 5.7 mostrando anche lo stato del buffer di trasmissione nella direzione B-A, ipotizzando ora che", "la stazione B generi un blocco di dati di 2500 byte anziché 1000 byte, che l’apertura della finestra di ricezione \nsia di 3000 byte in direzione A-B e di 2000 byte in direzione B-A. \nEsercizio 5.11 Si chiede di ripetere l’Esercizio 5.10 ipotizzando che l’apertura della finestra di ricezione sia \nora di 3000 byte in entrambe le direzioni.\nEsercizio 5.12 Si chiede di disegnare il diagramma temporale dello scambio di segmenti TCP descritto", "nell’Esempio 5.10, mostrando anche lo stato del buffer di trasmissione nella stazione A e lo stato del buffer di \nricezione nella stazione B, ipotizzando ora che l’apertura della finestra di trasmissione in A e di ricezione in B \nsia di 2000 byte e che la stazione B riceva dalla propria applicazione un blocco dati di 500 byte invece che di \n1000 byte.\nEsercizio 5.13 Si consideri l’algoritmo di stima del round trip time (RTT) usato dal protocollo TCP . Si calcoli", "il nuovo valore di RTT se la stima corrente è RTT  = 15 ms e si ricevono quattro riscontri che risultano nei ritardi \nmisurati RTT  = 18, 23, 24, 32 ms. Si assumano i valori suggeriti per i coefficienti peso.\nEsercizio 5.14 Si calcolino i nuovi valori del parametro RTTdev con i dati forniti nell’Esercizio 5.13 ipotiz-\nzando che, prima di ricevere le quattro nuove stime di ritardo, il valore corrente del parametro sia RTTdev = 6", "ms. Anche in questo caso si adottino i valori suggeriti per i coefficienti peso.\nEsercizio 5.15 Si chiede di ricavare i valori del time-out determinato dalle nuove stime del parametro RTT \nfornite nell’Esercizio 5.13 utilizzando i risultati ottenuti negli Esercizi 5.13 e 5.14.\nPattavinaReti2021.indb   531PattavinaReti2021.indb   531 14/01/2022   16:10:2014/01/2022   16:10:20532  Esercizi", "Esercizio 5.16 Due host sono collegati tramite una rete che rende disponibile un collegamento su canale radio \ndi lunghezza d = 80 km e di capacità costante C = 80 Mbit/s. Viene utilizzato il protocollo di trasporto TCP per \neffettuare il trasferimento di segmenti dall’host A all’host B, ognuno di dimensione fissa MSS = 1000 byte, con \napertura iniziale della congestion window Cwnd = 1 MSS per i due valori della soglia Ssthresh1 = 32 MSS e", "Ssthresh2 = 4 MSS, con inizio trasmissione del primo segmento all’istante t = 0. Ipotizzando che non avvengano \nerrori durante il trasferimento dei dati e che la lunghezza dei messaggi di riscontro sia trascurabile, si chiede \ndi valutare il tempo T necessario per completare il trasferimento di un file da 27,5 kbyte da A a B per ciascuno \ndei due valori della soglia Ssthresh. \nEsercizio 5.17 Si chiede di ripetere l’Esercizio 5.16 nel caso in cui l’host A abbia ricevuto dall’host B l’indi-", "cazione di un’ampiezza della receiver window Rwnd = 5 MSS.\nEsercizio 5.18 Si chiede di ripetere l’Esercizio 5.16 con valore di soglia Ssthresh1 = 32 MSS nel caso in cui il \nsettimo segmento, oppure l’ultimo segmento, non sia ricevuto da B per errore di trasmissione, assumendo l’a-\ndozione del protocollo TCP Tahoe e un time-out iniziale To = 2 RTT. Nel caso di transizione dalla regione slow", "start alla regione congestion avoidance all’interno di una “finestra” di trasmissione di durata RTT, si considera \nsolo l’aumento dovuto ai riscontri ricevuti nella regione slow start.\nEsercizio 5.19 Si chiede di ripetere l’Esercizio 5.18 nel caso del protocollo TCP Reno.\nEsercizio 5.20 Si vuole trasferire un file di D = 5000 byte dall’host A all’host B attraverso un router R colle-\ngato in fibra ottica agli host. I collegamenti A-R e R-B sono così caratterizzati:", "• capacità del collegamento A-R, CA = 1,6 Mbit/s,\n• lunghezza del collegamento A-R, dA = 800 km,\n• capacità del collegamento R-B, CB = 640 kbit/s,\n• lunghezza del collegamento R-B, dB = 200 km.\nIl trasferimento del file avviene instaurando una connessione TCP così caratterizzata:\n• dimensione massima di un segmento TCP, MSS  = 1000 byte,\n• lunghezza minima dell’header dei segmenti TCP,\n• apertura iniziale della congestion window, Cwnd  = 1 MSS,", "• soglia di separazione delle due regioni slow start e congestion avoidance, Ssthresh  = 4 kbyte,\n• apertura della receiver window molto grande, tale da non limitare il flusso trasmesso dall’host A.\nIpotizzando di trascurare gli header aggiunti dagli strati inferiori a quello di trasporto e in assenza di errori di \ntrasmissione, si chiede di calcolare il tempo totale T richiesto per inizializzare la connessione TCP e trasferire il", "file dall’inizio dell’instaurazione della connessione TCP alla fine della ricezione dell’ultimo riscontro nell’host \nA utilizzando sempre segmenti TCP di lunghezza massima. \nEsercizio 5.21 Si chiede di rappresentare l’andamento dell’apertura della congestion window per i protocolli \nTCP Tahoe e TCP Reno per i primi 40 intervalli di RTT nell’ipotesi che: (i) uno dei segmenti inviati al tempo", "13 RTT venga perso e vengano ricevuti solo riscontri duplicati; (ii) che nell’intervallo (14-15) RTT la rete sia \nguasta e nessun segmento venga trasmesso; (iii) la rete vada fuori servizio nell’intervallo (23-25) RTT. I valori \niniziali sono: soglia tra le due regioni Ssthresh = 16 MSS, congestion window Cwnd = 1 MSS, time-out To = 2 \nRTT. La trasmissione ha inizio al tempo 1 RTT.\nEsercizio 5.22 Si consideri il trasferimento di un file su una connessione TCP tra due host con le seguenti", "caratteristiche:\n• soglia iniziale di separazione tra regioni, Ssthresh  = 4000 byte,\n• valore iniziale della congestion window, Cwnd  = 1000 byte,\nPattavinaReti2021.indb   532PattavinaReti2021.indb   532 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  533\n• time-out iniziale, To = 2 RTT, che raddoppia ad ogni scadenza di time-out e ritorna al valore iniziale \nalla ricezione del primo riscontro,\n• receiver window iniziale, Rwnd (0) = 12.500 byte,", "• receiver window all’istante 26 RTT, Rwnd (26) = 2500 byte,\n• segmenti TCP tutti di dimensione massima, MSS  = 500 byte,\n• dimensione del file, D = 145.500 byte.\nLa rete va fuori servizio negli intervalli (18-20) RTT e (20-24) RTT, non trasferendo alcun segmento. Ipotiz-\nzando trascurabile ogni tipo di overhead e la connessione TCP già instaurata, si vuole calcolare il tempo totale \nrichiesto per trasferire il file dall’host A all’host B rappresentando l’andamento nel tempo della congestion", "window.\n6 Strato di rete\nEsercizio 6.1 In riferimento alla Figura 6.4, si consideri l’host B con indirizzo IP 131.175.201.14 che invia \nun datagramma con 2000 byte di payload e identification = 27901 all’host A con indirizzo IP 197.203.12.7. \nIpotizzando instradamento a minima distanza (numero di salti), MTU di default a eccezione della rete N2, in cui \nquesto parametro assume il valore di 1500 byte, si chiede di mostrare graficamente il formato dei datagrammi", "IP per tutti i campi noti che sono scambiati tra host e router. \nEsercizio 6.2 Si chiede di calcolare il numero massimo di host Hmax che possono essere interfacciati in una \nrete di classe A, B o C, tenendo conto degli indirizzi speciali che non possono essere utilizzati.\nEsercizio 6.3 Si chiede di determinare il numero totale di indirizzi IP (validi) di host disponibili nel terzo \nblocco di indirizzi privati.", "blocco di indirizzi privati.\nEsercizio 6.4 Per le sottoreti con netmask /25 della rete /22 con indirizzo 129.16.248.0 si vuole determinare \nl’indirizzo broadcast, nonché gli indirizzi di host più piccolo e più grande delle due sottoreti identificate con il \nnumero più piccolo e il numero più grande.\nEsercizio 6.5 Con riferimento all’Esercizio 6.4, si chiede di specificare a cosa corrisponde l’indirizzo \n129.16.249.127 nel caso di una rete /22, oppure di una sottorete con una netmask /25.", "Esercizio 6.6 Si vuole partizionare la rete di classe A con indirizzo 64.0.0.0 in sottoreti /17 (cioè con netmask \navente i primi 17 bit posti a 1), determinando il numero di sottoreti che si ricavano e il formato decimale della \nsottorete numero 163. Quest’ultima “rete” sia a sua volta divisa in sottoreti /n che consentano di indirizzare \nalmeno 1023 host ciascuna. Si determini il prefisso di sottorete /n, il numero di sottoreti risultanti e l’indirizzo \nbroadcast della sottorete numero 10.", "broadcast della sottorete numero 10.\nEsercizio 6.7 Si vuole partizionare la rete di classe B con indirizzo 128.128.0.0 in sottoreti /17. La sottorete \ncon indirizzo più grande sia ulteriormente partizionata in sottoreti con netmask costituite da 21 bit posti a 1. Di \nqueste sottoreti si vogliono individuare le due con numero di sottorete più piccolo e più grande, determinando \nper ognuna di queste l’indirizzo broadcast, nonché gli indirizzi di host più piccolo e più grande.", "Esercizio 6.8 Con riferimento all’Esercizio 6.7, si specifichi a che cosa corrisponde l’indirizzo \n128.128.199.255 se si adotta una netmask /17 oppure una netmask /21.\nEsercizio 6.9 Nell’ambito della rete di classe B con indirizzo 153.2.0.0 si definisca un meccanismo di sub-\nnetting senza la funzionalità VLSM in modo che a ogni sottorete possano essere connessi 256 host, determi-\nnando anche il numero di sottoreti che si rendono disponibili e l’indirizzo della rete con numero di sottorete", "più grande.\nPattavinaReti2021.indb   533PattavinaReti2021.indb   533 14/01/2022   16:10:2014/01/2022   16:10:20534  Esercizi\nEsercizio 6.10 Un operatore gestisce le seguenti reti fisiche: (i) rete N1 che collega 40 host, (ii) rete N2 che \ncollega 100 host, (iii) rete N3 che collega 14 host, (iv) rete N4 che collega 8 host. Egli ottiene dall’autorità di \ngestione di Internet più blocchi di indirizzi che iniziano dall’indirizzo 199.2.3.0. Ipotizzando un indirizzamento", "classful senza capacità di adozione di netmask a lunghezza variabile, si chiede di assegnare blocchi di indirizzi \nIP alle singole reti a partire dall’indirizzo più piccolo disponibile, specificando per ognuno di essi anche la \nnetmask corrispondente, in modo da minimizzare il numero totale di indirizzi non più utilizzabili al di fuori di \nqueste quattro reti.\nEsercizio 6.11 Si chiede di integrare l’assegnazione di indirizzi IP determinata dall’Esercizio 6.10 ipotizzan-", "do che le reti N1 e N2 ricevano connettività Internet attraverso i router R1 e R2, rispettivamente, mentre le reti \nN3 e N4 ricevono connettività da un terzo router, R3. I router siano mutuamente connessi attraverso i collega-\nmenti diretti R1-R2, R2-R3 e R3-R1. Si vogliono dunque assegnare indirizzi IP a ognuno dei collegamenti di \nrete, sempre minimizzando il numero di indirizzi non più assegnabili ad altre reti.", "Esercizio 6.12 Un operatore gestisce le seguenti reti fisiche: (i) rete N1 che collega 40 host, (ii) rete N2 che \ncollega 100 host, (iii) rete N3 che collega 14 host, (iv) rete N4 che collega 8 host. Egli ottiene dall’autorità di \ngestione di Internet un blocco di indirizzi che inizia dall’indirizzo 199.2.3.0. Ipotizzando un indirizzamento \nclassful, si supponga che l’amministratore intenda associare a ciascuna delle reti fisiche da N1 a N4 una subnet", "con le seguenti regole: (i) tutti i router supportano variable length subnet mask (VLSM), che consente di asse-\ngnare netmask di lunghezza variabile alle diverse sottoreti; (ii) la subnet associata a ciascuna rete fisica deve \nessere tale che il numero di indirizzi non utilizzati dagli host sia il più piccolo possibile; (iii) alle quattro reti fi-\nsiche vanno associati blocchi di indirizzi contigui a partire dall’indirizzo di rete con net-id e host-id più piccoli.", "Esercizio 6.13 Si chiede di integrare l’assegnazione di indirizzi IP determinata dall’Esercizio 6.12 ipotizzan-\ndo che le reti N1 e N2 ricevano connettività Internet attraverso i router R1 e R2, rispettivamente, mentre le reti \nN3 e N4 ricevono connettività da un terzo router, R3. I router siano mutuamente connessi attraverso i collega-\nmenti diretti R1-R2, R2-R3 e R3-R1. Si vogliono dunque assegnare indirizzi IP a ognuno dei collegamenti di", "rete, sempre minimizzando il numero di indirizzi non più assegnabili ad altre reti.\nEsercizio 6.14 Con riferimento alla rete individuata nell’Esercizio 6.13, si ipotizza che gli indirizzi assegnati \nalle interfacce dei router abbiano il campo host-id più piccolo nell’ambito di quelli assegnati alla sottorete \ninterfacciata. Si chiede di individuare gli indirizzi IP di tutte le interfacce dei router e di identificare la tabella", "di instradamento del router R2 adottando il numero di nodi attraversati come metrica di costo da minimizzare.\nEsercizio 6.15 Si chiede di ripetere gli Esercizi 6.12 e 6.13 in cui un operatore gestisce le seguenti reti fisiche: \n(i) rete N1 che collega 40 host, (ii) rete N2 che collega 100 host, (iii) rete N3 che collega 14 host, (iv) rete N4 \nche collega 8 host. Si assume ora che sia possibile operare con indirizzamento classless CIDR e che l’operatore", "abbia disponibile il blocco 32.64.128.0/18 del quale sono stati già utilizzati i primi 4096 indirizzi per altre reti. \nSi ipotizza che le reti N1 e N2 ricevano connettività Internet attraverso i router R1 e R2, rispettivamente, mentre \nle reti N3 e N4 ricevono connettività da un terzo router, R3. I router siano mutuamente connessi attraverso i \ncollegamenti diretti R1-R2, R2-R3 e R3-R1. Si chiede di associare alle quattro reti fisiche blocchi di indirizzi", "IP contigui a partire dall’indirizzo di rete disponibile con net-id e host-id più piccoli e di assegnare successi-\nvamente indirizzi IP a ognuno dei collegamenti di rete, sempre minimizzando il numero di indirizzi non più \nassegnabili ad altre reti.\nEsercizio 6.16 Si vogliono esprimere in modalità CIDR i blocchi di indirizzi privati specificati nella Tabella 6.3.\nEsercizio 6.17 Con riferimento all’Esempio 6.7, che rappresenta una rete con subnetting basato su tecnica", "VLSM, si chiede di determinare la tabella di instradamento del router R1, individuando anche l’indirizzo IP \ndi destinazione che il router utilizzerebbe per inviare uno stesso datagramma IP agli host C, D, E, oppure F , G.\nPattavinaReti2021.indb   534PattavinaReti2021.indb   534 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  535\nEsercizio 6.18 Un router interfaccia tre reti con indirizzo: \n interfaccia indirizzo\n i0 32.32.0.0/12\n i1 128.144.0.0/12\n i2 220.96.0.0/12", "i1 128.144.0.0/12\n i2 220.96.0.0/12\nSi chiede di determinare il comportamento del router se riceve sull’interfaccia i1 un datagramma con indirizzo \ndi destinazione DA1 = 255.255.255.255, oppure DA2 = 32.47.255.255, oppure DA3 = 127.0.0.1. \nEsercizio 6.19 Il router definito nell’Esercizio 6.18 riceve sull’interfaccia i2 un datagramma con indirizzo IP \nsorgente SA = 0.0.0.0, indirizzo IP di destinazione DA  = 255.255.255.255, il cui payload è un segmento UDP", "con porta di destinazione 67. Si vogliono identificare le azioni che vengono intraprese dal router.\nEsercizio 6.20 Con riferimento alla funzionalità di traduzione degli indirizzi implementata in un router R, si \nchiede di individuare la tabella di “mapping” di un NAPT nel caso questo sia dotato di un solo indirizzo pub-\nblico che interfacci tre host, H1, H2, H3, di una rete privata alla quale sono stati assegnati gli ultimi tre indirizzi", "privati del blocco in classe B; questi host accedano a un server FTP S1, un mail server POP3 S2 e un server \nWWW S3 con il primo indirizzo pubblico, rispettivamente, in classe A, in classe B e in classe C. Si assume che \nil dispositivo NAPT selezioni i valori più grandi possibili per l’identificazione del numero di porta NAPT a \npartire dall’host H1 e che ogni host selezioni il più piccolo valore come identificatore di porta privata.", "Esercizio 6.21 Con riferimento all’Esercizio 6.20, si chiede di individuare gli indirizzi IP sorgente e di de-\nstinazione, nonché i numeri di porta sorgente e di destinazione utilizzati nelle unità informative (segmenti e \ndatagrammi) scambiate lungo tutti i collegamenti coinvolti per i flussi H1-S1, H2-S2, H3-S3, assumendo che \nl’indirizzo pubblico del router sia l’ultimo (il più grande) disponibile in classe B.", "Esercizio 6.22 Data la tabella di instradamento di un router IP riportata di seguito per netmask crescente (per \nogni indirizzo di rete sono riportati la netmask e il next hop router)\n voce destinazione netmask NH    \n 1 0.0.0.0 0.0.0.0 A\n 2 100.40.0.0 255.255.0.0 B\n 3 100.41.0.0 255.255.0.0 C\n 4 100.42.0.0 255.255.0.0 B\n 5 100.43.0.0 255.255.0.0 B\n 6 100.45.0.0 255.255.0.0 C\n 7 100.48.0.0 255.255.0.0 A\n 8 100.32.64.0 255.255.224.0 D\n 9 100.32.96.0 255.255.224.0 D", "9 100.32.96.0 255.255.224.0 D\n 10 200.100.64.0 255.255.252.0 A\nsi chiede di individuare la modalità di aggregazione degli indirizzi che permette di ottenere una nuova tabella \ndi instradamento con numero minimo di voci.\nEsercizio 6.23 Data la tabella di instradamento di un router IP riportata di seguito (per ogni indirizzo di rete \nsono riportati la netmask e il next hop router)\n voce destinazione netmask NH     \n 1 0.0.0.0 /0 40.40.40.40\n 2 25.80.0.0 /14 10.10.10.10", "2 25.80.0.0 /14 10.10.10.10\n 3 25.84.0.0 /14 10.10.10.10\n 4 25.88.0.0 /14 10.10.10.10\n 5 25.92.0.0 /14 20.20.20.20\n 6 25.96.0.0 /15 30.30.30.30\n 7 25.98.0.0 /15 30.30.30.30\n 8 25.87.72.0 /21 40.40.40.40\nPattavinaReti2021.indb   535PattavinaReti2021.indb   535 14/01/2022   16:10:2014/01/2022   16:10:20536  Esercizi\nsi chiede di individuare la modalità di aggregazione degli indirizzi che permette di ottenere una nuova tabella \ndi instradamento con numero minimo di voci.", "di instradamento con numero minimo di voci.\nEsercizio 6.24 Data la tabella di instradamento di un router IP riportata di seguito (per ogni indirizzo di rete \nsono riportati la netmask e il next hop router)\n voce destinazione netmask NH router    \n 1 0.0.0.0 /0 131.175.254.254\n 2 16.32.48.0 255.255.248.0 131.175.1.126\n 3 16.32.56.0 255.255.248.0 131.175.1.126\n 4 16.32.64.0 255.255.248.0 131.175.1.126\n 5 16.32.72.0 255.255.248.0 131.175.1.126\n 6 16.32.96.0 255.255.248.0 131.175.1.126", "6 16.32.96.0 255.255.248.0 131.175.1.126\n 7 16.32.112.0 255.255.248.0 131.175.1.126\n 8 16.32.120.0 255.255.248.0 131.175.1.126\nsi chiede di individuare la modalità di aggregazione degli indirizzi che permette di ottenere una nuova tabella \ndi instradamento con numero minimo di voci.\nEsercizio 6.25 Data la tabella di instradamento di un router IP riportata di seguito per netmask crescente (per \nogni indirizzo di rete sono riportati la netmask e il next hop router)", "voce destinazione netmask NH    \n 1 0.0.0.0 0.0.0.0 A\n 2 80.0.0.0 240.0.0.0 B\n 3 90.0.0.0 254.0.0.0 C\n 4 90.128.0.0 255.128.0.0 D\n 5 90.32.0.0 255.240.0.0 E\n 6 90.168.0.0 255.254.0.0 F\n 7 90.160.64.0 255.255.224.0 G\n 8 90.168.192.0 255.255.254.0 H\n 9 90.32.128.32 255.255.255.224 I\n 10 90.168.1.64 255.255.255.240 J\nsi chiede di costruire una tabella che specifichi le voci con cui il matching è positivo eil next hop che il", "router assegna secondo l’algoritmo longest prefix match ai datagrammi il cui indirizzo IP di destinazio-\nne è: 90.160.67.64, 90.169.1.66, 92.0.6.3, 90.168.1.80, 88.32.7.4, 91.32.27.43, 90.48.128.7, 90.34.128.0, \n90.168.193.80, 90.170.192.3.\nEsercizio 6.26 Data la tabella di instradamento di un router IP riportata di seguito per netmask crescenti (per \nogni indirizzo di rete sono riportati la netmask e il next hop router):\n voce destinazione netmask NH    \n 1 0.0.0.0 0.0.0.0 A", "1 0.0.0.0 0.0.0.0 A\n 2 168.0.0.0 252.0.0.0 B\n 3 170.0.0.0 254.0.0.0 C\n 4 170.128.0.0 255.192.0.0 D\n 5 170.32.0.0 255.240.0.0 E\n 6 168.48.0.0 255.240.0.0 F\n 7 170.32.128.0 255.255.224.0 G\n 8 170.160.64.0 255.255.240.0 H\n 9 170.168.128.0 255.255.252.0 I\n 10 170.168.224.0 255.255.255.192 J\nsi chiede di costruire una tabella che specifichi le voci con cui il matching è positivo e il next hop che il router", "assegna secondo l’algoritmo del longest prefix match ai datagrammi il cui indirizzo IP è: 170.160.128.64, \n168.62.1.24, 170.0.6.32, 170.168.224.64, 170.32.7.4, 169.32.27.43, 170.48.128.7, 170.32.156.0, \n168.168.130.24, 172.48.0.32.\nPattavinaReti2021.indb   536PattavinaReti2021.indb   536 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  537\nEsercizio 6.27 Si chiede di ripetere l’Esempio 6.14 individuando la tabella di instradamento del router R2", "ordinata per netmask di valore crescente e operando anche aggregazione di indirizzi, se possibile, allo scopo di \nridurre le voci della tabella di instradamento.\nEsercizio 6.28 Si chiede di ripetere l’Esempio 6.15 individuando la tabella di instradamento del router R5 \nordinata per netmask di valore crescente e operando anche aggregazione di indirizzi, se possibile, allo scopo di \nridurre le voci della tabella di instradamento.", "ridurre le voci della tabella di instradamento.\nEsercizio 6.29 Si consideri un router dotato di tre interfacce specificate con i seguenti valori dell’indirizzo \nIP e della relativa netmask:\n interfaccia indirizzo netmask\n i0 180.33.21.8 255.255.254.0\n i1 180.33.22.11 255.255.255.128\n i2 180.33.22.180 255.255.255.128\nLa tabella di instradamento del router è riportata di seguito per netmask crescenti (per ogni indirizzo di rete \nsono specificati la netmask e il next hop router):", "voce destinazione netmask NH    \n 1 0.0.0.0 0.0.0.0 180.33.22.240\n 2 170.60.0.0 255.255.0.0 180.33.20.64\n 3 170.32.128.0 255.255.224.0 180.33.22.4\n 4 170.60.64.0 255.255.240.0 180.33.22.240\n 5 170.60.128.0 255.255.252.0 180.33.22.4\n 6 170.32.224.0 255.255.255.192 180.33.20.64\nPer i seguenti datagrammi, dei quali si indicano l’indirizzo di destinazione e l’interfaccia di provenienza, si", "chiede di specificare il tipo di inoltro effettuato (diretto o indiretto), le voci della tabella di instradamento con \ncui il matching è positivo e l’interfaccia di uscita selezionata:\n     destinazione  interfaccia\n 170.32.148.128  i0\n 180.33.22.11   i0\n 170.60.130.55  i2\n 255.255.255.255  i1\n 180.33.20.128  i2\n 180.33.22.127  i2\n 170.60.77.128  i1\n 0.0.1.1   i0\n 170.32.224.48  i2\n 170.32.130.32.2  i0\n 180.33.22.10  i1", "170.32.130.32.2  i0\n 180.33.22.10  i1\nEsercizio 6.30 Con la stessa tabella di instradamento e le stesse interfacce dell’Esercizio 6.29, un router è ora \nspecificato anche con il valore della dimensione massima delle unità dati (byte) che possono essere trasmesse \nsu ognuna delle sue interfacce:\n interfaccia indirizzo netmask MTU\n i0 180.33.21.8 255.255.254.0 1200\n i1 180.33.22.11 255.255.255.128 800\n i2 180.33.22.180 255.255.255.128 1000", "i2 180.33.22.180 255.255.255.128 1000\nPer i seguenti datagrammi, dei quali si indicano l’indirizzo di destinazione, la dimensione (byte), lo stato del bit \nDF (don’t fragment) che, quando posto a 1, impedisce la frammentazione del datagramma durante l’attraver -\nsamento del router, si chiede di specificare il tipo di inoltro richiesto (diretto o indiretto), le voci della tabella \ndi instradamento con cui il matching è positivo, l’interfaccia di uscita selezionata e l’avvenuto inoltro oppure", "lo scarto:\nPattavinaReti2021.indb   537PattavinaReti2021.indb   537 14/01/2022   16:10:2014/01/2022   16:10:20538  Esercizi\n     destinazione  dimensione bit DF\n 170.60.68.128  1200 1\n 170.32.224.65  1200 1\n 170.32.144.6  1000 1\n 180.33.22.126  1000 0\n 170.60.40.20  1200 1\n 180.33.20.8  1400 1\n 170.60.132.112  1000 1\n 180.33.23.255  1200 0\n 180.33.23.21  1000 1\n 170.32.60.131  1000 0", "180.33.23.21  1000 1\n 170.32.60.131  1000 0\nEsercizio 6.31 Con riferimento all’Esercizio 6.30, si chiede di specificare l’effetto sull’operazione di inoltro/\nscarto di ogni datagramma nel caso in cui tutti i datagrammi giungano al router con il campo TTL = 1, dove il \ncampo TTL indica il numero di nodi di rete (router) che devono essere ancora attraversati.\nEsercizio 6.32 Si chiede di applicare l’algoritmo di instradamento distance vector alla rete di Figura 6.17 e", "ricavare le tabelle di instradamento dei sei nodi della rete al terzo passo di aggiornamento, assumendo che i \nvettori delle distanze siano trasmessi tra nodi negli stessi istanti e che l’aggiornamento in ogni nodo avvenga \nuna volta sola per passo considerando i vettori di tutti i nodi adiacenti. \nEsercizio 6.33 Sia data una rete a sei nodi, A, B, C, D, E, F , e dieci rami, A-B di costo 1, B-C di costo 2, C-D", "di costo 3, D-E di costo 2, E-F di costo 6, F-A di costo 4, A-E di costo 11, B-F di costo 3, C-E di costo 7, C-F di \ncosto 3. Si chiede di costruire l’evoluzione della tabella di instradamento del nodo E sulla base dei vettori delle \ndistanze ricevuti dai nodi adiacenti nei primi quattro passi di aggiornamento delle tabelle di instradamento, \nassumendo che i vettori siano trasmessi tra nodi negli stessi istanti e che l’aggiornamento in ogni nodo avvenga", "una volta sola per passo considerando tutti i vettori ricevuti.\nEsercizio 6.34 Si chiede di individuare per la rete specificata nell’Esercizio 6.33 la topologia di rete deter -\nminata dal nodo A per i primi quattro passi di aggiornamento, assumendo che i vettori delle distanze siano \ntrasmessi tra nodi negli stessi istanti e che l’aggiornamento in ogni nodo avvenga una volta sola per passo \nconsiderando i vettori di tutti i nodi adiacenti.", "considerando i vettori di tutti i nodi adiacenti.\nEsercizio 6.35 Si consideri una rete a sei nodi di cui il nodo D appena connesso in rete riceve in sequenza i \nseguenti messaggi LSU che indicano il costo di attraversamento dei collegamenti tra nodi adiacenti:\n sorgente LSU\n A B 1, E 5, F 2\n B A 1, C 7, F 9\n C B 7, D 3, E 4, F 2\n E A 5, C 4, D 8, F 1\n F A 2, B 9, C 2, E 1\nAssumendo che il costo sia lo stesso per entrambe le direzioni di ogni collegamento, si vuole mostrare come", "la ricezione di questi messaggi LSU consenta la costruzione della topologia di rete completa vista dal nodo D.\nEsercizio 6.36 Per la topologia di rete trovata nell’Esercizio 6.35 si vuole costruire l’albero dei cammini mi-\nnimi (shortest path tree, SPT) per il nodo D, che costituisce quindi la radice dell’albero, applicando l’algoritmo \ndi Dijkstra.\nEsercizio 6.37 Si consideri una rete costituita da tre AS: \n• AS1 include la rete N1 che interconnette i router R1 e R2;", "• AS2 include le reti: N2 che interconnette i router R3 e R5, N3 che interconnette i router R4 e R5, N4 \nche interconnette i router R3 e R4;\n• AS3 include le reti N5 e N6 interconnesse attraverso il router R6.\nPattavinaReti2021.indb   538PattavinaReti2021.indb   538 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  539\nSapendo che l’interconnessione tra AS è realizzata attraverso i collegamenti diretti R2-R3,R5-R6 si chiede di", "determinare le tabelle di instradamento finali dei sei router per ognuna delle sette reti, assumendo che RIP sia \nil protocollo IGP dei singoli AS e BGP sia il protocollo EGP . \nEsercizio 6.38 Con riferimento all’Esempio 6.26, si vuole valutare il tempo totale richiesto per completare \nil processo Traceroute ipotizzando che la distanza dell’host A dal router R1, dal router R2 e dall’host B sia", "rispettivamente di 5, 15, 20 km, che la capacità delle reti in cavo attraversate sia di C = 10 Mbit/s e che il tem-\npo di elaborazione dei segmenti ricevuti sia trascurabile (il messaggio ICMP “Time exceeded” non contiene \n“Type-dependent data”).\n7 Strati inferiori\nEsercizio 7.1 Un ricevitore che implementa la procedura di bit destuffing del protocollo HDLC riceve la \nsequenza di 78 bit (dopo ogni gruppo di 10 bit è inserito un punto): 0111001111.1100111111.0010111110.", "1110111110.1101011110.1111011111.1011111100.11111100. Si chiede di individuare l’occorrenza di flag, \neventuali bit di stuffing inseriti dal trasmettitore e l’eventuale occorrenza di errori nella stringa ricevuta.\nEsercizio 7.2 Un trasmettitore deve realizzare la trasmissione di una trama HDLC supervisiva di tipo S co-\nstituita dalla seguente sequenza di 48 bit (dopo ogni gruppo di 10 bit è inserito un punto): 0111111111.100", "0001001.0000011111.1010101010.10000001. Si chiede di individuare il campo FCS e la stringa trasmessa \ncomprensiva dei flag, evidenziando la posizione di eventuali bit aggiunti per attuare la procedura di bit stuffing.\nEsercizio 7.3 Una stazione secondaria di una rete multipunto di 60 stazioni che utilizza il protocollo HDLC \nriceve la sequenza di 64 bit (dopo ogni gruppo di 10 bit è inserito un punto): 1001111110.1111101111.100", "1011110.0111110111.1100000111.1110011111.10110. Si chiede di individuare i campi della trama HDLC \ntrasmessa, il tipo di trama, i bit di stuffing che sono stati aggiunti in trasmissione.\nEsercizio 7.4 Una stazione secondaria di una rete multipunto che adotta il protocollo HDLC selective repeat \nriceve la sequenza di 70 bit (dopo ogni gruppo di 10 bit è inserito un punto): 0111111001.1111011011.111010", "1110.1111100111.1100101111.1010111110.1101111110. Considerato che le trame sono numerate modulo-8 e \nche non è presente alcun campo informativo, si chiede di individuare i bit di stuffing che sono stati aggiunti in \ntrasmissione, i campi della trama HDLC trasmessa, il tipo di trama nonché il comando (o risposta) trasportato \ndalla trama nei seguenti due casi, fornendone la motivazione:\n1. la stazione che ha generato la trama l’ha trasmessa subito dopo aver ricevuto correttamente la trama", "numero 5;\n2. la stazione che ha generato la trama l’ha trasmessa subito dopo aver ricevuto correttamente la trama \nnumero 7.\nEsercizio 7.5 In un collegamento tra le stazioni A e B regolato dal protocollo HDLC la stazione B riceve \nuna trama il cui contenuto, dopo l’eliminazione dei flag e a valle dell’operazione di bit destuffing, è la stringa \nesadecimale 0x88191129. Si chiede di verificare se la trama ricevuta contiene errori sapendo che il polinomio", "generatore è il CRC-16 ITU-T, cioè G(x) = x16 + x12 + x5 + 1.\nEsercizio 7.6 Si chiede se è possibile determinare quali bit sono stati ricevuti errati con riferimento all’Esem-\npio 7.4, considerando il risultato della divisione del polinomio ricavato dalla stringa ricevuta 0x881911CA per \nil polinomio divisore G(x) = x16 + x12 + x5 + 1.\nPattavinaReti2021.indb   539PattavinaReti2021.indb   539 14/01/2022   16:10:2014/01/2022   16:10:20540  Esercizi", "Esercizio 7.7 Due stazioni A e B sono collegate da un sistema di trasmissione dati bidirezionale. Il protocollo \ndi linea, che controlla la trasmissione delle trame su questo collegamento, sia di tipo ARQ go-back-n. Lo scam-\nbio di trame tra le due stazioni avviene con queste ipotesi:\n• le due stazioni funzionano regolarmente e il collegamento dati è stato già instaurato, quando la \nstazione A invia la prima trama all’istante t = 0,", "• solo la stazione A invia trame alla stazione B e il buffer di trasmissione non è mai vuoto; quindi la \nstazione B invia solo trame di riscontro (positivo e negativo),\n• i tempi di trasmissione di una trama e di un riscontro sono rispettivamente Tf = 1 ms e Ta = 0,5 ms, \nil tempo di propagazione tra le due stazioni è t = 0,6 ms, il time-out per la ritrasmissione di una \ntrama è dato da To = 4Tf,", "trama è dato da To = 4Tf,\n• il mezzo trasmissivo è soggetto a errori che possono colpire ogni tipo di trama; si ipotizza che si \nverifichi un solo errore durante lo scambio di trame,\n• la finestra in trasmissione ha la massima apertura possibile in base alle caratteristiche del proto -\ncollo ARQ,\n• il tempo di elaborazione di trama Tp si considera nullo.\nSapendo che:\n• la stazione A invia 10 trame consecutive a partire dall’istante t = 0,", "• la stazione B invia riscontro alla ricezione di tutte le trame eccetto la terza,\nsi chiede di:\n• disegnare il diagramma spazio-tempo che mostra lo scambio di trame associando a ogni trama/\nriscontro il tipo di UI seguito dalla numerazione relativa a quel tipo di UI (per esempio la sequenza \nI,2,3 indica una trama informativa con N (S) = 2 e N (R) = 3), assumendo che I,0,0 sia la prima trama \ninviata dalla stazione A,", "inviata dalla stazione A,\n• determinare l’apertura minima Ws-min della finestra in trasmissione e Wr-min della finestra in \nricezione,\n• determinare il numero minimo b di bit per la numerazione delle trame coerente con lo scambio di \ntrame descritto.\nEsercizio 7.8 Si chiede di ripetere l’Esercizio 7.7 per il protocollo ARQ selective repeat.\nEsercizio 7.9 Si chiede di ripetere l’Esercizio 7.7 per un collegamento con protocollo di tipo ARQ go-back-n \nassumendo ora che:", "assumendo ora che:\n• i tempi di trasmissione di una trama e di un riscontro siano rispettivamente Tf = 1 ms e Ta = 0,5 \nms, il tempo di propagazione tra le due stazioni sia t = 0,6 ms, il time-out per la ritrasmissione di \nuna trama sia dato da To = 3Tf,\n• il mezzo trasmissivo sia soggetto a errori che possono colpire ogni tipo di trama; si ipotizza che si \nverifichino due errori durante lo scambio di trame.\nSapendo che:", "Sapendo che:\n• la stazione A invia otto trame con inizio agli istanti t = 0, t = 1 ms, t = 2 ms, t = 3 ms, t = 5 ms, \nt = 6 ms, t = 7 ms, t = 8 ms,\n• la stazione B invia riscontro agli istanti t = 1,6 ms, t = 3,6 ms, t = 4,6 ms, t = 6,6 ms, t = 7,6 ms, \nt = 8,6 ms, t = 9,6 ms,\nsi chiede di:\n• disegnare il diagramma spazio-tempo che mostra lo scambio di trame associando a ogni trama/\nriscontro il tipo di UI, seguito dalla numerazione relativa a quel tipo di UI (per esempio la sequenza", "PattavinaReti2021.indb   540PattavinaReti2021.indb   540 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  541\nI,2,3 indica una trama informativa con N (S) = 2 e N (R) = 3), assumendo che I,2,1 sia la prima trama \ninviata dalla stazione A,\n• determinare l’apertura minima Ws-min della finestra in trasmissione e Wr-min della finestra in \nricezione,\n• determinare il numero minimo b di bit per la numerazione delle trame coerente con lo scambio di \ntrame descritto.", "trame descritto.\nEsercizio 7.10 Si chiede di ripetere l’Esercizio 7.9 per il protocollo ARQ selective repeat.\nEsercizio 7.11 Si consideri un collegamento in fibra ottica di tipo HDLC multipunto che connette la stazione \nprimaria A con le stazioni secondarie B, C, D, per mezzo di procedura di accesso di tipo normal response mode \n(NRM). La topologia fisica è così specificata:\n• distanza tra le stazioni A e B, dAB = 60 km,\n• distanza tra stazioni secondarie adiacenti, dBC = dCD trascurabile,", "• capacità della rete, C = 10 Mbit/s. \nLa connessione della stazione A alle stazioni B, C, D è stata già instaurata. Le stazioni si scambiano trame di \ntipo supervisivo (S) e di tipo informativo (I), in cui il campo dati ha lunghezza fissa Ld = 400 byte. Al tempo \nt = 0 la stazione primaria inizia un ciclo di interrogazione (polling) delle stazioni secondarie, dalla stazione B \nalla stazione D (nota: durante l’interrogazione, la stazione A può anche trasmettere dati con trama informativa).", "A ogni interrogazione la stazione secondaria è autorizzata a emettere dati (bit del campo informativo) fino a 800 \nbyte in totale. Si ipotizza che al tempo t = 0 le stazioni abbiano pronte per la trasmissione le seguenti quantità \ndi dati (bit del campo informativo):\n• stazione A: 800 bye indirizzati alla stazione D,\n• stazione B: 1300 byte,\n• stazione C: 700 byte,\n• stazione D: 400 byte.", "• stazione C: 700 byte,\n• stazione D: 400 byte.\nTutte le trame trasmesse vengono ricevute senza errore, eccetto la prima trama trasmessa dalla stazione C. Per i \ndue protocolli go-back-n (GBN) e selective repeat (SR) si chiede di disegnare in un diagramma spazio-tempo lo \nscambio di trame tra stazioni indicando accanto a ogni trama i valori dei campi: indirizzo, tipo di trama, nume-\nrazione della trama, ogni altra informazione presente nella trama che svolge una funzione specifica nell’ambito", "del protocollo HDLC NRM. Si ipotizzi, solo ai fini della grafica, che tutte le stazioni secondarie siano alla \nstessa distanza dalla stazione primaria e che tutte le trame abbiano la stessa consistenza in termini di numero di \nbit. Ai fini della ritrasmissione di trama non si consideri l’effetto del time-out.\nEsercizio 7.12 Con riferimento alla soluzione individuata per l’Esercizio 7.11, si chiede di derivare l’espres-", "sione simbolica per il tempo totale Ttot richiesto per completare lo scambio di informazioni descritto, utilizzan-\ndo la seguente simbologia:\n• tempo di trasmissione della trama di tipo k (k = I, S), Tk,\n• tempo di propagazione tra stazione primaria e stazione secondaria, t.\nSi chiede quindi di ricavare il valore numerico del tempo totale Ttot considerando che il protocollo HDLC opera \ncon queste ipotesi:\n• numerazione non estesa delle trame, con numero di trama iniziale 0,", "• indirizzi delle stazioni di 2 byte,\n• campo di controllo degli errori compatibile con un polinomio generatore di grado 16.\nPattavinaReti2021.indb   541PattavinaReti2021.indb   541 14/01/2022   16:10:2014/01/2022   16:10:20542  Esercizi\nEsercizio 7.13 Si rappresenti il segnale di linea risultante dalla codifica che utilizza ognuna delle tecniche \npolari per la sequenza di simboli binari 111000000000101101, ipotizzando che l’ultimo segnale emesso prima", "della stringa data sia positivo e che l’ultimo simbolo codificato sia 1.\nEsercizio 7.14 Si rappresenti il segnale di linea risultante dalla codifica che utilizza ognuna delle tecniche \nbipolari (ivi incluso il codice MLT -3) per la sequenza di simboli binari 111000000000101101, ipotizzando che \nl’ultimo segnale emesso prima della stringa data sia positivo.\nEsercizio 7.15 Si determini il codice a blocchi che fornisce la stessa codifica del codice AMI, fornendo anche", "la relativa tabella di corrispondenza.\nEsercizio 7.16 Si chiede di elencare i codici di tipo mBnQ per m = 1,...,10, individuando quelli che utilizzano \ntutti gli elementi disponibili nel codice quaternario.\n8 Accesso a Internet\nEsercizio 8.1 Si consideri l’accesso a un server remoto nella rete Internet attraverso una connessione di tipo \nADSL da un host posizionato alla massima distanza consentita dalla centrale locale. Ipotizzando che Internet", "renda disponibile una connessione su cavo con velocità Cn = 1 Gbit/s e che il server sia localizzato a dn = 100 \nkm dalla centrale locale, si chiede di calcolare il tempo minimo Tmin richiesto per il download di un file di D \n= 40 Mbyte. \nEsercizio 8.2 Si chiede di ripetere l’Esercizio 8.1 calcolando il tempo di ritardo T richiesto per il download \nnel caso in cui la tecnica di modulazione impiegata sulla connessione ADSL, che adotta la tecnica FDD per la", "separazione dei flussi upstream e downstream, rende disponibile una capacità di tre bit/Hz. \nEsercizio 8.3 Si chiede di ripetere l’Esercizio 8.1 ipotizzando che la connessione di accesso disponibile sia \ndi tipo ADSL2+.\nEsercizio 8.4 Si consideri un host posizionato a da = 600 m dalla centrale locale cui è connesso in tecnologia \nVDSL. Si chiede di calcolare il tempo Tmin richiesto al terminale per effettuare l’upload di un file di D = 20", "kbyte su un server disponibile presso l’ISP che fornisce la connettività a Internet. \nEsercizio 8.5 Si chiede di ripetere l’Esercizio 8.4 calcolando il tempo T richiesto per l’upload nel caso in cui \nla tecnica di modulazione impiegata sulla connessione VDSL rende disponibile una capacità di due bit/Hz fino \nalla frequenza f = 6 MHz e un bit/Hz per frequenze più alte.\nEsercizio 8.6 Si consideri un host posizionato a da = 100 m dalla centrale locale cui è connesso in tecnologia", "G.fast. L ’applicazione con cui l’host interagisce richiede un tempo di transito nella rete di accesso non superiore \na Tmax = 2 ms. Si chiede di determinare la dimensione massima delle unità informative trasmesse sulla linea \ndeterminando anche la configurazione dei parametri della linea G.fast.\nEsercizio 8.7 Si consideri uno server che distribuisce file video utilizzando un canale radio LTE per acce-", "dere a Internet attraverso il protocollo di trasporto UDP . Si ipotizza che i messaggi generati dall’applicazione \nabbiano lunghezza L = 500 byte, che i protocolli degli strati PDCP , RLC, MAC aggiungano un header di 24 \nbyte ognuno alle UI e che la trasmissione sul canale radio richieda una codifica FEC per la correzione degli \nerrori il cui overhead è il 5% della stringa informativa trasmessa. Si vuole calcolare il flusso dati Fa trasmesso", "sull’interfaccia radio sapendo che il flusso generato a livello applicativo è di F = 100 Mbit/s. \nPattavinaReti2021.indb   542PattavinaReti2021.indb   542 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  543\n9 Reti LAN cablate\nEsercizio 9.1 Si chiede di spiegare qual è la modifica più semplice che si potrebbe apportare allo standard di \nuna rete Ethernet 10BaseT per poter dislocare due stazioni a una distanza massima di 10 km.", "Esercizio 9.2 Si ripeta l’Esercizio 9.1 ipotizzando che il protocollo di accesso sia di tipo CSMA, cioè privo \ndi meccanismi per la rivelazione delle collisioni.\nEsercizio 9.3 Si desidera progettare una rete radio broadcast che utilizza il protocollo CSMA/CD per l’acces-\nso al canale radio. Sapendo che le stazioni trasmettono dati alla frequenza C = 600 kbit/s, si vuole calcolare il \nraggio limite teorico del dominio circolare di collisione.", "Esercizio 9.4 Si calcoli il massimo throughput dati (in byte/s) consentito a livello di trasporto da una connes-\nsione TCP tra due host connessi tramite una rete Ethernet di capacità C = 10 Mbit/s assumendo che la receiver \nwindow abbia dimensione massima Rwnd = 65.535 e che il tempo di ritardo stimato sia RTT  = 0,1 ms (si tra-\nscuri il ritardo di trasmissione IFG tra trame consecutive).", "Esercizio 9.5 Si chiede di ripetere l’Esercizio 9.4 ipotizzando che i due host siano connessi tramite una rete \nche consente il trasferimento di segmenti TCP di dimensione di default, questa volta senza trascurare il tempo \nche intercorre tra due trasmissioni consecutive. \nEsercizio 9.6 Si chiede di determinare il massimo throughput realizzabile con la struttura Fast Ethernet con", "topologia a due livelli mostrata in Figura 9.6 nella quale l’apparato di primo livello (superiore) sia uno switch e \nquelli di secondo livello (inferiore) siano hub. \nEsercizio 9.7 Si chiede di determinare il massimo throughput realizzabile con la struttura Fast Ethernet con \ntopologia a due livelli mostrata in Figura 9.6 nella quale i tre apparati di rete sono tutti switch invece che hub.", "Confrontare il risultato ottenuto con quello che si otterrebbe nel caso in cui tutti i terminali fossero interfacciati \na un unico switch. \nEsercizio 9.8 Un host accede alla rete Internet attraverso un router su un collegamento in fibra ottica pun-\nto-punto di lunghezza d = 100 m con protocollo di accesso Gigabit Ethernet half duplex di capacità C = 1 Gbit/s. \nL ’host invia una sequenza di 200 segmenti UDP di lunghezza L = 82 byte. Si chiede di calcolare il tempo totale", "Ttot richiesto per completare il trasferimento dall’host al router di tutti i segmenti.\nEsercizio 9.9 Se si potesse operare in modalità half-duplex nella rete Ethernet a 10 Gbit/s adottando la trama \nestesa della rete Gigabit Ethernet, si chiede quale sarebbe il raggio di copertura di una rete a stella con area \ncircolare con uno switch al centro. \nEsercizio 9.10 Con riferimento alla Figura 6.10, si chiede di determinare gli indirizzi di livello 2 e di livello", "3 utilizzati nei messaggi ARP e nelle trame Ethernet che li trasportano quando il router R4 voglia inoltrare un \ndatagramma IP con indirizzo di destinazione 131.175.20.174. Si ipotizza che la cache del protocollo ARP sia \nvuota e che l’algoritmo di instradamento abbia individuato il next hop router secondo il criterio del minimo \nnumero di nodi da attraversare. \n10 Reti wireless e mobilità\nEsercizio 10.1 Ipotizzando di trasmettere trame di tipo IEEE 802.11 di lunghezza minima, con campo infor -", "mativo costituito da trame di tipo Ethernet a lunghezza minima, e che si consegua una probabilità di errore p \ncostante nella trasmissione del singolo bit, si vuole determinare la percentuale di trame che sono ritrasmesse \nper le due probabilità di errore p = 10-4, p = 10-6. \nPattavinaReti2021.indb   543PattavinaReti2021.indb   543 14/01/2022   16:10:2014/01/2022   16:10:20544  Esercizi\nEsercizio 10.2 Si chiede di calcolare la massima efficienza che caratterizza il protocollo di accesso IE-", "EE 802.11b tenendo conto esclusivamente dell’overhead di strato MAC e di strato fisico (PL), sapendo che \nquest’ultimo definisce 144 oppure 72 bit di preambolo, a seconda del tipo di modulazione, e 6 byte di header, \ne trascurando i tempi richiesti per inviare trame di controllo e i tempi di propagazione. \nEsercizio 10.3 Si consideri un ambito di rete wireless dove le due stazioni A e B comunicano utilizzando il", "protocollo CSMA/CA secondo lo standard IEEE 802.11g. La stazione A decide di inviare un messagggio di \nLm = 1000 byte alla stazione B. Ipotizzando assenza di contesa nell’accesso al canale radio da parte di altre \nstazioni, durata dello slot base t = 50 ms, trasmissione alla massima capacità consentita dal protocollo, si chiede \ndi determinare il tempo totale richiesto per completare il trasferimento del messaggio.", "Esercizio 10.4 Per una piconet Bluetooth BR si chiede di calcolare il numero di slot consecutivi necessari a \ntrasmettere un messaggio di lunghezza L uguale a: (a) 100 byte; (b) 300 byte.\nEsercizio 10.5 Per una piconet Bluetooth EDR che realizza trasmissioni a velocità C = 3 Mbit/s si chiede di \ncalcolare il numero di slot consecutivi necessari a trasmettere un messaggio di lunghezza L uguale a: (a) 100 \nbyte; (b) 300 byte.", "byte; (b) 300 byte.\nEsercizio 10.6 Per una piconet Bluetooth LE si chiede di calcolare il numero di slot necessari a trasmettere \nun messaggio di lunghezza L uguale a: (a) 100 bit; (b) 250 bit.\nEsercizio 10.7 Si calcoli il massimo throughput conseguibile in una rete Bluetooth BR, assumendo che ogni \ntrasmissione di UI da parte di un dispositivo slave contenente dati dell’utente sia seguita dall’invio di un riscontro", "da parte della stazione master, e che l’intervallo di separazione tra due trasmissioni sia sempre di TIFS, = 150 ms. \nEsercizio 10.8 Si ripeta l’Esercizio 10.7 con riferimento a una rete Bluetooth EDR assumendo che le trasmis-\nsioni avvengano alla velocità C = 3 Mbit/s.\nEsercizio 10.9 Si ripeta l’Esercizio 10.7 con riferimento a un collegamento Bluetooth 4.0.\nEsercizio 10.10 Si ripeta l’Esercizio 10.7 con riferimento a un collegamento Bluetooth 5.0.\n11 Interconnessione di reti LAN", "11 Interconnessione di reti LAN\nEsercizio 11.1 Sia data una configurazione di rete che comprende cinque bridge (B1, B2, B3, B4, B5) e cin-\nque LAN (A, B, C, D, E) con le seguenti connessioni: bridge B1 connesso alle reti A (porta 1), B (porta 2), C \n(porta 3), bridge B2 connesso alle reti C (porta 1), E (porta 2), D (porta 3), bridge B3 connesso alle reti D (porta \n1), E (porta 2), bridge B4 connesso alle reti C (porta 1), E (porta 2), bridge B5 connesso alle reti B (porta 1),", "E (porta 2). Si vuole applicare la procedura dello spanning tree protocol per ricavare lo stato di tutte le porte \ndei bridge il cui BI sia uguale al rispettivo indice numerico, assumendo unitario il costo di attraversamento di \nognuna delle reti. \nEsercizio 11.2 Si chiede di applicare la procedura dello spanning tree protocol alla configurazione di rete \ndescritta nell’Esercizio 11.1, per ricavare lo stato di tutte le porte dei bridge ipotizzando costo unitario delle", "reti con i seguenti valori di “bridge priority”: B1 = 12.288, B2 = 32.768, B3 = 16.384, B4 = 65.535, B5 = 4096. \nEsercizio 11.3 Si chiede di applicare la procedura dello spanning tree protocol alla configurazione di rete \ndescritta nell’Esercizio 11.1, ipotizzando che le reti A, B, C siano Ethernet a 10 Mbit/s, che la rete D sia di tipo \nFast Ethernet e la rete E sia di tipo Gigabit Ethernet. Il costo amministrativo delle reti Ethernet, Fast Ethernet e", "Gigabit Ethernet è assunto uguale a 50, 10, 1, rispettivamente. Inoltre si assumono i seguenti valori di “bridge \npriority”: B1 = 12.288, B2 = 32.768, B3 = 16.384, B4 = 65.535, B5 = 4096.\nPattavinaReti2021.indb   544PattavinaReti2021.indb   544 14/01/2022   16:10:2014/01/2022   16:10:20Esercizi  545\nEsercizio 11.4 Sia data una configurazione di rete che comprende cinque bridge (B1, B2, B3, B4, B5) e cinque", "LAN (A, B, C, D, E) con le seguenti connessioni: bridge B1 connesso alle reti A (porta 1), C (porta 2), bridge B2 \nconnesso alle reti B (porta 1), D (porta 2), bridge B3 connesso alle reti A (porta 1), B (porta 2), E (porta 3), bri-\ndge B4 connesso alle reti C (porta 1), E (porta 2), bridge B5 connesso alle reti D (porta 1), E (porta 2). Si chiede \ndi applicare la procedura dello spanning tree protocol per ricavare lo stato di tutte le porte dei bridge il cui BI", "sia uguale al rispettivo indice numerico, assumendo unitario il costo di attraversamento di ognuna delle reti. \nEsercizio 11.5 Si applichi la procedura dello spanning tree protocol alla configurazione di rete definita \nnell’Esercizio 11.4 per ricavare lo stato di tutte le porte dei bridge, ipotizzando che le reti A e D siano Ethernet \na 10 Mbit/s, che le reti B ed E siano di tipo Fast Ethernet, che la rete C sia di tipo Gigabit Ethernet. Si assume", "che il costo amministrativo di una rete sia dato da 109 diviso per la capacità della rete.\nEsercizio 11.6 Si consideri la configurazione di reti con spanning tree già determinato che viene mostrata \nin Figura 11.9 dove si interfacciano dieci host. L ’Esempio 11.2 ha mostrato come si sono riempite le tabelle di \ninoltro dei bridge a seguito della trasmissione di nove trame, che sono riportate nella Tabella 11.2. Si ipotizza", "ora che la porta numero 3 del bridge B1 si guasti e lo spanning tree protocol determini un nuovo albero dei \ncammini minimi che ha riattivato la porta numero 2 del bridge B5 precedentemente bloccata. Assumendo che \ntutte le voci nella tabella siano ancora presenti in quanto il corrispondente campo “età” non si è ancora esaurito, \nsi vuole mostrare come si modificano i contenuti delle tabelle di inoltro a valle della trasmissione delle quattro", "trame con le seguenti coppie sorgente-destinazione (SA-DA): Q-U, S-T, R-V , W-X. \nEsercizio 11.7 Si consideri la configurazione di cinque reti e cinque bridge descritta nell’Esercizio 11.6 dopo \nil guasto del bridge B1. Si vuole trovare lo stato delle tabelle di inoltro dei cinque bridge (omettendo il campo \netà), ipotizzando che tutte le tabelle siano inizialmente vuote e che siano state trasmesse con successo nell’or -", "dine solo otto trame con le coppie sorgente-destinazione (SA-DA): X-Q, W-Z, Y -X, S-V , T -X, Q-W , V -U, Z-S. \nEsercizio 11.8 Si consideri la configurazione di cinque reti e cinque bridge descritta nell’Esercizio 11.7 in cui \ntre host sono stati spostati: l’host Q dalla LAN D alla LAN C, l’host S dalla LAN E alla LAN D, l’host W dalla \nLAN C alla LAN B. A partire dalle tabelle di inoltro determinate dall’Esercizio 11.7 si chiede di determinare le", "variazioni che intervengono nelle tabelle se vengono trasmesse con successo nell’ordine solo ulteriori quattro \ntrame con le coppie sorgente-destinazione (SA-DA): Y -Q, W-R, S-X, U-W .\nEsercizio 11.9 Si consideri la rete della Figura 11.11b che comprende due switch, S1 e S2, e dodici stazioni \ndistribuite su due LAN virtuali, VLAN 1 e VLAN 2. Si assume che:\n• le porte numero 1, 2, 3, 6 di S1 e le porte 1, 2, 3 di S2 appartengano alla VLAN 1;", "• le porte 4, 5 di S1 e le porte 4, 5, 6 di S2 appartengano alla VLAN 2; \n• le “trunk port” numero 7 appartengano a entrambe le VLAN. \nSi assume che la tabella di inoltro di S1 contenga cinque voci corrispondenti alle stazioni A, B, D, P , Q, mentre \nle quattro voci corrispondenti alle stazioni R, T, E, G sono presenti nella tabella di inoltro di S2. Si chiede di \ndeterminare quali cambiamenti avvengono nelle tabelle di inoltro e quali trame vengono trasferite se:", "1. S1 riceve sulla porta numero 5 una trama indirizzata alla stazione C;\n2. S2 riceve sulla porta numero 6 una trama indirizzata alla stazione T;\n3. S1 riceve sulla porta numero 3 una trama indirizzata alla stazione D. \nEsercizio 11.10 Si consideri uno switch Fast Ethernet con 10 porte, numerate da 1 a 10, che sia stato confi-\ngurato come segue:\n• le porte numero 1-3 apparte ngono alla LAN virtuale VLAN ID  =  6 e possono interfacciare solo \nstazioni VLAN compatibili;", "stazioni VLAN compatibili;\nPattavinaReti2021.indb   545PattavinaReti2021.indb   545 14/01/2022   16:10:2114/01/2022   16:10:21546  Esercizi\n• le porte numero 3-6 appartengono alla LAN virtuale VLAN ID =  11 riservata a datagrammi con \nindirizzi IP della sottorete 131.175.64.0/20;\n• le porte numero 6-8 appartengono alla LAN virtuale VLAN ID =  24 e interfacciano solo stazioni \nVLAN non compatibili;\n• le porte numero 9-10 appartengono alla LAN virtuale VLAN ID =  6 e possono interfacciare solo", "stazioni VLAN non co mpatibili.\nLa configurazione dello switch prevede che la regola sull’appartenenza degli indirizzi alla sottorete ha la prece-\ndenza su ogni altra regola di appartenenza. Si chiede di individuare il comportamento dell’apparecchiatura che \nriceve una trama Ethernet con identificatore VLAN 11 sulla porta numero 3. \nEsercizio 11.11 Si chiede di ripetere l’Esercizio 11.10 nel caso l’apparecchiatura riceva sulla porta numero", "6 una trama 802.1Q con VLAN ID  = 24 il cui payload contiene un datagramma con: (a) indirizzi IP sorgen-\nte 131.175.65.11 e di destinazione 131.175.78.251; (b) indirizzi IP sorgente 131.175.80.33 e di destinazione \n131.175.96 51.\nEsercizio 11.12 Si chiede di ripetere l’Esercizio 11.10 nel caso l’apparecchiatura riceva una trama senza \nidentificatore di LAN virtuale sulla porta numero 10.", "PattavinaReti2021.indb   546PattavinaReti2021.indb   546 14/01/2022   16:10:2114/01/2022   16:10:21Indice degli acronimi\n3GPP, 3rd generation partnership project\nA\nAAL, ATM adaptation layer\nABM, asynchronous balanced mode\nABR, available bit rate\nACK, acknowledgment\nADSL, asymmetric digital subscriber line\nADSL2, asymmetric digital subscriber line 2\nADSL2+, asymmetric digital subscriber line 2 - \nextended bandwidth\nADSL2 lite, splitterless asymmetric digital sub -\nscriber line 2", "scriber line 2\nAFRINIC, African network information center\nAIFS, arbitration inteframe space\nAIMD, additive increase/multiplicative de -\ncrease\nAMI, alternate mark inversion\nAMPS, advanced mobile phone system\nAN, acknowledgment number\nANSI, American national standards institute\nAP, access point\nAPNIC, Asia Pacific network information cen -\ntre\nARIN, American registry for Internet numbers\nARM, asynchronous response mode\nARP, address resolution protocol\nARPA, advance research project agency", "ARPA, advance research project agency\nARQ, automatic repeat request\nAS, autonomous system\nASN, autonomous system number\nATIS, alliance for telecommunications industry \nsolutions\nATM, asynchronous transfer mode\nATU, ADSL transceiver unit\nATU-C, ATU-central office\nATU-R, ATU-remote\nA-TDM asynchronous TDMB\nB8ZS, bipolar 8-zero substitution\nBER, bit error rate\nBGP, border gateway protocol \nBI, bridge identifier\nBPDU, bridge protocol data unit\nBPSK, binary phase shift keying\nBR, basic rate", "BPSK, binary phase shift keying\nBR, basic rate\nBSC, base station controller\nBSS, basic service set\nBTS, base transceiver station\nC\nCAP, carrierless amplitude/phase modulation\nCA, carrier aggregation\nCATV, cable television\nCBR, constant bit rate\nCCK, complementary code keying\nccTLD, country code TLD\nCDMA, code division multiple access\nCDN, content delivery network\nCDV, peak-to-peak cell delay variation\nCFI, canonical format indicator\nCH, correspondent host\nCIDR, classless inter-domain routing", "CIDR, classless inter-domain routing\nCLP, cell loss priority\nCLR, cell loss ratio\nCMI, coded mark inversion\nCMTS, cable modem termination system\nCO, central office\nCOA, care-of address\nCR, connection request\nCRC, cyclic redundancy check\nC-S, client-server\nCS, convergence sublayer\nCSMA, carrier sense multiple access\nCSMA/CA, carrier sense multiple access with \ncollision avoidance\nCSMA/CD, carrier sense multiple access with \ncollision detection", "collision detection\nPattavinaReti2021.indb   547PattavinaReti2021.indb   547 14/01/2022   16:10:2114/01/2022   16:10:21548  Indice degli acronimi\nCT, cut-through\nCTS, clear to send\nCWR, congestion window reduced\nD\nDA, destination address\nDAB, digital audio broadcasting \nDC, data center\nDCF, distributed coordination function\nDF, distribution frame\nDF, don’t fragment\nDG, datagram\nDHCP, dynamic host configuration protocol\nDIFS, DCF interframe space\nDL, downlink", "DIFS, DCF interframe space\nDL, downlink\nDL-SAP, data link service access point\nDMT, discrete multitone\nDNS, domain name system\nDPSK, differential pahse shift keying\nDQDB, distributed queue dual bus\nDR, disconnection request\nDS, distribution sysyem\nDSCP, differentiated services codepoint\nDSL, digital subscriber line\nDSLAM, DSL access multiplexer\nDSQ, double square constellation\nDSSS, direct sequence spread spectrum\nDTT, digital terrestrial television\nE\nECE, ECN-echo", "E\nECE, ECN-echo\nECN, explicit congestion notification\nEDGE, enhanced data rates for global evolu -\ntion\nEDR, extended data rate \nEFCI, explicit forward congestion indication\nEGP, exterior gateway protocol\nEIFS, extended inteframe space\neMBB, enhanced mobile broadband\neNB, eNodeB\nEPC, evolved packet core\nESS, extended service set\nETSI, European telecommunications standards \ninstitute\nF\nFA, foreign agent\nFC, frame control\nFCS, frame check sequence\nFD, full-duplex", "FCS, frame check sequence\nFD, full-duplex\nFDD, frequency division duplexingFDDI, fiber distributed data interface\nFDM, frequency division multiplexing\nFDMA, frequency division multiple access\nFEC, forward error correction\nFHSS, frequency hopping spread spectrum\nFIN, finalize\nFTP, file transfer protocol\nFTP, foiled twisted pair\nFTTB, fiber to the building\nFTTC, fiber to the cabinet\nFTTE, fiber to the exchange\nFTTH, fiber to the home\nFTTx, fiber to the x\nG\nGBN, go-back-n", "FTTx, fiber to the x\nG\nGBN, go-back-n\nGEO, geostationary Earth orbit\nGFC, generic flow control\nGFR, guaranteed frame rate\nGFSK, Gaussian frequency shift keying\nGPON, gigabit-capable PON\nGPRS, general packet radio service \nGSM, global system for mobile communica -\ntions\ngTLD, generic TLD\nGTP, GPRS tunnelling protocol \nH\nHA, home agent\nHD, half-duplex\nHDB3, high-density bipolar 3\nHDLC, high-level data link control\nHDSL, high bit rate digital subscriber line\nHEC, header error control", "HEC, header error control\nHFC, hybrid fiber coaxial\nHLEN, header length \nHLR, home location register\nHO, handover\nHOL, head-of-line\nHR, home routed\nHSDPA, high speed downlink packet access\nHSS, home subscriber server\nHSUPA, high speed uplink packet access\nHTTP, hypertext transfer protocol\nI\nIAB, Internet architecture board\nIANA, Internet assigned number authority \nIC, interface card\nICANN, Internet corporation for assigned \nnames and numbers", "names and numbers\nPattavinaReti2021.indb   548PattavinaReti2021.indb   548 14/01/2022   16:10:2114/01/2022   16:10:21Indice degli acronimi  549\nICMP, Internet control message protocol\nICT, information and communication technol -\nogy\nIEC, international electrotechnical commission\nIEEE, institute of electrical and electronics \nengineers\nIETF, Internet engineering task force \nIFG, interframe gap \nIFS, interframe space\nIGP, interior gateway protocol\nIMAP, Internet message access protocol", "IMAP, Internet message access protocol\nIMT-2000, international mobile telecommuni -\ncations in the year 2000\nIP, Internet protocol\nIPng, Internet protocol of next generation\nIPv4, Internet protocol version 4\nIPv6, Internet protocol version 6\nIRTF, Internet research task force\nISM, instrumental, scientific, medical\nISN, initial sequence number\nISO, international standardization organization\nISOC, Internet society\nISP, Internet service provider\nITU, international telecommunication union", "ITU, international telecommunication union\nITU-T, ITU telecommunication sector\nIW, initial window\nIXP, Internet exchange point\nL\nL2CAP, logical link control and adaptation \nprotocol\nLACNIC, Latin American and Caribbean net -\nwork information centre\nLAN, local area network\nLBO, local breakout\nLCP, link connection protocol\nLE, low energy\nLEO, low Earth orbit\nLLC, logical link control\nLMP, link manager protocol\nLOS, line of sight\nLPM, longest prefix match\nLSA, link state acknowledgment", "LSA, link state acknowledgment\nLSDB, link state database\nLSP, link state packet\nLSR, label switched router\nLSR, link state request\nLSU, link state update\nLTE, long term evolutionM\nMAC, medium access control\nMAN, metropolitan area network \nmaxCTD, maximum cell transfer delay\nMBS, maximum burst size\nMCR, minimum cell rate\nMDF, main distribution frame\nMEO, medium Earth orbit\nMF, more fragments\nMFS, maximum frame size\nMH, mobile host\nMIME, multipurpose Internet mail extension", "MIME, multipurpose Internet mail extension\nMIMO, multiple input multiple output\nMME, mobility management entity\nMMF, multimode fiber\nmMTC, massive machine-type communica -\ntions\nMPLS, multiprotocol label switching\nMSL, maximum segment lifetime \nMSS, maximum segment size\nMTA, message transfer agent\nMTU, maximum transmission unit\nN\nNA, network address\nNACK, negative acknowledgment\nNAPT, network address and port translation\nNAT, network address translation \nNAV, network allocation vector", "NAV, network allocation vector\nNCP, network control protocol\nNH, next hop\nNIC, network interface card\nNLOS, no line of sight\nNRM, normal response mode\nnrt-VBR, non-real-time variable bit rate \nNRZ, non return to zero\nNRZ-I, non return to zero-inverted\nNRZ-L, non return to zero-level\nN-SAP, network service access point\nNS, name server\nNSF, national science foundation\nNT, network termination\nO\nODF, optical distribution frame\nOFDM, orthogonal frequency division multi -\nplexing", "plexing\nOFDMA, orthogonal frequency division multi -\nple access\nOLO, other licensed operator\nOLT, optical line termination\nPattavinaReti2021.indb   549PattavinaReti2021.indb   549 14/01/2022   16:10:2114/01/2022   16:10:21550  Indice degli acronimi\nONT, optical network termination\nONU, optical network unit\nOSI, open systems interconnection\nOSPF, open shortest path first \nOTT, over-the-top\nOUI, organization unique identifier\nP\nP2P, peer-to-peer\nPAM, pulse amplitude modulation", "P2P, peer-to-peer\nPAM, pulse amplitude modulation\nPAN, personal area network\nPAP, password authentication protocol\nPAWS, protect against wrapped sequence\nPC, personal computer\nPC, point coordinator\nPCF, point coordination function\nPCR, peak cell rate \nPDCP, packet data convergence protocol\nPDH, plesiochronous digital hierarchy\nPGW, packet data network gateway\nPG-GSN, packet gateway - GPRS support node\nPI, port identifier\nPIFS, PCF interframe space\nPM, physical medium \nPMTU, path MTU", "PM, physical medium \nPMTU, path MTU\nPN, port number\nPON, passive optical network\nPOP, point of presence\nPOP3, post office protocol version 3\nPOS, point of sale\nPPP, point-to-point protocol\nPPPoE, PPP over Ethernet\nP-SAP, physical service access point\nPSH, push\nPSK, phase shift keying\nPt2Pt, point-to-point\nPTI, payload type identifier\nQ\nQAM, quadrature amplitude modulation\nQoS, quality of service\nQPSK, quadrature phase shift keying\nR\nREJ, reject\nRI, root identifier", "R\nREJ, reject\nRI, root identifier\nRIP, routing information protocol\nRIPE NCC, reseaux IP Europeens network co -\nordination center\nRIR, regional Internet registries\nRLC, radio link controlRM, resource management\nRNR, receiver not ready\nRPC, root path cost\nRR, receiver ready\nRRC, radio resource control\nRST, reset\nRSTP, rapid spanning tree protocol\nRTP, real time protocol\nRTS, request to send\nRTT, round trip time\nrt-VBR, real-time variable bit rate \nRZ, return to zero\nS\nS&F, store and forward", "RZ, return to zero\nS\nS&F, store and forward\nS&W, stop and wait\nSA, source address\nSABM, set asynchronous balanced mode\nSABME, set asynchronous balanced mode \nextended\nSACK, selective acknowledgment\nSAP, service access point\nSAR, segmentation and reassembly\nSARM, set asynchronous response mode\nSARME, set asynchronous response mode \nextended\nSCR, sustainable cell rate\nSCTP, stream control transmission protocol\nSC-FDMA, single carrier - frequecy division \nmultiple access", "multiple access\nSDF, subloop distribution frame\nSDH, synchronous digital hierarchy\nSeNB, source eNB\nSFD, start frame delimiter\nSFTP, shielded foiled twisted pair \nSGW, serving gateway\nSG-GSN, serving gateway - GPRS support \nnode\nSHDSL, single-pair high-speed digital sub -\nscriber line\nSIFS, short interframe space\nSIP, session initiation protocol\nSMF, single mode fiber\nSMTP, simple mail transfer protocol\nSN, sequence number\nSNMP, simple network management protocol\nSNRM, set normal response mode", "SNRM, set normal response mode\nSNRME, set normal response mode extended\nSONET, synchronous optical network\nSPT, shortest path tree \nSR, selective repeat\nSREJ, selective reject\nPattavinaReti2021.indb   550PattavinaReti2021.indb   550 14/01/2022   16:10:2114/01/2022   16:10:21Indice degli acronimi  551\nSsthresh, slow start threshold\nS-TDM, synchronous TDM\nSTP, shielded twisted pair \nSTP, spanning tree protocol\nSYN, synchronize\nT\nTACS, total access communication system", "T\nTACS, total access communication system \nTC, transmission convergence\nTCP, transmission control protocol\nTCPAM, trellis coded pulse amplitude modu -\nlation\nTCP/IP, transmission control protocol/Internet \nprotocol\nTDD, time division duplexing\nTDM, time division multiplexing\nTDMA, time division multiple access\nTEI, tunnel endpoint identifier\nTeNB, target eNB\nTHR, throughput\nTLD, top level domain\nTOS, type of service\nT-SAP, transport service access point\nTTL, time to live\nU\nUA, user agent", "TTL, time to live\nU\nUA, user agent\nUBR, unspecified bit rate\nUDP, user datagram protocol\nUE, user equipment\nUI, unità informativa\nUL, uplink\nUMTS, universal mobile telecommunications \nsystem\nUNI, user-network interface\nUP, urgent pointer\nURG, urgent\nURL, uniform resource locator\nURLLC, ultra reliable and low latency commu -\nnications\nUTP, unshielded twisted pair \nV\nVBR, variable bit rate\nVC, virtual circuit\nVCI, virtual circuit identifier\nVDSL, very high speed digital subscriber line", "VDSL, very high speed digital subscriber line\nVDSL2, very high speed digital subscriber line \n2\nVLAN, virtual LAN\nVLAN ID, virtual LAN identifierVLSM, variable length subnet mask\nVoIP, voice-over-IP\nVP, virtual path\nVPI, virtual path identifier\nW\nW3C, world wide web consortium\nWAN, wide area network\nWDM, wavelength division multiplexing\nWiMax, worldwide interoperability for micro -\nwave access\nWPAN, wireless personal area network\nWWW, world wide web\nW-CDMA, wideband CDMA\nX", "WWW, world wide web\nW-CDMA, wideband CDMA\nX\nXGPON, 10-Gigabit-capable passive optical \nnetwork\nPattavinaReti2021.indb   551PattavinaReti2021.indb   551 14/01/2022   16:10:2114/01/2022   16:10:21Indice analitico\nNumeri\n1-persistent CSMA  157\n3rd generation partnership project (3GPP)  37, \n419\n10-Gigabit-capable passive optical network \n(XGPON)  416\n10Gigabit Ethernet  444\n40Gigabit Ethernet  446\n100Gigabit Ethernet  446\nA\naccesso\na contesa  134\na trasferimento di permesso  131, 134, 142", "a trasferimento di permesso  131, 134, 142\ncasuale  134\ncentralizzato  133\ndinamico  133\ndistribuito  133\nordinato  134\naccess point (AP)  458\nacknowledgment (ACK)  109, 170, 284\nacknowledgment number (AN)  280\naddress resolution protocol (ARP)  27, 451\nADSL transceiver unit (ATU)  407\nadvanced mobile phone system (AMPS)  417\nadvanced research projects agency (ARPA)  33\nalgoritmi\ncentralizzati  175\ncon tabella  174\ndi instradamento  55, 174\ndistribuiti  175\ngerarchici  174\nisolati  175", "distribuiti  175\ngerarchici  174\nisolati  175\nsenza tabella  174\nalgoritmo\ndi backoff  171, 434\ndi Bellman-Ford  182, 339\ndi Dijkstra  187, 344\ndi Karn  296\ndi Nagle  294\ndistance vector  180, 191\nlink state  187, 191\nallineamento  86\nALOHA  145\nalternate mark inversion (AMI)  397\narbitration interframe space (AIFS)  460architettura\na strati  21\ndi protocolli  21\npeer-to-peer  265\narea border router  349\naritmetica in complemento a 1  198\naritmetica modulo-2  385\nAS\nboundary router  349", "aritmetica modulo-2  385\nAS\nboundary router  349\ndi transito  330\nmultihomed  330\nstub  330\nasymmetric digital subscriber line 2 (ADSL2)  \n410\nasymmetric digital subscriber line 2 - extended \nbandwidth (ADSL2+)  410\nasymmetric digital subscriber line (ADSL)  407\nasynchronous balanced mode (ABM)  381\nasynchronous response mode (ARM)  382\nasynchronous transfer mode (ATM)  37, 367\nATM adaptation layer (AAL)  372\nATU-central office (ATU-C)  407\nATU-remote (ATU-R)  407", "ATU-remote (ATU-R)  407\nautomatic repeat request (ARQ)  94, 380\nautonomous system (AS)  330\nautonomous system number (ASN)  330, 351\navailable bit rate (ABR)  369\nB\nbackbone network  11\nbase station controller (BSC)  17, 418\nbase transceiver station (BTS)  17, 418\nbasic service set (BSS)  458\nbaud  400\nbig endian  432\nbinary phase shift keying (BPSK)  465\nbipolar 8-zero substitution (B8ZS)  397\nbit  23\ndestuffing  384\ndi parità  196\nerror rate (BER)  54\nstuffing  380, 384, 448\nBit-Torrent  269", "stuffing  380, 384, 448\nBit-Torrent  269\nBluetooth  5, 15, 429, 466\nbasic rate (BR)  466\nextended data rate (EDR)  466\nlow energy (LE)  466\nPattavinaReti2021.indb   552PattavinaReti2021.indb   552 14/01/2022   16:10:2114/01/2022   16:10:21Indice analitico  553\nborder gateway protocol (BGP)  28, 31, 227, 331, \n350\nbridge  490\nidentifier (BI)  495\npriority  495\nbridge protocol data unit (BPDU)  495\nbroadcast\ndiretto  318\nlimitato  318\nstorm  496\nbyte stuffing  380, 448\nC\ncable modem  13", "byte stuffing  380, 448\nC\ncable modem  13\ncable modem termination system (CMTS)  13\ncable television (CATV)  13\ncache  264, 453\ncanale logico  66\ncanonical format indicator (CFI)  504\ncare-of address (COA)  473, 474\ncarrier aggregation (CA)  421\ncarrier extension  442\ncarrierless amplitude/phase modulation (CAP)  \n408\ncarrier sense multiple access (CSMA)  156\nwith collision avoidance (CSMA/CA)  170\nwith collision detection (CSMA/CD)  164, 434\ncavo\ncategorie  7\ncoassiale thick  7", "cavo\ncategorie  7\ncoassiale thick  7\ncoassiale thin  7\ncella  17\ncella ATM  371\ncell loss priority (CLP)  371\ncell loss ratio (CLR)  368\ncentral office (CO)  404\ncentro di controllo  17\ncheckpoint  32\nchecksum  197, 277\nciclo  160\ncircuito virtuale  65\ncircuito virtuale permanente  72\nclassi di indirizzi IP  316\nclassi di servizio  368\nclassless inter-domain routing (CIDR)  325\nclear to send (CTS)  170, 460\nclient  40\nclient-server  40, 223, 267\ncode division multiple access (CDMA)  6, 133,", "code division multiple access (CDMA)  6, 133, \n418coded mark inversion (CMI)  396\ncodice\n2B1Q  401, 411\n4B3T  400\n4B5B  401, 441\n4D-PAM5  444\n6B8B  401\n8B6T  441\n8B10B  444, 445, 446\n64B66B  445, 446\nAMI  397\na ridondanza ciclica  199\nB8ZS  397\nCMI  396\nDSQ128  446\nHDB3  398\nManchester  396\nManchester differenziale  396\nmBnB  400\nmBnQ  399\nmBnT  399\nMLT -3  399\nNRZ  395\nNRZ-I  395\nNRZ-L  395\nPAM5x5  441\nRZ  396\ncodifica\na blocchi  399\na rivelazione di errore  380, 385, 394\nbifase  396", "bifase  396\nbipolare  394\ndi Huffman  261\ndi linea  394\ndi Reed-Solomon  408, 412\npolare  394\npseudoternaria  398\nquaternaria  399\nternaria  399\nunipolare  394\ncollision avoidance  156, 170\ncollision detection  145, 164, 434\ncommutazione\ncut-through  70, 216\ndi circuito  48, 55, 59\ndi pacchetto  48, 55\ncomplementary code keying (CCK)  465\nconcentratore  78\nconfigurazione\nbilanciata  381\nbroadcast  42", "configurazione\nbilanciata  381\nbroadcast  42\nPattavinaReti2021.indb   553PattavinaReti2021.indb   553 14/01/2022   16:10:2114/01/2022   16:10:21554  Indice analitico\ndiffusiva  42\nmultipunto  42\npunto-punto  42\nsbilanciata  381\ncongestion avoidance  298\ncongestion window  298\nconnectionless  59, 379\nconnection-oriented  59, 379\nconnection request (CR)  284\nconnessione\nlogica  222\nvirtuale  65\nconstant bit rate (CBR)  46, 368\ncontent delivery network (CDN)  21, 222, 272, \n308, 378", "308, 378\ncontinuous ARQ  102\ncontrollo\ndegli errori  195, 226, 277, 379\ndel canale  434\ndel flusso  204, 226, 279, 296, 307, 379\ndell’accesso  205\ndella congestione  204, 226, 296\ninternodo  205\ncontrollo del flusso\na credito  207\nad anello aperto  211\na finestra  106, 211\na frequenza  212\nisaritmico  205\nconvergence sublayer (CS)  372\ncookie  262\ncorrespondent host (CH)  473\ncountry code TLD (ccTLD)  232\ncount-to-infinity  186, 343\nCSMA\n1-persistent  157, 163\nnon-persistent  157, 160", "1-persistent  157, 163\nnon-persistent  157, 160\np-persistent  157\ncut-through (CT)  70, 216, 491\ncyclic redundancy check (CRC)  199, 385, 432\nD\ndata center (DC)  20\ndatagramma (DG)  62\ndatagramma IP  277, 311\ndata link service access point (DL-SAP)  23\nDCF interframe space (DIFS)  170, 460\ndelayed ACK  290, 298\ndelimitazione  86\ndemultiplatore  76\ndemultiplazione  30descrittori di traffico  368\ndesignated router  345\ndestination address (DA)  430\ndiameter base protocol  422", "diameter base protocol  422\ndifferential phase shift keying (DPSK)  437, 470\ndifferentiated services codepoint (DSCP)  312, \n345\ndigital audio broadcasting (DAB)  10\ndigital subscriber line access multiplexer \n(DSLAM)  414\ndigital subscriber line (DSL)  406\ndigital terrestrial television (DTT)  10\ndirect sequence spread spectrum (DSSS)  464\ndisconnection request (DR)  286\ndiscrete multitone (DMT)  408\ndistributed coordination function (DCF)  459\ndistributed queue dual bus (DQDB)  429", "distributed queue dual bus (DQDB)  429\ndistribution frame (DF)  404\ndistribution system (DS)  458\ndomain name system (DNS)  26, 32, 227, 231\ndominio\ndi broadcast  491\ndi collisione  439, 442, 491\ndon’t fragment (DF)  312\ndoppino\ncategorie  8\nnon schermato  7\nschermato  7\ndownward multiplexing  30\nDSL\nasimmetrico  407\nsimmetrico  407, 410\nDSL access multiplexer (DSLAM)  407\nduplexing  77, 408\ndynamic host configuration protocol (DHCP)  \n227, 273, 358\ndynamic, porte  273\nE\nefficienza  106, 122", "dynamic, porte  273\nE\nefficienza  106, 122\nenhanced data rates for global evolution (EDGE)  \n419\nenhanced mobile broadband (eMBB)  18, 424\neNodeB (eNB)  420, 483\nErlang (Erl)  52, 83\nEthernet  8, 27, 31, 131, 313, 399, 429, 432\n10Gigabit Ethernet  444\n40Gigabit Ethernet  446\n100Gigabit Ethernet  446\nFast Ethernet  439\nGigabit Ethernet  442\nPattavinaReti2021.indb   554PattavinaReti2021.indb   554 14/01/2022   16:10:2114/01/2022   16:10:21Indice analitico  555\nevolved packet core (EPC)  420", "evolved packet core (EPC)  420\nexplicit congestion notification (ECF)  312\nexplicit congestion notification (ECN)  280\nexplicit forward congestion indication (EFCI)  \n372\nextended interframe space (EIFS)  460\nextended service set (ESS)  458\nextension header  363\nexterior gateway protocol (EGP)  331\nF\nfase\ndati  66\ndi apprendimento  493\ndi inoltro  493\ndi instaurazione  65\ndi rilascio  61\nFast Ethernet  313, 399, 401, 439\nfast retransmit  292, 301\nfattore\ndi burstiness  46\ndi compressione  46", "fattore\ndi burstiness  46\ndi compressione  46\ndi concentrazione  78\ndi sottodimensionamento  82\ndi utilizzazione  84\nfiber distributed data interface (FDDI)  131\nfiber to\nthe building (FTTB)  415\nthe cabinet (FTTC)  415\nthe exchange (FTTE)  414\nthe home (FFTH)  416\nthe x (FTTx)  414\nfibre ottiche\nmonomodo  9, 443, 444\nmultimodo  8, 439, 441, 443, 444\nfile transfer protocol (FTP)  26, 248\nfinestra\na scorrimento  104\ndi congestione  298\ndi contesa  170, 460\ndi ricezione  296\nin ricezione  104", "di ricezione  296\nin ricezione  104\nin trasmissione  104\nflag  380\nforeign agent (FA)  473\nforward error correction (FEC)  195, 408, 412, \n444, 446, 465\nfragment offset  312\nframe bursting  442\nframe check sequence (FCS)  383, 431, 448\nframe control (FC)  461framing  261, 306\nframmentazione  58, 266, 313, 356, 363\nfrequency division duplexing (FDD)  77, 408, 419\nfrequency division multiple access (FDMA)  133\nfrequency division multiplexing (FDM)  76, 419", "frequency division multiplexing (FDM)  76, 419\nfrequency hopping spread spectrum (FHSS)  464\nfrequenza\ndi picco  46\nmedia  46\nFTP (foiled twisted pair)  7\nfull-duplex  28, 75, 382, 384, 439, 442, 444\nG\nGaussian frequency shift keying (GFSK)  468, \n470\nG.dmt  408\ngeneral packet radio service (GPRS)  17, 418\ngeneric flow control (GFC)  371\ngeneric TLD (gTLD)  232\ngeostationary Earth orbit (GEO)  10\ngerarchia\ndei nomi  232\ndi indirizzamento  31\ndi ISP  20\ndi rete  191\nPDH  34, 88, 410", "di ISP  20\ndi rete  191\nPDH  34, 88, 410\nSDH  12, 447, 449\nSONET  447, 449\ngigabit-capable passive optical network (GPON)  \n405\nGigabit Ethernet  401, 442\nG.lite  409\nglobal system for mobile communications (GSM)  \n6, 17, 417\ngo-back-n (GBN)  110, 123, 290, 388\nGPRS tunnelling protocol (GTP)  423\nguaranteed frame rate (GFR)  369\nH\nhalf-duplex  28, 75, 382, 384, 439, 442\nhandover (HO)  483\nheader  23\nheader error control (HEC)  371\nheader length (HLEN)  280, 311", "header length (HLEN)  280, 311\nhigh bit rate digital subscriber line (HDSL)  410\nhigh-density bipolar 3 (HDB3)  398\nhigh level data link control (HDLC)  27, 381\nhigh speed downlink packet access (HSDPA)  419\nhigh speed uplink packet access (HSUPA)  419\nHOL blocking  261, 306\nPattavinaReti2021.indb   555PattavinaReti2021.indb   555 14/01/2022   16:10:2114/01/2022   16:10:21556  Indice analitico\nhome agent (HA)  473\nhome location register (HLR)  418\nhome routed (HR)  486", "home routed (HR)  486\nhome subscriber server (HSS)  421\nhost aliasing  231\nhost-id  316\nhub  433, 438, 490\nhybrid fiber coaxial (HFC)  13\nhyperlink  252\nhypertext transfer protocol (HTTP)  25, 32, 227, \n253, 273\nHTTP/1.0  258\nHTTP/1.1  258\nHTTP/2  260\nHTTP/3  261\nI\nidentifier\npayload type (PTI)  371\nvirtual circuit (VCI)  371\nvirtual path (VPI)  371\nIEEE\n802.1  429\n802.2  429\n802.3  27, 429, 432\n802.4  429\n802.6  429\n802.11  27, 429, 457\n802.15  28, 429\n802.16  429\nindirizzamento  86", "802.15  28, 429\n802.16  429\nindirizzamento  86\nclassful  325\nclassless  325\nindirizzi\ne-mail  240\nEthernet  31\nIP  31, 231, 316\nMAC  493\nprivati  319\nspeciali  318\nindirizzo di loopback  318\ninformation and communication technology (ICT)  \n36\ninfrared  464\ninitial sequence number (ISN)  284\ninitial window (IW)  298\ninizializzazione\nsu base chiamata  43\nsu base contrattuale  43\ninoltro\ncut-through  491diretto  332, 455\nindiretto  332, 454\nstore and forward (S&F)  490", "indiretto  332, 454\nstore and forward (S&F)  490\ninstitute of electrical and electronics engineers \n(IEEE)  36\ninstradamento  55\ncon tabella  178\ndinamico  179\ndistance vector  179, 339\nfisso  178\nflooding  176\ngerarchico  191\nlink state  187, 344\nrandom  176\nsenza tabella  176\nsource routing  177\ninstrumental, scientific, medical (ISM)  15, 458, \n464\ninterfaccia\ndi ingresso  310\ndi uscita  310\ninterframe gap (IFG)  437, 440, 442\ninterframe space\nDCF (DIFS)  460\nPCF (PIFS)  460", "interframe space\nDCF (DIFS)  460\nPCF (PIFS)  460\nshort (SIFS)  460\ninterior gateway protocol (IGP)  331\ninternational mobile telecommunications in the \nyear 2000 (IMT -2000)  419\ninternational standardization organization (ISO)  \n35\ninternational telecommunication union (ITU)  32\nInternet architecture board (IAB)  34\nInternet assigned number authority (IANA)  35, \n273, 318\nInternet control message protocol (ICMP)  27, 32, \n314, 355\nInternet corporation for assigned names and num-", "Internet corporation for assigned names and num-\nbers (ICANN)  35, 232, 330\nInternet engineering task force (IETF)  32, 34\nInternet exchange point (IXP)  20\nInternet message access protocol (IMAP)  246, \n273\nInternet protocol (IP)  26, 31, 311\nInternet protocol of next generation (IPng)  362\nInternet protocol version 4 (IPv4)  31, 311\nInternet protocol version 6 (IPv6)  362\nInternet research task force (IRTF)  35\nInternet service provider (ISP)  19\nInternet society (ISOC)  34", "Internet society (ISOC)  34\nintervallo di collisione  165\nISP di accesso (Tier 3 ISP)  20\nPattavinaReti2021.indb   556PattavinaReti2021.indb   556 14/01/2022   16:10:2114/01/2022   16:10:21Indice analitico  557\nISP di primo livello (Tier 1 ISP)  19\nISP regionali (Tier 2 ISP)  19\nITU telecommunications sector (ITU-T)  36\nL\nlabel switched router (LSR)  365\nLAN virtuale (VLAN)  501\nlatenza\ndell’anello  144\ndi stazione  144\nlayer  21\nleaky bucket  212\nlevel  21\nline of sight (LOS)  16", "level  21\nline of sight (LOS)  16\nlink connection protocol (LCP)  448\nlink manager protocol (LMP)  467\nlink state\nacknowledgment (LSA)  345\ndatabase (LSDB  344\npacket (LSP)  187\nrequest (LSR)  345\nupdate (LSU)  344\nlittle endian  432\nlivello  21, 29\nlocal area network (LAN)  5, 12, 129, 427\nLAN  457\nlocal breakout (LBO)  487\nlogical link control and adaptation protocol \n(L2CAP)  468\nlogical link control (LLC)  430\nlongest prefix match (LPM)  337\nlong term evolution (LTE)  6, 420\nloop  493", "long term evolution (LTE)  6, 420\nloop  493\nprimary  404\nsecondary  404\nlow Earth orbit (LEO)  10\nlow energy (LE)  466\nM\nmain distribution frame (MDF)  404\nManchester  396\nManchester differenziale  396\nmassive machine-type communications (mMTC)  \n18, 424\nmatrice di commutazione  310\nmaximum burst size (MBS)  368\nmaximum cell transfer delay (maxCTD)  368\nmaximum frame size (MFS)  368\nmaximum segment lifetime (MSL)  285\nmaximum segment size (MSS)  282maximum transmission unit (MTU)  282, 313", "medium access control (MAC)  428, 430\nmedium Earth orbit (MEO)  10\nmemoria\ncache  264, 453\ndi linea  79\nmessaggio  23\nmessaggio HTTP\nrichiesta  254\nrisposta  255\nmetriche di costo  178\nmetropolitan area network (MAN)  5, 13, 429\nminimum cell rate (MCR)  368\nmobile host (MH)  473\nmobility management entity (MME)  421\nmodello\na strati  21\ndi riferimento OSI  21\nibrido  21\nTCP/IP  21\nmodem  48\nmodulazione\nBPSK  465\nCAP  408\nCCK  465\nCDMA  419\nDMT  408\nDPSK  437, 470\nDSSS  464\nFHSS  464", "DMT  408\nDPSK  437, 470\nDSSS  464\nFHSS  464\nGFSK  468, 470\nOFDM  465\nPAM  411\nPSK  465\nQAM  408, 465\nQPSK  465\nTCPAM  411\nmore fragments (MF)  312\nmultimode fiber (MMF)  8, 439, 441, 443, 444\nmultiplatore  76\ndeterministico  79\nstatistico  79\nmultiplazione  29, 39, 75, 273\na divisione di frequenza  76\na divisione di lunghezza d’onda  77\na divisione di tempo  76\nasincrona  88\na slot  77, 88\ncontinua  88\ndeterministica  79\ndiretta  30", "continua  88\ndeterministica  79\ndiretta  30\nPattavinaReti2021.indb   557PattavinaReti2021.indb   557 14/01/2022   16:10:2114/01/2022   16:10:21558  Indice analitico\ninversa  30\nsincrona  86\nstatistica  79\nTDM  86\nverso il basso  30\nverso l’alto  30\nmultiple input multiple output (MIMO)  421, 465\nmultiprotocol label switching (MPLS)  365\nN\nname server (NS)  234\nnational science foundation (NSF)  34\nnegative acknowledgment (NACK)  109\nnet-id  316\nnetmask  320", "net-id  316\nnetmask  320\nnetwork address and port translation (NAPT)  329\nnetwork address translation (NAT)  327\nnetwork allocation vector (NA V)  171, 459\nnetwork control protocol (NCP)  448\nnetwork interface card (NIC)  431, 442\nnetwork service access point (N-SAP)  22\nnext hop (NH)  332\nno line of sight (NLOS)  16\nnon-persistent CSMA  157\nnon-real-time variable bit rate (nrt-VBR)  369\nnon return to zero-inverted (NRZ-I)  395\nnon return to zero-level (NRZ-L)  395\nnon return to zero (NRZ)  395", "non return to zero (NRZ)  395\nnormal response mode (NRM)  381\nnotazione decimale puntata  316\nnumerazione\ndei riscontri  99\ndelle UI  99\nnumero di porta  225, 273\nO\nopen shortest path first (OSPF)  28, 31, 331, 344\nopen systems interconnection (OSI)  21\noptical distribution frame (ODF)  414\noptical line termination (OLT)  414\noptical network termination (ONT)  414\noptical network unit (ONU)  414\norganization unique identifier (OUI)  431\northogonal frequency division multiple access", "orthogonal frequency division multiple access \n(OFDMA)  420\northogonal frequency division multiplexing \n(OFDM)  465\nother licensed operators (OLO)  403\nover-the-top (OTT)  20P\npacchetto  23\npacket data convergence protocol (PDCP)  422\npacket data network gateway (PGW)  420\npacket gateway - GPRS support node (PG-GSN)  \n418\nparadigma\nclient-server (C-S)  223\npeer-to-peer (P2P)  223\npassive optical network (PON)  18\npassword authentication protocol (PAP)  448\npath\ndiscovery  178\nMTU  314, 356, 364", "path\ndiscovery  178\nMTU  314, 356, 364\nserver  178\npayload  23\npayload type identifier, PTI  371\nPCF interframe space (PIFS)  460\npeak cell rate (PCR)  368\npeak-to-peak cell delay variation (CDV)  368\npeer centrale  266\npeer-to-peer (P2P)  24, 223, 265\nperiodo di trama  79\nperiodo di vulnerabilità  147, 151\npersonal area network (PAN)  429, 466\nphase shift keying (PSK)  465\nphysical medium (PM)  370\nphysical service access point (P-SAP)  23\npiggybacking  109, 290, 384\npila protocollare  21", "piggybacking  109, 290, 384\npila protocollare  21\nplesiochronous digital hierarchy (PDH)  34, 88, \n410\npoint coordination function (PCF)  459\npoint of presence (POP)  20\npoint-of-sale (POS)  44\npoint-to-point protocol (PPP)  27, 313, 447, 455\npoint-to-point (Pt2Pt)  405, 416\npolinomio generatore  199, 385, 432\nporta\nblocked (B)  495\ndesignated (D)  495\ndynamic  273\nregistered  273\nroot (R)  494\nwell-known  273\nport identifier (PI)  495\nposta elettronica  26, 227, 240", "posta elettronica  26, 227, 240\npost office protocol version 3 (POP3)  246, 273\np-persistent CSMA  157\nPPP over Ethernet (PPPoE)  313, 450\nPattavinaReti2021.indb   558PattavinaReti2021.indb   558 14/01/2022   16:10:2114/01/2022   16:10:21Indice analitico  559\nprimitive  228\npriority  504\nprobabilità\ndi errore  54, 99\ndi perdita  54, 82\nprocesso di Poisson  136, 148\nprodotto banda-ritardo  108, 283\nprogetto IEEE 802  427\nprotect against wrapped sequence (PAWS)  286\nprotocollo", "protocollo\na canalizzazione  135\nad accesso casuale  145\nALOHA  145\na prenotazione  140\nARP  27, 451\na trasferimento di permesso  142\nBGP  350\nbidirezionale  121\nBit-Torrent  269\ncon soli riscontri positivi  119\ncontinuous ARQ  102\nCSMA  156\nCSMA/CA  169\nCSMA/CD  164, 434\nDHCP  358\ndi accesso  129, 246\ndiameter base  422\ndi trasferimento  74\ndi utilizzazione  74\nDNS  231\nFTP  248\nGBN  109\nGTP  423\nHDLC  381\nHTTP  252\nICMP  27, 355\nIP  26, 311\nIPv6  362\nL2CAP  468\nLCP  448\nLMP  467\nMAC  422, 428", "L2CAP  468\nLCP  448\nLMP  467\nMAC  422, 428\nMIME  243\nMPLS  365\nOSPF  344\nPDCP  422\nPPP  447\nPPPoE  313, 450\nQUIC  306\nRIP  339\nRLC  422RRC  422\nRSTP  499\nRTP  227\nSCTP  422\nSIP  227\nSkype  270\nslotted ALOHA  150\nSMTP  240\nSR  114\nSTP  495\nS&W  95\nTCP  26, 279\nUDP  26, 276\nproxy ARP  455\nproxy router  455\npulse amplitude modulation (PAM)  411\nQ\nquadrature amplitude modulation (QAM)  408, \n465\nquadrature phase shift keying (QPSK)  465\nquality of service (QoS)  368, 462\nR", "quality of service (QoS)  368, 462\nR\nradio link control (RLC)  422\nradio resource control (RRC)  422\nrapid spanning tree protocol (RSTP)  499\nreal-time variable bit rate (rt-VBR)  368\nreceiver not ready (RNR)  387\nreceiver ready (RR)  387\nreceiver window  296\nregional Internet registries (RIR)  35\nAFRINIC  35\nAPNIC  35\nARIN  35\nLACNIC  35\nRIPE NCC  35\nregistered, porte  273\nreject (REJ)  388\nrepeater  489\nrequest to send (RTS)  170, 459\nrequisiti di un servizio\ntasso di errore  44", "requisiti di un servizio\ntasso di errore  44\ntempo di ritardo  44\ntempo reale  44\nvelocità media  44\nresource management (RM)  371\nreti\n2.5G  17, 418\n2G  16, 417\nPattavinaReti2021.indb   559PattavinaReti2021.indb   559 14/01/2022   16:10:2114/01/2022   16:10:21560  Indice analitico\n3G  18, 419\n4G  18, 421\n5G  6, 18, 424\n10Gigabit Ethernet  444\n40Gigabit Ethernet  446\n100Gigabit Ethernet  446\nad-hoc  458\na lunga distanza  5\nATM  367\nBluetooth  5, 15, 429, 466\ncablate  4, 11", "Bluetooth  5, 15, 429, 466\ncablate  4, 11\ndi accesso  6, 19, 403\ndi trasporto  6\nEthernet  8, 27, 313, 432\nFast Ethernet  439\nFDDI  131\nGigabit Ethernet  442\nGSM  6, 17, 417\nin area geografica  5, 11, 129\nin area locale  5, 12, 129\nin area metropolitana  5, 13, 429\nLTE  6, 420\nmultipunto  129\npeer-to-peer  265\npiconet  466\nprimaria  404\nradiomobile  6\nscatternet  467\nsecondaria  404\ntoken ring  131\nUMTS  6, 419\nWi-Fi  5, 457\nWiMax  6, 16\nwireless  5, 14, 130\nwireless LAN  457\nwireless PAN  466", "wireless LAN  457\nwireless PAN  466\nreturn to zero (RZ)  396\nriassemblaggio  29\nridondanza ciclica  199\nrilevazione di collisioni  434\nriscontro  95\nrisoluzione dei nomi  234\nritardo  49\nend-to-end  50\nroot  232\nbridge  494\nidentifier  495\nname server  235\npath cost  495\nport  496\nround trip time (RTT)  259, 294router  19, 309, 491\narea border  349\nAS boundary  349\nlabel switched (LSR)  365\nrouting information protocol (RIP)  28, 31, 339\nS\nsatellite  10\nscrambling  397", "S\nsatellite  10\nscrambling  397\nsegmentation and reassembly (SAR)  372\nsegmentazione  29\nsegmento  23\nTCP  281\nUDP  277\nselective acknowledgement (SACK)  293\nselective flooding  177\nselective random  176\nselective reject (SREJ)  388\nselective repeat (SR)  114, 290, 388\nsequence number (SN)  280\nserver\norigin  264\nproxy  264\npush  261\nservice access point (SAP)  22\nserving gateway - GPRS support node (SG-GSN)  \n418\nserving gateway (SGW)  420\nservizio\nbidirezionale  43\ncircuito virtuale  65", "servizio\nbidirezionale  43\ncircuito virtuale  65\ngeneral packet radio service (GPRS)  17\nmonomediale  42\nmultimediale  42\nradiomobile base  458\nradiomobile esteso  458\nunidirezionale  43\nservizio di comunicazione\nconfigurazione  42\ndirezione  43\ninizializzazione  43\nset asynchronous balanced mode extended (SAB-\nME)  388\nset asynchronous balanced mode (SABM)  388\nset asynchronous response mode extended (SAR-\nME)  388\nset asynchronous response mode (SARM)  388", "set asynchronous response mode (SARM)  388\nset normal response mode extended (SNRME)  \n388\nset normal response mode (SNRM)  388\nPattavinaReti2021.indb   560PattavinaReti2021.indb   560 14/01/2022   16:10:2114/01/2022   16:10:21Indice analitico  561\nshielded foiled twisted pair (SFTP)  7\nshielded twisted pair (STP)  7\nshortest path tree (SPT)  182, 187, 346\nshort interframe space (SIFS)  170, 460\nsilly window syndrome  294\nsimple mail transfer protocol (SMTP)  26, 32, \n227, 240", "227, 240\nsimple network management protocol (SNMP)  \n273\nsimplex  75, 442\nsingle carrier - frequency division multiple access \n(SC-FDMA)  420\nsingle mode fiber (SMF)  9, 443, 444\nsingle-pair high-speed digital subscriber line \n(SHDSL)  411\nSkype  227, 270\nsliding window  104\nslotted ALOHA  150\nslow start  298\nslow start threshold (Ssthresh)  298\nsocket  224, 228, 273\nsorgente\nanalogica  42\nCBR  46\nnumerica  42\nON-OFF  46\nVBR  46\nsottomultiplazione  87\nsource address (SA)  430", "sottomultiplazione  87\nsource address (SA)  430\nsource eNB (SeNB)  484\nsovramultiplazione  87\nspanning tree  495\nspanning tree protocol (STP)  495\nspettro elettromagnetico  10\nsplit horizon  186\nsplit horizon with poisoned reverse  186\nsplitter  405\nsplitterless asymmetric digital subscriber line 2 \n(ADSL2 lite)  410\nstart frame delimiter (SFD)  437\nstazione\ncombinata  381\nnascosta  169, 460\nprimaria  381\nradio base  17\nsecondaria  381\nstop and wait (S&W)  95", "secondaria  381\nstop and wait (S&W)  95\nstore and forward (S&F)  56, 216, 490\nstrati  21\nstrato\nAAL  372ATM  370\ndi accesso alla rete  33\ndi applicazione  25\ndi collegamento dati  27\ndi presentazione  32\ndi rete  26\ndi sessione  32\ndi trasferimento  73\ndi trasporto  26\ndi utilizzazione  73\nfisico  28, 370, 428\nLLC  428\nMAC  428, 430\nphysical medium (PM)  370\ntransmission convergence (TC)  370\nstream control transmission protocol (SCTP)  422\nstuffing  380\nsubloop distribution frame (SDF)  404", "subloop distribution frame (SDF)  404\nsubnet-id  320\nsubnet mask  320\nsubnetting  319\nsupernet  324\nsupernetting  324\nsustainable cell rate (SCR)  368\nswitch Ethernet  491\nswitching fabric  310\nsynchronous digital hierarchy (SDH)  12, 447\nT\ntabella\ndi inoltro  68, 493\ndi instradamento  62\ntarget eNB (TeNB)  484\ntasso\ndi errore  44\ndi perdita  54\nTCP\nCubic  304\nNewReno  302\nReno  300\nTahoe  300\ntelnet  273\ntempo\ndi attesa  56\ndi backoff  149, 170, 460\ndi elaborazione  51\ndi propagazione  50", "di elaborazione  51\ndi propagazione  50\ndi propagazione normalizzato  96\ndi ritardo  44, 96\ndi trasmissione  50\nreale  44\nPattavinaReti2021.indb   561PattavinaReti2021.indb   561 14/01/2022   16:10:2114/01/2022   16:10:21562  Indice analitico\nthree way handshake  284\nthroughput (THR)  51, 83, 97, 135\nTier\n1 ISP  19\n2 ISP  19\n3 ISP  20\ntime division duplexing (TDD)  77, 419\ntime division multiple access (TDMA)  133\ntime division multiplexing (TDM)  76\ntime-out  98, 294", "time-out  98, 294\ntime to live (TTL)  240, 312, 366\ntoken  142\nbucket  214\nbus  429\nring  131\ntop level domain (TLD)  232\ntopologia\na bus  131\nad anello  131\na stella  132\ntotal access communication system (TACS)  417\ntraffico\nofferto  51, 78\nperso  53\nsmaltito  51, 78\ntrama  23, 79\ntransmission control protocol/Internet protocol \n(TCP/IP)  21, 26\ntransmission control protocol (TCP)  26, 31, 225, \n228, 240, 249, 253, 279\ntransmission convergence (TC)  370", "transmission convergence (TC)  370\ntransport service access point (T -SAP)  23\ntrasmissione\nfull-duplex  28\nhalf-duplex  28\nsimplex  75\ntrasparenza\ndei dati  384\ntemporale  71\ntrellis coded pulse amplitude modulation \n(TCPAM)  411\ntributari  77\ntunnel endpoint identifier (TEI)  423\ntype of service (TOS)  312, 345\nU\nultra reliable and low latency communications \n(URLLC)  18\nuniform resource locator (URL)  252\nunità di memoria  56, 79, 309unità informativa (UI)  23", "universal mobile telecommunications system \n(UMTS)  6, 419\nunshielded twisted pair (UTP)  7\nunspecified bit rate (UBR)  369\nupward multiplexing  30\nuser datagram protocol (UDP)  26, 31, 226, 230, \n231, 276\nuser equipment (UE)  483\nuser-network interface (UNI)  371\nV\nvariable bit rate (VBR)  46\nvariable length subnet mask (VLSM)  322\nvelocità media  44\nvery high speed digital subscriber line 2 (VDSL2)  \n412\nvery high speed digital subscriber line (VDSL)  \n411", "411\nvirtual circuit identifier (VCI)  371\nvirtual circuit (VC)  370\nvirtual LAN identifier (VLAN ID)  502, 504\nvirtual LAN (VLAN)  501\nvirtual path identifier (VPI)  371\nvirtual path (VP)  371\nvoice-over-IP (V oIP)  270\nW\nwavelength division multiplexing (WDM)  76\nweb caching  264\nwell-known, porte  273\nwide area network (WAN)  5, 11, 129\nwideband CDMA (W-CDMA)  419\nWi-Fi  15\nwireless personal area network (WPAN)  15\nworldwide interoperability for microwave access \n(WiMax)  6, 16", "(WiMax)  6, 16\nworld wide web consortium (W3C)  37\nworld wide web (WWW)  4, 252\nPattavinaReti2021.indb   562PattavinaReti2021.indb   562 14/01/2022   16:10:2114/01/2022   16:10:21"]